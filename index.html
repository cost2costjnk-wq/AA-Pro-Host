
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="AA Pro - Enterprise Business Management & POS. Features multi-company support, offline-first architecture, and AI-powered insights." />
    <meta name="theme-color" content="#10b981" />
    <title>AA Pro | Business Management System</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22%2310b981%22><path d=%22M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z%22/></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              brand: {
                50: '#ecfdf5',
                100: '#d1fae5',
                500: '#10b981',
                600: '#059669',
                900: '#064e3b',
              }
            }
          },
        },
      }
    </script>
    <style>
      /* Custom scrollbar for webkit */
      ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
      /* Dark mode scrollbar */
      .dark ::-webkit-scrollbar-track {
        background: #1e293b;
      }
      .dark ::-webkit-scrollbar-thumb {
        background: #475569;
      }
      .dark ::-webkit-scrollbar-thumb:hover {
        background: #64748b;
      }

      .markdown-body ul {
        list-style-type: disc;
        padding-left: 1.5em;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
      }
      .markdown-body ol {
        list-style-type: decimal;
        padding-left: 1.5em;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
      }
      .markdown-body p {
        margin-bottom: 0.5em;
      }
      .markdown-body strong {
        font-weight: 700;
        color: #111827;
      }
      .loader {
        border: 4px solid #f3f3f3;
        border-radius: 50%;
        border-top: 4px solid #10b981;
        width: 40px;
        height: 40px;
        -webkit-animation: spin 1s linear infinite; /* Safari */
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>

<link rel="stylesheet" href="/index.css">
  <script type="importmap">
{
  "imports": {
    "recharts": "https://aistudiocdn.com/recharts@^3.5.1",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.556.0",
    "react/jsx-runtime": "https://aistudiocdn.com/react@^19.2.1/jsx-runtime",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react-markdown": "https://esm.sh/react-markdown@9.0.1?bundle",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.31.0",
    "idb": "https://cdn.jsdelivr.net/npm/idb@8.0.0/+esm"
  }
}
</script>
  <script type="module" >
    var F5=Object.defineProperty;var G5=(e,t,n)=>t in e?F5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Tg=(e,t,n)=>G5(e,typeof t!="symbol"?t+"":t,n);function V5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _g={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function $5(){if($N)return pu;$N=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return pu.Fragment=t,pu.jsx=n,pu.jsxs=n,pu}var YN;function Y5(){return YN||(YN=1,_g.exports=$5()),_g.exports}var c=Y5(),kg={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN;function K5(){if(KN)return qe;KN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(Y,X,H){this.props=Y,this.context=X,this.refs=A,this.updater=H||N}T.prototype.isReactComponent={},T.prototype.setState=function(Y,X){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,X,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function k(){}k.prototype=T.prototype;function P(Y,X,H){this.props=Y,this.context=X,this.refs=A,this.updater=H||N}var I=P.prototype=new k;I.constructor=P,E(I,T.prototype),I.isPureReactComponent=!0;var R=Array.isArray;function j(){}var M={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(Y,X,H){var pe=H.ref;return{$$typeof:e,type:Y,key:X,ref:pe!==void 0?pe:null,props:H}}function D(Y,X){return U(Y.type,X,Y.props)}function O(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function $(Y){var X={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(H){return X[H]})}var F=/\/+/g;function V(Y,X){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):X.toString(36)}function z(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(j,j):(Y.status="pending",Y.then(function(X){Y.status==="pending"&&(Y.status="fulfilled",Y.value=X)},function(X){Y.status==="pending"&&(Y.status="rejected",Y.reason=X)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function B(Y,X,H,pe,Se){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var we=!1;if(Y===null)we=!0;else switch(ue){case"bigint":case"string":case"number":we=!0;break;case"object":switch(Y.$$typeof){case e:case t:we=!0;break;case p:return we=Y._init,B(we(Y._payload),X,H,pe,Se)}}if(we)return Se=Se(Y),we=pe===""?"."+V(Y,0):pe,R(Se)?(H="",we!=null&&(H=we.replace(F,"$&/")+"/"),B(Se,X,H,"",function(Ne){return Ne})):Se!=null&&(O(Se)&&(Se=D(Se,H+(Se.key==null||Y&&Y.key===Se.key?"":(""+Se.key).replace(F,"$&/")+"/")+we)),X.push(Se)),1;we=0;var Ue=pe===""?".":pe+":";if(R(Y))for(var ae=0;ae<Y.length;ae++)pe=Y[ae],ue=Ue+V(pe,ae),we+=B(pe,X,H,ue,Se);else if(ae=b(Y),typeof ae=="function")for(Y=ae.call(Y),ae=0;!(pe=Y.next()).done;)pe=pe.value,ue=Ue+V(pe,ae++),we+=B(pe,X,H,ue,Se);else if(ue==="object"){if(typeof Y.then=="function")return B(z(Y),X,H,pe,Se);throw X=String(Y),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(Y,X,H){if(Y==null)return Y;var pe=[],Se=0;return B(Y,pe,"","",function(ue){return X.call(H,ue,Se++)}),pe}function ie(Y){if(Y._status===-1){var X=Y._result;X=X(),X.then(function(H){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=H)},function(H){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=H)}),Y._status===-1&&(Y._status=0,Y._result=X)}if(Y._status===1)return Y._result.default;throw Y._result}var Z=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},q={map:K,forEach:function(Y,X,H){K(Y,function(){X.apply(this,arguments)},H)},count:function(Y){var X=0;return K(Y,function(){X++}),X},toArray:function(Y){return K(Y,function(X){return X})||[]},only:function(Y){if(!O(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return qe.Activity=m,qe.Children=q,qe.Component=T,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=P,qe.StrictMode=r,qe.Suspense=h,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,qe.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return M.H.useMemoCache(Y)}},qe.cache=function(Y){return function(){return Y.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(Y,X,H){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var pe=E({},Y.props),Se=Y.key;if(X!=null)for(ue in X.key!==void 0&&(Se=""+X.key),X)!G.call(X,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&X.ref===void 0||(pe[ue]=X[ue]);var ue=arguments.length-2;if(ue===1)pe.children=H;else if(1<ue){for(var we=Array(ue),Ue=0;Ue<ue;Ue++)we[Ue]=arguments[Ue+2];pe.children=we}return U(Y.type,Se,pe)},qe.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},qe.createElement=function(Y,X,H){var pe,Se={},ue=null;if(X!=null)for(pe in X.key!==void 0&&(ue=""+X.key),X)G.call(X,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Se[pe]=X[pe]);var we=arguments.length-2;if(we===1)Se.children=H;else if(1<we){for(var Ue=Array(we),ae=0;ae<we;ae++)Ue[ae]=arguments[ae+2];Se.children=Ue}if(Y&&Y.defaultProps)for(pe in we=Y.defaultProps,we)Se[pe]===void 0&&(Se[pe]=we[pe]);return U(Y,ue,Se)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(Y){return{$$typeof:u,render:Y}},qe.isValidElement=O,qe.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ie}},qe.memo=function(Y,X){return{$$typeof:f,type:Y,compare:X===void 0?null:X}},qe.startTransition=function(Y){var X=M.T,H={};M.T=H;try{var pe=Y(),Se=M.S;Se!==null&&Se(H,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(j,Z)}catch(ue){Z(ue)}finally{X!==null&&H.types!==null&&(X.types=H.types),M.T=X}},qe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},qe.use=function(Y){return M.H.use(Y)},qe.useActionState=function(Y,X,H){return M.H.useActionState(Y,X,H)},qe.useCallback=function(Y,X){return M.H.useCallback(Y,X)},qe.useContext=function(Y){return M.H.useContext(Y)},qe.useDebugValue=function(){},qe.useDeferredValue=function(Y,X){return M.H.useDeferredValue(Y,X)},qe.useEffect=function(Y,X){return M.H.useEffect(Y,X)},qe.useEffectEvent=function(Y){return M.H.useEffectEvent(Y)},qe.useId=function(){return M.H.useId()},qe.useImperativeHandle=function(Y,X,H){return M.H.useImperativeHandle(Y,X,H)},qe.useInsertionEffect=function(Y,X){return M.H.useInsertionEffect(Y,X)},qe.useLayoutEffect=function(Y,X){return M.H.useLayoutEffect(Y,X)},qe.useMemo=function(Y,X){return M.H.useMemo(Y,X)},qe.useOptimistic=function(Y,X){return M.H.useOptimistic(Y,X)},qe.useReducer=function(Y,X,H){return M.H.useReducer(Y,X,H)},qe.useRef=function(Y){return M.H.useRef(Y)},qe.useState=function(Y){return M.H.useState(Y)},qe.useSyncExternalStore=function(Y,X,H){return M.H.useSyncExternalStore(Y,X,H)},qe.useTransition=function(){return M.H.useTransition()},qe.version="19.2.3",qe}var JN;function ol(){return JN||(JN=1,kg.exports=K5()),kg.exports}var C=ol();const zk=ri(C),J5=V5({__proto__:null,default:zk},[C]);var Pg={exports:{}},mu={},Mg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN;function X5(){return XN||(XN=1,(function(e){function t(B,K){var ie=B.length;B.push(K);e:for(;0<ie;){var Z=ie-1>>>1,q=B[Z];if(0<i(q,K))B[Z]=K,B[ie]=q,ie=Z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],ie=B.pop();if(ie!==K){B[0]=ie;e:for(var Z=0,q=B.length,Y=q>>>1;Z<Y;){var X=2*(Z+1)-1,H=B[X],pe=X+1,Se=B[pe];if(0>i(H,ie))pe<q&&0>i(Se,H)?(B[Z]=Se,B[pe]=ie,Z=pe):(B[Z]=H,B[X]=ie,Z=X);else if(pe<q&&0>i(Se,ie))B[Z]=Se,B[pe]=ie,Z=pe;else break e}}return K}function i(B,K){var ie=B.sortIndex-K.sortIndex;return ie!==0?ie:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,m=null,v=3,b=!1,N=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=B)r(f),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(f)}}function R(B){if(E=!1,I(B),!N)if(n(h)!==null)N=!0,j||(j=!0,$());else{var K=n(f);K!==null&&z(R,K.startTime-B)}}var j=!1,M=-1,G=5,U=-1;function D(){return A?!0:!(e.unstable_now()-U<G)}function O(){if(A=!1,j){var B=e.unstable_now();U=B;var K=!0;try{e:{N=!1,E&&(E=!1,k(M),M=-1),b=!0;var ie=v;try{t:{for(I(B),m=n(h);m!==null&&!(m.expirationTime>B&&D());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,v=m.priorityLevel;var q=Z(m.expirationTime<=B);if(B=e.unstable_now(),typeof q=="function"){m.callback=q,I(B),K=!0;break t}m===n(h)&&r(h),I(B)}else r(h);m=n(h)}if(m!==null)K=!0;else{var Y=n(f);Y!==null&&z(R,Y.startTime-B),K=!1}}break e}finally{m=null,v=ie,b=!1}K=void 0}}finally{K?$():j=!1}}}var $;if(typeof P=="function")$=function(){P(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=O,$=function(){V.postMessage(null)}}else $=function(){T(O,0)};function z(B,K){M=T(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ie=v;v=K;try{return B()}finally{v=ie}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=v;v=B;try{return K()}finally{v=ie}},e.unstable_scheduleCallback=function(B,K,ie){var Z=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Z+ie:Z):ie=Z,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,B={id:p++,callback:K,priorityLevel:B,startTime:ie,expirationTime:q,sortIndex:-1},ie>Z?(B.sortIndex=ie,t(f,B),n(h)===null&&B===n(f)&&(E?(k(M),M=-1):E=!0,z(R,ie-Z))):(B.sortIndex=q,t(h,B),N||b||(N=!0,j||(j=!0,$()))),B},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(B){var K=v;return function(){var ie=v;v=K;try{return B.apply(this,arguments)}finally{v=ie}}}})(Ig)),Ig}var WN;function W5(){return WN||(WN=1,Mg.exports=X5()),Mg.exports}var jg={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN;function Q5(){if(QN)return Tn;QN=1;var e=ol();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},Tn.flushSync=function(h){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=p,r.d.f()}},Tn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},Tn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Tn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},Tn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},Tn.requestFormReset=function(h){r.d.r(h)},Tn.unstable_batchedUpdates=function(h,f){return h(f)},Tn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},Tn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tn.version="19.2.3",Tn}var ZN;function qk(){if(ZN)return jg.exports;ZN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=Q5(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function Z5(){if(eE)return mu;eE=1;var e=W5(),t=ol(),n=qk();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var d=a,g=s;;){var w=d.return;if(w===null)break;var S=w.alternate;if(S===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===d)return h(w),a;if(S===g)return h(w),s;S=S.sibling}throw Error(r(188))}if(d.return!==g.return)d=w,g=S;else{for(var _=!1,L=w.child;L;){if(L===d){_=!0,d=w,g=S;break}if(L===g){_=!0,g=w,d=S;break}L=L.sibling}if(!_){for(L=S.child;L;){if(L===d){_=!0,d=S,g=w;break}if(L===g){_=!0,g=S,d=w;break}L=L.sibling}if(!_)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),P=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function V(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case P:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case I:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:V(a.type)||"Memo";case G:s=a._payload,a=a._init;try{return V(a(s))}catch{}}return null}var z=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Z=[],q=-1;function Y(a){return{current:a}}function X(a){0>q||(a.current=Z[q],Z[q]=null,q--)}function H(a,s){q++,Z[q]=a.current,a.current=s}var pe=Y(null),Se=Y(null),ue=Y(null),we=Y(null);function Ue(a,s){switch(H(ue,s),H(Se,a),H(pe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?mN(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=mN(s),a=gN(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(pe),H(pe,a)}function ae(){X(pe),X(Se),X(ue)}function Ne(a){a.memoizedState!==null&&H(we,a);var s=pe.current,d=gN(s,a.type);s!==d&&(H(Se,a),H(pe,d))}function ke(a){Se.current===a&&(X(pe),X(Se)),we.current===a&&(X(we),cu._currentValue=ie)}var ge,xt;function $e(a){if(ge===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ge=s&&s[1]||"",xt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+xt}var At=!1;function mt(a,s){if(!a||At)return"";At=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(oe){var re=oe}Reflect.construct(a,[],he)}else{try{he.call()}catch(oe){re=oe}a.call(he.prototype)}}else{try{throw Error()}catch(oe){re=oe}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(oe){if(oe&&re&&typeof oe.stack=="string")return[oe.stack,re.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),_=S[0],L=S[1];if(_&&L){var J=_.split(`
`),te=L.split(`
`);for(w=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;w<te.length&&!te[w].includes("DetermineComponentFrameRoot");)w++;if(g===J.length||w===te.length)for(g=J.length-1,w=te.length-1;1<=g&&0<=w&&J[g]!==te[w];)w--;for(;1<=g&&0<=w;g--,w--)if(J[g]!==te[w]){if(g!==1||w!==1)do if(g--,w--,0>w||J[g]!==te[w]){var ce=`
`+J[g].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=g&&0<=w);break}}}finally{At=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?$e(d):""}function Nn(a,s){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==s&&s!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return mt(a.type,!1);case 11:return mt(a.type.render,!1);case 1:return mt(a.type,!0);case 31:return $e("Activity");default:return""}}function Hr(a){try{var s="",d=null;do s+=Nn(a,d),d=a,a=a.return;while(a);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Ni=Object.prototype.hasOwnProperty,yr=e.unstable_scheduleCallback,Ei=e.unstable_cancelCallback,Sl=e.unstable_shouldYield,Nl=e.unstable_requestPaint,cn=e.unstable_now,El=e.unstable_getCurrentPriorityLevel,de=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,He=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,In=e.log,vr=e.unstable_setDisableYieldValue,Ct=null,Tt=null;function En(a){if(typeof In=="function"&&vr(a),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Ct,a)}catch{}}var Ye=Math.clz32?Math.clz32:Ec,An=Math.log,qn=Math.LN2;function Ec(a){return a>>>=0,a===0?32:31-(An(a)/qn|0)|0}var $o=256,Yo=262144,Ko=4194304;function oi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function se(a,s,d){var g=a.pendingLanes;if(g===0)return 0;var w=0,S=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var L=g&134217727;return L!==0?(g=L&~S,g!==0?w=oi(g):(_&=L,_!==0?w=oi(_):d||(d=L&~a,d!==0&&(w=oi(d))))):(L=g&~S,L!==0?w=oi(L):_!==0?w=oi(_):d||(d=g&~a,d!==0&&(w=oi(d)))),w===0?0:s!==0&&s!==w&&(s&S)===0&&(S=w&-w,d=s&-s,S>=d||S===32&&(d&4194048)!==0)?s:w}function ye(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ve(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var a=Ko;return Ko<<=1,(Ko&62914560)===0&&(Ko=4194304),a}function Ie(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function Oe(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function en(a,s,d,g,w,S){var _=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var L=a.entanglements,J=a.expirationTimes,te=a.hiddenUpdates;for(d=_&~d;0<d;){var ce=31-Ye(d),he=1<<ce;L[ce]=0,J[ce]=-1;var re=te[ce];if(re!==null)for(te[ce]=null,ce=0;ce<re.length;ce++){var oe=re[ce];oe!==null&&(oe.lane&=-536870913)}d&=~he}g!==0&&yp(a,g,0),S!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=S&~(_&~s))}function yp(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var g=31-Ye(s);a.entangledLanes|=s,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function it(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var g=31-Ye(d),w=1<<g;w&s|a[g]&s&&(a[g]|=s),d&=~w}}function xr(a,s){var d=s&-s;return d=(d&42)!==0?1:Cn(d),(d&(a.suspendedLanes|s))!==0?0:d}function Cn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ai(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ew(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:BN(a.type))}function tw(a,s){var d=K.p;try{return K.p=a,s()}finally{K.p=d}}var ya=Math.random().toString(36).slice(2),dn="__reactFiber$"+ya,Hn="__reactProps$"+ya,Jo="__reactContainer$"+ya,vp="__reactEvents$"+ya,IO="__reactListeners$"+ya,jO="__reactHandles$"+ya,nw="__reactResources$"+ya,Al="__reactMarker$"+ya;function xp(a){delete a[dn],delete a[Hn],delete a[vp],delete a[IO],delete a[jO]}function Xo(a){var s=a[dn];if(s)return s;for(var d=a.parentNode;d;){if(s=d[Jo]||d[dn]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=NN(a);a!==null;){if(d=a[dn])return d;a=NN(a)}return s}a=d,d=a.parentNode}return null}function Wo(a){if(a=a[dn]||a[Jo]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Cl(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Qo(a){var s=a[nw];return s||(s=a[nw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tn(a){a[Al]=!0}var rw=new Set,iw={};function ro(a,s){Zo(a,s),Zo(a+"Capture",s)}function Zo(a,s){for(iw[a]=s,a=0;a<s.length;a++)rw.add(s[a])}var RO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aw={},ow={};function DO(a){return Ni.call(ow,a)?!0:Ni.call(aw,a)?!1:RO.test(a)?ow[a]=!0:(aw[a]=!0,!1)}function Ac(a,s,d){if(DO(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function Cc(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function Ci(a,s,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+g)}}function br(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function sw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function OO(a,s,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,S=g.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return w.call(this)},set:function(_){d=""+_,S.call(this,_)}}),Object.defineProperty(a,s,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function bp(a){if(!a._valueTracker){var s=sw(a)?"checked":"value";a._valueTracker=OO(a,s,""+a[s])}}function lw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),g="";return a&&(g=sw(a)?a.checked?"true":"false":a.value),a=g,a!==d?(s.setValue(a),!0):!1}function Tc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var LO=/[\n"\\]/g;function wr(a){return a.replace(LO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wp(a,s,d,g,w,S,_,L){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),s!=null?_==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+br(s)):a.value!==""+br(s)&&(a.value=""+br(s)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),s!=null?Sp(a,_,br(s)):d!=null?Sp(a,_,br(d)):g!=null&&a.removeAttribute("value"),w==null&&S!=null&&(a.defaultChecked=!!S),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+br(L):a.removeAttribute("name")}function uw(a,s,d,g,w,S,_,L){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),s!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){bp(a);return}d=d!=null?""+br(d):"",s=s!=null?""+br(s):d,L||s===a.value||(a.value=s),a.defaultValue=s}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=L?a.checked:!!g,a.defaultChecked=!!g,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_),bp(a)}function Sp(a,s,d){s==="number"&&Tc(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function es(a,s,d,g){if(a=a.options,s){s={};for(var w=0;w<d.length;w++)s["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=s.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&g&&(a[d].defaultSelected=!0)}else{for(d=""+br(d),s=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,g&&(a[w].defaultSelected=!0);return}s!==null||a[w].disabled||(s=a[w])}s!==null&&(s.selected=!0)}}function cw(a,s,d){if(s!=null&&(s=""+br(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+br(d):""}function dw(a,s,d,g){if(s==null){if(g!=null){if(d!=null)throw Error(r(92));if(z(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),s=d}d=br(s),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),bp(a)}function ts(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var UO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fw(a,s,d){var g=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":g?a.setProperty(s,d):typeof d!="number"||d===0||UO.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function hw(a,s,d){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var w in s)g=s[w],s.hasOwnProperty(w)&&d[w]!==g&&fw(a,w,g)}else for(var S in s)s.hasOwnProperty(S)&&fw(a,S,s[S])}function Np(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _c(a){return zO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ti(){}var Ep=null;function Ap(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ns=null,rs=null;function pw(a){var s=Wo(a);if(s&&(a=s.stateNode)){var d=a[Hn]||null;e:switch(a=s.stateNode,s.type){case"input":if(wp(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+wr(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var g=d[s];if(g!==a&&g.form===a.form){var w=g[Hn]||null;if(!w)throw Error(r(90));wp(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<d.length;s++)g=d[s],g.form===a.form&&lw(g)}break e;case"textarea":cw(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&es(a,!!d.multiple,s,!1)}}}var Cp=!1;function mw(a,s,d){if(Cp)return a(s,d);Cp=!0;try{var g=a(s);return g}finally{if(Cp=!1,(ns!==null||rs!==null)&&(md(),ns&&(s=ns,a=rs,rs=ns=null,pw(s),a)))for(s=0;s<a.length;s++)pw(a[s])}}function Tl(a,s){var d=a.stateNode;if(d===null)return null;var g=d[Hn]||null;if(g===null)return null;d=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,s,typeof d));return d}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=!1;if(_i)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{Tp=!1}var va=null,_p=null,kc=null;function gw(){if(kc)return kc;var a,s=_p,d=s.length,g,w="value"in va?va.value:va.textContent,S=w.length;for(a=0;a<d&&s[a]===w[a];a++);var _=d-a;for(g=1;g<=_&&s[d-g]===w[S-g];g++);return kc=w.slice(a,1<g?1-g:void 0)}function Pc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Mc(){return!0}function yw(){return!1}function Fn(a){function s(d,g,w,S,_){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(d=a[L],this[L]=d?d(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Mc:yw,this.isPropagationStopped=yw,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),s}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=Fn(io),kl=m({},io,{view:0,detail:0}),qO=Fn(kl),kp,Pp,Pl,jc=m({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ip,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pl&&(Pl&&a.type==="mousemove"?(kp=a.screenX-Pl.screenX,Pp=a.screenY-Pl.screenY):Pp=kp=0,Pl=a),kp)},movementY:function(a){return"movementY"in a?a.movementY:Pp}}),vw=Fn(jc),HO=m({},jc,{dataTransfer:0}),FO=Fn(HO),GO=m({},kl,{relatedTarget:0}),Mp=Fn(GO),VO=m({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),$O=Fn(VO),YO=m({},io,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),KO=Fn(YO),JO=m({},io,{data:0}),xw=Fn(JO),XO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZO(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=QO[a])?!!s[a]:!1}function Ip(){return ZO}var e4=m({},kl,{key:function(a){if(a.key){var s=XO[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Pc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?WO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ip,charCode:function(a){return a.type==="keypress"?Pc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Pc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),t4=Fn(e4),n4=m({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=Fn(n4),r4=m({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ip}),i4=Fn(r4),a4=m({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),o4=Fn(a4),s4=m({},jc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),l4=Fn(s4),u4=m({},io,{newState:0,oldState:0}),c4=Fn(u4),d4=[9,13,27,32],jp=_i&&"CompositionEvent"in window,Ml=null;_i&&"documentMode"in document&&(Ml=document.documentMode);var f4=_i&&"TextEvent"in window&&!Ml,ww=_i&&(!jp||Ml&&8<Ml&&11>=Ml),Sw=" ",Nw=!1;function Ew(a,s){switch(a){case"keyup":return d4.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var is=!1;function h4(a,s){switch(a){case"compositionend":return Aw(s);case"keypress":return s.which!==32?null:(Nw=!0,Sw);case"textInput":return a=s.data,a===Sw&&Nw?null:a;default:return null}}function p4(a,s){if(is)return a==="compositionend"||!jp&&Ew(a,s)?(a=gw(),kc=_p=va=null,is=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ww&&s.locale!=="ko"?null:s.data;default:return null}}var m4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!m4[a.type]:s==="textarea"}function Tw(a,s,d,g){ns?rs?rs.push(g):rs=[g]:ns=g,s=Sd(s,"onChange"),0<s.length&&(d=new Ic("onChange","change",null,d,g),a.push({event:d,listeners:s}))}var Il=null,jl=null;function g4(a){uN(a,0)}function Rc(a){var s=Cl(a);if(lw(s))return a}function _w(a,s){if(a==="change")return s}var kw=!1;if(_i){var Rp;if(_i){var Dp="oninput"in document;if(!Dp){var Pw=document.createElement("div");Pw.setAttribute("oninput","return;"),Dp=typeof Pw.oninput=="function"}Rp=Dp}else Rp=!1;kw=Rp&&(!document.documentMode||9<document.documentMode)}function Mw(){Il&&(Il.detachEvent("onpropertychange",Iw),jl=Il=null)}function Iw(a){if(a.propertyName==="value"&&Rc(jl)){var s=[];Tw(s,jl,a,Ap(a)),mw(g4,s)}}function y4(a,s,d){a==="focusin"?(Mw(),Il=s,jl=d,Il.attachEvent("onpropertychange",Iw)):a==="focusout"&&Mw()}function v4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Rc(jl)}function x4(a,s){if(a==="click")return Rc(s)}function b4(a,s){if(a==="input"||a==="change")return Rc(s)}function w4(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var nr=typeof Object.is=="function"?Object.is:w4;function Rl(a,s){if(nr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),g=Object.keys(s);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!Ni.call(s,w)||!nr(a[w],s[w]))return!1}return!0}function jw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Rw(a,s){var d=jw(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=s&&g>=s)return{node:d,offset:s-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=jw(d)}}function Dw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Dw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Ow(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Tc(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=Tc(a.document)}return s}function Op(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var S4=_i&&"documentMode"in document&&11>=document.documentMode,as=null,Lp=null,Dl=null,Up=!1;function Lw(a,s,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Up||as==null||as!==Tc(g)||(g=as,"selectionStart"in g&&Op(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Dl&&Rl(Dl,g)||(Dl=g,g=Sd(Lp,"onSelect"),0<g.length&&(s=new Ic("onSelect","select",null,s,d),a.push({event:s,listeners:g}),s.target=as)))}function ao(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var os={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},Bp={},Uw={};_i&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function oo(a){if(Bp[a])return Bp[a];if(!os[a])return a;var s=os[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Uw)return Bp[a]=s[d];return a}var Bw=oo("animationend"),zw=oo("animationiteration"),qw=oo("animationstart"),N4=oo("transitionrun"),E4=oo("transitionstart"),A4=oo("transitioncancel"),Hw=oo("transitionend"),Fw=new Map,zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zp.push("scrollEnd");function Fr(a,s){Fw.set(a,s),ro(s,[a])}var Dc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Sr=[],ss=0,qp=0;function Oc(){for(var a=ss,s=qp=ss=0;s<a;){var d=Sr[s];Sr[s++]=null;var g=Sr[s];Sr[s++]=null;var w=Sr[s];Sr[s++]=null;var S=Sr[s];if(Sr[s++]=null,g!==null&&w!==null){var _=g.pending;_===null?w.next=w:(w.next=_.next,_.next=w),g.pending=w}S!==0&&Gw(d,w,S)}}function Lc(a,s,d,g){Sr[ss++]=a,Sr[ss++]=s,Sr[ss++]=d,Sr[ss++]=g,qp|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Hp(a,s,d,g){return Lc(a,s,d,g),Uc(a)}function so(a,s){return Lc(a,null,null,s),Uc(a)}function Gw(a,s,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var w=!1,S=a.return;S!==null;)S.childLanes|=d,g=S.alternate,g!==null&&(g.childLanes|=d),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(w=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,w&&s!==null&&(w=31-Ye(d),a=S.hiddenUpdates,g=a[w],g===null?a[w]=[s]:g.push(s),s.lane=d|536870912),S):null}function Uc(a){if(50<ru)throw ru=0,Wm=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ls={};function C4(a,s,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(a,s,d,g){return new C4(a,s,d,g)}function Fp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ki(a,s){var d=a.alternate;return d===null?(d=rr(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Vw(a,s){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Bc(a,s,d,g,w,S){var _=0;if(g=a,typeof a=="function")Fp(a)&&(_=1);else if(typeof a=="string")_=M5(a,d,pe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=rr(31,d,s,w),a.elementType=U,a.lanes=S,a;case E:return lo(d.children,w,S,s);case A:_=8,w|=24;break;case T:return a=rr(12,d,s,w|2),a.elementType=T,a.lanes=S,a;case R:return a=rr(13,d,s,w),a.elementType=R,a.lanes=S,a;case j:return a=rr(19,d,s,w),a.elementType=j,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case P:_=10;break e;case k:_=9;break e;case I:_=11;break e;case M:_=14;break e;case G:_=16,g=null;break e}_=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return s=rr(_,d,s,w),s.elementType=a,s.type=g,s.lanes=S,s}function lo(a,s,d,g){return a=rr(7,a,g,s),a.lanes=d,a}function Gp(a,s,d){return a=rr(6,a,null,s),a.lanes=d,a}function $w(a){var s=rr(18,null,null,0);return s.stateNode=a,s}function Vp(a,s,d){return s=rr(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Yw=new WeakMap;function Nr(a,s){if(typeof a=="object"&&a!==null){var d=Yw.get(a);return d!==void 0?d:(s={value:a,source:s,stack:Hr(s)},Yw.set(a,s),s)}return{value:a,source:s,stack:Hr(s)}}var us=[],cs=0,zc=null,Ol=0,Er=[],Ar=0,xa=null,si=1,li="";function Pi(a,s){us[cs++]=Ol,us[cs++]=zc,zc=a,Ol=s}function Kw(a,s,d){Er[Ar++]=si,Er[Ar++]=li,Er[Ar++]=xa,xa=a;var g=si;a=li;var w=32-Ye(g)-1;g&=~(1<<w),d+=1;var S=32-Ye(s)+w;if(30<S){var _=w-w%5;S=(g&(1<<_)-1).toString(32),g>>=_,w-=_,si=1<<32-Ye(s)+w|d<<w|g,li=S+a}else si=1<<S|d<<w|g,li=a}function $p(a){a.return!==null&&(Pi(a,1),Kw(a,1,0))}function Yp(a){for(;a===zc;)zc=us[--cs],us[cs]=null,Ol=us[--cs],us[cs]=null;for(;a===xa;)xa=Er[--Ar],Er[Ar]=null,li=Er[--Ar],Er[Ar]=null,si=Er[--Ar],Er[Ar]=null}function Jw(a,s){Er[Ar++]=si,Er[Ar++]=li,Er[Ar++]=xa,si=s.id,li=s.overflow,xa=a}var fn=null,bt=null,Qe=!1,ba=null,Cr=!1,Kp=Error(r(519));function wa(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Nr(s,a)),Kp}function Xw(a){var s=a.stateNode,d=a.type,g=a.memoizedProps;switch(s[dn]=a,s[Hn]=g,d){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(d=0;d<au.length;d++)Je(au[d],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":Je("invalid",s),uw(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Je("invalid",s);break;case"textarea":Je("invalid",s),dw(s,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||g.suppressHydrationWarning===!0||hN(s.textContent,d)?(g.popover!=null&&(Je("beforetoggle",s),Je("toggle",s)),g.onScroll!=null&&Je("scroll",s),g.onScrollEnd!=null&&Je("scrollend",s),g.onClick!=null&&(s.onclick=Ti),s=!0):s=!1,s||wa(a,!0)}function Ww(a){for(fn=a.return;fn;)switch(fn.tag){case 5:case 31:case 13:Cr=!1;return;case 27:case 3:Cr=!0;return;default:fn=fn.return}}function ds(a){if(a!==fn)return!1;if(!Qe)return Ww(a),Qe=!0,!1;var s=a.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||fg(a.type,a.memoizedProps)),d=!d),d&&bt&&wa(a),Ww(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));bt=SN(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));bt=SN(a)}else s===27?(s=bt,Da(a.type)?(a=yg,yg=null,bt=a):bt=s):bt=fn?_r(a.stateNode.nextSibling):null;return!0}function uo(){bt=fn=null,Qe=!1}function Jp(){var a=ba;return a!==null&&(Yn===null?Yn=a:Yn.push.apply(Yn,a),ba=null),a}function Ll(a){ba===null?ba=[a]:ba.push(a)}var Xp=Y(null),co=null,Mi=null;function Sa(a,s,d){H(Xp,s._currentValue),s._currentValue=d}function Ii(a){a._currentValue=Xp.current,X(Xp)}function Wp(a,s,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===d)break;a=a.return}}function Qp(a,s,d,g){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var S=w.dependencies;if(S!==null){var _=w.child;S=S.firstContext;e:for(;S!==null;){var L=S;S=w;for(var J=0;J<s.length;J++)if(L.context===s[J]){S.lanes|=d,L=S.alternate,L!==null&&(L.lanes|=d),Wp(S.return,d,a),g||(_=null);break e}S=L.next}}else if(w.tag===18){if(_=w.return,_===null)throw Error(r(341));_.lanes|=d,S=_.alternate,S!==null&&(S.lanes|=d),Wp(_,d,a),_=null}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===a){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}}function fs(a,s,d,g){a=null;for(var w=s,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var _=w.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var L=w.type;nr(w.pendingProps.value,_.value)||(a!==null?a.push(L):a=[L])}}else if(w===we.current){if(_=w.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(cu):a=[cu])}w=w.return}a!==null&&Qp(s,a,d,g),s.flags|=262144}function qc(a){for(a=a.firstContext;a!==null;){if(!nr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function fo(a){co=a,Mi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function hn(a){return Qw(co,a)}function Hc(a,s){return co===null&&fo(a),Qw(a,s)}function Qw(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Mi===null){if(a===null)throw Error(r(308));Mi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Mi=Mi.next=s;return d}var T4=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},_4=e.unstable_scheduleCallback,k4=e.unstable_NormalPriority,Bt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zp(){return{controller:new T4,data:new Map,refCount:0}}function Ul(a){a.refCount--,a.refCount===0&&_4(k4,function(){a.controller.abort()})}var Bl=null,em=0,hs=0,ps=null;function P4(a,s){if(Bl===null){var d=Bl=[];em=0,hs=rg(),ps={status:"pending",value:void 0,then:function(g){d.push(g)}}}return em++,s.then(Zw,Zw),s}function Zw(){if(--em===0&&Bl!==null){ps!==null&&(ps.status="fulfilled");var a=Bl;Bl=null,hs=0,ps=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function M4(a,s){var d=[],g={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){g.status="fulfilled",g.value=s;for(var w=0;w<d.length;w++)(0,d[w])(s)},function(w){for(g.status="rejected",g.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),g}var eS=B.S;B.S=function(a,s){L1=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&P4(a,s),eS!==null&&eS(a,s)};var ho=Y(null);function tm(){var a=ho.current;return a!==null?a:ht.pooledCache}function Fc(a,s){s===null?H(ho,ho.current):H(ho,s.pool)}function tS(){var a=tm();return a===null?null:{parent:Bt._currentValue,pool:a}}var ms=Error(r(460)),nm=Error(r(474)),Gc=Error(r(542)),Vc={then:function(){}};function nS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function rS(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(Ti,Ti),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,aS(a),a;default:if(typeof s.status=="string")s.then(Ti,Ti);else{if(a=ht,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(g){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=g}},function(g){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,aS(a),a}throw mo=s,ms}}function po(a){try{var s=a._init;return s(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(mo=d,ms):d}}var mo=null;function iS(){if(mo===null)throw Error(r(459));var a=mo;return mo=null,a}function aS(a){if(a===ms||a===Gc)throw Error(r(483))}var gs=null,zl=0;function $c(a){var s=zl;return zl+=1,gs===null&&(gs=[]),rS(gs,a,s)}function ql(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Yc(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function oS(a){function s(Q,W){if(a){var ee=Q.deletions;ee===null?(Q.deletions=[W],Q.flags|=16):ee.push(W)}}function d(Q,W){if(!a)return null;for(;W!==null;)s(Q,W),W=W.sibling;return null}function g(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function w(Q,W){return Q=ki(Q,W),Q.index=0,Q.sibling=null,Q}function S(Q,W,ee){return Q.index=ee,a?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<W?(Q.flags|=67108866,W):ee):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function _(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,W,ee,fe){return W===null||W.tag!==6?(W=Gp(ee,Q.mode,fe),W.return=Q,W):(W=w(W,ee),W.return=Q,W)}function J(Q,W,ee,fe){var Me=ee.type;return Me===E?ce(Q,W,ee.props.children,fe,ee.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===G&&po(Me)===W.type)?(W=w(W,ee.props),ql(W,ee),W.return=Q,W):(W=Bc(ee.type,ee.key,ee.props,null,Q.mode,fe),ql(W,ee),W.return=Q,W)}function te(Q,W,ee,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=Vp(ee,Q.mode,fe),W.return=Q,W):(W=w(W,ee.children||[]),W.return=Q,W)}function ce(Q,W,ee,fe,Me){return W===null||W.tag!==7?(W=lo(ee,Q.mode,fe,Me),W.return=Q,W):(W=w(W,ee),W.return=Q,W)}function he(Q,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Gp(""+W,Q.mode,ee),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return ee=Bc(W.type,W.key,W.props,null,Q.mode,ee),ql(ee,W),ee.return=Q,ee;case N:return W=Vp(W,Q.mode,ee),W.return=Q,W;case G:return W=po(W),he(Q,W,ee)}if(z(W)||$(W))return W=lo(W,Q.mode,ee,null),W.return=Q,W;if(typeof W.then=="function")return he(Q,$c(W),ee);if(W.$$typeof===P)return he(Q,Hc(Q,W),ee);Yc(Q,W)}return null}function re(Q,W,ee,fe){var Me=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Me!==null?null:L(Q,W,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===Me?J(Q,W,ee,fe):null;case N:return ee.key===Me?te(Q,W,ee,fe):null;case G:return ee=po(ee),re(Q,W,ee,fe)}if(z(ee)||$(ee))return Me!==null?null:ce(Q,W,ee,fe,null);if(typeof ee.then=="function")return re(Q,W,$c(ee),fe);if(ee.$$typeof===P)return re(Q,W,Hc(Q,ee),fe);Yc(Q,ee)}return null}function oe(Q,W,ee,fe,Me){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(ee)||null,L(W,Q,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return Q=Q.get(fe.key===null?ee:fe.key)||null,J(W,Q,fe,Me);case N:return Q=Q.get(fe.key===null?ee:fe.key)||null,te(W,Q,fe,Me);case G:return fe=po(fe),oe(Q,W,ee,fe,Me)}if(z(fe)||$(fe))return Q=Q.get(ee)||null,ce(W,Q,fe,Me,null);if(typeof fe.then=="function")return oe(Q,W,ee,$c(fe),Me);if(fe.$$typeof===P)return oe(Q,W,ee,Hc(W,fe),Me);Yc(W,fe)}return null}function Te(Q,W,ee,fe){for(var Me=null,et=null,_e=W,Ge=W=0,We=null;_e!==null&&Ge<ee.length;Ge++){_e.index>Ge?(We=_e,_e=null):We=_e.sibling;var tt=re(Q,_e,ee[Ge],fe);if(tt===null){_e===null&&(_e=We);break}a&&_e&&tt.alternate===null&&s(Q,_e),W=S(tt,W,Ge),et===null?Me=tt:et.sibling=tt,et=tt,_e=We}if(Ge===ee.length)return d(Q,_e),Qe&&Pi(Q,Ge),Me;if(_e===null){for(;Ge<ee.length;Ge++)_e=he(Q,ee[Ge],fe),_e!==null&&(W=S(_e,W,Ge),et===null?Me=_e:et.sibling=_e,et=_e);return Qe&&Pi(Q,Ge),Me}for(_e=g(_e);Ge<ee.length;Ge++)We=oe(_e,Q,Ge,ee[Ge],fe),We!==null&&(a&&We.alternate!==null&&_e.delete(We.key===null?Ge:We.key),W=S(We,W,Ge),et===null?Me=We:et.sibling=We,et=We);return a&&_e.forEach(function(za){return s(Q,za)}),Qe&&Pi(Q,Ge),Me}function De(Q,W,ee,fe){if(ee==null)throw Error(r(151));for(var Me=null,et=null,_e=W,Ge=W=0,We=null,tt=ee.next();_e!==null&&!tt.done;Ge++,tt=ee.next()){_e.index>Ge?(We=_e,_e=null):We=_e.sibling;var za=re(Q,_e,tt.value,fe);if(za===null){_e===null&&(_e=We);break}a&&_e&&za.alternate===null&&s(Q,_e),W=S(za,W,Ge),et===null?Me=za:et.sibling=za,et=za,_e=We}if(tt.done)return d(Q,_e),Qe&&Pi(Q,Ge),Me;if(_e===null){for(;!tt.done;Ge++,tt=ee.next())tt=he(Q,tt.value,fe),tt!==null&&(W=S(tt,W,Ge),et===null?Me=tt:et.sibling=tt,et=tt);return Qe&&Pi(Q,Ge),Me}for(_e=g(_e);!tt.done;Ge++,tt=ee.next())tt=oe(_e,Q,Ge,tt.value,fe),tt!==null&&(a&&tt.alternate!==null&&_e.delete(tt.key===null?Ge:tt.key),W=S(tt,W,Ge),et===null?Me=tt:et.sibling=tt,et=tt);return a&&_e.forEach(function(H5){return s(Q,H5)}),Qe&&Pi(Q,Ge),Me}function ft(Q,W,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===E&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var Me=ee.key;W!==null;){if(W.key===Me){if(Me=ee.type,Me===E){if(W.tag===7){d(Q,W.sibling),fe=w(W,ee.props.children),fe.return=Q,Q=fe;break e}}else if(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===G&&po(Me)===W.type){d(Q,W.sibling),fe=w(W,ee.props),ql(fe,ee),fe.return=Q,Q=fe;break e}d(Q,W);break}else s(Q,W);W=W.sibling}ee.type===E?(fe=lo(ee.props.children,Q.mode,fe,ee.key),fe.return=Q,Q=fe):(fe=Bc(ee.type,ee.key,ee.props,null,Q.mode,fe),ql(fe,ee),fe.return=Q,Q=fe)}return _(Q);case N:e:{for(Me=ee.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){d(Q,W.sibling),fe=w(W,ee.children||[]),fe.return=Q,Q=fe;break e}else{d(Q,W);break}else s(Q,W);W=W.sibling}fe=Vp(ee,Q.mode,fe),fe.return=Q,Q=fe}return _(Q);case G:return ee=po(ee),ft(Q,W,ee,fe)}if(z(ee))return Te(Q,W,ee,fe);if($(ee)){if(Me=$(ee),typeof Me!="function")throw Error(r(150));return ee=Me.call(ee),De(Q,W,ee,fe)}if(typeof ee.then=="function")return ft(Q,W,$c(ee),fe);if(ee.$$typeof===P)return ft(Q,W,Hc(Q,ee),fe);Yc(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(d(Q,W.sibling),fe=w(W,ee),fe.return=Q,Q=fe):(d(Q,W),fe=Gp(ee,Q.mode,fe),fe.return=Q,Q=fe),_(Q)):d(Q,W)}return function(Q,W,ee,fe){try{zl=0;var Me=ft(Q,W,ee,fe);return gs=null,Me}catch(_e){if(_e===ms||_e===Gc)throw _e;var et=rr(29,_e,null,Q.mode);return et.lanes=fe,et.return=Q,et}finally{}}}var go=oS(!0),sS=oS(!1),Na=!1;function rm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ea(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Aa(a,s,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var w=g.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),g.pending=s,s=Uc(a),Gw(a,null,d),s}return Lc(a,g,s,d),Uc(a)}function Hl(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,it(a,d)}}function am(a,s){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?w=S=_:S=S.next=_,d=d.next}while(d!==null);S===null?w=S=s:S=S.next=s}else w=S=s;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var om=!1;function Fl(){if(om){var a=ps;if(a!==null)throw a}}function Gl(a,s,d,g){om=!1;var w=a.updateQueue;Na=!1;var S=w.firstBaseUpdate,_=w.lastBaseUpdate,L=w.shared.pending;if(L!==null){w.shared.pending=null;var J=L,te=J.next;J.next=null,_===null?S=te:_.next=te,_=J;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,L=ce.lastBaseUpdate,L!==_&&(L===null?ce.firstBaseUpdate=te:L.next=te,ce.lastBaseUpdate=J))}if(S!==null){var he=w.baseState;_=0,ce=te=J=null,L=S;do{var re=L.lane&-536870913,oe=re!==L.lane;if(oe?(Xe&re)===re:(g&re)===re){re!==0&&re===hs&&(om=!0),ce!==null&&(ce=ce.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Te=a,De=L;re=s;var ft=d;switch(De.tag){case 1:if(Te=De.payload,typeof Te=="function"){he=Te.call(ft,he,re);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=De.payload,re=typeof Te=="function"?Te.call(ft,he,re):Te,re==null)break e;he=m({},he,re);break e;case 2:Na=!0}}re=L.callback,re!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=w.callbacks,oe===null?w.callbacks=[re]:oe.push(re))}else oe={lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ce===null?(te=ce=oe,J=he):ce=ce.next=oe,_|=re;if(L=L.next,L===null){if(L=w.shared.pending,L===null)break;oe=L,L=oe.next,oe.next=null,w.lastBaseUpdate=oe,w.shared.pending=null}}while(!0);ce===null&&(J=he),w.baseState=J,w.firstBaseUpdate=te,w.lastBaseUpdate=ce,S===null&&(w.shared.lanes=0),Pa|=_,a.lanes=_,a.memoizedState=he}}function lS(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function uS(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)lS(d[a],s)}var ys=Y(null),Kc=Y(0);function cS(a,s){a=qi,H(Kc,a),H(ys,s),qi=a|s.baseLanes}function sm(){H(Kc,qi),H(ys,ys.current)}function lm(){qi=Kc.current,X(ys),X(Kc)}var ir=Y(null),Tr=null;function Ca(a){var s=a.alternate;H(Ot,Ot.current&1),H(ir,a),Tr===null&&(s===null||ys.current!==null||s.memoizedState!==null)&&(Tr=a)}function um(a){H(Ot,Ot.current),H(ir,a),Tr===null&&(Tr=a)}function dS(a){a.tag===22?(H(Ot,Ot.current),H(ir,a),Tr===null&&(Tr=a)):Ta()}function Ta(){H(Ot,Ot.current),H(ir,ir.current)}function ar(a){X(ir),Tr===a&&(Tr=null),X(Ot)}var Ot=Y(0);function Jc(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||mg(d)||gg(d)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ji=0,Fe=null,ct=null,zt=null,Xc=!1,vs=!1,yo=!1,Wc=0,Vl=0,xs=null,I4=0;function jt(){throw Error(r(321))}function cm(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!nr(a[d],s[d]))return!1;return!0}function dm(a,s,d,g,w,S){return ji=S,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?KS:Cm,yo=!1,S=d(g,w),yo=!1,vs&&(S=hS(s,d,g,w)),fS(a),S}function fS(a){B.H=Kl;var s=ct!==null&&ct.next!==null;if(ji=0,zt=ct=Fe=null,Xc=!1,Vl=0,xs=null,s)throw Error(r(300));a===null||qt||(a=a.dependencies,a!==null&&qc(a)&&(qt=!0))}function hS(a,s,d,g){Fe=a;var w=0;do{if(vs&&(xs=null),Vl=0,vs=!1,25<=w)throw Error(r(301));if(w+=1,zt=ct=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=JS,S=s(d,g)}while(vs);return S}function j4(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?$l(s):s,a=a.useState()[0],(ct!==null?ct.memoizedState:null)!==a&&(Fe.flags|=1024),s}function fm(){var a=Wc!==0;return Wc=0,a}function hm(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function pm(a){if(Xc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Xc=!1}ji=0,zt=ct=Fe=null,vs=!1,Vl=Wc=0,xs=null}function jn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Fe.memoizedState=zt=a:zt=zt.next=a,zt}function Lt(){if(ct===null){var a=Fe.alternate;a=a!==null?a.memoizedState:null}else a=ct.next;var s=zt===null?Fe.memoizedState:zt.next;if(s!==null)zt=s,ct=a;else{if(a===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));ct=a,a={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Fe.memoizedState=zt=a:zt=zt.next=a}return zt}function Qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(a){var s=Vl;return Vl+=1,xs===null&&(xs=[]),a=rS(xs,a,s),s=Fe,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?KS:Cm),a}function Zc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return $l(a);if(a.$$typeof===P)return hn(a)}throw Error(r(438,String(a)))}function mm(a){var s=null,d=Fe.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var g=Fe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=Qc(),Fe.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),g=0;g<a;g++)d[g]=D;return s.index++,d}function Ri(a,s){return typeof s=="function"?s(a):s}function ed(a){var s=Lt();return gm(s,ct,a)}function gm(a,s,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var w=a.baseQueue,S=g.pending;if(S!==null){if(w!==null){var _=w.next;w.next=S.next,S.next=_}s.baseQueue=w=S,g.pending=null}if(S=a.baseState,w===null)a.memoizedState=S;else{s=w.next;var L=_=null,J=null,te=s,ce=!1;do{var he=te.lane&-536870913;if(he!==te.lane?(Xe&he)===he:(ji&he)===he){var re=te.revertLane;if(re===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),he===hs&&(ce=!0);else if((ji&re)===re){te=te.next,re===hs&&(ce=!0);continue}else he={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},J===null?(L=J=he,_=S):J=J.next=he,Fe.lanes|=re,Pa|=re;he=te.action,yo&&d(S,he),S=te.hasEagerState?te.eagerState:d(S,he)}else re={lane:he,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},J===null?(L=J=re,_=S):J=J.next=re,Fe.lanes|=he,Pa|=he;te=te.next}while(te!==null&&te!==s);if(J===null?_=S:J.next=L,!nr(S,a.memoizedState)&&(qt=!0,ce&&(d=ps,d!==null)))throw d;a.memoizedState=S,a.baseState=_,a.baseQueue=J,g.lastRenderedState=S}return w===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function ym(a){var s=Lt(),d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,w=d.pending,S=s.memoizedState;if(w!==null){d.pending=null;var _=w=w.next;do S=a(S,_.action),_=_.next;while(_!==w);nr(S,s.memoizedState)||(qt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),d.lastRenderedState=S}return[S,g]}function pS(a,s,d){var g=Fe,w=Lt(),S=Qe;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=s();var _=!nr((ct||w).memoizedState,d);if(_&&(w.memoizedState=d,qt=!0),w=w.queue,bm(yS.bind(null,g,w,a),[a]),w.getSnapshot!==s||_||zt!==null&&zt.memoizedState.tag&1){if(g.flags|=2048,bs(9,{destroy:void 0},gS.bind(null,g,w,d,s),null),ht===null)throw Error(r(349));S||(ji&127)!==0||mS(g,s,d)}return d}function mS(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=Fe.updateQueue,s===null?(s=Qc(),Fe.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function gS(a,s,d,g){s.value=d,s.getSnapshot=g,vS(s)&&xS(a)}function yS(a,s,d){return d(function(){vS(s)&&xS(a)})}function vS(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!nr(a,d)}catch{return!0}}function xS(a){var s=so(a,2);s!==null&&Kn(s,a,2)}function vm(a){var s=jn();if(typeof a=="function"){var d=a;if(a=d(),yo){En(!0);try{d()}finally{En(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:a},s}function bS(a,s,d,g){return a.baseState=d,gm(a,ct,typeof g=="function"?g:Ri)}function R4(a,s,d,g,w){if(rd(a))throw Error(r(485));if(a=s.action,a!==null){var S={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){S.listeners.push(_)}};B.T!==null?d(!0):S.isTransition=!1,g(S),d=s.pending,d===null?(S.next=s.pending=S,wS(s,S)):(S.next=d.next,s.pending=d.next=S)}}function wS(a,s){var d=s.action,g=s.payload,w=a.state;if(s.isTransition){var S=B.T,_={};B.T=_;try{var L=d(w,g),J=B.S;J!==null&&J(_,L),SS(a,s,L)}catch(te){xm(a,s,te)}finally{S!==null&&_.types!==null&&(S.types=_.types),B.T=S}}else try{S=d(w,g),SS(a,s,S)}catch(te){xm(a,s,te)}}function SS(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){NS(a,s,g)},function(g){return xm(a,s,g)}):NS(a,s,d)}function NS(a,s,d){s.status="fulfilled",s.value=d,ES(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,wS(a,d)))}function xm(a,s,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=d,ES(s),s=s.next;while(s!==g)}a.action=null}function ES(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function AS(a,s){return s}function CS(a,s){if(Qe){var d=ht.formState;if(d!==null){e:{var g=Fe;if(Qe){if(bt){t:{for(var w=bt,S=Cr;w.nodeType!==8;){if(!S){w=null;break t}if(w=_r(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){bt=_r(w.nextSibling),g=w.data==="F!";break e}}wa(g)}g=!1}g&&(s=d[0])}}return d=jn(),d.memoizedState=d.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AS,lastRenderedState:s},d.queue=g,d=VS.bind(null,Fe,g),g.dispatch=d,g=vm(!1),S=Am.bind(null,Fe,!1,g.queue),g=jn(),w={state:s,dispatch:null,action:a,pending:null},g.queue=w,d=R4.bind(null,Fe,w,S,d),w.dispatch=d,g.memoizedState=a,[s,d,!1]}function TS(a){var s=Lt();return _S(s,ct,a)}function _S(a,s,d){if(s=gm(a,s,AS)[0],a=ed(Ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=$l(s)}catch(_){throw _===ms?Gc:_}else g=s;s=Lt();var w=s.queue,S=w.dispatch;return d!==s.memoizedState&&(Fe.flags|=2048,bs(9,{destroy:void 0},D4.bind(null,w,d),null)),[g,S,a]}function D4(a,s){a.action=s}function kS(a){var s=Lt(),d=ct;if(d!==null)return _S(s,d,a);Lt(),s=s.memoizedState,d=Lt();var g=d.queue.dispatch;return d.memoizedState=a,[s,g,!1]}function bs(a,s,d,g){return a={tag:a,create:d,deps:g,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Qc(),Fe.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,s.lastEffect=a),a}function PS(){return Lt().memoizedState}function td(a,s,d,g){var w=jn();Fe.flags|=a,w.memoizedState=bs(1|s,{destroy:void 0},d,g===void 0?null:g)}function nd(a,s,d,g){var w=Lt();g=g===void 0?null:g;var S=w.memoizedState.inst;ct!==null&&g!==null&&cm(g,ct.memoizedState.deps)?w.memoizedState=bs(s,S,d,g):(Fe.flags|=a,w.memoizedState=bs(1|s,S,d,g))}function MS(a,s){td(8390656,8,a,s)}function bm(a,s){nd(2048,8,a,s)}function O4(a){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Qc(),Fe.updateQueue=s,s.events=[a];else{var d=s.events;d===null?s.events=[a]:d.push(a)}}function IS(a){var s=Lt().memoizedState;return O4({ref:s,nextImpl:a}),function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function jS(a,s){return nd(4,2,a,s)}function RS(a,s){return nd(4,4,a,s)}function DS(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function OS(a,s,d){d=d!=null?d.concat([a]):null,nd(4,4,DS.bind(null,s,a),d)}function wm(){}function LS(a,s){var d=Lt();s=s===void 0?null:s;var g=d.memoizedState;return s!==null&&cm(s,g[1])?g[0]:(d.memoizedState=[a,s],a)}function US(a,s){var d=Lt();s=s===void 0?null:s;var g=d.memoizedState;if(s!==null&&cm(s,g[1]))return g[0];if(g=a(),yo){En(!0);try{a()}finally{En(!1)}}return d.memoizedState=[g,s],g}function Sm(a,s,d){return d===void 0||(ji&1073741824)!==0&&(Xe&261930)===0?a.memoizedState=s:(a.memoizedState=d,a=B1(),Fe.lanes|=a,Pa|=a,d)}function BS(a,s,d,g){return nr(d,s)?d:ys.current!==null?(a=Sm(a,d,g),nr(a,s)||(qt=!0),a):(ji&42)===0||(ji&1073741824)!==0&&(Xe&261930)===0?(qt=!0,a.memoizedState=d):(a=B1(),Fe.lanes|=a,Pa|=a,s)}function zS(a,s,d,g,w){var S=K.p;K.p=S!==0&&8>S?S:8;var _=B.T,L={};B.T=L,Am(a,!1,s,d);try{var J=w(),te=B.S;if(te!==null&&te(L,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=M4(J,g);Yl(a,s,ce,lr(a))}else Yl(a,s,g,lr(a))}catch(he){Yl(a,s,{then:function(){},status:"rejected",reason:he},lr())}finally{K.p=S,_!==null&&L.types!==null&&(_.types=L.types),B.T=_}}function L4(){}function Nm(a,s,d,g){if(a.tag!==5)throw Error(r(476));var w=qS(a).queue;zS(a,w,s,ie,d===null?L4:function(){return HS(a),d(g)})}function qS(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:ie},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function HS(a){var s=qS(a);s.next===null&&(s=a.alternate.memoizedState),Yl(a,s.next.queue,{},lr())}function Em(){return hn(cu)}function FS(){return Lt().memoizedState}function GS(){return Lt().memoizedState}function U4(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=lr();a=Ea(d);var g=Aa(s,a,d);g!==null&&(Kn(g,s,d),Hl(g,s,d)),s={cache:Zp()},a.payload=s;return}s=s.return}}function B4(a,s,d){var g=lr();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},rd(a)?$S(s,d):(d=Hp(a,s,d,g),d!==null&&(Kn(d,a,g),YS(d,s,g)))}function VS(a,s,d){var g=lr();Yl(a,s,d,g)}function Yl(a,s,d,g){var w={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(rd(a))$S(s,w);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var _=s.lastRenderedState,L=S(_,d);if(w.hasEagerState=!0,w.eagerState=L,nr(L,_))return Lc(a,s,w,0),ht===null&&Oc(),!1}catch{}finally{}if(d=Hp(a,s,w,g),d!==null)return Kn(d,a,g),YS(d,s,g),!0}return!1}function Am(a,s,d,g){if(g={lane:2,revertLane:rg(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},rd(a)){if(s)throw Error(r(479))}else s=Hp(a,d,g,2),s!==null&&Kn(s,a,2)}function rd(a){var s=a.alternate;return a===Fe||s!==null&&s===Fe}function $S(a,s){vs=Xc=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function YS(a,s,d){if((d&4194048)!==0){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,it(a,d)}}var Kl={readContext:hn,use:Zc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Kl.useEffectEvent=jt;var KS={readContext:hn,use:Zc,useCallback:function(a,s){return jn().memoizedState=[a,s===void 0?null:s],a},useContext:hn,useEffect:MS,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,td(4194308,4,DS.bind(null,s,a),d)},useLayoutEffect:function(a,s){return td(4194308,4,a,s)},useInsertionEffect:function(a,s){td(4,2,a,s)},useMemo:function(a,s){var d=jn();s=s===void 0?null:s;var g=a();if(yo){En(!0);try{a()}finally{En(!1)}}return d.memoizedState=[g,s],g},useReducer:function(a,s,d){var g=jn();if(d!==void 0){var w=d(s);if(yo){En(!0);try{d(s)}finally{En(!1)}}}else w=s;return g.memoizedState=g.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},g.queue=a,a=a.dispatch=B4.bind(null,Fe,a),[g.memoizedState,a]},useRef:function(a){var s=jn();return a={current:a},s.memoizedState=a},useState:function(a){a=vm(a);var s=a.queue,d=VS.bind(null,Fe,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:wm,useDeferredValue:function(a,s){var d=jn();return Sm(d,a,s)},useTransition:function(){var a=vm(!1);return a=zS.bind(null,Fe,a.queue,!0,!1),jn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var g=Fe,w=jn();if(Qe){if(d===void 0)throw Error(r(407));d=d()}else{if(d=s(),ht===null)throw Error(r(349));(Xe&127)!==0||mS(g,s,d)}w.memoizedState=d;var S={value:d,getSnapshot:s};return w.queue=S,MS(yS.bind(null,g,S,a),[a]),g.flags|=2048,bs(9,{destroy:void 0},gS.bind(null,g,S,d,s),null),d},useId:function(){var a=jn(),s=ht.identifierPrefix;if(Qe){var d=li,g=si;d=(g&~(1<<32-Ye(g)-1)).toString(32)+d,s="_"+s+"R_"+d,d=Wc++,0<d&&(s+="H"+d.toString(32)),s+="_"}else d=I4++,s="_"+s+"r_"+d.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Em,useFormState:CS,useActionState:CS,useOptimistic:function(a){var s=jn();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Am.bind(null,Fe,!0,d),d.dispatch=s,[a,s]},useMemoCache:mm,useCacheRefresh:function(){return jn().memoizedState=U4.bind(null,Fe)},useEffectEvent:function(a){var s=jn(),d={impl:a};return s.memoizedState=d,function(){if((at&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Cm={readContext:hn,use:Zc,useCallback:LS,useContext:hn,useEffect:bm,useImperativeHandle:OS,useInsertionEffect:jS,useLayoutEffect:RS,useMemo:US,useReducer:ed,useRef:PS,useState:function(){return ed(Ri)},useDebugValue:wm,useDeferredValue:function(a,s){var d=Lt();return BS(d,ct.memoizedState,a,s)},useTransition:function(){var a=ed(Ri)[0],s=Lt().memoizedState;return[typeof a=="boolean"?a:$l(a),s]},useSyncExternalStore:pS,useId:FS,useHostTransitionStatus:Em,useFormState:TS,useActionState:TS,useOptimistic:function(a,s){var d=Lt();return bS(d,ct,a,s)},useMemoCache:mm,useCacheRefresh:GS};Cm.useEffectEvent=IS;var JS={readContext:hn,use:Zc,useCallback:LS,useContext:hn,useEffect:bm,useImperativeHandle:OS,useInsertionEffect:jS,useLayoutEffect:RS,useMemo:US,useReducer:ym,useRef:PS,useState:function(){return ym(Ri)},useDebugValue:wm,useDeferredValue:function(a,s){var d=Lt();return ct===null?Sm(d,a,s):BS(d,ct.memoizedState,a,s)},useTransition:function(){var a=ym(Ri)[0],s=Lt().memoizedState;return[typeof a=="boolean"?a:$l(a),s]},useSyncExternalStore:pS,useId:FS,useHostTransitionStatus:Em,useFormState:kS,useActionState:kS,useOptimistic:function(a,s){var d=Lt();return ct!==null?bS(d,ct,a,s):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:mm,useCacheRefresh:GS};JS.useEffectEvent=IS;function Tm(a,s,d,g){s=a.memoizedState,d=d(g,s),d=d==null?s:m({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var _m={enqueueSetState:function(a,s,d){a=a._reactInternals;var g=lr(),w=Ea(g);w.payload=s,d!=null&&(w.callback=d),s=Aa(a,w,g),s!==null&&(Kn(s,a,g),Hl(s,a,g))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var g=lr(),w=Ea(g);w.tag=1,w.payload=s,d!=null&&(w.callback=d),s=Aa(a,w,g),s!==null&&(Kn(s,a,g),Hl(s,a,g))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=lr(),g=Ea(d);g.tag=2,s!=null&&(g.callback=s),s=Aa(a,g,d),s!==null&&(Kn(s,a,d),Hl(s,a,d))}};function XS(a,s,d,g,w,S,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,_):s.prototype&&s.prototype.isPureReactComponent?!Rl(d,g)||!Rl(w,S):!0}function WS(a,s,d,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,g),s.state!==a&&_m.enqueueReplaceState(s,s.state,null)}function vo(a,s){var d=s;if("ref"in s){d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}if(a=a.defaultProps){d===s&&(d=m({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}function QS(a){Dc(a)}function ZS(a){console.error(a)}function e1(a){Dc(a)}function id(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function t1(a,s,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function km(a,s,d){return d=Ea(d),d.tag=3,d.payload={element:null},d.callback=function(){id(a,s)},d}function n1(a){return a=Ea(a),a.tag=3,a}function r1(a,s,d,g){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var S=g.value;a.payload=function(){return w(S)},a.callback=function(){t1(s,d,g)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){t1(s,d,g),typeof w!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function z4(a,s,d,g,w){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=d.alternate,s!==null&&fs(s,d,w,!0),d=ir.current,d!==null){switch(d.tag){case 31:case 13:return Tr===null?gd():d.alternate===null&&Rt===0&&(Rt=3),d.flags&=-257,d.flags|=65536,d.lanes=w,g===Vc?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([g]):s.add(g),eg(a,g,w)),!1;case 22:return d.flags|=65536,g===Vc?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([g]):d.add(g)),eg(a,g,w)),!1}throw Error(r(435,d.tag))}return eg(a,g,w),gd(),!1}if(Qe)return s=ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,g!==Kp&&(a=Error(r(422),{cause:g}),Ll(Nr(a,d)))):(g!==Kp&&(s=Error(r(423),{cause:g}),Ll(Nr(s,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,g=Nr(g,d),w=km(a.stateNode,g,w),am(a,w),Rt!==4&&(Rt=2)),!1;var S=Error(r(520),{cause:g});if(S=Nr(S,d),nu===null?nu=[S]:nu.push(S),Rt!==4&&(Rt=2),s===null)return!0;g=Nr(g,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=km(d.stateNode,g,a),am(d,a),!1;case 1:if(s=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ma===null||!Ma.has(S))))return d.flags|=65536,w&=-w,d.lanes|=w,w=n1(w),r1(w,a,d,g),am(d,w),!1}d=d.return}while(d!==null);return!1}var Pm=Error(r(461)),qt=!1;function pn(a,s,d,g){s.child=a===null?sS(s,null,d,g):go(s,a.child,d,g)}function i1(a,s,d,g,w){d=d.render;var S=s.ref;if("ref"in g){var _={};for(var L in g)L!=="ref"&&(_[L]=g[L])}else _=g;return fo(s),g=dm(a,s,d,_,S,w),L=fm(),a!==null&&!qt?(hm(a,s,w),Di(a,s,w)):(Qe&&L&&$p(s),s.flags|=1,pn(a,s,g,w),s.child)}function a1(a,s,d,g,w){if(a===null){var S=d.type;return typeof S=="function"&&!Fp(S)&&S.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=S,o1(a,s,S,g,w)):(a=Bc(d.type,null,g,s,s.mode,w),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,!Um(a,w)){var _=S.memoizedProps;if(d=d.compare,d=d!==null?d:Rl,d(_,g)&&a.ref===s.ref)return Di(a,s,w)}return s.flags|=1,a=ki(S,g),a.ref=s.ref,a.return=s,s.child=a}function o1(a,s,d,g,w){if(a!==null){var S=a.memoizedProps;if(Rl(S,g)&&a.ref===s.ref)if(qt=!1,s.pendingProps=g=S,Um(a,w))(a.flags&131072)!==0&&(qt=!0);else return s.lanes=a.lanes,Di(a,s,w)}return Mm(a,s,d,g,w)}function s1(a,s,d,g){var w=g.children,S=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,a!==null){for(g=s.child=a.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;g=w&~S}else g=0,s.child=null;return l1(a,s,S,d,g)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Fc(s,S!==null?S.cachePool:null),S!==null?cS(s,S):sm(),dS(s);else return g=s.lanes=536870912,l1(a,s,S!==null?S.baseLanes|d:d,d,g)}else S!==null?(Fc(s,S.cachePool),cS(s,S),Ta(),s.memoizedState=null):(a!==null&&Fc(s,null),sm(),Ta());return pn(a,s,w,d),s.child}function Jl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function l1(a,s,d,g,w){var S=tm();return S=S===null?null:{parent:Bt._currentValue,pool:S},s.memoizedState={baseLanes:d,cachePool:S},a!==null&&Fc(s,null),sm(),dS(s),a!==null&&fs(a,s,g,!0),s.childLanes=w,null}function ad(a,s){return s=sd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function u1(a,s,d){return go(s,a.child,null,d),a=ad(s,s.pendingProps),a.flags|=2,ar(s),s.memoizedState=null,a}function q4(a,s,d){var g=s.pendingProps,w=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Qe){if(g.mode==="hidden")return a=ad(s,g),s.lanes=536870912,Jl(null,a);if(um(s),(a=bt)?(a=wN(a,Cr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xa!==null?{id:si,overflow:li}:null,retryLane:536870912,hydrationErrors:null},d=$w(a),d.return=s,s.child=d,fn=s,bt=null)):a=null,a===null)throw wa(s);return s.lanes=536870912,null}return ad(s,g)}var S=a.memoizedState;if(S!==null){var _=S.dehydrated;if(um(s),w)if(s.flags&256)s.flags&=-257,s=u1(a,s,d);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(qt||fs(a,s,d,!1),w=(d&a.childLanes)!==0,qt||w){if(g=ht,g!==null&&(_=xr(g,d),_!==0&&_!==S.retryLane))throw S.retryLane=_,so(a,_),Kn(g,a,_),Pm;gd(),s=u1(a,s,d)}else a=S.treeContext,bt=_r(_.nextSibling),fn=s,Qe=!0,ba=null,Cr=!1,a!==null&&Jw(s,a),s=ad(s,g),s.flags|=4096;return s}return a=ki(a.child,{mode:g.mode,children:g.children}),a.ref=s.ref,s.child=a,a.return=s,a}function od(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(s.flags|=4194816)}}function Mm(a,s,d,g,w){return fo(s),d=dm(a,s,d,g,void 0,w),g=fm(),a!==null&&!qt?(hm(a,s,w),Di(a,s,w)):(Qe&&g&&$p(s),s.flags|=1,pn(a,s,d,w),s.child)}function c1(a,s,d,g,w,S){return fo(s),s.updateQueue=null,d=hS(s,g,d,w),fS(a),g=fm(),a!==null&&!qt?(hm(a,s,S),Di(a,s,S)):(Qe&&g&&$p(s),s.flags|=1,pn(a,s,d,S),s.child)}function d1(a,s,d,g,w){if(fo(s),s.stateNode===null){var S=ls,_=d.contextType;typeof _=="object"&&_!==null&&(S=hn(_)),S=new d(g,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=_m,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=g,S.state=s.memoizedState,S.refs={},rm(s),_=d.contextType,S.context=typeof _=="object"&&_!==null?hn(_):ls,S.state=s.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(Tm(s,d,_,g),S.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(_=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),_!==S.state&&_m.enqueueReplaceState(S,S.state,null),Gl(s,g,S,w),Fl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(a===null){S=s.stateNode;var L=s.memoizedProps,J=vo(d,L);S.props=J;var te=S.context,ce=d.contextType;_=ls,typeof ce=="object"&&ce!==null&&(_=hn(ce));var he=d.getDerivedStateFromProps;ce=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L||te!==_)&&WS(s,S,g,_),Na=!1;var re=s.memoizedState;S.state=re,Gl(s,g,S,w),Fl(),te=s.memoizedState,L||re!==te||Na?(typeof he=="function"&&(Tm(s,d,he,g),te=s.memoizedState),(J=Na||XS(s,d,J,g,re,te,_))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=te),S.props=g,S.state=te,S.context=_,g=J):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{S=s.stateNode,im(a,s),_=s.memoizedProps,ce=vo(d,_),S.props=ce,he=s.pendingProps,re=S.context,te=d.contextType,J=ls,typeof te=="object"&&te!==null&&(J=hn(te)),L=d.getDerivedStateFromProps,(te=typeof L=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==he||re!==J)&&WS(s,S,g,J),Na=!1,re=s.memoizedState,S.state=re,Gl(s,g,S,w),Fl();var oe=s.memoizedState;_!==he||re!==oe||Na||a!==null&&a.dependencies!==null&&qc(a.dependencies)?(typeof L=="function"&&(Tm(s,d,L,g),oe=s.memoizedState),(ce=Na||XS(s,d,ce,g,re,oe,J)||a!==null&&a.dependencies!==null&&qc(a.dependencies))?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,oe,J),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,oe,J)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=oe),S.props=g,S.state=oe,S.context=J,g=ce):(typeof S.componentDidUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),g=!1)}return S=g,od(a,s),g=(s.flags&128)!==0,S||g?(S=s.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,a!==null&&g?(s.child=go(s,a.child,null,w),s.child=go(s,null,d,w)):pn(a,s,d,w),s.memoizedState=S.state,a=s.child):a=Di(a,s,w),a}function f1(a,s,d,g){return uo(),s.flags|=256,pn(a,s,d,g),s.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(a){return{baseLanes:a,cachePool:tS()}}function Rm(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=sr),a}function h1(a,s,d){var g=s.pendingProps,w=!1,S=(s.flags&128)!==0,_;if((_=S)||(_=a!==null&&a.memoizedState===null?!1:(Ot.current&2)!==0),_&&(w=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,a===null){if(Qe){if(w?Ca(s):Ta(),(a=bt)?(a=wN(a,Cr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xa!==null?{id:si,overflow:li}:null,retryLane:536870912,hydrationErrors:null},d=$w(a),d.return=s,s.child=d,fn=s,bt=null)):a=null,a===null)throw wa(s);return gg(a)?s.lanes=32:s.lanes=536870912,null}var L=g.children;return g=g.fallback,w?(Ta(),w=s.mode,L=sd({mode:"hidden",children:L},w),g=lo(g,w,d,null),L.return=s,g.return=s,L.sibling=g,s.child=L,g=s.child,g.memoizedState=jm(d),g.childLanes=Rm(a,_,d),s.memoizedState=Im,Jl(null,g)):(Ca(s),Dm(s,L))}var J=a.memoizedState;if(J!==null&&(L=J.dehydrated,L!==null)){if(S)s.flags&256?(Ca(s),s.flags&=-257,s=Om(a,s,d)):s.memoizedState!==null?(Ta(),s.child=a.child,s.flags|=128,s=null):(Ta(),L=g.fallback,w=s.mode,g=sd({mode:"visible",children:g.children},w),L=lo(L,w,d,null),L.flags|=2,g.return=s,L.return=s,g.sibling=L,s.child=g,go(s,a.child,null,d),g=s.child,g.memoizedState=jm(d),g.childLanes=Rm(a,_,d),s.memoizedState=Im,s=Jl(null,g));else if(Ca(s),gg(L)){if(_=L.nextSibling&&L.nextSibling.dataset,_)var te=_.dgst;_=te,g=Error(r(419)),g.stack="",g.digest=_,Ll({value:g,source:null,stack:null}),s=Om(a,s,d)}else if(qt||fs(a,s,d,!1),_=(d&a.childLanes)!==0,qt||_){if(_=ht,_!==null&&(g=xr(_,d),g!==0&&g!==J.retryLane))throw J.retryLane=g,so(a,g),Kn(_,a,g),Pm;mg(L)||gd(),s=Om(a,s,d)}else mg(L)?(s.flags|=192,s.child=a.child,s=null):(a=J.treeContext,bt=_r(L.nextSibling),fn=s,Qe=!0,ba=null,Cr=!1,a!==null&&Jw(s,a),s=Dm(s,g.children),s.flags|=4096);return s}return w?(Ta(),L=g.fallback,w=s.mode,J=a.child,te=J.sibling,g=ki(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,te!==null?L=ki(te,L):(L=lo(L,w,d,null),L.flags|=2),L.return=s,g.return=s,g.sibling=L,s.child=g,Jl(null,g),g=s.child,L=a.child.memoizedState,L===null?L=jm(d):(w=L.cachePool,w!==null?(J=Bt._currentValue,w=w.parent!==J?{parent:J,pool:J}:w):w=tS(),L={baseLanes:L.baseLanes|d,cachePool:w}),g.memoizedState=L,g.childLanes=Rm(a,_,d),s.memoizedState=Im,Jl(a.child,g)):(Ca(s),d=a.child,a=d.sibling,d=ki(d,{mode:"visible",children:g.children}),d.return=s,d.sibling=null,a!==null&&(_=s.deletions,_===null?(s.deletions=[a],s.flags|=16):_.push(a)),s.child=d,s.memoizedState=null,d)}function Dm(a,s){return s=sd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function sd(a,s){return a=rr(22,a,null,s),a.lanes=0,a}function Om(a,s,d){return go(s,a.child,null,d),a=Dm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function p1(a,s,d){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),Wp(a.return,s,d)}function Lm(a,s,d,g,w,S){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w,treeForkCount:S}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=d,_.tailMode=w,_.treeForkCount=S)}function m1(a,s,d){var g=s.pendingProps,w=g.revealOrder,S=g.tail;g=g.children;var _=Ot.current,L=(_&2)!==0;if(L?(_=_&1|2,s.flags|=128):_&=1,H(Ot,_),pn(a,s,g,d),g=Qe?Ol:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&p1(a,d,s);else if(a.tag===19)p1(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(d=s.child,w=null;d!==null;)a=d.alternate,a!==null&&Jc(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=s.child,s.child=null):(w=d.sibling,d.sibling=null),Lm(s,!1,w,d,S,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=s.child,s.child=null;w!==null;){if(a=w.alternate,a!==null&&Jc(a)===null){s.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}Lm(s,!0,d,null,S,g);break;case"together":Lm(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function Di(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Pa|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(fs(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,d=ki(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=ki(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function Um(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&qc(a)))}function H4(a,s,d){switch(s.tag){case 3:Ue(s,s.stateNode.containerInfo),Sa(s,Bt,a.memoizedState.cache),uo();break;case 27:case 5:Ne(s);break;case 4:Ue(s,s.stateNode.containerInfo);break;case 10:Sa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,um(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Ca(s),s.flags|=128,null):(d&s.child.childLanes)!==0?h1(a,s,d):(Ca(s),a=Di(a,s,d),a!==null?a.sibling:null);Ca(s);break;case 19:var w=(a.flags&128)!==0;if(g=(d&s.childLanes)!==0,g||(fs(a,s,d,!1),g=(d&s.childLanes)!==0),w){if(g)return m1(a,s,d);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),H(Ot,Ot.current),g)break;return null;case 22:return s.lanes=0,s1(a,s,d,s.pendingProps);case 24:Sa(s,Bt,a.memoizedState.cache)}return Di(a,s,d)}function g1(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)qt=!0;else{if(!Um(a,d)&&(s.flags&128)===0)return qt=!1,H4(a,s,d);qt=(a.flags&131072)!==0}else qt=!1,Qe&&(s.flags&1048576)!==0&&Kw(s,Ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(a=po(s.elementType),s.type=a,typeof a=="function")Fp(a)?(g=vo(a,g),s.tag=1,s=d1(null,s,a,g,d)):(s.tag=0,s=Mm(null,s,a,g,d));else{if(a!=null){var w=a.$$typeof;if(w===I){s.tag=11,s=i1(null,s,a,g,d);break e}else if(w===M){s.tag=14,s=a1(null,s,a,g,d);break e}}throw s=V(a)||a,Error(r(306,s,""))}}return s;case 0:return Mm(a,s,s.type,s.pendingProps,d);case 1:return g=s.type,w=vo(g,s.pendingProps),d1(a,s,g,w,d);case 3:e:{if(Ue(s,s.stateNode.containerInfo),a===null)throw Error(r(387));g=s.pendingProps;var S=s.memoizedState;w=S.element,im(a,s),Gl(s,g,null,d);var _=s.memoizedState;if(g=_.cache,Sa(s,Bt,g),g!==S.cache&&Qp(s,[Bt],d,!0),Fl(),g=_.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=f1(a,s,g,d);break e}else if(g!==w){w=Nr(Error(r(424)),s),Ll(w),s=f1(a,s,g,d);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(bt=_r(a.firstChild),fn=s,Qe=!0,ba=null,Cr=!0,d=sS(s,null,g,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(uo(),g===w){s=Di(a,s,d);break e}pn(a,s,g,d)}s=s.child}return s;case 26:return od(a,s),a===null?(d=TN(s.type,null,s.pendingProps,null))?s.memoizedState=d:Qe||(d=s.type,a=s.pendingProps,g=Nd(ue.current).createElement(d),g[dn]=s,g[Hn]=a,mn(g,d,a),tn(g),s.stateNode=g):s.memoizedState=TN(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ne(s),a===null&&Qe&&(g=s.stateNode=EN(s.type,s.pendingProps,ue.current),fn=s,Cr=!0,w=bt,Da(s.type)?(yg=w,bt=_r(g.firstChild)):bt=w),pn(a,s,s.pendingProps.children,d),od(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Qe&&((w=g=bt)&&(g=v5(g,s.type,s.pendingProps,Cr),g!==null?(s.stateNode=g,fn=s,bt=_r(g.firstChild),Cr=!1,w=!0):w=!1),w||wa(s)),Ne(s),w=s.type,S=s.pendingProps,_=a!==null?a.memoizedProps:null,g=S.children,fg(w,S)?g=null:_!==null&&fg(w,_)&&(s.flags|=32),s.memoizedState!==null&&(w=dm(a,s,j4,null,null,d),cu._currentValue=w),od(a,s),pn(a,s,g,d),s.child;case 6:return a===null&&Qe&&((a=d=bt)&&(d=x5(d,s.pendingProps,Cr),d!==null?(s.stateNode=d,fn=s,bt=null,a=!0):a=!1),a||wa(s)),null;case 13:return h1(a,s,d);case 4:return Ue(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=go(s,null,g,d):pn(a,s,g,d),s.child;case 11:return i1(a,s,s.type,s.pendingProps,d);case 7:return pn(a,s,s.pendingProps,d),s.child;case 8:return pn(a,s,s.pendingProps.children,d),s.child;case 12:return pn(a,s,s.pendingProps.children,d),s.child;case 10:return g=s.pendingProps,Sa(s,s.type,g.value),pn(a,s,g.children,d),s.child;case 9:return w=s.type._context,g=s.pendingProps.children,fo(s),w=hn(w),g=g(w),s.flags|=1,pn(a,s,g,d),s.child;case 14:return a1(a,s,s.type,s.pendingProps,d);case 15:return o1(a,s,s.type,s.pendingProps,d);case 19:return m1(a,s,d);case 31:return q4(a,s,d);case 22:return s1(a,s,d,s.pendingProps);case 24:return fo(s),g=hn(Bt),a===null?(w=tm(),w===null&&(w=ht,S=Zp(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=d),w=S),s.memoizedState={parent:g,cache:w},rm(s),Sa(s,Bt,w)):((a.lanes&d)!==0&&(im(a,s),Gl(s,null,null,d),Fl()),w=a.memoizedState,S=s.memoizedState,w.parent!==g?(w={parent:g,cache:g},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),Sa(s,Bt,g)):(g=S.cache,Sa(s,Bt,g),g!==w.cache&&Qp(s,[Bt],d,!0))),pn(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Oi(a){a.flags|=4}function Bm(a,s,d,g,w){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(F1())a.flags|=8192;else throw mo=Vc,nm}else a.flags&=-16777217}function y1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!IN(s))if(F1())a.flags|=8192;else throw mo=Vc,nm}function ld(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?ze():536870912,a.lanes|=s,Es|=s)}function Xl(a,s){if(!Qe)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function wt(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(s)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=g,a.childLanes=d,s}function F4(a,s,d){var g=s.pendingProps;switch(Yp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return d=s.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Ii(Bt),ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(ds(s)?Oi(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jp())),wt(s),null;case 26:var w=s.type,S=s.memoizedState;return a===null?(Oi(s),S!==null?(wt(s),y1(s,S)):(wt(s),Bm(s,w,null,g,d))):S?S!==a.memoizedState?(Oi(s),wt(s),y1(s,S)):(wt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==g&&Oi(s),wt(s),Bm(s,w,a,g,d)),null;case 27:if(ke(s),d=ue.current,w=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&Oi(s);else{if(!g){if(s.stateNode===null)throw Error(r(166));return wt(s),null}a=pe.current,ds(s)?Xw(s):(a=EN(w,g,d),s.stateNode=a,Oi(s))}return wt(s),null;case 5:if(ke(s),w=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&Oi(s);else{if(!g){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(S=pe.current,ds(s))Xw(s);else{var _=Nd(ue.current);switch(S){case 1:S=_.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=_.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=_.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=_.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=_.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?_.createElement("select",{is:g.is}):_.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?_.createElement(w,{is:g.is}):_.createElement(w)}}S[dn]=s,S[Hn]=g;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)S.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=S;e:switch(mn(S,w,g),w){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Oi(s)}}return wt(s),Bm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,d),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==g&&Oi(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(r(166));if(a=ue.current,ds(s)){if(a=s.stateNode,d=s.memoizedProps,g=null,w=fn,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}a[dn]=s,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||hN(a.nodeValue,d)),a||wa(s,!0)}else a=Nd(a).createTextNode(g),a[dn]=s,s.stateNode=a}return wt(s),null;case 31:if(d=s.memoizedState,a===null||a.memoizedState!==null){if(g=ds(s),d!==null){if(a===null){if(!g)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[dn]=s}else uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),a=!1}else d=Jp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return s.flags&256?(ar(s),s):(ar(s),null);if((s.flags&128)!==0)throw Error(r(558))}return wt(s),null;case 13:if(g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=ds(s),g!==null&&g.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[dn]=s}else uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),w=!1}else w=Jp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(ar(s),s):(ar(s),null)}return ar(s),(s.flags&128)!==0?(s.lanes=d,s):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=s.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==w&&(g.flags|=2048)),d!==a&&d&&(s.child.flags|=8192),ld(s,s.updateQueue),wt(s),null);case 4:return ae(),a===null&&sg(s.stateNode.containerInfo),wt(s),null;case 10:return Ii(s.type),wt(s),null;case 19:if(X(Ot),g=s.memoizedState,g===null)return wt(s),null;if(w=(s.flags&128)!==0,S=g.rendering,S===null)if(w)Xl(g,!1);else{if(Rt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(S=Jc(a),S!==null){for(s.flags|=128,Xl(g,!1),a=S.updateQueue,s.updateQueue=a,ld(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)Vw(d,a),d=d.sibling;return H(Ot,Ot.current&1|2),Qe&&Pi(s,g.treeForkCount),s.child}a=a.sibling}g.tail!==null&&cn()>hd&&(s.flags|=128,w=!0,Xl(g,!1),s.lanes=4194304)}else{if(!w)if(a=Jc(S),a!==null){if(s.flags|=128,w=!0,a=a.updateQueue,s.updateQueue=a,ld(s,a),Xl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Qe)return wt(s),null}else 2*cn()-g.renderingStartTime>hd&&d!==536870912&&(s.flags|=128,w=!0,Xl(g,!1),s.lanes=4194304);g.isBackwards?(S.sibling=s.child,s.child=S):(a=g.last,a!==null?a.sibling=S:s.child=S,g.last=S)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=cn(),a.sibling=null,d=Ot.current,H(Ot,w?d&1|2:d&1),Qe&&Pi(s,g.treeForkCount),a):(wt(s),null);case 22:case 23:return ar(s),lm(),g=s.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(d&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),d=s.updateQueue,d!==null&&ld(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==d&&(s.flags|=2048),a!==null&&X(ho),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Ii(Bt),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function G4(a,s){switch(Yp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Ii(Bt),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ke(s),null;case 31:if(s.memoizedState!==null){if(ar(s),s.alternate===null)throw Error(r(340));uo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(ar(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));uo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return X(Ot),null;case 4:return ae(),null;case 10:return Ii(s.type),null;case 22:case 23:return ar(s),lm(),a!==null&&X(ho),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Ii(Bt),null;case 25:return null;default:return null}}function v1(a,s){switch(Yp(s),s.tag){case 3:Ii(Bt),ae();break;case 26:case 27:case 5:ke(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&ar(s);break;case 13:ar(s);break;case 19:X(Ot);break;case 10:Ii(s.type);break;case 22:case 23:ar(s),lm(),a!==null&&X(ho);break;case 24:Ii(Bt)}}function Wl(a,s){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var w=g.next;d=w;do{if((d.tag&a)===a){g=void 0;var S=d.create,_=d.inst;g=S(),_.destroy=g}d=d.next}while(d!==w)}}catch(L){lt(s,s.return,L)}}function _a(a,s,d){try{var g=s.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var S=w.next;g=S;do{if((g.tag&a)===a){var _=g.inst,L=_.destroy;if(L!==void 0){_.destroy=void 0,w=s;var J=d,te=L;try{te()}catch(ce){lt(w,J,ce)}}}g=g.next}while(g!==S)}}catch(ce){lt(s,s.return,ce)}}function x1(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{uS(s,d)}catch(g){lt(a,a.return,g)}}}function b1(a,s,d){d.props=vo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){lt(a,s,g)}}function Ql(a,s){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(w){lt(a,s,w)}}function ui(a,s){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(w){lt(a,s,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){lt(a,s,w)}else d.current=null}function w1(a){var s=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(w){lt(a,a.return,w)}}function zm(a,s,d){try{var g=a.stateNode;f5(g,a.type,d,s),g[Hn]=s}catch(w){lt(a,a.return,w)}}function S1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Da(a.type)||a.tag===4}function qm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||S1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Da(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Hm(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(a),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Ti));else if(g!==4&&(g===27&&Da(a.type)&&(d=a.stateNode,s=null),a=a.child,a!==null))for(Hm(a,s,d),a=a.sibling;a!==null;)Hm(a,s,d),a=a.sibling}function ud(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(g!==4&&(g===27&&Da(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(ud(a,s,d),a=a.sibling;a!==null;)ud(a,s,d),a=a.sibling}function N1(a){var s=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);mn(s,g,d),s[dn]=a,s[Hn]=d}catch(S){lt(a,a.return,S)}}var Li=!1,Ht=!1,Fm=!1,E1=typeof WeakSet=="function"?WeakSet:Set,nn=null;function V4(a,s){if(a=a.containerInfo,cg=Pd,a=Ow(a),Op(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var _=0,L=-1,J=-1,te=0,ce=0,he=a,re=null;t:for(;;){for(var oe;he!==d||w!==0&&he.nodeType!==3||(L=_+w),he!==S||g!==0&&he.nodeType!==3||(J=_+g),he.nodeType===3&&(_+=he.nodeValue.length),(oe=he.firstChild)!==null;)re=he,he=oe;for(;;){if(he===a)break t;if(re===d&&++te===w&&(L=_),re===S&&++ce===g&&(J=_),(oe=he.nextSibling)!==null)break;he=re,re=he.parentNode}he=oe}d=L===-1||J===-1?null:{start:L,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(dg={focusedElem:a,selectionRange:d},Pd=!1,nn=s;nn!==null;)if(s=nn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,nn=a;else for(;nn!==null;){switch(s=nn,S=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)w=a[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,d=s,w=S.memoizedProps,S=S.memoizedState,g=d.stateNode;try{var Te=vo(d.type,w);a=g.getSnapshotBeforeUpdate(Te,S),g.__reactInternalSnapshotBeforeUpdate=a}catch(De){lt(d,d.return,De)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)pg(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":pg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,nn=a;break}nn=s.return}}function A1(a,s,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(a,d),g&4&&Wl(5,d);break;case 1:if(Bi(a,d),g&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(_){lt(d,d.return,_)}else{var w=vo(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(w,s,a.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(d,d.return,_)}}g&64&&x1(d),g&512&&Ql(d,d.return);break;case 3:if(Bi(a,d),g&64&&(a=d.updateQueue,a!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{uS(a,s)}catch(_){lt(d,d.return,_)}}break;case 27:s===null&&g&4&&N1(d);case 26:case 5:Bi(a,d),s===null&&g&4&&w1(d),g&512&&Ql(d,d.return);break;case 12:Bi(a,d);break;case 31:Bi(a,d),g&4&&_1(a,d);break;case 13:Bi(a,d),g&4&&k1(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=e5.bind(null,d),b5(a,d))));break;case 22:if(g=d.memoizedState!==null||Li,!g){s=s!==null&&s.memoizedState!==null||Ht,w=Li;var S=Ht;Li=g,(Ht=s)&&!S?zi(a,d,(d.subtreeFlags&8772)!==0):Bi(a,d),Li=w,Ht=S}break;case 30:break;default:Bi(a,d)}}function C1(a){var s=a.alternate;s!==null&&(a.alternate=null,C1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&xp(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var _t=null,Gn=!1;function Ui(a,s,d){for(d=d.child;d!==null;)T1(a,s,d),d=d.sibling}function T1(a,s,d){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ct,d)}catch{}switch(d.tag){case 26:Ht||ui(d,s),Ui(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ht||ui(d,s);var g=_t,w=Gn;Da(d.type)&&(_t=d.stateNode,Gn=!1),Ui(a,s,d),su(d.stateNode),_t=g,Gn=w;break;case 5:Ht||ui(d,s);case 6:if(g=_t,w=Gn,_t=null,Ui(a,s,d),_t=g,Gn=w,_t!==null)if(Gn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(d.stateNode)}catch(S){lt(d,s,S)}else try{_t.removeChild(d.stateNode)}catch(S){lt(d,s,S)}break;case 18:_t!==null&&(Gn?(a=_t,xN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Is(a)):xN(_t,d.stateNode));break;case 4:g=_t,w=Gn,_t=d.stateNode.containerInfo,Gn=!0,Ui(a,s,d),_t=g,Gn=w;break;case 0:case 11:case 14:case 15:_a(2,d,s),Ht||_a(4,d,s),Ui(a,s,d);break;case 1:Ht||(ui(d,s),g=d.stateNode,typeof g.componentWillUnmount=="function"&&b1(d,s,g)),Ui(a,s,d);break;case 21:Ui(a,s,d);break;case 22:Ht=(g=Ht)||d.memoizedState!==null,Ui(a,s,d),Ht=g;break;default:Ui(a,s,d)}}function _1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Is(a)}catch(d){lt(s,s.return,d)}}}function k1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Is(a)}catch(d){lt(s,s.return,d)}}function $4(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new E1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new E1),s;default:throw Error(r(435,a.tag))}}function cd(a,s){var d=$4(a);s.forEach(function(g){if(!d.has(g)){d.add(g);var w=t5.bind(null,a,g);g.then(w,w)}})}function Vn(a,s){var d=s.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g],S=a,_=s,L=_;e:for(;L!==null;){switch(L.tag){case 27:if(Da(L.type)){_t=L.stateNode,Gn=!1;break e}break;case 5:_t=L.stateNode,Gn=!1;break e;case 3:case 4:_t=L.stateNode.containerInfo,Gn=!0;break e}L=L.return}if(_t===null)throw Error(r(160));T1(S,_,w),_t=null,Gn=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)P1(s,a),s=s.sibling}var Gr=null;function P1(a,s){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vn(s,a),$n(a),g&4&&(_a(3,a,a.return),Wl(3,a),_a(5,a,a.return));break;case 1:Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),g&64&&Li&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var w=Gr;if(Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),g&4){var S=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Al]||S[dn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(g),w.head.insertBefore(S,w.querySelector("head > title"))),mn(S,g,d),S[dn]=a,tn(S),g=S;break e;case"link":var _=PN("link","href",w).get(g+(d.href||""));if(_){for(var L=0;L<_.length;L++)if(S=_[L],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(L,1);break t}}S=w.createElement(g),mn(S,g,d),w.head.appendChild(S);break;case"meta":if(_=PN("meta","content",w).get(g+(d.content||""))){for(L=0;L<_.length;L++)if(S=_[L],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(L,1);break t}}S=w.createElement(g),mn(S,g,d),w.head.appendChild(S);break;default:throw Error(r(468,g))}S[dn]=a,tn(S),g=S}a.stateNode=g}else MN(w,a.type,a.stateNode);else a.stateNode=kN(w,g,a.memoizedProps);else S!==g?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,g===null?MN(w,a.type,a.stateNode):kN(w,g,a.memoizedProps)):g===null&&a.stateNode!==null&&zm(a,a.memoizedProps,d.memoizedProps)}break;case 27:Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),d!==null&&g&4&&zm(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),a.flags&32){w=a.stateNode;try{ts(w,"")}catch(Te){lt(a,a.return,Te)}}g&4&&a.stateNode!=null&&(w=a.memoizedProps,zm(a,w,d!==null?d.memoizedProps:w)),g&1024&&(Fm=!0);break;case 6:if(Vn(s,a),$n(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Te){lt(a,a.return,Te)}}break;case 3:if(Cd=null,w=Gr,Gr=Ed(s.containerInfo),Vn(s,a),Gr=w,$n(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Is(s.containerInfo)}catch(Te){lt(a,a.return,Te)}Fm&&(Fm=!1,M1(a));break;case 4:g=Gr,Gr=Ed(a.stateNode.containerInfo),Vn(s,a),$n(a),Gr=g;break;case 12:Vn(s,a),$n(a);break;case 31:Vn(s,a),$n(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,cd(a,g)));break;case 13:Vn(s,a),$n(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(fd=cn()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,cd(a,g)));break;case 22:w=a.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,te=Li,ce=Ht;if(Li=te||w,Ht=ce||J,Vn(s,a),Ht=ce,Li=te,$n(a),g&8192)e:for(s=a.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(d===null||J||Li||Ht||xo(a)),d=null,s=a;;){if(s.tag===5||s.tag===26){if(d===null){J=d=s;try{if(S=J.stateNode,w)_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{L=J.stateNode;var he=J.memoizedProps.style,re=he!=null&&he.hasOwnProperty("display")?he.display:null;L.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Te){lt(J,J.return,Te)}}}else if(s.tag===6){if(d===null){J=s;try{J.stateNode.nodeValue=w?"":J.memoizedProps}catch(Te){lt(J,J.return,Te)}}}else if(s.tag===18){if(d===null){J=s;try{var oe=J.stateNode;w?bN(oe,!0):bN(J.stateNode,!1)}catch(Te){lt(J,J.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,cd(a,d))));break;case 19:Vn(s,a),$n(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,cd(a,g)));break;case 30:break;case 21:break;default:Vn(s,a),$n(a)}}function $n(a){var s=a.flags;if(s&2){try{for(var d,g=a.return;g!==null;){if(S1(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,S=qm(a);ud(a,S,w);break;case 5:var _=d.stateNode;d.flags&32&&(ts(_,""),d.flags&=-33);var L=qm(a);ud(a,L,_);break;case 3:case 4:var J=d.stateNode.containerInfo,te=qm(a);Hm(a,te,J);break;default:throw Error(r(161))}}catch(ce){lt(a,a.return,ce)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function M1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;M1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Bi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)A1(a,s.alternate,s),s=s.sibling}function xo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:_a(4,s,s.return),xo(s);break;case 1:ui(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&b1(s,s.return,d),xo(s);break;case 27:su(s.stateNode);case 26:case 5:ui(s,s.return),xo(s);break;case 22:s.memoizedState===null&&xo(s);break;case 30:xo(s);break;default:xo(s)}a=a.sibling}}function zi(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,w=a,S=s,_=S.flags;switch(S.tag){case 0:case 11:case 15:zi(w,S,d),Wl(4,S);break;case 1:if(zi(w,S,d),g=S,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(te){lt(g,g.return,te)}if(g=S,w=g.updateQueue,w!==null){var L=g.stateNode;try{var J=w.shared.hiddenCallbacks;if(J!==null)for(w.shared.hiddenCallbacks=null,w=0;w<J.length;w++)lS(J[w],L)}catch(te){lt(g,g.return,te)}}d&&_&64&&x1(S),Ql(S,S.return);break;case 27:N1(S);case 26:case 5:zi(w,S,d),d&&g===null&&_&4&&w1(S),Ql(S,S.return);break;case 12:zi(w,S,d);break;case 31:zi(w,S,d),d&&_&4&&_1(w,S);break;case 13:zi(w,S,d),d&&_&4&&k1(w,S);break;case 22:S.memoizedState===null&&zi(w,S,d),Ql(S,S.return);break;case 30:break;default:zi(w,S,d)}s=s.sibling}}function Gm(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Ul(d))}function Vm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ul(a))}function Vr(a,s,d,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)I1(a,s,d,g),s=s.sibling}function I1(a,s,d,g){var w=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(a,s,d,g),w&2048&&Wl(9,s);break;case 1:Vr(a,s,d,g);break;case 3:Vr(a,s,d,g),w&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Ul(a)));break;case 12:if(w&2048){Vr(a,s,d,g),a=s.stateNode;try{var S=s.memoizedProps,_=S.id,L=S.onPostCommit;typeof L=="function"&&L(_,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){lt(s,s.return,J)}}else Vr(a,s,d,g);break;case 31:Vr(a,s,d,g);break;case 13:Vr(a,s,d,g);break;case 23:break;case 22:S=s.stateNode,_=s.alternate,s.memoizedState!==null?S._visibility&2?Vr(a,s,d,g):Zl(a,s):S._visibility&2?Vr(a,s,d,g):(S._visibility|=2,ws(a,s,d,g,(s.subtreeFlags&10256)!==0||!1)),w&2048&&Gm(_,s);break;case 24:Vr(a,s,d,g),w&2048&&Vm(s.alternate,s);break;default:Vr(a,s,d,g)}}function ws(a,s,d,g,w){for(w=w&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=a,_=s,L=d,J=g,te=_.flags;switch(_.tag){case 0:case 11:case 15:ws(S,_,L,J,w),Wl(8,_);break;case 23:break;case 22:var ce=_.stateNode;_.memoizedState!==null?ce._visibility&2?ws(S,_,L,J,w):Zl(S,_):(ce._visibility|=2,ws(S,_,L,J,w)),w&&te&2048&&Gm(_.alternate,_);break;case 24:ws(S,_,L,J,w),w&&te&2048&&Vm(_.alternate,_);break;default:ws(S,_,L,J,w)}s=s.sibling}}function Zl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,g=s,w=g.flags;switch(g.tag){case 22:Zl(d,g),w&2048&&Gm(g.alternate,g);break;case 24:Zl(d,g),w&2048&&Vm(g.alternate,g);break;default:Zl(d,g)}s=s.sibling}}var eu=8192;function Ss(a,s,d){if(a.subtreeFlags&eu)for(a=a.child;a!==null;)j1(a,s,d),a=a.sibling}function j1(a,s,d){switch(a.tag){case 26:Ss(a,s,d),a.flags&eu&&a.memoizedState!==null&&I5(d,Gr,a.memoizedState,a.memoizedProps);break;case 5:Ss(a,s,d);break;case 3:case 4:var g=Gr;Gr=Ed(a.stateNode.containerInfo),Ss(a,s,d),Gr=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=eu,eu=16777216,Ss(a,s,d),eu=g):Ss(a,s,d));break;default:Ss(a,s,d)}}function R1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function tu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];nn=g,O1(g,a)}R1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)D1(a),a=a.sibling}function D1(a){switch(a.tag){case 0:case 11:case 15:tu(a),a.flags&2048&&_a(9,a,a.return);break;case 3:tu(a);break;case 12:tu(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,dd(a)):tu(a);break;default:tu(a)}}function dd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];nn=g,O1(g,a)}R1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:_a(8,s,s.return),dd(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,dd(s));break;default:dd(s)}a=a.sibling}}function O1(a,s){for(;nn!==null;){var d=nn;switch(d.tag){case 0:case 11:case 15:_a(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ul(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,nn=g;else e:for(d=a;nn!==null;){g=nn;var w=g.sibling,S=g.return;if(C1(g),g===d){nn=null;break e}if(w!==null){w.return=S,nn=w;break e}nn=S}}}var Y4={getCacheForType:function(a){var s=hn(Bt),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d},cacheSignal:function(){return hn(Bt).controller.signal}},K4=typeof WeakMap=="function"?WeakMap:Map,at=0,ht=null,Ke=null,Xe=0,st=0,or=null,ka=!1,Ns=!1,$m=!1,qi=0,Rt=0,Pa=0,bo=0,Ym=0,sr=0,Es=0,nu=null,Yn=null,Km=!1,fd=0,L1=0,hd=1/0,pd=null,Ma=null,Yt=0,Ia=null,As=null,Hi=0,Jm=0,Xm=null,U1=null,ru=0,Wm=null;function lr(){return(at&2)!==0&&Xe!==0?Xe&-Xe:B.T!==null?rg():ew()}function B1(){if(sr===0)if((Xe&536870912)===0||Qe){var a=Yo;Yo<<=1,(Yo&3932160)===0&&(Yo=262144),sr=a}else sr=536870912;return a=ir.current,a!==null&&(a.flags|=32),sr}function Kn(a,s,d){(a===ht&&(st===2||st===9)||a.cancelPendingCommit!==null)&&(Cs(a,0),ja(a,Xe,sr,!1)),Oe(a,d),((at&2)===0||a!==ht)&&(a===ht&&((at&2)===0&&(bo|=d),Rt===4&&ja(a,Xe,sr,!1)),ci(a))}function z1(a,s,d){if((at&6)!==0)throw Error(r(327));var g=!d&&(s&127)===0&&(s&a.expiredLanes)===0||ye(a,s),w=g?W4(a,s):Zm(a,s,!0),S=g;do{if(w===0){Ns&&!g&&ja(a,s,0,!1);break}else{if(d=a.current.alternate,S&&!J4(d)){w=Zm(a,s,!1),S=!1;continue}if(w===2){if(S=s,a.errorRecoveryDisabledLanes&S)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var L=a;w=nu;var J=L.current.memoizedState.isDehydrated;if(J&&(Cs(L,_).flags|=256),_=Zm(L,_,!1),_!==2){if($m&&!J){L.errorRecoveryDisabledLanes|=S,bo|=S,w=4;break e}S=Yn,Yn=w,S!==null&&(Yn===null?Yn=S:Yn.push.apply(Yn,S))}w=_}if(S=!1,w!==2)continue}}if(w===1){Cs(a,0),ja(a,s,0,!0);break}e:{switch(g=a,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ja(g,s,sr,!ka);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(w=fd+300-cn(),10<w)){if(ja(g,s,sr,!ka),se(g,0,!0)!==0)break e;Hi=s,g.timeoutHandle=yN(q1.bind(null,g,d,Yn,pd,Km,s,sr,bo,Es,ka,S,"Throttled",-0,0),w);break e}q1(g,d,Yn,pd,Km,s,sr,bo,Es,ka,S,null,-0,0)}}break}while(!0);ci(a)}function q1(a,s,d,g,w,S,_,L,J,te,ce,he,re,oe){if(a.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ti},j1(s,S,he);var Te=(S&62914560)===S?fd-cn():(S&4194048)===S?L1-cn():0;if(Te=j5(he,Te),Te!==null){Hi=S,a.cancelPendingCommit=Te(J1.bind(null,a,s,S,d,g,w,_,L,J,ce,he,null,re,oe)),ja(a,S,_,!te);return}}J1(a,s,S,d,g,w,_,L,J)}function J4(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var w=d[g],S=w.getSnapshot;w=w.value;try{if(!nr(S(),w))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(a,s,d,g){s&=~Ym,s&=~bo,a.suspendedLanes|=s,a.pingedLanes&=~s,g&&(a.warmLanes|=s),g=a.expirationTimes;for(var w=s;0<w;){var S=31-Ye(w),_=1<<S;g[S]=-1,w&=~_}d!==0&&yp(a,d,s)}function md(){return(at&6)===0?(iu(0),!1):!0}function Qm(){if(Ke!==null){if(st===0)var a=Ke.return;else a=Ke,Mi=co=null,pm(a),gs=null,zl=0,a=Ke;for(;a!==null;)v1(a.alternate,a),a=a.return;Ke=null}}function Cs(a,s){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,m5(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Hi=0,Qm(),ht=a,Ke=d=ki(a.current,null),Xe=s,st=0,or=null,ka=!1,Ns=ye(a,s),$m=!1,Es=sr=Ym=bo=Pa=Rt=0,Yn=nu=null,Km=!1,(s&8)!==0&&(s|=s&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=s;0<g;){var w=31-Ye(g),S=1<<w;s|=a[w],g&=~S}return qi=s,Oc(),d}function H1(a,s){Fe=null,B.H=Kl,s===ms||s===Gc?(s=iS(),st=3):s===nm?(s=iS(),st=4):st=s===Pm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,Ke===null&&(Rt=1,id(a,Nr(s,a.current)))}function F1(){var a=ir.current;return a===null?!0:(Xe&4194048)===Xe?Tr===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?a===Tr:!1}function G1(){var a=B.H;return B.H=Kl,a===null?Kl:a}function V1(){var a=B.A;return B.A=Y4,a}function gd(){Rt=4,ka||(Xe&4194048)!==Xe&&ir.current!==null||(Ns=!0),(Pa&134217727)===0&&(bo&134217727)===0||ht===null||ja(ht,Xe,sr,!1)}function Zm(a,s,d){var g=at;at|=2;var w=G1(),S=V1();(ht!==a||Xe!==s)&&(pd=null,Cs(a,s)),s=!1;var _=Rt;e:do try{if(st!==0&&Ke!==null){var L=Ke,J=or;switch(st){case 8:Qm(),_=6;break e;case 3:case 2:case 9:case 6:ir.current===null&&(s=!0);var te=st;if(st=0,or=null,Ts(a,L,J,te),d&&Ns){_=0;break e}break;default:te=st,st=0,or=null,Ts(a,L,J,te)}}X4(),_=Rt;break}catch(ce){H1(a,ce)}while(!0);return s&&a.shellSuspendCounter++,Mi=co=null,at=g,B.H=w,B.A=S,Ke===null&&(ht=null,Xe=0,Oc()),_}function X4(){for(;Ke!==null;)$1(Ke)}function W4(a,s){var d=at;at|=2;var g=G1(),w=V1();ht!==a||Xe!==s?(pd=null,hd=cn()+500,Cs(a,s)):Ns=ye(a,s);e:do try{if(st!==0&&Ke!==null){s=Ke;var S=or;t:switch(st){case 1:st=0,or=null,Ts(a,s,S,1);break;case 2:case 9:if(nS(S)){st=0,or=null,Y1(s);break}s=function(){st!==2&&st!==9||ht!==a||(st=7),ci(a)},S.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:nS(S)?(st=0,or=null,Y1(s)):(st=0,or=null,Ts(a,s,S,7));break;case 5:var _=null;switch(Ke.tag){case 26:_=Ke.memoizedState;case 5:case 27:var L=Ke;if(_?IN(_):L.stateNode.complete){st=0,or=null;var J=L.sibling;if(J!==null)Ke=J;else{var te=L.return;te!==null?(Ke=te,yd(te)):Ke=null}break t}}st=0,or=null,Ts(a,s,S,5);break;case 6:st=0,or=null,Ts(a,s,S,6);break;case 8:Qm(),Rt=6;break e;default:throw Error(r(462))}}Q4();break}catch(ce){H1(a,ce)}while(!0);return Mi=co=null,B.H=g,B.A=w,at=d,Ke!==null?0:(ht=null,Xe=0,Oc(),Rt)}function Q4(){for(;Ke!==null&&!Sl();)$1(Ke)}function $1(a){var s=g1(a.alternate,a,qi);a.memoizedProps=a.pendingProps,s===null?yd(a):Ke=s}function Y1(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=c1(d,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=c1(d,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:pm(s);default:v1(d,s),s=Ke=Vw(s,qi),s=g1(d,s,qi)}a.memoizedProps=a.pendingProps,s===null?yd(a):Ke=s}function Ts(a,s,d,g){Mi=co=null,pm(s),gs=null,zl=0;var w=s.return;try{if(z4(a,w,s,d,Xe)){Rt=1,id(a,Nr(d,a.current)),Ke=null;return}}catch(S){if(w!==null)throw Ke=w,S;Rt=1,id(a,Nr(d,a.current)),Ke=null;return}s.flags&32768?(Qe||g===1?a=!0:Ns||(Xe&536870912)!==0?a=!1:(ka=a=!0,(g===2||g===9||g===3||g===6)&&(g=ir.current,g!==null&&g.tag===13&&(g.flags|=16384))),K1(s,a)):yd(s)}function yd(a){var s=a;do{if((s.flags&32768)!==0){K1(s,ka);return}a=s.return;var d=F4(s.alternate,s,qi);if(d!==null){Ke=d;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=a}while(s!==null);Rt===0&&(Rt=5)}function K1(a,s){do{var d=G4(a.alternate,a);if(d!==null){d.flags&=32767,Ke=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){Ke=a;return}Ke=a=d}while(a!==null);Rt=6,Ke=null}function J1(a,s,d,g,w,S,_,L,J){a.cancelPendingCommit=null;do vd();while(Yt!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=qp,en(a,d,S,_,L,J),a===ht&&(Ke=ht=null,Xe=0),As=s,Ia=a,Hi=d,Jm=S,Xm=w,U1=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,n5(Re,function(){return eN(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,w=K.p,K.p=2,_=at,at|=4;try{V4(a,s,d)}finally{at=_,K.p=w,B.T=g}}Yt=1,X1(),W1(),Q1()}}function X1(){if(Yt===1){Yt=0;var a=Ia,s=As,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var g=K.p;K.p=2;var w=at;at|=4;try{P1(s,a);var S=dg,_=Ow(a.containerInfo),L=S.focusedElem,J=S.selectionRange;if(_!==L&&L&&L.ownerDocument&&Dw(L.ownerDocument.documentElement,L)){if(J!==null&&Op(L)){var te=J.start,ce=J.end;if(ce===void 0&&(ce=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(ce,L.value.length);else{var he=L.ownerDocument||document,re=he&&he.defaultView||window;if(re.getSelection){var oe=re.getSelection(),Te=L.textContent.length,De=Math.min(J.start,Te),ft=J.end===void 0?De:Math.min(J.end,Te);!oe.extend&&De>ft&&(_=ft,ft=De,De=_);var Q=Rw(L,De),W=Rw(L,ft);if(Q&&W&&(oe.rangeCount!==1||oe.anchorNode!==Q.node||oe.anchorOffset!==Q.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var ee=he.createRange();ee.setStart(Q.node,Q.offset),oe.removeAllRanges(),De>ft?(oe.addRange(ee),oe.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),oe.addRange(ee))}}}}for(he=[],oe=L;oe=oe.parentNode;)oe.nodeType===1&&he.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<he.length;L++){var fe=he[L];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Pd=!!cg,dg=cg=null}finally{at=w,K.p=g,B.T=d}}a.current=s,Yt=2}}function W1(){if(Yt===2){Yt=0;var a=Ia,s=As,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var g=K.p;K.p=2;var w=at;at|=4;try{A1(a,s.alternate,s)}finally{at=w,K.p=g,B.T=d}}Yt=3}}function Q1(){if(Yt===4||Yt===3){Yt=0,Nl();var a=Ia,s=As,d=Hi,g=U1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Yt=5:(Yt=0,As=Ia=null,Z1(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(Ma=null),Ai(d),s=s.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=B.T,w=K.p,K.p=2,B.T=null;try{for(var S=a.onRecoverableError,_=0;_<g.length;_++){var L=g[_];S(L.value,{componentStack:L.stack})}}finally{B.T=s,K.p=w}}(Hi&3)!==0&&vd(),ci(a),w=a.pendingLanes,(d&261930)!==0&&(w&42)!==0?a===Wm?ru++:(ru=0,Wm=a):ru=0,iu(0)}}function Z1(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Ul(s)))}function vd(){return X1(),W1(),Q1(),eN()}function eN(){if(Yt!==5)return!1;var a=Ia,s=Jm;Jm=0;var d=Ai(Hi),g=B.T,w=K.p;try{K.p=32>d?32:d,B.T=null,d=Xm,Xm=null;var S=Ia,_=Hi;if(Yt=0,As=Ia=null,Hi=0,(at&6)!==0)throw Error(r(331));var L=at;if(at|=4,D1(S.current),I1(S,S.current,_,d),at=L,iu(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ct,S)}catch{}return!0}finally{K.p=w,B.T=g,Z1(a,s)}}function tN(a,s,d){s=Nr(d,s),s=km(a.stateNode,s,2),a=Aa(a,s,2),a!==null&&(Oe(a,2),ci(a))}function lt(a,s,d){if(a.tag===3)tN(a,a,d);else for(;s!==null;){if(s.tag===3){tN(s,a,d);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ma===null||!Ma.has(g))){a=Nr(d,a),d=n1(2),g=Aa(s,d,2),g!==null&&(r1(d,g,s,a),Oe(g,2),ci(g));break}}s=s.return}}function eg(a,s,d){var g=a.pingCache;if(g===null){g=a.pingCache=new K4;var w=new Set;g.set(s,w)}else w=g.get(s),w===void 0&&(w=new Set,g.set(s,w));w.has(d)||($m=!0,w.add(d),a=Z4.bind(null,a,s,d),s.then(a,a))}function Z4(a,s,d){var g=a.pingCache;g!==null&&g.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,ht===a&&(Xe&d)===d&&(Rt===4||Rt===3&&(Xe&62914560)===Xe&&300>cn()-fd?(at&2)===0&&Cs(a,0):Ym|=d,Es===Xe&&(Es=0)),ci(a)}function nN(a,s){s===0&&(s=ze()),a=so(a,s),a!==null&&(Oe(a,s),ci(a))}function e5(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),nN(a,d)}function t5(a,s){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(s),nN(a,d)}function n5(a,s){return yr(a,s)}var xd=null,_s=null,tg=!1,bd=!1,ng=!1,Ra=0;function ci(a){a!==_s&&a.next===null&&(_s===null?xd=_s=a:_s=_s.next=a),bd=!0,tg||(tg=!0,i5())}function iu(a,s){if(!ng&&bd){ng=!0;do for(var d=!1,g=xd;g!==null;){if(a!==0){var w=g.pendingLanes;if(w===0)var S=0;else{var _=g.suspendedLanes,L=g.pingedLanes;S=(1<<31-Ye(42|a)+1)-1,S&=w&~(_&~L),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,oN(g,S))}else S=Xe,S=se(g,g===ht?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||ye(g,S)||(d=!0,oN(g,S));g=g.next}while(d);ng=!1}}function r5(){rN()}function rN(){bd=tg=!1;var a=0;Ra!==0&&p5()&&(a=Ra);for(var s=cn(),d=null,g=xd;g!==null;){var w=g.next,S=iN(g,s);S===0?(g.next=null,d===null?xd=w:d.next=w,w===null&&(_s=d)):(d=g,(a!==0||(S&3)!==0)&&(bd=!0)),g=w}Yt!==0&&Yt!==5||iu(a),Ra!==0&&(Ra=0)}function iN(a,s){for(var d=a.suspendedLanes,g=a.pingedLanes,w=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var _=31-Ye(S),L=1<<_,J=w[_];J===-1?((L&d)===0||(L&g)!==0)&&(w[_]=ve(L,s)):J<=s&&(a.expiredLanes|=L),S&=~L}if(s=ht,d=Xe,d=se(a,a===s?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===s&&(st===2||st===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ei(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ye(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(g!==null&&Ei(g),Ai(d)){case 2:case 8:d=be;break;case 32:d=Re;break;case 268435456:d=Ze;break;default:d=Re}return g=aN.bind(null,a),d=yr(d,g),a.callbackPriority=s,a.callbackNode=d,s}return g!==null&&g!==null&&Ei(g),a.callbackPriority=2,a.callbackNode=null,2}function aN(a,s){if(Yt!==0&&Yt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(vd()&&a.callbackNode!==d)return null;var g=Xe;return g=se(a,a===ht?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(z1(a,g,s),iN(a,cn()),a.callbackNode!=null&&a.callbackNode===d?aN.bind(null,a):null)}function oN(a,s){if(vd())return null;z1(a,s,!0)}function i5(){g5(function(){(at&6)!==0?yr(de,r5):rN()})}function rg(){if(Ra===0){var a=hs;a===0&&(a=$o,$o<<=1,($o&261888)===0&&($o=256)),Ra=a}return Ra}function sN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:_c(""+a)}function lN(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function a5(a,s,d,g,w){if(s==="submit"&&d&&d.stateNode===w){var S=sN((w[Hn]||null).action),_=g.submitter;_&&(s=(s=_[Hn]||null)?sN(s.formAction):_.getAttribute("formAction"),s!==null&&(S=s,_=null));var L=new Ic("action","action",null,g,w);a.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ra!==0){var J=_?lN(w,_):new FormData(w);Nm(d,{pending:!0,data:J,method:w.method,action:S},null,J)}}else typeof S=="function"&&(L.preventDefault(),J=_?lN(w,_):new FormData(w),Nm(d,{pending:!0,data:J,method:w.method,action:S},S,J))},currentTarget:w}]})}}for(var ig=0;ig<zp.length;ig++){var ag=zp[ig],o5=ag.toLowerCase(),s5=ag[0].toUpperCase()+ag.slice(1);Fr(o5,"on"+s5)}Fr(Bw,"onAnimationEnd"),Fr(zw,"onAnimationIteration"),Fr(qw,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(N4,"onTransitionRun"),Fr(E4,"onTransitionStart"),Fr(A4,"onTransitionCancel"),Fr(Hw,"onTransitionEnd"),Zo("onMouseEnter",["mouseout","mouseover"]),Zo("onMouseLeave",["mouseout","mouseover"]),Zo("onPointerEnter",["pointerout","pointerover"]),Zo("onPointerLeave",["pointerout","pointerover"]),ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function uN(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],w=g.event;g=g.listeners;e:{var S=void 0;if(s)for(var _=g.length-1;0<=_;_--){var L=g[_],J=L.instance,te=L.currentTarget;if(L=L.listener,J!==S&&w.isPropagationStopped())break e;S=L,w.currentTarget=te;try{S(w)}catch(ce){Dc(ce)}w.currentTarget=null,S=J}else for(_=0;_<g.length;_++){if(L=g[_],J=L.instance,te=L.currentTarget,L=L.listener,J!==S&&w.isPropagationStopped())break e;S=L,w.currentTarget=te;try{S(w)}catch(ce){Dc(ce)}w.currentTarget=null,S=J}}}}function Je(a,s){var d=s[vp];d===void 0&&(d=s[vp]=new Set);var g=a+"__bubble";d.has(g)||(cN(s,a,2,!1),d.add(g))}function og(a,s,d){var g=0;s&&(g|=4),cN(d,a,g,s)}var wd="_reactListening"+Math.random().toString(36).slice(2);function sg(a){if(!a[wd]){a[wd]=!0,rw.forEach(function(d){d!=="selectionchange"&&(l5.has(d)||og(d,!1,a),og(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[wd]||(s[wd]=!0,og("selectionchange",!1,s))}}function cN(a,s,d,g){switch(BN(s)){case 2:var w=O5;break;case 8:w=L5;break;default:w=Sg}d=w.bind(null,s,d,a),w=void 0,!Tp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),g?w!==void 0?a.addEventListener(s,d,{capture:!0,passive:w}):a.addEventListener(s,d,!0):w!==void 0?a.addEventListener(s,d,{passive:w}):a.addEventListener(s,d,!1)}function lg(a,s,d,g,w){var S=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var _=g.tag;if(_===3||_===4){var L=g.stateNode.containerInfo;if(L===w)break;if(_===4)for(_=g.return;_!==null;){var J=_.tag;if((J===3||J===4)&&_.stateNode.containerInfo===w)return;_=_.return}for(;L!==null;){if(_=Xo(L),_===null)return;if(J=_.tag,J===5||J===6||J===26||J===27){g=S=_;continue e}L=L.parentNode}}g=g.return}mw(function(){var te=S,ce=Ap(d),he=[];e:{var re=Fw.get(a);if(re!==void 0){var oe=Ic,Te=a;switch(a){case"keypress":if(Pc(d)===0)break e;case"keydown":case"keyup":oe=t4;break;case"focusin":Te="focus",oe=Mp;break;case"focusout":Te="blur",oe=Mp;break;case"beforeblur":case"afterblur":oe=Mp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=FO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=i4;break;case Bw:case zw:case qw:oe=$O;break;case Hw:oe=o4;break;case"scroll":case"scrollend":oe=qO;break;case"wheel":oe=l4;break;case"copy":case"cut":case"paste":oe=KO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=bw;break;case"toggle":case"beforetoggle":oe=c4}var De=(s&4)!==0,ft=!De&&(a==="scroll"||a==="scrollend"),Q=De?re!==null?re+"Capture":null:re;De=[];for(var W=te,ee;W!==null;){var fe=W;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Q===null||(fe=Tl(W,Q),fe!=null&&De.push(ou(W,fe,ee))),ft)break;W=W.return}0<De.length&&(re=new oe(re,Te,null,d,ce),he.push({event:re,listeners:De}))}}if((s&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",re&&d!==Ep&&(Te=d.relatedTarget||d.fromElement)&&(Xo(Te)||Te[Jo]))break e;if((oe||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,oe?(Te=d.relatedTarget||d.toElement,oe=te,Te=Te?Xo(Te):null,Te!==null&&(ft=o(Te),De=Te.tag,Te!==ft||De!==5&&De!==27&&De!==6)&&(Te=null)):(oe=null,Te=te),oe!==Te)){if(De=vw,fe="onMouseLeave",Q="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(De=bw,fe="onPointerLeave",Q="onPointerEnter",W="pointer"),ft=oe==null?re:Cl(oe),ee=Te==null?re:Cl(Te),re=new De(fe,W+"leave",oe,d,ce),re.target=ft,re.relatedTarget=ee,fe=null,Xo(ce)===te&&(De=new De(Q,W+"enter",Te,d,ce),De.target=ee,De.relatedTarget=ft,fe=De),ft=fe,oe&&Te)t:{for(De=u5,Q=oe,W=Te,ee=0,fe=Q;fe;fe=De(fe))ee++;fe=0;for(var Me=W;Me;Me=De(Me))fe++;for(;0<ee-fe;)Q=De(Q),ee--;for(;0<fe-ee;)W=De(W),fe--;for(;ee--;){if(Q===W||W!==null&&Q===W.alternate){De=Q;break t}Q=De(Q),W=De(W)}De=null}else De=null;oe!==null&&dN(he,re,oe,De,!1),Te!==null&&ft!==null&&dN(he,ft,Te,De,!0)}}e:{if(re=te?Cl(te):window,oe=re.nodeName&&re.nodeName.toLowerCase(),oe==="select"||oe==="input"&&re.type==="file")var et=_w;else if(Cw(re))if(kw)et=b4;else{et=v4;var _e=y4}else oe=re.nodeName,!oe||oe.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Np(te.elementType)&&(et=_w):et=x4;if(et&&(et=et(a,te))){Tw(he,et,d,ce);break e}_e&&_e(a,re,te),a==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Sp(re,"number",re.value)}switch(_e=te?Cl(te):window,a){case"focusin":(Cw(_e)||_e.contentEditable==="true")&&(as=_e,Lp=te,Dl=null);break;case"focusout":Dl=Lp=as=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,Lw(he,d,ce);break;case"selectionchange":if(S4)break;case"keydown":case"keyup":Lw(he,d,ce)}var Ge;if(jp)e:{switch(a){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else is?Ew(a,d)&&(We="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(ww&&d.locale!=="ko"&&(is||We!=="onCompositionStart"?We==="onCompositionEnd"&&is&&(Ge=gw()):(va=ce,_p="value"in va?va.value:va.textContent,is=!0)),_e=Sd(te,We),0<_e.length&&(We=new xw(We,a,null,d,ce),he.push({event:We,listeners:_e}),Ge?We.data=Ge:(Ge=Aw(d),Ge!==null&&(We.data=Ge)))),(Ge=f4?h4(a,d):p4(a,d))&&(We=Sd(te,"onBeforeInput"),0<We.length&&(_e=new xw("onBeforeInput","beforeinput",null,d,ce),he.push({event:_e,listeners:We}),_e.data=Ge)),a5(he,a,te,d,ce)}uN(he,s)})}function ou(a,s,d){return{instance:a,listener:s,currentTarget:d}}function Sd(a,s){for(var d=s+"Capture",g=[];a!==null;){var w=a,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Tl(a,d),w!=null&&g.unshift(ou(a,w,S)),w=Tl(a,s),w!=null&&g.push(ou(a,w,S))),a.tag===3)return g;a=a.return}return[]}function u5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function dN(a,s,d,g,w){for(var S=s._reactName,_=[];d!==null&&d!==g;){var L=d,J=L.alternate,te=L.stateNode;if(L=L.tag,J!==null&&J===g)break;L!==5&&L!==26&&L!==27||te===null||(J=te,w?(te=Tl(d,S),te!=null&&_.unshift(ou(d,te,J))):w||(te=Tl(d,S),te!=null&&_.push(ou(d,te,J)))),d=d.return}_.length!==0&&a.push({event:s,listeners:_})}var c5=/\r\n?/g,d5=/\u0000|\uFFFD/g;function fN(a){return(typeof a=="string"?a:""+a).replace(c5,`
`).replace(d5,"")}function hN(a,s){return s=fN(s),fN(a)===s}function dt(a,s,d,g,w,S){switch(d){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||ts(a,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&ts(a,""+g);break;case"className":Cc(a,"class",g);break;case"tabIndex":Cc(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Cc(a,d,g);break;case"style":hw(a,g,S);break;case"data":if(s!=="object"){Cc(a,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=_c(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(s!=="input"&&dt(a,s,"name",w.name,w,null),dt(a,s,"formEncType",w.formEncType,w,null),dt(a,s,"formMethod",w.formMethod,w,null),dt(a,s,"formTarget",w.formTarget,w,null)):(dt(a,s,"encType",w.encType,w,null),dt(a,s,"method",w.method,w,null),dt(a,s,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=_c(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Ti);break;case"onScroll":g!=null&&Je("scroll",a);break;case"onScrollEnd":g!=null&&Je("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=_c(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Je("beforetoggle",a),Je("toggle",a),Ac(a,"popover",g);break;case"xlinkActuate":Ci(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ci(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ci(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ci(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ci(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ci(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ci(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ci(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ci(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ac(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=BO.get(d)||d,Ac(a,d,g))}}function ug(a,s,d,g,w,S){switch(d){case"style":hw(a,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?ts(a,g):(typeof g=="number"||typeof g=="bigint")&&ts(a,""+g);break;case"onScroll":g!=null&&Je("scroll",a);break;case"onScrollEnd":g!=null&&Je("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iw.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),s=d.slice(2,w?d.length-7:void 0),S=a[Hn]||null,S=S!=null?S[d]:null,typeof S=="function"&&a.removeEventListener(s,S,w),typeof g=="function")){typeof S!="function"&&S!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,g,w);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):Ac(a,d,g)}}}function mn(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",a),Je("load",a);var g=!1,w=!1,S;for(S in d)if(d.hasOwnProperty(S)){var _=d[S];if(_!=null)switch(S){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,S,_,d,null)}}w&&dt(a,s,"srcSet",d.srcSet,d,null),g&&dt(a,s,"src",d.src,d,null);return;case"input":Je("invalid",a);var L=S=_=w=null,J=null,te=null;for(g in d)if(d.hasOwnProperty(g)){var ce=d[g];if(ce!=null)switch(g){case"name":w=ce;break;case"type":_=ce;break;case"checked":J=ce;break;case"defaultChecked":te=ce;break;case"value":S=ce;break;case"defaultValue":L=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:dt(a,s,g,ce,d,null)}}uw(a,S,L,J,te,_,w,!1);return;case"select":Je("invalid",a),g=_=S=null;for(w in d)if(d.hasOwnProperty(w)&&(L=d[w],L!=null))switch(w){case"value":S=L;break;case"defaultValue":_=L;break;case"multiple":g=L;default:dt(a,s,w,L,d,null)}s=S,d=_,a.multiple=!!g,s!=null?es(a,!!g,s,!1):d!=null&&es(a,!!g,d,!0);return;case"textarea":Je("invalid",a),S=w=g=null;for(_ in d)if(d.hasOwnProperty(_)&&(L=d[_],L!=null))switch(_){case"value":g=L;break;case"defaultValue":w=L;break;case"children":S=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:dt(a,s,_,L,d,null)}dw(a,g,w,S);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:dt(a,s,J,g,d,null)}return;case"dialog":Je("beforetoggle",a),Je("toggle",a),Je("cancel",a),Je("close",a);break;case"iframe":case"object":Je("load",a);break;case"video":case"audio":for(g=0;g<au.length;g++)Je(au[g],a);break;case"image":Je("error",a),Je("load",a);break;case"details":Je("toggle",a);break;case"embed":case"source":case"link":Je("error",a),Je("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(g=d[te],g!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:dt(a,s,te,g,d,null)}return;default:if(Np(s)){for(ce in d)d.hasOwnProperty(ce)&&(g=d[ce],g!==void 0&&ug(a,s,ce,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&dt(a,s,L,g,d,null))}function f5(a,s,d,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,_=null,L=null,J=null,te=null,ce=null;for(oe in d){var he=d[oe];if(d.hasOwnProperty(oe)&&he!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":J=he;default:g.hasOwnProperty(oe)||dt(a,s,oe,null,g,he)}}for(var re in g){var oe=g[re];if(he=d[re],g.hasOwnProperty(re)&&(oe!=null||he!=null))switch(re){case"type":S=oe;break;case"name":w=oe;break;case"checked":te=oe;break;case"defaultChecked":ce=oe;break;case"value":_=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==he&&dt(a,s,re,oe,g,he)}}wp(a,_,L,J,te,ce,S,w);return;case"select":oe=_=L=re=null;for(S in d)if(J=d[S],d.hasOwnProperty(S)&&J!=null)switch(S){case"value":break;case"multiple":oe=J;default:g.hasOwnProperty(S)||dt(a,s,S,null,g,J)}for(w in g)if(S=g[w],J=d[w],g.hasOwnProperty(w)&&(S!=null||J!=null))switch(w){case"value":re=S;break;case"defaultValue":L=S;break;case"multiple":_=S;default:S!==J&&dt(a,s,w,S,g,J)}s=L,d=_,g=oe,re!=null?es(a,!!d,re,!1):!!g!=!!d&&(s!=null?es(a,!!d,s,!0):es(a,!!d,d?[]:"",!1));return;case"textarea":oe=re=null;for(L in d)if(w=d[L],d.hasOwnProperty(L)&&w!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:dt(a,s,L,null,g,w)}for(_ in g)if(w=g[_],S=d[_],g.hasOwnProperty(_)&&(w!=null||S!=null))switch(_){case"value":re=w;break;case"defaultValue":oe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&dt(a,s,_,w,g,S)}cw(a,re,oe);return;case"option":for(var Te in d)if(re=d[Te],d.hasOwnProperty(Te)&&re!=null&&!g.hasOwnProperty(Te))switch(Te){case"selected":a.selected=!1;break;default:dt(a,s,Te,null,g,re)}for(J in g)if(re=g[J],oe=d[J],g.hasOwnProperty(J)&&re!==oe&&(re!=null||oe!=null))switch(J){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:dt(a,s,J,re,g,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in d)re=d[De],d.hasOwnProperty(De)&&re!=null&&!g.hasOwnProperty(De)&&dt(a,s,De,null,g,re);for(te in g)if(re=g[te],oe=d[te],g.hasOwnProperty(te)&&re!==oe&&(re!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:dt(a,s,te,re,g,oe)}return;default:if(Np(s)){for(var ft in d)re=d[ft],d.hasOwnProperty(ft)&&re!==void 0&&!g.hasOwnProperty(ft)&&ug(a,s,ft,void 0,g,re);for(ce in g)re=g[ce],oe=d[ce],!g.hasOwnProperty(ce)||re===oe||re===void 0&&oe===void 0||ug(a,s,ce,re,g,oe);return}}for(var Q in d)re=d[Q],d.hasOwnProperty(Q)&&re!=null&&!g.hasOwnProperty(Q)&&dt(a,s,Q,null,g,re);for(he in g)re=g[he],oe=d[he],!g.hasOwnProperty(he)||re===oe||re==null&&oe==null||dt(a,s,he,re,g,oe)}function pN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var w=d[g],S=w.transferSize,_=w.initiatorType,L=w.duration;if(S&&L&&pN(_)){for(_=0,L=w.responseEnd,g+=1;g<d.length;g++){var J=d[g],te=J.startTime;if(te>L)break;var ce=J.transferSize,he=J.initiatorType;ce&&pN(he)&&(J=J.responseEnd,_+=ce*(J<L?1:(L-te)/(J-te)))}if(--g,s+=8*(S+_)/(w.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var cg=null,dg=null;function Nd(a){return a.nodeType===9?a:a.ownerDocument}function mN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gN(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function fg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hg=null;function p5(){var a=window.event;return a&&a.type==="popstate"?a===hg?!1:(hg=a,!0):(hg=null,!1)}var yN=typeof setTimeout=="function"?setTimeout:void 0,m5=typeof clearTimeout=="function"?clearTimeout:void 0,vN=typeof Promise=="function"?Promise:void 0,g5=typeof queueMicrotask=="function"?queueMicrotask:typeof vN<"u"?function(a){return vN.resolve(null).then(a).catch(y5)}:yN;function y5(a){setTimeout(function(){throw a})}function Da(a){return a==="head"}function xN(a,s){var d=s,g=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(w),Is(s);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")su(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,su(d);for(var S=d.firstChild;S;){var _=S.nextSibling,L=S.nodeName;S[Al]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=_}}else d==="body"&&su(a.ownerDocument.body);d=w}while(d);Is(s)}function bN(a,s){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?s?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(s?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function pg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":pg(d),xp(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function v5(a,s,d,g){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Al])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=_r(a.nextSibling),a===null)break}return null}function x5(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=_r(a.nextSibling),a===null))return null;return a}function wN(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=_r(a.nextSibling),a===null))return null;return a}function mg(a){return a.data==="$?"||a.data==="$~"}function gg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function b5(a,s){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||d.readyState!=="loading")s();else{var g=function(){s(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function _r(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var yg=null;function SN(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(s===0)return _r(a.nextSibling);s--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||s++}a=a.nextSibling}return null}function NN(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(s===0)return a;s--}else d!=="/$"&&d!=="/&"||s++}a=a.previousSibling}return null}function EN(a,s,d){switch(s=Nd(d),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function su(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);xp(a)}var kr=new Map,AN=new Set;function Ed(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Fi=K.d;K.d={f:w5,r:S5,D:N5,C:E5,L:A5,m:C5,X:_5,S:T5,M:k5};function w5(){var a=Fi.f(),s=md();return a||s}function S5(a){var s=Wo(a);s!==null&&s.tag===5&&s.type==="form"?HS(s):Fi.r(a)}var ks=typeof document>"u"?null:document;function CN(a,s,d){var g=ks;if(g&&typeof s=="string"&&s){var w=wr(s);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),AN.has(w)||(AN.add(w),a={rel:a,crossOrigin:d,href:s},g.querySelector(w)===null&&(s=g.createElement("link"),mn(s,"link",a),tn(s),g.head.appendChild(s)))}}function N5(a){Fi.D(a),CN("dns-prefetch",a,null)}function E5(a,s){Fi.C(a,s),CN("preconnect",a,s)}function A5(a,s,d){Fi.L(a,s,d);var g=ks;if(g&&a&&s){var w='link[rel="preload"][as="'+wr(s)+'"]';s==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+wr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+wr(d.imageSizes)+'"]')):w+='[href="'+wr(a)+'"]';var S=w;switch(s){case"style":S=Ps(a);break;case"script":S=Ms(a)}kr.has(S)||(a=m({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),kr.set(S,a),g.querySelector(w)!==null||s==="style"&&g.querySelector(lu(S))||s==="script"&&g.querySelector(uu(S))||(s=g.createElement("link"),mn(s,"link",a),tn(s),g.head.appendChild(s)))}}function C5(a,s){Fi.m(a,s);var d=ks;if(d&&a){var g=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+wr(g)+'"][href="'+wr(a)+'"]',S=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ms(a)}if(!kr.has(S)&&(a=m({rel:"modulepreload",href:a},s),kr.set(S,a),d.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(uu(S)))return}g=d.createElement("link"),mn(g,"link",a),tn(g),d.head.appendChild(g)}}}function T5(a,s,d){Fi.S(a,s,d);var g=ks;if(g&&a){var w=Qo(g).hoistableStyles,S=Ps(a);s=s||"default";var _=w.get(S);if(!_){var L={loading:0,preload:null};if(_=g.querySelector(lu(S)))L.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},d),(d=kr.get(S))&&vg(a,d);var J=_=g.createElement("link");tn(J),mn(J,"link",a),J._p=new Promise(function(te,ce){J.onload=te,J.onerror=ce}),J.addEventListener("load",function(){L.loading|=1}),J.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ad(_,s,g)}_={type:"stylesheet",instance:_,count:1,state:L},w.set(S,_)}}}function _5(a,s){Fi.X(a,s);var d=ks;if(d&&a){var g=Qo(d).hoistableScripts,w=Ms(a),S=g.get(w);S||(S=d.querySelector(uu(w)),S||(a=m({src:a,async:!0},s),(s=kr.get(w))&&xg(a,s),S=d.createElement("script"),tn(S),mn(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(w,S))}}function k5(a,s){Fi.M(a,s);var d=ks;if(d&&a){var g=Qo(d).hoistableScripts,w=Ms(a),S=g.get(w);S||(S=d.querySelector(uu(w)),S||(a=m({src:a,async:!0,type:"module"},s),(s=kr.get(w))&&xg(a,s),S=d.createElement("script"),tn(S),mn(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(w,S))}}function TN(a,s,d,g){var w=(w=ue.current)?Ed(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=Ps(d.href),d=Qo(w).hoistableStyles,g=d.get(s),g||(g={type:"style",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Ps(d.href);var S=Qo(w).hoistableStyles,_=S.get(a);if(_||(w=w.ownerDocument||w,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,_),(S=w.querySelector(lu(a)))&&!S._p&&(_.instance=S,_.state.loading=5),kr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},kr.set(a,d),S||P5(w,a,d,_.state))),s&&g===null)throw Error(r(528,""));return _}if(s&&g!==null)throw Error(r(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ms(d),d=Qo(w).hoistableScripts,g=d.get(s),g||(g={type:"script",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ps(a){return'href="'+wr(a)+'"'}function lu(a){return'link[rel="stylesheet"]['+a+"]"}function _N(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function P5(a,s,d,g){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=a.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),mn(s,"link",d),tn(s),a.head.appendChild(s))}function Ms(a){return'[src="'+wr(a)+'"]'}function uu(a){return"script[async]"+a}function kN(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var g=a.querySelector('style[data-href~="'+wr(d.href)+'"]');if(g)return s.instance=g,tn(g),g;var w=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),tn(g),mn(g,"style",w),Ad(g,d.precedence,a),s.instance=g;case"stylesheet":w=Ps(d.href);var S=a.querySelector(lu(w));if(S)return s.state.loading|=4,s.instance=S,tn(S),S;g=_N(d),(w=kr.get(w))&&vg(g,w),S=(a.ownerDocument||a).createElement("link"),tn(S);var _=S;return _._p=new Promise(function(L,J){_.onload=L,_.onerror=J}),mn(S,"link",g),s.state.loading|=4,Ad(S,d.precedence,a),s.instance=S;case"script":return S=Ms(d.src),(w=a.querySelector(uu(S)))?(s.instance=w,tn(w),w):(g=d,(w=kr.get(S))&&(g=m({},d),xg(g,w)),a=a.ownerDocument||a,w=a.createElement("script"),tn(w),mn(w,"link",g),a.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Ad(g,d.precedence,a));return s.instance}function Ad(a,s,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,S=w,_=0;_<g.length;_++){var L=g[_];if(L.dataset.precedence===s)S=L;else if(S!==w)break}S?S.parentNode.insertBefore(a,S.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function vg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function xg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Cd=null;function PN(a,s,d){if(Cd===null){var g=new Map,w=Cd=new Map;w.set(d,g)}else w=Cd,g=w.get(d),g||(g=new Map,w.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var S=d[w];if(!(S[Al]||S[dn]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var _=S.getAttribute(s)||"";_=a+_;var L=g.get(_);L?L.push(S):g.set(_,[S])}}return g}function MN(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function M5(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function IN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function I5(a,s,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Ps(g.href),S=s.querySelector(lu(w));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Td.bind(a),s.then(a,a)),d.state.loading|=4,d.instance=S,tn(S);return}S=s.ownerDocument||s,g=_N(g),(w=kr.get(w))&&vg(g,w),S=S.createElement("link"),tn(S);var _=S;_._p=new Promise(function(L,J){_.onload=L,_.onerror=J}),mn(S,"link",g),d.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Td.bind(a),s.addEventListener("load",d),s.addEventListener("error",d))}}var bg=0;function j5(a,s){return a.stylesheets&&a.count===0&&kd(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&kd(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+s);0<a.imgBytes&&bg===0&&(bg=62500*h5());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&kd(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>bg?50:800)+s);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(w)}}:null}function Td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var _d=null;function kd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,_d=new Map,s.forEach(R5,a),_d=null,Td.call(a))}function R5(a,s){if(!(s.state.loading&4)){var d=_d.get(a);if(d)var g=d.get(null);else{d=new Map,_d.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var _=w[S];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),g=_)}g&&d.set(null,g)}w=s.instance,_=w.getAttribute("data-precedence"),S=d.get(_)||g,S===g&&d.set(null,w),d.set(_,w),this.count++,g=Td.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),S?S.parentNode.insertBefore(w,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),s.state.loading|=4}}var cu={$$typeof:P,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function D5(a,s,d,g,w,S,_,L,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function jN(a,s,d,g,w,S,_,L,J,te,ce,he){return a=new D5(a,s,d,_,J,te,ce,he,L),s=1,S===!0&&(s|=24),S=rr(3,null,null,s),a.current=S,S.stateNode=a,s=Zp(),s.refCount++,a.pooledCache=s,s.refCount++,S.memoizedState={element:g,isDehydrated:d,cache:s},rm(S),a}function RN(a){return a?(a=ls,a):ls}function DN(a,s,d,g,w,S){w=RN(w),g.context===null?g.context=w:g.pendingContext=w,g=Ea(s),g.payload={element:d},S=S===void 0?null:S,S!==null&&(g.callback=S),d=Aa(a,g,s),d!==null&&(Kn(d,a,s),Hl(d,a,s))}function ON(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function wg(a,s){ON(a,s),(a=a.alternate)&&ON(a,s)}function LN(a){if(a.tag===13||a.tag===31){var s=so(a,67108864);s!==null&&Kn(s,a,67108864),wg(a,67108864)}}function UN(a){if(a.tag===13||a.tag===31){var s=lr();s=Cn(s);var d=so(a,s);d!==null&&Kn(d,a,s),wg(a,s)}}var Pd=!0;function O5(a,s,d,g){var w=B.T;B.T=null;var S=K.p;try{K.p=2,Sg(a,s,d,g)}finally{K.p=S,B.T=w}}function L5(a,s,d,g){var w=B.T;B.T=null;var S=K.p;try{K.p=8,Sg(a,s,d,g)}finally{K.p=S,B.T=w}}function Sg(a,s,d,g){if(Pd){var w=Ng(g);if(w===null)lg(a,s,g,Md,d),zN(a,g);else if(B5(w,a,s,d,g))g.stopPropagation();else if(zN(a,g),s&4&&-1<U5.indexOf(a)){for(;w!==null;){var S=Wo(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var _=oi(S.pendingLanes);if(_!==0){var L=S;for(L.pendingLanes|=2,L.entangledLanes|=2;_;){var J=1<<31-Ye(_);L.entanglements[1]|=J,_&=~J}ci(S),(at&6)===0&&(hd=cn()+500,iu(0))}}break;case 31:case 13:L=so(S,2),L!==null&&Kn(L,S,2),md(),wg(S,2)}if(S=Ng(g),S===null&&lg(a,s,g,Md,d),S===w)break;w=S}w!==null&&g.stopPropagation()}else lg(a,s,g,null,d)}}function Ng(a){return a=Ap(a),Eg(a)}var Md=null;function Eg(a){if(Md=null,a=Xo(a),a!==null){var s=o(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=l(s),a!==null)return a;a=null}else if(d===31){if(a=u(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Md=a,null}function BN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(El()){case de:return 2;case be:return 8;case Re:case He:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var Ag=!1,Oa=null,La=null,Ua=null,du=new Map,fu=new Map,Ba=[],U5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zN(a,s){switch(a){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function hu(a,s,d,g,w,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[w]},s!==null&&(s=Wo(s),s!==null&&LN(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),a)}function B5(a,s,d,g,w){switch(s){case"focusin":return Oa=hu(Oa,a,s,d,g,w),!0;case"dragenter":return La=hu(La,a,s,d,g,w),!0;case"mouseover":return Ua=hu(Ua,a,s,d,g,w),!0;case"pointerover":var S=w.pointerId;return du.set(S,hu(du.get(S)||null,a,s,d,g,w)),!0;case"gotpointercapture":return S=w.pointerId,fu.set(S,hu(fu.get(S)||null,a,s,d,g,w)),!0}return!1}function qN(a){var s=Xo(a.target);if(s!==null){var d=o(s);if(d!==null){if(s=d.tag,s===13){if(s=l(d),s!==null){a.blockedOn=s,tw(a.priority,function(){UN(d)});return}}else if(s===31){if(s=u(d),s!==null){a.blockedOn=s,tw(a.priority,function(){UN(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Id(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Ng(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Ep=g,d.target.dispatchEvent(g),Ep=null}else return s=Wo(d),s!==null&&LN(s),a.blockedOn=d,!1;s.shift()}return!0}function HN(a,s,d){Id(a)&&d.delete(s)}function z5(){Ag=!1,Oa!==null&&Id(Oa)&&(Oa=null),La!==null&&Id(La)&&(La=null),Ua!==null&&Id(Ua)&&(Ua=null),du.forEach(HN),fu.forEach(HN)}function jd(a,s){a.blockedOn===s&&(a.blockedOn=null,Ag||(Ag=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,z5)))}var Rd=null;function FN(a){Rd!==a&&(Rd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Rd===a&&(Rd=null);for(var s=0;s<a.length;s+=3){var d=a[s],g=a[s+1],w=a[s+2];if(typeof g!="function"){if(Eg(g||d)===null)continue;break}var S=Wo(d);S!==null&&(a.splice(s,3),s-=3,Nm(S,{pending:!0,data:w,method:d.method,action:g},g,w))}}))}function Is(a){function s(J){return jd(J,a)}Oa!==null&&jd(Oa,a),La!==null&&jd(La,a),Ua!==null&&jd(Ua,a),du.forEach(s),fu.forEach(s);for(var d=0;d<Ba.length;d++){var g=Ba[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Ba.length&&(d=Ba[0],d.blockedOn===null);)qN(d),d.blockedOn===null&&Ba.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var w=d[g],S=d[g+1],_=w[Hn]||null;if(typeof S=="function")_||FN(d);else if(_){var L=null;if(S&&S.hasAttribute("formAction")){if(w=S,_=S[Hn]||null)L=_.formAction;else if(Eg(w)!==null)continue}else L=_.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),FN(d)}}}function GN(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(_){return w=_})},focusReset:"manual",scroll:"manual"})}function s(){w!==null&&(w(),w=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),w!==null&&(w(),w=null)}}}function Cg(a){this._internalRoot=a}Dd.prototype.render=Cg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var d=s.current,g=lr();DN(d,g,a,s,null,null)},Dd.prototype.unmount=Cg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;DN(a.current,2,null,a,null,null),md(),s[Jo]=null}};function Dd(a){this._internalRoot=a}Dd.prototype.unstable_scheduleHydration=function(a){if(a){var s=ew();a={blockedOn:null,target:a,priority:s};for(var d=0;d<Ba.length&&s!==0&&s<Ba[d].priority;d++);Ba.splice(d,0,a),d===0&&qN(a)}};var VN=t.version;if(VN!=="19.2.3")throw Error(r(527,VN,"19.2.3"));K.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var q5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Ct=Od.inject(q5),Tt=Od}catch{}}return mu.createRoot=function(a,s){if(!i(a))throw Error(r(299));var d=!1,g="",w=QS,S=ZS,_=e1;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=jN(a,1,!1,null,null,d,g,null,w,S,_,GN),a[Jo]=s.current,sg(a),new Cg(s)},mu.hydrateRoot=function(a,s,d){if(!i(a))throw Error(r(299));var g=!1,w="",S=QS,_=ZS,L=e1,J=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.formState!==void 0&&(J=d.formState)),s=jN(a,1,!0,s,d??null,g,w,J,S,_,L,GN),s.context=RN(null),d=s.current,g=lr(),g=Cn(g),w=Ea(g),w.callback=null,Aa(d,w,g),d=g,s.current.lanes=d,Oe(s,d),ci(s),a[Jo]=s.current,sg(a),new Dd(s)},mu.version="19.2.3",mu}var tE;function eL(){if(tE)return Pg.exports;tE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=Z5(),Pg.exports}var tL=eL();const nL=ri(tL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),nE=e=>{const t=iL(e);return t.charAt(0).toUpperCase()+t.slice(1)},Hk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),aL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>C.createElement("svg",{ref:h,...oL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Hk("lucide",i),...!o&&!aL(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>C.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(sL,{ref:o,iconNode:t,className:Hk(`lucide-${rL(nE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=nE(e),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Fk=Ae("arrow-down-left",lL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],cL=Ae("arrow-down",uL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ia=Ae("arrow-left",dL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xf=Ae("arrow-right",fL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Gk=Ae("arrow-up-down",hL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Vk=Ae("arrow-up-right",pL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],gL=Ae("arrow-up",mL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Dr=Ae("banknote",yL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bf=Ae("bell",vL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],rE=Ae("bot",xL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yh=Ae("building-2",bL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vh=Ae("calendar",wL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gi=Ae("chevron-down",SL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],EL=Ae("chevron-left",NL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],CL=Ae("chevron-right",AL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vs=Ae("circle-alert",TL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xh=Ae("circle-check-big",_L);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PL=Ae("circle-check",kL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IL=Ae("circle",ML);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],RL=Ae("clipboard-list",jL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$k=Ae("clock",DL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],iE=Ae("cloud",OL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],UL=Ae("credit-card",LL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_0=Ae("database",BL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Yk=Ae("download",zL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],HL=Ae("file-chart-column-increasing",qL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Qn=Ae("file-spreadsheet",FL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Kk=Ae("info",GL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],$L=Ae("landmark",VL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],KL=Ae("layout-dashboard",YL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],XL=Ae("list-filter",JL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$s=Ae("loader-circle",WL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jk=Ae("lock",QL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],e3=Ae("log-in",ZL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],n3=Ae("log-out",t3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],i3=Ae("mail",r3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],o3=Ae("menu",a3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],l3=Ae("message-square",s3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],c3=Ae("moon",u3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ko=Ae("package",d3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],h3=Ae("pen",f3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nc=Ae("pencil",p3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],g3=Ae("percent",m3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zr=Ae("plus",y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ln=Ae("printer",v3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Qv=Ae("receipt",x3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Xk=Ae("refresh-ccw",b3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wk=Ae("refresh-cw",w3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],N3=Ae("rotate-ccw",S3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sl=Ae("save",E3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$t=Ae("search",A3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qk=Ae("send",C3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_3=Ae("settings",T3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],P3=Ae("shield",k3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Ro=Ae("shopping-bag",M3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],k0=Ae("shopping-cart",I3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],R3=Ae("smartphone",j3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Lu=Ae("sparkles",D3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],L3=Ae("sun",O3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Zk=Ae("tag",U3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aa=Ae("trash-2",B3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],q3=Ae("trending-down",z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bh=Ae("trending-up",H3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eP=Ae("triangle-alert",F3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],V3=Ae("truck",G3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Y3=Ae("upload",$3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J3=Ae("user",K3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wh=Ae("users",X3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Sh=Ae("wallet",W3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],wf=Ae("wrench",Q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nt=Ae("x",Z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zv=Ae("zap",e6),t6=({isOpen:e,activeTab:t,setActiveTab:n,onClose:r})=>{const[i,o]=C.useState([]),l=f=>{o(p=>p.includes(f)?p.filter(m=>m!==f):[...p,f])},u=f=>{n(f),window.innerWidth<1024&&r()},h=[{id:"dashboard",label:"Dashboard",icon:KL},{id:"parties",label:"Parties",icon:wh},{id:"inventory",label:"Inventory",icon:ko},{id:"service-center",label:"Service Center",icon:wf},{id:"pricelist",label:"Price List",icon:RL},{id:"sales",label:"Sales",icon:Zk,subItems:[{id:"sales-invoices",label:"Sales Invoices"},{id:"sales-payment-in",label:"Payment In"},{id:"sales-quotations",label:"Quotations"},{id:"sales-return",label:"Sales Return"}]},{id:"purchase",label:"Purchase",icon:k0,subItems:[{id:"purchase-bills",label:"Purchase Bills"},{id:"purchase-payment-out",label:"Payment Out"},{id:"purchase-auto-order",label:"Auto Order (Restock)"},{id:"purchase-orders",label:"Purchase Orders"},{id:"purchase-return",label:"Purchase Return"}]},{id:"cash-drawer",label:"Cash Drawer",icon:Dr},{id:"expense",label:"Expense",icon:Qv},{id:"manage-accounts",label:"Manage Accounts",icon:yh},{id:"reports",label:"Reports",icon:HL},{id:"settings",label:"Settings",icon:_3}];return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onClick:r}),c.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${e?"translate-x-0":"-translate-x-full"} overflow-y-auto flex flex-col`,children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-100 dark:border-gray-700 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2 text-brand-600 dark:text-brand-500",children:[c.jsx(Ro,{className:"w-8 h-8"}),c.jsx("span",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"AA Pro"})]}),c.jsx("button",{onClick:r,className:"lg:hidden p-1 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-4 flex-1",children:[c.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider px-3",children:"Menu"}),c.jsx("nav",{className:"space-y-1",children:h.map(f=>{var b;const p=f.icon,m=i.includes(f.id);t===f.id||((b=f.subItems)==null||b.some(N=>N.id===t));const v=t===f.id;return c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{f.subItems?l(f.id):u(f.id)},className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${v?"bg-brand-500 text-white shadow-md shadow-brand-500/20":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(p,{className:`w-5 h-5 ${v?"text-white":"text-gray-400 dark:text-gray-500"}`}),f.label]}),f.subItems&&c.jsx(gi,{className:`w-4 h-4 transition-transform ${m?"rotate-180":""} ${v?"text-white":"text-gray-300 dark:text-gray-600"}`})]}),f.subItems&&m&&c.jsx("div",{className:"mt-1 ml-4 space-y-1 border-l-2 border-gray-100 dark:border-gray-700 pl-2",children:f.subItems.map(N=>c.jsxs("button",{onClick:()=>u(N.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${t===N.id?"bg-brand-50 dark:bg-brand-900/20 text-brand-700 dark:text-brand-400 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(IL,{className:`w-2 h-2 ${t===N.id?"fill-current":"text-gray-300 dark:text-gray-600"}`}),N.label]},N.id))})]},f.id)})})]})]})]})},lf={notes:[{denomination:1e3,count:0},{denomination:500,count:0},{denomination:100,count:0},{denomination:50,count:0},{denomination:20,count:0},{denomination:10,count:0},{denomination:5,count:0},{denomination:2,count:0},{denomination:1,count:0}],lastUpdated:new Date().toISOString()},$r={profile:{name:"My Business",address:"",pan:"",phone:""},dbConfig:{mode:"local"},cloudConfig:{enabled:!1,autoBackup:!1,backupTime:"16:00",backupSchedules:["16:00"],googleClientId:""},accounts:[{id:"1",name:"Cash In Hand",type:"Cash",balance:0,isDefault:!0}],parties:[],products:[],transactions:[],reminders:[],serviceJobs:[],replenishmentDraft:[],cashDrawer:JSON.parse(JSON.stringify(lf))};class n6{constructor(){this.activeCompanyId=null,this.cache=JSON.parse(JSON.stringify($r)),this.companies=[],this.loadCompanies()}loadCompanies(){const t=localStorage.getItem("aapro_companies");t?this.companies=JSON.parse(t):this.companies=[]}async getCompanies(){return this.companies}async createCompany(t){const n={id:Date.now().toString(),name:t,dbName:`aapro_db_${Date.now()}`,created:new Date().toISOString()};return this.companies.push(n),localStorage.setItem("aapro_companies",JSON.stringify(this.companies)),localStorage.setItem(n.dbName,JSON.stringify({...$r,profile:{...$r.profile,name:t}})),n}async switchCompany(t){const n=this.companies.find(r=>r.id===t);if(!n)throw new Error("Company not found");this.activeCompanyId=t,localStorage.setItem("active_company_id",t),this.loadData(n.dbName),window.dispatchEvent(new Event("db-updated"))}getActiveCompanyId(){return this.activeCompanyId}async init(t){const n=this.companies.find(r=>r.id===t);n&&(this.activeCompanyId=t,this.loadData(n.dbName))}logout(){this.activeCompanyId=null,localStorage.removeItem("active_company_id"),this.cache=JSON.parse(JSON.stringify($r)),window.dispatchEvent(new Event("db-logout"))}loadData(t){const n=localStorage.getItem(t);if(n){const r=JSON.parse(n);this.cache={...$r,...r,profile:{...$r.profile,...r.profile},serviceJobs:Array.isArray(r.serviceJobs)?r.serviceJobs:[],replenishmentDraft:Array.isArray(r.replenishmentDraft)?r.replenishmentDraft:[],cashDrawer:r.cashDrawer||JSON.parse(JSON.stringify(lf))}}else this.cache=JSON.parse(JSON.stringify($r))}persist(){if(!this.activeCompanyId)return;const t=this.companies.find(n=>n.id===this.activeCompanyId);t&&(localStorage.setItem(t.dbName,JSON.stringify(this.cache)),window.dispatchEvent(new Event("db-updated")))}getBusinessProfile(){return this.cache.profile}updateBusinessProfile(t){this.cache.profile=t,this.persist()}getDatabaseConfig(){return this.cache.dbConfig}updateDatabaseConfig(t){this.cache.dbConfig=t,this.persist()}getCloudConfig(){return this.cache.cloudConfig}updateCloudConfig(t){this.cache.cloudConfig=t,this.persist()}getCashDrawer(){return this.cache.cashDrawer||JSON.parse(JSON.stringify(lf))}updateCashDrawer(t){this.cache.cashDrawer=t,this.persist()}updateDrawerFromTransaction(t,n){if(!t.cashBreakdown)return;const r=n==="add"?1:-1,i=this.getCashDrawer();t.cashBreakdown.received.forEach(o=>{const l=i.notes.find(u=>u.denomination===o.denomination);l&&(l.count+=o.count*r)}),t.cashBreakdown.returned.forEach(o=>{const l=i.notes.find(u=>u.denomination===o.denomination);l&&(l.count-=o.count*r)}),i.lastUpdated=new Date().toISOString(),this.updateCashDrawer(i)}getAccounts(){return this.cache.accounts}addAccount(t){this.cache.accounts.push(t),this.persist()}updateAccount(t){const n=this.cache.accounts.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.accounts[n]=t,this.persist())}deleteAccount(t){return t==="1"||this.cache.transactions.some(r=>r.accountId===t||r.transferAccountId===t)?!1:(this.cache.accounts=this.cache.accounts.filter(r=>r.id!==t),this.persist(),!0)}getParties(){return this.cache.parties}addParty(t){this.cache.parties.push(t),this.persist()}updateParty(t){const n=this.cache.parties.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.parties[n]=t,this.persist())}async bulkAddParties(t){this.cache.parties.push(...t),this.persist()}getProducts(){return this.cache.products}addProduct(t){this.cache.products.push(t),this.persist()}updateProduct(t){const n=this.cache.products.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.products[n]=t,this.persist())}deleteProduct(t){this.cache.products=this.cache.products.filter(n=>n.id!==t),this.persist()}async bulkAddProducts(t){this.cache.products.push(...t),this.persist()}getTransactions(){return this.cache.transactions}addTransaction(t){this.cache.transactions.push(t),this.updateBalances(t,"add"),t.cashBreakdown&&this.updateDrawerFromTransaction(t,"add"),this.persist()}updateTransaction(t,n){const r=this.cache.transactions.find(o=>o.id===t);r&&(this.updateBalances(r,"remove"),r.cashBreakdown&&this.updateDrawerFromTransaction(r,"remove"));const i=this.cache.transactions.findIndex(o=>o.id===t);i!==-1&&(this.cache.transactions[i]=n,this.updateBalances(n,"add"),n.cashBreakdown&&this.updateDrawerFromTransaction(n,"add"),this.persist())}deleteTransaction(t){const n=this.cache.transactions.find(r=>r.id===t);n&&(this.updateBalances(n,"remove"),n.cashBreakdown&&this.updateDrawerFromTransaction(n,"remove"),this.cache.transactions=this.cache.transactions.filter(r=>r.id!==t),this.persist())}updateBalances(t,n){const r=n==="add"?1:-1;if(t.partyId){const i=this.cache.parties.find(o=>o.id===t.partyId);if(i){let o=0;switch(t.type){case"SALE":o=t.totalAmount;break;case"PURCHASE":o=-t.totalAmount;break;case"PAYMENT_IN":o=-t.totalAmount;break;case"PAYMENT_OUT":o=t.totalAmount;break;case"SALE_RETURN":o=-t.totalAmount;break;case"PURCHASE_RETURN":o=t.totalAmount;break;case"BALANCE_ADJUSTMENT":o=t.totalAmount;break}i.balance+=o*r}}if(t.items&&t.items.length>0&&t.items.forEach(i=>{const o=this.cache.products.find(l=>l.id===i.productId);o&&o.type!=="service"&&(t.type==="SALE"||t.type==="PURCHASE_RETURN"?o.stock-=i.quantity*r:(t.type==="PURCHASE"||t.type==="SALE_RETURN")&&(o.stock+=i.quantity*r))}),t.accountId){const i=this.cache.accounts.find(o=>o.id===t.accountId);if(i){let o=0;["SALE","PAYMENT_IN","PURCHASE_RETURN"].includes(t.type)?o=t.totalAmount:["PURCHASE","PAYMENT_OUT","SALE_RETURN","EXPENSE"].includes(t.type)&&(o=-t.totalAmount),t.type==="TRANSFER"&&(o=-t.totalAmount),t.type==="BALANCE_ADJUSTMENT"&&(o=t.totalAmount),i.balance+=o*r}}if(t.type==="TRANSFER"&&t.transferAccountId){const i=this.cache.accounts.find(o=>o.id===t.transferAccountId);i&&(i.balance+=t.totalAmount*r)}}getServiceJobs(){return this.cache.serviceJobs||[]}addServiceJob(t){this.cache.serviceJobs.push(t),this.persist()}updateServiceJob(t){const n=this.cache.serviceJobs.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.serviceJobs[n]=t,this.persist())}deleteServiceJob(t){this.cache.serviceJobs=this.cache.serviceJobs.filter(n=>n.id!==t),this.persist()}getAllReminders(){const t=this.cache.reminders,n=[],r=new Date;return this.cache.products.forEach(i=>{i.type!=="service"&&i.stock<(i.minStockLevel||5)&&n.push({id:`sys_stock_${i.id}`,title:`Low Stock: ${i.name}`,date:r.toISOString(),type:"system_stock",priority:i.stock<=0?"high":"medium",amount:i.stock})}),this.cache.parties.forEach(i=>{if(i.balance!==0){const o=this.cache.transactions.filter(l=>l.partyId===i.id&&(i.balance>0?l.type==="SALE":l.type==="PURCHASE")).sort((l,u)=>new Date(l.date).getTime()-new Date(u.date).getTime());if(o.length>0){const l=o[0],u=Math.floor((r.getTime()-new Date(l.date).getTime())/(1e3*60*60*24));let h="",f="low";u>=120?(h="120+ Days (Critical)",f="high"):u>=90?(h="90 Days (Overdue)",f="high"):u>=60?(h="60 Days (Overdue)",f="high"):u>=30?(h="30 Days Overdue",f="medium"):u>=15?(h="15 Days Overdue",f="medium"):u>=7&&(h="1 Week Overdue",f="low"),h&&n.push({id:`sys_aging_${i.id}`,title:`${i.name}: ${h}`,date:l.date,type:"party_due",priority:f,amount:Math.abs(i.balance)})}}}),[...n,...t].sort((i,o)=>new Date(i.date).getTime()-new Date(o.date).getTime())}addManualReminder(t){this.cache.reminders.push(t),this.persist()}deleteManualReminder(t){this.cache.reminders=this.cache.reminders.filter(n=>n.id!==t),this.persist()}getBackupData(){return{...this.cache,backupVersion:"2.0",companyId:this.activeCompanyId,timestamp:new Date().toISOString()}}async restoreData(t){if(!t||typeof t!="object")return{success:!1,message:"Invalid file format"};try{const n={...$r,profile:{...$r.profile,...t.profile||{}},accounts:Array.isArray(t.accounts)?t.accounts:$r.accounts,parties:Array.isArray(t.parties)?t.parties:[],products:Array.isArray(t.products)?t.products:[],transactions:Array.isArray(t.transactions)?t.transactions:[],reminders:Array.isArray(t.reminders)?t.reminders:[],serviceJobs:Array.isArray(t.serviceJobs)?t.serviceJobs:[],cashDrawer:t.cashDrawer||lf};return this.cache=n,this.persist(),{success:!0}}catch(n){return{success:!1,message:"Error during deep restoration: "+n.message}}}async listTables(){return["transactions","parties","products","accounts","serviceJobs","cashDrawer"]}async getTableData(t){return this.cache[t]||[]}getReplenishmentDraft(){return this.cache.replenishmentDraft||[]}updateReplenishmentDraft(t){this.cache.replenishmentDraft=t,this.persist()}clearReplenishmentDraft(){this.cache.replenishmentDraft=[],this.persist()}async verifyDataIntegrity(){const t=[];return this.cache.parties.forEach(n=>{let r=0;this.cache.transactions.forEach(i=>{if(i.partyId===n.id){let o=0;switch(i.type){case"SALE":o=i.totalAmount;break;case"PURCHASE":o=-i.totalAmount;break;case"PAYMENT_IN":o=-i.totalAmount;break;case"PAYMENT_OUT":o=i.totalAmount;break;case"SALE_RETURN":o=-i.totalAmount;break;case"PURCHASE_RETURN":o=i.totalAmount;break;case"BALANCE_ADJUSTMENT":o=i.totalAmount;break}r+=o}}),Math.abs(r-n.balance)>.01&&t.push(`Party ${n.name} balance mismatch: System ${n.balance}, Calc ${r}`)}),{partiesOk:t.length===0,productsOk:!0,issues:t}}async reconcileData(){this.cache.parties.forEach(t=>{let n=0;this.cache.transactions.forEach(r=>{if(r.partyId===t.id){let i=0;switch(r.type){case"SALE":i=r.totalAmount;break;case"PURCHASE":i=-r.totalAmount;break;case"PAYMENT_IN":i=-r.totalAmount;break;case"PAYMENT_OUT":i=r.totalAmount;break;case"SALE_RETURN":i=-r.totalAmount;break;case"PURCHASE_RETURN":i=r.totalAmount;break;case"BALANCE_ADJUSTMENT":i=r.totalAmount;break}n+=i}}),t.balance=n}),this.persist()}async closeFinancialYear(t){if(!this.activeCompanyId)return;const n=this.companies.find(m=>m.id===this.activeCompanyId);if(!n)return;n.name=t,localStorage.setItem("aapro_companies",JSON.stringify(this.companies));const r={...this.cache.profile},i=this.cache.accounts.map(m=>({...m})),o=this.cache.parties.map(m=>({...m})),l=this.cache.products.map(m=>({...m})),u=Date.now().toString(),h=`aapro_db_${u}`,f={id:u,name:r.name,dbName:h,created:new Date().toISOString()},p={...$r,profile:r,accounts:i,parties:o,products:l,transactions:[],serviceJobs:[],reminders:[],cashDrawer:{...this.cache.cashDrawer}};this.companies.push(f),localStorage.setItem("aapro_companies",JSON.stringify(this.companies)),localStorage.setItem(h,JSON.stringify(p)),await this.switchCompany(u)}}const me=new n6,r6="cost2costjnk@gmail.com",i6="Akash1415@",Uu={getStoredCredentials(){const e=localStorage.getItem("aapro_creds");return e?JSON.parse(e):{username:r6,password:i6}},login(e,t){const n=this.getStoredCredentials();return e===n.username&&t===n.password?(localStorage.setItem("aapro_session","true"),!0):!1},isAuthenticated(){return localStorage.getItem("aapro_session")==="true"},logout(){localStorage.removeItem("aapro_session"),window.location.reload()},updateCredentials(e,t){localStorage.setItem("aapro_creds",JSON.stringify({username:e,password:t}))}},tP=C.createContext(void 0),a6=({children:e})=>{const[t,n]=C.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i==="dark"||i==="light"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});C.useEffect(()=>{const i=window.document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const r=()=>{n(i=>i==="light"?"dark":"light")};return c.jsx(tP.Provider,{value:{theme:t,toggleTheme:r},children:e})},o6=()=>{const e=C.useContext(tP);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},s6=({onMenuClick:e})=>{const[t,n]=C.useState("AA Pro"),[r,i]=C.useState(!1),[o,l]=C.useState(!1),[u,h]=C.useState(""),[f,p]=C.useState(!1),[m,v]=C.useState(!1),{theme:b,toggleTheme:N}=o6();C.useEffect(()=>{const T=me.getBusinessProfile();T.name&&n(T.name)},[]);const E=()=>{Uu.logout()},A=()=>{me.logout()};return c.jsx(c.Fragment,{children:c.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-16 flex items-center px-4 lg:px-8 justify-between transition-colors duration-200",children:o?c.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 z-50 flex items-center px-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[c.jsx("button",{onClick:()=>l(!1),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full mr-2",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1 flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg px-3 py-2",children:[c.jsx($t,{className:"w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent border-none outline-none text-sm ml-2 w-full text-gray-700 dark:text-gray-200 placeholder-gray-400",autoFocus:!0,value:u,onChange:T=>h(T.target.value)})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 text-gray-500 dark:text-gray-400 rounded-lg lg:hidden hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(o3,{className:"w-6 h-6"})}),c.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg w-64 lg:w-96 px-3 py-2 border border-transparent focus-within:border-brand-500 focus-within:ring-2 focus-within:ring-brand-100 dark:focus-within:ring-brand-900 transition-all",children:[c.jsx($t,{className:"w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search or create anything...",className:"bg-transparent border-none outline-none text-sm ml-2 w-full text-gray-700 dark:text-gray-200 placeholder-gray-400",value:u,onChange:T=>h(T.target.value)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[c.jsx("button",{onClick:N,className:"p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg hidden sm:block",children:b==="dark"?c.jsx(L3,{className:"w-5 h-5"}):c.jsx(c3,{className:"w-5 h-5"})}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-1 rounded-lg",onClick:()=>v(!m),children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xs font-bold border-2 border-white dark:border-gray-600 shadow-sm uppercase shrink-0",children:t.substring(0,2)}),c.jsx("div",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-200 truncate max-w-[150px]",children:t}),c.jsx(gi,{className:"w-4 h-4 text-gray-400 hidden md:block"})]}),m&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold uppercase mb-1",children:"Current Company"}),c.jsx("p",{className:"font-bold text-gray-800 dark:text-white truncate",children:t})]}),c.jsxs("div",{className:"p-1",children:[c.jsxs("button",{onClick:A,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[c.jsx(yh,{className:"w-4 h-4"}),"Switch Company"]}),c.jsxs("button",{onClick:E,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[c.jsx(n3,{className:"w-4 h-4"}),"Log Out"]})]})]})]})]})]})]})})})},ne=e=>new Intl.NumberFormat("en-IN",{maximumFractionDigits:2,minimumFractionDigits:0}).format(e),nP=2024,rP=3,iP=13,uf=2081,l6=0,u6=1,Sf=[31,32,31,32,31,30,30,30,29,30,29,31],aP=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Asoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],c6=1440*60*1e3,P0=(e,t)=>Sf[t%12],Ys=e=>{const t=new Date(nP,rP,iP),n=new Date(e);t.setHours(0,0,0,0),n.setHours(0,0,0,0);const r=n.getTime()-t.getTime();let i=Math.round(r/c6),o=uf,l=l6,u=u6;for(;i>0;){const f=Sf[l]-u+1;i<f?(u+=i,i=0):(i-=f,u=1,l++,l>11&&(l=0,o++))}for(;i<0;)Math.abs(i)<u?(u+=i,i=0):(i+=u,l--,l<0&&(l=11,o--),u=Sf[l]);return{year:o,month:l+1,day:u,monthName:aP[l]}},Ya=(e,t,n)=>{const r=t-1;let i=0;const o=e-uf;if(o>0)for(let u=uf;u<e;u++)i+=365;else if(o<0)for(let u=e;u<uf;u++)i-=365;for(let u=0;u<r;u++)i+=Sf[u];i+=n-1;const l=new Date(nP,rP,iP);return l.setDate(l.getDate()+i),l},d6=e=>{const t=e.split("/");if(t.length!==3)return!1;const n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]);return!(isNaN(i)||isNaN(r)||isNaN(n)||i<2e3||i>2150||r<1||r>12||n<1||n>32)},It=e=>{if(!e)return"-";const t=new Date(e),n=Ys(t);return`${String(n.day).padStart(2,"0")}/${String(n.month).padStart(2,"0")}/${n.year}`},f6=()=>It(new Date().toISOString()),h6=()=>Ys(new Date),M0=aP;function oP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=oP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=oP(e))&&(r&&(r+=" "),r+=t);return r}var p6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ex(e){if(typeof e!="string")return!1;var t=p6;return t.includes(e)}var m6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],g6=new Set(m6);function sP(e){return typeof e!="string"?!1:g6.has(e)}function lP(e){return typeof e=="string"&&e.startsWith("data-")}function ei(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(sP(n)||lP(n))&&(t[n]=e[n]);return t}function Nh(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ei(t)}return typeof e=="object"&&!Array.isArray(e)?ei(e):null}function Or(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(sP(n)||lP(n)||ex(n))&&(t[n]=e[n]);return t}function y6(e){return e==null?null:C.isValidElement(e)?Or(e.props):typeof e=="object"&&!Array.isArray(e)?Or(e):null}var v6=["children","width","height","viewBox","className","style","title","desc"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function x6(e,t){if(e==null)return{};var n,r,i=b6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uP=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:h,desc:f}=e,p=x6(e,v6),m=o||{width:r,height:i,x:0,y:0},v=Et("recharts-surface",l);return C.createElement("svg",I0({},Or(p),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),C.createElement("title",null,h),C.createElement("desc",null,f),n)}),w6=["children","className"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}function S6(e,t){if(e==null)return{};var n,r,i=N6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vi=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=S6(e,w6),o=Et("recharts-layer",r);return C.createElement("g",j0({className:o},Or(i),{ref:t}),n)}),cP=qk(),E6=C.createContext(null);function Dt(e){return function(){return e}}const R0=Math.PI,D0=2*R0,wo=1e-6,A6=D0-wo;function dP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function C6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dP;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class T6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dP:C6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,h=r-t,f=i-n,p=l-t,m=u-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>wo)if(!(Math.abs(m*h-f*p)>wo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,N=i-u,E=h*h+f*f,A=b*b+N*N,T=Math.sqrt(E),k=Math.sqrt(v),P=o*Math.tan((R0-Math.acos((E+v-A)/(2*T*k)))/2),I=P/k,R=P/T;Math.abs(I-1)>wo&&this._append`L${t+I*p},${n+I*m}`,this._append`A${o},${o},0,0,${+(m*b>p*N)},${this._x1=t+R*h},${this._y1=n+R*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),h=r*Math.sin(i),f=t+u,p=n+h,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>wo||Math.abs(this._y1-p)>wo)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%D0+D0),v>A6?this._append`A${r},${r},0,1,${m},${t-u},${n-h}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:v>wo&&this._append`A${r},${r},0,${+(v>=R0)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new T6(t)}function tx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hP(e){this._context=e}hP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Eh(e){return new hP(e)}function pP(e){return e[0]}function mP(e){return e[1]}function gP(e,t){var n=Dt(!0),r=null,i=Eh,o=null,l=fP(u);e=typeof e=="function"?e:e===void 0?pP:Dt(e),t=typeof t=="function"?t:t===void 0?mP:Dt(t);function u(h){var f,p=(h=tx(h)).length,m,v=!1,b;for(r==null&&(o=i(b=l())),f=0;f<=p;++f)!(f<p&&n(m=h[f],f,h))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(m,f,h),+t(m,f,h));if(b)return o=null,b+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Dt(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Dt(+h),u):t},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Dt(!!h),u):n},u.curve=function(h){return arguments.length?(i=h,r!=null&&(o=i(r)),u):i},u.context=function(h){return arguments.length?(h==null?r=o=null:o=i(r=h),u):r},u}function Ld(e,t,n){var r=null,i=Dt(!0),o=null,l=Eh,u=null,h=fP(f);e=typeof e=="function"?e:e===void 0?pP:Dt(+e),t=typeof t=="function"?t:Dt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?mP:Dt(+n);function f(m){var v,b,N,E=(m=tx(m)).length,A,T=!1,k,P=new Array(E),I=new Array(E);for(o==null&&(u=l(k=h())),v=0;v<=E;++v){if(!(v<E&&i(A=m[v],v,m))===T)if(T=!T)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),N=v-1;N>=b;--N)u.point(P[N],I[N]);u.lineEnd(),u.areaEnd()}T&&(P[v]=+e(A,v,m),I[v]=+t(A,v,m),u.point(r?+r(A,v,m):P[v],n?+n(A,v,m):I[v]))}if(k)return u=null,k+""||null}function p(){return gP().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Dt(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Dt(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Dt(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Dt(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Dt(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Dt(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Dt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class yP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _6(e){return new yP(e,!0)}function k6(e){return new yP(e,!1)}function Nf(){}function Ef(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function vP(e){this._context=e}vP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ef(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P6(e){return new vP(e)}function xP(e){this._context=e}xP.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M6(e){return new xP(e)}function bP(e){this._context=e}bP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I6(e){return new bP(e)}function wP(e){this._context=e}wP.prototype={areaStart:Nf,areaEnd:Nf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j6(e){return new wP(e)}function aE(e){return e<0?-1:1}function oE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(aE(o)+aE(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function sE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Rg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function Af(e){this._context=e}Af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rg(this,this._t0,sE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rg(this,sE(this,n=oE(this,e,t)),n);break;default:Rg(this,this._t0,n=oE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function SP(e){this._context=new NP(e)}(SP.prototype=Object.create(Af.prototype)).point=function(e,t){Af.prototype.point.call(this,t,e)};function NP(e){this._context=e}NP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function R6(e){return new Af(e)}function D6(e){return new SP(e)}function EP(e){this._context=e}EP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=lE(e),i=lE(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function O6(e){return new EP(e)}function Ah(e,t){this._context=e,this._t=t}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function L6(e){return new Ah(e,.5)}function U6(e){return new Ah(e,0)}function B6(e){return new Ah(e,1)}function Do(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function O0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function z6(e,t){return e[t]}function q6(e){const t=[];return t.key=e,t}function H6(){var e=Dt([]),t=O0,n=Do,r=z6;function i(o){var l=Array.from(e.apply(this,arguments),q6),u,h=l.length,f=-1,p;for(const m of o)for(u=0,++f;u<h;++u)(l[u][f]=[0,+r(m,l[u].key,f,o)]).data=m;for(u=0,p=tx(t(l));u<h;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Dt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Dt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?O0:typeof o=="function"?o:Dt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Do,i):n},i}function F6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Do(e,t)}}function G6(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Do(e,t)}}function V6(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,h=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[r][1]||0,v=p[r-1][1]||0,b=(m-v)/2,N=0;N<u;++N){var E=e[t[N]],A=E[r][1]||0,T=E[r-1][1]||0;b+=A-T}h+=m,f+=b*m}i[r-1][1]+=i[r-1][0]=n,h&&(n-=f/h)}i[r-1][1]+=i[r-1][0]=n,Do(e,t)}}var Dg={},Og={},uE;function $6(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Og)),Og}var Lg={},cE;function AP(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Lg)),Lg}var Ug={},dE;function nx(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Ug)),Ug}var Bg={},zg={},fE;function Y6(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(zg)),zg}var hE;function rx(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y6(),n=nx();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,h="",f="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,h+=i[u]):m===f?f="":h+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,o.push(h),h=""):h+=m:m==="["?(p=!0,h&&(o.push(h),h="")):m==="."?h&&(o.push(h),h=""):h+=m,u++}return h&&o.push(h),o}e.toPath=r})(Bg)),Bg}var pE;function ix(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$6(),n=AP(),r=nx(),i=rx();function o(u,h,f){if(u==null)return f;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return f;const p=u[h];return p===void 0?n.isDeepKey(h)?o(u,i.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=u[h];return p===void 0?f:p}default:{if(Array.isArray(h))return l(u,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return f;const p=u[h];return p===void 0?f:p}}}function l(u,h,f){if(h.length===0)return f;let p=u;for(let m=0;m<h.length;m++){if(p==null||t.isUnsafeProperty(h[m]))return f;p=p[h[m]]}return p===void 0?f:p}e.get=o})(Dg)),Dg}var qg,mE;function K6(){return mE||(mE=1,qg=ix().get),qg}var J6=K6();const Ch=ri(J6);var X6=4;function Ka(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X6,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+Ka(u)+o:i+o},"")}var Ir=e=>e===0?0:e>0?1:-1,ti=e=>typeof e=="number"&&e!=+e,Wi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!ti(e),xi=e=>Pe(e)||typeof e=="string",W6=0,Bu=e=>{var t=++W6;return"".concat(e||"").concat(t)},Wa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return r;var o;if(Wi(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return ti(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},CP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function hi(e,t,n){return Pe(e)&&Pe(t)?Ka(e+n*(t-e)):t}function TP(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Ch(r,t))===n)}var bn=e=>e===null||typeof e>"u",ax=e=>bn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Q6(e){return e!=null}function rc(){}var _P=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ox=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ex(i)&&(r[i]=(o=>n[i](n,o)))}),r},Z6=(e,t,n)=>r=>(e(t,n,r),null),eU=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];ex(i)&&typeof o=="function"&&(r||(r={}),r[i]=Z6(o,t,n))}),r};function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){nU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nU(e,t,n){return(t=rU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t){var n=tU({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var Hg={},Fg={},yE;function aU(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Fg)),Fg}var Gg={},vE;function kP(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Gg)),Gg}var Vg={},$g={},Yg={},xE;function oU(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Yg)),Yg}var bE;function sx(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oU();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})($g)),$g}var Kg={},wE;function sU(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Kg)),Kg}var SE;function lU(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sx(),n=sU();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Vg)),Vg}var Jg={},Xg={},NE;function uU(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ix();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Xg)),Xg}var Wg={},Qg={},Zg={},ey={},EE;function PP(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(ey)),ey}var ty={},AE;function MP(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(ty)),ty}var ny={},CE;function IP(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(ny)),ny}var TE;function cU(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),n=MP(),r=IP();function i(p,m,v){return typeof v!="function"?i(p,m,()=>{}):o(p,m,function b(N,E,A,T,k,P){const I=v(N,E,A,T,k,P);return I!==void 0?!!I:o(N,E,b,P)},new Map)}function o(p,m,v,b){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,v,b);case"function":return Object.keys(m).length>0?o(p,{...m},v,b):r.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function l(p,m,v,b){if(m==null)return!0;if(Array.isArray(m))return h(p,m,v,b);if(m instanceof Map)return u(p,m,v,b);if(m instanceof Set)return f(p,m,v,b);const N=Object.keys(m);if(p==null||n.isPrimitive(p))return N.length===0;if(N.length===0)return!0;if(b!=null&&b.has(m))return b.get(m)===p;b==null||b.set(m,p);try{for(let E=0;E<N.length;E++){const A=N[E];if(!n.isPrimitive(p)&&!(A in p)||m[A]===void 0&&p[A]!==void 0||m[A]===null&&p[A]!==null||!v(p[A],m[A],A,p,m,b))return!1}return!0}finally{b==null||b.delete(m)}}function u(p,m,v,b){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[N,E]of m.entries()){const A=p.get(N);if(v(A,E,N,p,m,b)===!1)return!1}return!0}function h(p,m,v,b){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const N=new Set;for(let E=0;E<m.length;E++){const A=m[E];let T=!1;for(let k=0;k<p.length;k++){if(N.has(k))continue;const P=p[k];let I=!1;if(v(P,A,E,p,m,b)&&(I=!0),I){N.add(k),T=!0;break}}if(!T)return!1}return!0}function f(p,m,v,b){return m.size===0?!0:p instanceof Set?h([...p],[...m],v,b):!1}e.isMatchWith=i,e.isSetMatch=f})(Zg)),Zg}var _E;function jP(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cU();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Qg)),Qg}var ry={},iy={},ay={},kE;function dU(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(ay)),ay}var oy={},PE;function RP(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(oy)),oy}var sy={},ME;function DP(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",b="[object Object]",N="[object Error]",E="[object DataView]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]",I="[object BigUint64Array]",R="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",G="[object BigInt64Array]",U="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=G,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=N,e.float32ArrayTag=U,e.float64ArrayTag=D,e.functionTag=m,e.int16ArrayTag=j,e.int32ArrayTag=M,e.int8ArrayTag=R,e.mapTag=h,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=P,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=T})(sy)),sy}var ly={},IE;function fU(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(ly)),ly}var jE;function OP(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dU(),n=RP(),r=DP(),i=MP(),o=fU();function l(p,m){return u(p,void 0,p,new Map,m)}function u(p,m,v,b=new Map,N=void 0){const E=N==null?void 0:N(p,m,v,b);if(E!==void 0)return E;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const A=new Array(p.length);b.set(p,A);for(let T=0;T<p.length;T++)A[T]=u(p[T],T,v,b,N);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;b.set(p,A);for(const[T,k]of p)A.set(T,u(k,T,v,b,N));return A}if(p instanceof Set){const A=new Set;b.set(p,A);for(const T of p)A.add(u(T,void 0,v,b,N));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,A);for(let T=0;T<p.length;T++)A[T]=u(p[T],T,v,b,N);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,A),h(A,p,v,b,N),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return b.set(p,A),h(A,p,v,b,N),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return b.set(p,A),h(A,p,v,b,N),A}if(p instanceof Error){const A=new p.constructor;return b.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,h(A,p,v,b,N),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return b.set(p,A),h(A,p,v,b,N),A}if(p instanceof Number){const A=new Number(p.valueOf());return b.set(p,A),h(A,p,v,b,N),A}if(p instanceof String){const A=new String(p.valueOf());return b.set(p,A),h(A,p,v,b,N),A}if(typeof p=="object"&&f(p)){const A=Object.create(Object.getPrototypeOf(p));return b.set(p,A),h(A,p,v,b,N),A}return p}function h(p,m,v=p,b,N){const E=[...Object.keys(m),...t.getSymbols(m)];for(let A=0;A<E.length;A++){const T=E[A],k=Object.getOwnPropertyDescriptor(p,T);(k==null||k.writable)&&(p[T]=u(m[T],T,v,b,N))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=h})(iy)),iy}var RE;function hU(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(ry)),ry}var DE;function pU(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP(),n=hU();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(Wg)),Wg}var uy={},cy={},dy={},OE;function mU(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP(),n=DP();function r(i,o){return t.cloneDeepWith(i,(l,u,h,f)=>{const p=o==null?void 0:o(l,u,h,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(dy)),dy}var LE;function gU(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mU();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(cy)),cy}var fy={},hy={},UE;function LP(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(hy)),hy}var py={},BE;function yU(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RP();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(py)),py}var zE;function vU(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP(),n=LP(),r=yU(),i=rx();function o(l,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?h=i.toPath(u):h=[u],h.length===0)return!1;let f=l;for(let p=0;p<h.length;p++){const m=h[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=o})(fy)),fy}var qE;function xU(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP(),n=nx(),r=gU(),i=ix(),o=vU();function l(u,h){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return h=r.cloneDeep(h),function(f){const p=i.get(f,u);return p===void 0?o.has(f,u):h===void 0?p===void 0:t.isMatch(p,h)}}e.matchesProperty=l})(uy)),uy}var HE;function bU(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP(),n=uU(),r=pU(),i=xU();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Jg)),Jg}var FE;function wU(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aU(),n=kP(),r=lU(),i=bU();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Hg)),Hg}var my,GE;function SU(){return GE||(GE=1,my=wU().uniqBy),my}var NU=SU();const VE=ri(NU);function EU(e,t,n){return t===!0?VE(e,n):typeof t=="function"?VE(e,t):e}var gy={exports:{}},yy={},vy={exports:{}},xy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function AU(){if($E)return xy;$E=1;var e=ol();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,v){var b=v(),N=r({inst:{value:b,getSnapshot:v}}),E=N[0].inst,A=N[1];return o(function(){E.value=b,E.getSnapshot=v,h(E)&&A({inst:E})},[m,b,v]),i(function(){return h(E)&&A({inst:E}),m(function(){h(E)&&A({inst:E})})},[m]),l(b),b}function h(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!n(m,b)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return xy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,xy}var YE;function CU(){return YE||(YE=1,vy.exports=AU()),vy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function TU(){if(KE)return yy;KE=1;var e=ol(),t=CU();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,h=e.useDebugValue;return yy.useSyncExternalStoreWithSelector=function(f,p,m,v,b){var N=o(null);if(N.current===null){var E={hasValue:!1,value:null};N.current=E}else E=N.current;N=u(function(){function T(j){if(!k){if(k=!0,P=j,j=v(j),b!==void 0&&E.hasValue){var M=E.value;if(b(M,j))return I=M}return I=j}if(M=I,r(P,j))return M;var G=v(j);return b!==void 0&&b(M,G)?(P=j,M):(P=j,I=G)}var k=!1,P,I,R=m===void 0?null:m;return[function(){return T(p())},R===null?void 0:function(){return T(R())}]},[p,m,v,b]);var A=i(f,N[0],N[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),h(A),A},yy}var JE;function _U(){return JE||(JE=1,gy.exports=TU()),gy.exports}var kU=_U(),lx=C.createContext(null),PU=e=>e,sn=()=>{var e=C.useContext(lx);return e?e.store.dispatch:PU},cf=()=>{},MU=()=>cf,IU=(e,t)=>e===t;function je(e){var t=C.useContext(lx);return kU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:MU,t?t.store.getState:cf,t?t.store.getState:cf,t?e:cf,IU)}function jU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function RU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function DU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var XE=e=>Array.isArray(e)?e:[e];function OU(e){const t=Array.isArray(e[0])?e[0]:e;return DU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function LU(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var UU=class{constructor(e){this.value=e}deref(){return this.value}},BU=typeof WeakRef<"u"?WeakRef:UU,zU=0,WE=1;function Ud(){return{s:zU,v:void 0,o:null,p:null}}function UP(e,t={}){let n=Ud();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var m;let u=n;const{length:h}=arguments;for(let v=0,b=h;v<b;v++){const N=arguments[v];if(typeof N=="function"||typeof N=="object"&&N!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const A=E.get(N);A===void 0?(u=Ud(),E.set(N,u)):u=A}else{let E=u.p;E===null&&(u.p=E=new Map);const A=E.get(N);A===void 0?(u=Ud(),E.set(N,u)):u=A}}const f=u;let p;if(u.s===WE)p=u.v;else if(p=e.apply(null,arguments),o++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new BU(p):p}return f.s=WE,f.v=p,p}return l.clearCache=()=>{n=Ud(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function qU(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,h={},f=i.pop();typeof f=="object"&&(h=f,f=i.pop()),jU(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:m,memoizeOptions:v=[],argsMemoize:b=UP,argsMemoizeOptions:N=[]}=p,E=XE(v),A=XE(N),T=OU(i),k=m(function(){return o++,f.apply(null,arguments)},...E),P=b(function(){l++;const R=LU(T,arguments);return u=k.apply(null,R),u},...A);return Object.assign(P,{resultFunc:f,memoizedResultFunc:k,dependencies:T,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var le=qU(UP),HU=Object.assign((e,t=le)=>{RU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,h)=>(l[n[h]]=u,l),{}))},{withTypes:()=>HU}),by={},wy={},Sy={},QE;function FU(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Sy)),Sy}var Ny={},Ey={},ZE;function BP(){return ZE||(ZE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Ey)),Ey}var eA;function GU(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Ny)),Ny}var tA;function VU(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FU(),n=GU(),r=rx();function i(o,l,u,h){if(o==null)return[];u=h?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const f=(b,N)=>{let E=b;for(let A=0;A<N.length&&E!=null;++A)E=E[N[A]];return E},p=(b,N)=>N==null||b==null?N:typeof b=="object"&&"key"in b?Object.hasOwn(N,b.key)?N[b.key]:f(N,b.path):typeof b=="function"?b(N):Array.isArray(b)?f(N,b):typeof N=="object"?N[b]:N,m=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:m.map(N=>p(N,b))})).slice().sort((b,N)=>{for(let E=0;E<m.length;E++){const A=t.compareValues(b.criteria[E],N.criteria[E],u[E]);if(A!==0)return A}return 0}).map(b=>b.original)}e.orderBy=i})(wy)),wy}var Ay={},nA;function $U(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,h)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&h<o?l(p,h+1):i.push(p)}};return l(n,0),i}e.flatten=t})(Ay)),Ay}var Cy={},rA;function zP(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LP(),n=sx(),r=PP(),i=IP();function o(l,u,h){return r.isObject(h)&&(typeof u=="number"&&n.isArrayLike(h)&&t.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?i.eq(h[u],l):!1}e.isIterateeCall=o})(Cy)),Cy}var iA;function YU(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VU(),n=$U(),r=zP();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(by)),by}var Ty,aA;function KU(){return aA||(aA=1,Ty=YU().sortBy),Ty}var JU=KU();const Th=ri(JU);var qP=e=>e.legend.settings,XU=e=>e.legend.size,WU=e=>e.legend.payload;le([WU,qP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Th(r,n):r});var Bd=1;function QU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Bd||Math.abs(l.left-t.left)>Bd||Math.abs(l.top-t.top)>Bd||Math.abs(l.width-t.width)>Bd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZU=typeof Symbol=="function"&&Symbol.observable||"@@observable",oA=ZU,_y=()=>Math.random().toString(36).substring(7).split("").join("."),eB={INIT:`@@redux/INIT${_y()}`,REPLACE:`@@redux/REPLACE${_y()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_y()}`},Cf=eB;function ux(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HP(e,t,n){if(typeof e!="function")throw new Error(gn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gn(1));return n(HP)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,h=!1;function f(){l===o&&(l=new Map,o.forEach((A,T)=>{l.set(T,A)}))}function p(){if(h)throw new Error(gn(3));return i}function m(A){if(typeof A!="function")throw new Error(gn(4));if(h)throw new Error(gn(5));let T=!0;f();const k=u++;return l.set(k,A),function(){if(T){if(h)throw new Error(gn(6));T=!1,f(),l.delete(k),o=null}}}function v(A){if(!ux(A))throw new Error(gn(7));if(typeof A.type>"u")throw new Error(gn(8));if(typeof A.type!="string")throw new Error(gn(17));if(h)throw new Error(gn(9));try{h=!0,i=r(i,A)}finally{h=!1}return(o=l).forEach(k=>{k()}),A}function b(A){if(typeof A!="function")throw new Error(gn(10));r=A,v({type:Cf.REPLACE})}function N(){const A=m;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(gn(11));function k(){const I=T;I.next&&I.next(p())}return k(),{unsubscribe:A(k)}},[oA](){return this}}}return v({type:Cf.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:b,[oA]:N}}function tB(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Cf.INIT})>"u")throw new Error(gn(12));if(typeof n(void 0,{type:Cf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gn(13))})}function FP(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{tB(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let h=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],b=l[m],N=v(b,u);if(typeof N>"u")throw u&&u.type,new Error(gn(14));f[m]=N,h=h||N!==b}return h=h||r.length!==Object.keys(l).length,h?f:l}}function Tf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function nB(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(gn(15))};const l={getState:i.getState,dispatch:(h,...f)=>o(h,...f)},u=e.map(h=>h(l));return o=Tf(...u)(i.dispatch),{...i,dispatch:o}}}function GP(e){return ux(e)&&"type"in e&&typeof e.type=="string"}var VP=Symbol.for("immer-nothing"),sA=Symbol.for("immer-draftable"),Un=Symbol.for("immer-state");function Yr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fr=Object,el=fr.getPrototypeOf,_f="constructor",_h="prototype",L0="configurable",kf="enumerable",df="writable",zu="value",Qi=e=>!!e&&!!e[Un];function ni(e){var t;return e?$P(e)||kh(e)||!!e[sA]||!!((t=e[_f])!=null&&t[sA])||Ph(e)||Mh(e):!1}var rB=fr[_h][_f].toString(),lA=new WeakMap;function $P(e){if(!e||!cx(e))return!1;const t=el(e);if(t===null||t===fr[_h])return!0;const n=fr.hasOwnProperty.call(t,_f)&&t[_f];if(n===Object)return!0;if(!Us(n))return!1;let r=lA.get(n);return r===void 0&&(r=Function.toString.call(n),lA.set(n,r)),r===rB}function ic(e,t,n=!0){ac(e)===0?(n?Reflect.ownKeys(e):fr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ac(e){const t=e[Un];return t?t.type_:kh(e)?1:Ph(e)?2:Mh(e)?3:0}var uA=(e,t,n=ac(e))=>n===2?e.has(t):fr[_h].hasOwnProperty.call(e,t),U0=(e,t,n=ac(e))=>n===2?e.get(t):e[t],Pf=(e,t,n,r=ac(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function iB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var kh=Array.isArray,Ph=e=>e instanceof Map,Mh=e=>e instanceof Set,cx=e=>typeof e=="object",Us=e=>typeof e=="function",ky=e=>typeof e=="boolean",Gi=e=>e.copy_||e.base_,dx=e=>e.modified_?e.copy_:e.base_;function B0(e,t){if(Ph(e))return new Map(e);if(Mh(e))return new Set(e);if(kh(e))return Array[_h].slice.call(e);const n=$P(e);if(t===!0||t==="class_only"&&!n){const r=fr.getOwnPropertyDescriptors(e);delete r[Un];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[df]===!1&&(u[df]=!0,u[L0]=!0),(u.get||u.set)&&(r[l]={[L0]:!0,[df]:!0,[kf]:u[kf],[zu]:e[l]})}return fr.create(el(e),r)}else{const r=el(e);if(r!==null&&n)return{...e};const i=fr.create(r);return fr.assign(i,e)}}function fx(e,t=!1){return Ih(e)||Qi(e)||!ni(e)||(ac(e)>1&&fr.defineProperties(e,{set:zd,add:zd,clear:zd,delete:zd}),fr.freeze(e),t&&ic(e,(n,r)=>{fx(r,!0)},!1)),e}function aB(){Yr(2)}var zd={[zu]:aB};function Ih(e){return e===null||!cx(e)?!0:fr.isFrozen(e)}var Mf="MapSet",z0="Patches",YP={};function tl(e){const t=YP[e];return t||Yr(0,e),t}var oB=e=>!!YP[e],qu,KP=()=>qu,sB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oB(Mf)?tl(Mf):void 0});function cA(e,t){t&&(e.patchPlugin_=tl(z0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function q0(e){H0(e),e.drafts_.forEach(lB),e.drafts_=null}function H0(e){e===qu&&(qu=e.parent_)}var dA=e=>qu=sB(qu,e);function lB(e){const t=e[Un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Un].modified_&&(q0(t),Yr(4)),ni(e)&&(e=hA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Un].base_,e,t)}else e=hA(t,n);return uB(t,e,!0),q0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VP?e:void 0}function hA(e,t){if(Ih(t))return t;const n=t[Un];if(!n)return hx(t,e.handledSet_,e);if(!jh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);WP(n,e)}return n.copy_}function uB(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fx(t,n)}function JP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jh=(e,t)=>e.scope_===t,cB=[];function XP(e,t,n,r){const i=Gi(e),o=e.type_;if(r!==void 0&&U0(i,r,o)===t){Pf(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;ic(i,(h,f)=>{if(Qi(f)){const p=u.get(f)||[];p.push(h),u.set(f,p)}})}const l=e.draftLocations_.get(t)??cB;for(const u of l)Pf(i,u,n,o)}function dB(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!jh(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=dx(o);XP(e,o.draft_??o,l,n),WP(o,i)})}function WP(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}JP(e)}}function fB(e,t,n){const{scope_:r}=e;if(Qi(n)){const i=n[Un];jh(i,r)&&i.callbacks_.push(function(){ff(e);const l=dx(i);XP(e,n,l,t)})}else ni(n)&&e.callbacks_.push(function(){const o=Gi(e);U0(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&hx(U0(e.copy_,t,e.type_),r.handledSet_,r)})}function hx(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Qi(e)||t.has(e)||!ni(e)||Ih(e)||(t.add(e),ic(e,(r,i)=>{if(Qi(i)){const o=i[Un];if(jh(o,n)){const l=dx(o);Pf(e,r,l,e.type_),JP(o)}}else ni(i)&&hx(i,t,n)})),e}function hB(e,t){const n=kh(e),r={type_:n?1:0,scope_:t?t.scope_:KP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=px;n&&(i=[r],o=Hu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var px={get(e,t){if(t===Un)return e;const n=Gi(e);if(!uA(n,t,e.type_))return pB(e,n,t);const r=n[t];if(e.finalized_||!ni(r))return r;if(r===Py(e.base_,t)){ff(e);const i=e.type_===1?+t:t,o=G0(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in Gi(e)},ownKeys(e){return Reflect.ownKeys(Gi(e))},set(e,t,n){const r=QP(Gi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Py(Gi(e),t),o=i==null?void 0:i[Un];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(iB(n,i)&&(n!==void 0||uA(e.base_,t,e.type_)))return!0;ff(e),F0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),fB(e,t,n)),!0},deleteProperty(e,t){return ff(e),Py(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),F0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[df]:!0,[L0]:e.type_!==1||t!=="length",[kf]:r[kf],[zu]:n[t]}},defineProperty(){Yr(11)},getPrototypeOf(e){return el(e.base_)},setPrototypeOf(){Yr(12)}},Hu={};ic(px,(e,t)=>{Hu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,n){return px.set.call(this,e[0],t,n,e[0])};function Py(e,t){const n=e[Un];return(n?Gi(n):e)[t]}function pB(e,t,n){var i;const r=QP(t,n);return r?zu in r?r[zu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function QP(e,t){if(!(t in e))return;let n=el(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=el(n)}}function F0(e){e.modified_||(e.modified_=!0,e.parent_&&F0(e.parent_))}function ff(e){e.copy_||(e.assigned_=new Map,e.copy_=B0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Us(n)&&!Us(r)){const l=r;r=n;const u=this;return function(f=l,...p){return u.produce(f,m=>r.call(this,m,...p))}}Us(r)||Yr(6),i!==void 0&&!Us(i)&&Yr(7);let o;if(ni(n)){const l=dA(this),u=G0(l,n,void 0);let h=!0;try{o=r(u),h=!1}finally{h?q0(l):H0(l)}return cA(l,i),fA(o,l)}else if(!n||!cx(n)){if(o=r(n),o===void 0&&(o=n),o===VP&&(o=void 0),this.autoFreeze_&&fx(o,!0),i){const l=[],u=[];tl(z0).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Yr(1,n)},this.produceWithPatches=(n,r)=>{if(Us(n))return(u,...h)=>this.produceWithPatches(u,f=>n(f,...h));let i,o;return[this.produce(n,r,(u,h)=>{i=u,o=h}),i,o]},ky(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ky(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ky(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ni(t)||Yr(8),Qi(t)&&(t=Xr(t));const n=dA(this),r=G0(n,t,void 0);return r[Un].isManual_=!0,H0(n),r}finishDraft(t,n){const r=t&&t[Un];(!r||!r.isManual_)&&Yr(9);const{scope_:i}=r;return cA(i,n),fA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=tl(z0).applyPatches_;return Qi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function G0(e,t,n,r){const[i,o]=Ph(t)?tl(Mf).proxyMap_(t,n):Mh(t)?tl(Mf).proxySet_(t,n):hB(t,n);return((n==null?void 0:n.scope_)??KP()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?dB(n,o,r):o.callbacks_.push(function(h){var p;(p=h.mapSetPlugin_)==null||p.fixSetContents(o);const{patchPlugin_:f}=h;o.modified_&&f&&f.generatePatches_(o,[],h)}),i}function Xr(e){return Qi(e)||Yr(10,e),ZP(e)}function ZP(e){if(!ni(e)||Ih(e))return e;const t=e[Un];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=B0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=B0(e,!0);return ic(n,(i,o)=>{Pf(n,i,ZP(o))},r),t&&(t.finalized_=!1),n}var gB=new mB,eM=gB.produce;function tM(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var yB=tM(),vB=tM,xB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tf:Tf.apply(null,arguments)};function Lr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(pr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>GP(r)&&r.type===e,n}var nM=class Pu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pu.prototype)}static get[Symbol.species](){return Pu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pu(...t[0].concat(this)):new Pu(...t.concat(this))}};function pA(e){return ni(e)?eM(e,()=>{}):e}function qd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function bB(e){return typeof e=="boolean"}var wB=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new nM;return n&&(bB(n)?l.push(yB):l.push(vB(n.extraArgument))),l},rM="RTK_autoBatch",kt=()=>e=>({payload:e,meta:{[rM]:!0}}),mA=e=>t=>{setTimeout(t,e)},iM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mA(10):e.type==="callback"?e.queueNotification:mA(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[rM]),o=!i,o&&(l||(l=!0,h(f))),r.dispatch(p)}finally{i=!0}}})},SB=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new nM(e);return r&&i.push(iM(typeof r=="object"?r:void 0)),i};function NB(e){const t=wB(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(ux(n))u=FP(n);else throw new Error(pr(1));let h;typeof r=="function"?h=r(t):h=t();let f=Tf;i&&(f=xB({trace:!1,...typeof i=="object"&&i}));const p=nB(...h),m=SB(p);let v=typeof l=="function"?l(m):m();const b=f(...v);return HP(u,o,b)}function aM(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(pr(28));if(u in t)throw new Error(pr(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function EB(e){return typeof e=="function"}function AB(e,t){let[n,r,i]=aM(t),o;if(EB(e))o=()=>pA(e());else{const u=pA(e);o=()=>u}function l(u=o(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(Qi(p)){const b=m(p,h);return b===void 0?p:b}else{if(ni(p))return eM(p,v=>m(v,h));{const v=m(p,h);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var CB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TB=(e=21)=>{let t="",n=e;for(;n--;)t+=CB[Math.random()*64|0];return t},_B=Symbol.for("rtk-slice-createasyncthunk");function kB(e,t){return`${e}/${t}`}function PB({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[_B];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(pr(11));const u=(typeof i.reducers=="function"?i.reducers(IB()):i.reducers)||{},h=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(I,R){const j=typeof I=="string"?I:I.type;if(!j)throw new Error(pr(12));if(j in f.sliceCaseReducersByType)throw new Error(pr(13));return f.sliceCaseReducersByType[j]=R,p},addMatcher(I,R){return f.sliceMatchers.push({matcher:I,reducer:R}),p},exposeAction(I,R){return f.actionCreators[I]=R,p},exposeCaseReducer(I,R){return f.sliceCaseReducersByName[I]=R,p}};h.forEach(I=>{const R=u[I],j={reducerName:I,type:kB(o,I),createNotation:typeof i.reducers=="function"};RB(R)?OB(j,R,p,t):jB(j,R,p)});function m(){const[I={},R=[],j=void 0]=typeof i.extraReducers=="function"?aM(i.extraReducers):[i.extraReducers],M={...I,...f.sliceCaseReducersByType};return AB(i.initialState,G=>{for(let U in M)G.addCase(U,M[U]);for(let U of f.sliceMatchers)G.addMatcher(U.matcher,U.reducer);for(let U of R)G.addMatcher(U.matcher,U.reducer);j&&G.addDefaultCase(j)})}const v=I=>I,b=new Map,N=new WeakMap;let E;function A(I,R){return E||(E=m()),E(I,R)}function T(){return E||(E=m()),E.getInitialState()}function k(I,R=!1){function j(G){let U=G[I];return typeof U>"u"&&R&&(U=qd(N,j,T)),U}function M(G=v){const U=qd(b,R,()=>new WeakMap);return qd(U,G,()=>{const D={};for(const[O,$]of Object.entries(i.selectors??{}))D[O]=MB($,G,()=>qd(N,G,T),R);return D})}return{reducerPath:I,getSelectors:M,get selectors(){return M(j)},selectSlice:j}}const P={name:o,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...k(l),injectInto(I,{reducerPath:R,...j}={}){const M=R??l;return I.inject({reducerPath:M,reducer:A},j),{...P,...k(M,!0)}}};return P}}function MB(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Zn=PB();function IB(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function jB({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!DB(r))throw new Error(pr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?Lr(e,l):Lr(e))}function RB(e){return e._reducerDefinitionType==="asyncThunk"}function DB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function OB({type:e,reducerName:t},n,r,i){if(!i)throw new Error(pr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:h,settled:f,options:p}=n,m=i(e,o,p);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),h&&r.addCase(m.rejected,h),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Hd,pending:u||Hd,rejected:h||Hd,settled:f||Hd})}function Hd(){}var LB="task",oM="listener",sM="completed",mx="cancelled",UB=`task-${mx}`,BB=`task-${sM}`,V0=`${oM}-${mx}`,zB=`${oM}-${sM}`,Rh=class{constructor(e){Tg(this,"name","TaskAbortError");Tg(this,"message");this.code=e,this.message=`${LB} ${mx} (reason: ${e})`}},gx=(e,t)=>{if(typeof e!="function")throw new TypeError(pr(32))},If=()=>{},lM=(e,t=If)=>(e.catch(t),e),uM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Po=e=>{if(e.aborted)throw new Rh(e.reason)};function cM(e,t){let n=If;return new Promise((r,i)=>{const o=()=>i(new Rh(e.reason));if(e.aborted){o();return}n=uM(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=If})}var qB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Rh?"cancelled":"rejected",error:n}}finally{t==null||t()}},jf=e=>t=>lM(cM(e,t).then(n=>(Po(e),n))),dM=e=>{const t=jf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ks}=Object,gA={},Dh="listenerMiddleware",HB=(e,t)=>{const n=r=>uM(e,()=>r.abort(e.reason));return(r,i)=>{gx(r);const o=new AbortController;n(o);const l=qB(async()=>{Po(e),Po(o.signal);const u=await r({pause:jf(o.signal),delay:dM(o.signal),signal:o.signal});return Po(o.signal),u},()=>o.abort(BB));return i!=null&&i.autoJoin&&t.push(l.catch(If)),{result:jf(e)(l),cancel(){o.abort(UB)}}}},FB=(e,t)=>{const n=async(r,i)=>{Po(t);let o=()=>{};const u=[new Promise((h,f)=>{let p=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),h([m,v.getState(),v.getOriginalState()])}});o=()=>{p(),f()}})];i!=null&&u.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await cM(t,Promise.race(u));return Po(t),h}finally{o()}};return(r,i)=>lM(n(r,i))},fM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Lr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(pr(21));return gx(o),{predicate:i,type:t,effect:o}},hM=Ks(e=>{const{type:t,predicate:n,effect:r}=fM(e);return{id:TB(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(pr(22))}}},{withTypes:()=>hM}),yA=(e,t)=>{const{type:n,effect:r,predicate:i}=fM(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},$0=e=>{e.pending.forEach(t=>{t.abort(V0)})},GB=(e,t)=>()=>{for(const n of t.keys())$0(n);e.clear()},vA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},pM=Ks(Lr(`${Dh}/add`),{withTypes:()=>pM}),VB=Lr(`${Dh}/removeAll`),mM=Ks(Lr(`${Dh}/remove`),{withTypes:()=>mM}),$B=(...e)=>{console.error(`${Dh}/error`,...e)},oc=(e={})=>{const t=new Map,n=new Map,r=b=>{const N=n.get(b)??0;n.set(b,N+1)},i=b=>{const N=n.get(b)??1;N===1?n.delete(b):n.set(b,N-1)},{extra:o,onError:l=$B}=e;gx(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),N=>{b.unsubscribe(),N!=null&&N.cancelActive&&$0(b)}),h=b=>{const N=yA(t,b)??hM(b);return u(N)};Ks(h,{withTypes:()=>h});const f=b=>{const N=yA(t,b);return N&&(N.unsubscribe(),b.cancelActive&&$0(N)),!!N};Ks(f,{withTypes:()=>f});const p=async(b,N,E,A)=>{const T=new AbortController,k=FB(h,T.signal),P=[];try{b.pending.add(T),r(b),await Promise.resolve(b.effect(N,Ks({},E,{getOriginalState:A,condition:(I,R)=>k(I,R).then(Boolean),take:k,delay:dM(T.signal),pause:jf(T.signal),extra:o,signal:T.signal,fork:HB(T.signal,P),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((I,R,j)=>{I!==T&&(I.abort(V0),j.delete(I))})},cancel:()=>{T.abort(V0),b.pending.delete(T)},throwIfCancelled:()=>{Po(T.signal)}})))}catch(I){I instanceof Rh||vA(l,I,{raisedBy:"effect"})}finally{await Promise.all(P),T.abort(zB),i(b),b.pending.delete(T)}},m=GB(t,n);return{middleware:b=>N=>E=>{if(!GP(E))return N(E);if(pM.match(E))return h(E.payload);if(VB.match(E)){m();return}if(mM.match(E))return f(E.payload);let A=b.getState();const T=()=>{if(A===gA)throw new Error(pr(23));return A};let k;try{if(k=N(E),t.size>0){const P=b.getState(),I=Array.from(t.values());for(const R of I){let j=!1;try{j=R.predicate(E,P,A)}catch(M){j=!1,vA(l,M,{raisedBy:"predicate"})}j&&p(R,E,b,T)}}}finally{A=gA}return k},startListening:h,stopListening:f,clearListeners:m}};function pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gM=Zn({name:"chartLayout",initialState:YB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:KB,setLayout:JB,setChartSize:XB,setScale:WB}=gM.actions,QB=gM.reducer;function yM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Mt(e){return Number.isFinite(e)}function bi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){ZB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZB(e,t,n){return(t=ez(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ez(e){var t=tz(e,"string");return typeof t=="symbol"?t:t+""}function tz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wn(e,t,n){return bn(e)||bn(t)?n:xi(t)?Ch(e,t,n):typeof t=="function"?t(e):n}var nz=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Pe(e[o]))return zs(zs({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Pe(e[l]))return zs(zs({},e),{},{[l]:e[l]+(i||0)})}return e},oa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",vM=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},xM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:m,niceTicks:v,axisType:b}=e;if(!l)return null;var N=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/N:0;if(E=b==="angleAxis"&&o&&o.length>=2?Ir(o[0]-o[1])*2*E:E,m||v){var A=(m||v||[]).map((T,k)=>{var P=r?r.indexOf(T):T;return{coordinate:l(P)+E,value:T,offset:E,index:k}});return A.filter(T=>!ti(T.coordinate))}return h&&f?f.map((T,k)=>({coordinate:l(T)+E,value:T,index:k,offset:E})):l.ticks&&p!=null?l.ticks(p).map((T,k)=>({coordinate:l(T)+E,value:T,offset:E,index:k})):l.domain().map((T,k)=>({coordinate:l(T)+E,value:r?r[T]:T,index:k,offset:E}))},bA=1e-4,rz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-bA,o=Math.max(r[0],r[1])+bA,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},iz=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var h=e[u],f=h==null?void 0:h[i];if(f!=null){var p=f[1],m=f[0],v=ti(p)?m:p;v>=0?(f[0]=o,f[1]=o+v,o=p):(f[0]=l,f[1]=l+v,l=p)}}}},az=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],h=u==null?void 0:u[i];if(h!=null){var f=ti(h[1])?h[0]:h[1];f>=0?(h[0]=o,h[1]=o+f,o=h[1]):(h[0]=0,h[1]=0)}}}},oz={sign:iz,expand:F6,none:Do,silhouette:G6,wiggle:V6,positive:az},sz=(e,t,n)=>{var r,i=(r=oz[n])!==null&&r!==void 0?r:Do,o=H6().keys(t).value((u,h)=>Number(wn(u,h,0))).order(O0).offset(i),l=o(e);return l.forEach((u,h)=>{u.forEach((f,p)=>{var m=wn(e[p],t[h],0);Array.isArray(m)&&m.length===2&&Pe(m[0])&&Pe(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function lz(e){return e==null?void 0:String(e)}function wA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bn(i[t.dataKey])){var u=TP(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=wn(i,bn(l)?t.dataKey:l);return bn(h)?null:t.scale(h)}var uz=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},cz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dz=(e,t,n)=>{if(e!=null)return cz(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((h,f)=>{var p=yM(f,t,n),m=uz(p);return!Mt(m[0])||!Mt(m[1])?h:[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},SA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Th(t,p=>p.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var h=i[l],f=i[l-1];o=Math.min(((h==null?void 0:h.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function EA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return zs(zs({},t),{},{dataKey:n,payload:r,value:i,name:o})}function bM(e,t){if(e)return String(e);if(typeof t=="string")return t}var fz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hz=(e,t)=>t==="centric"?e.angle:e.radius,sa=e=>e.layout.width,la=e=>e.layout.height,pz=e=>e.layout.scale,wM=e=>e.layout.margin,Oh=le(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lh=le(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),mz="data-recharts-item-index",gz="data-recharts-item-id",sc=60;function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){yz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yz(e,t,n){return(t=vz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vz(e){var t=xz(e,"string");return typeof t=="symbol"?t:t+""}function xz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bz=e=>e.brush.height;function wz(e){var t=Lh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sc;return n+i}return n},0)}function Sz(e){var t=Lh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:sc;return n+i}return n},0)}function Nz(e){var t=Oh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Ez(e){var t=Oh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Sn=le([sa,la,wM,bz,wz,Sz,Nz,Ez,qP,XU],(e,t,n,r,i,o,l,u,h,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Fd(Fd({},m),p),b=v.bottom;v.bottom+=r,v=nz(v,h,f);var N=e-v.left-v.right,E=t-v.top-v.bottom;return Fd(Fd({brushBottom:b},v),{},{width:Math.max(N,0),height:Math.max(E,0)})}),Az=le(Sn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),SM=le(sa,la,(e,t)=>({x:0,y:0,width:e,height:t})),Cz=C.createContext(null),er=()=>C.useContext(Cz)!=null,Uh=e=>e.brush,Bh=le([Uh,Sn,wM],(e,t,n)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Pe(e.width)?e.width:t.width})),My={},Iy={},jy={},CA;function Tz(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const h=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&p(),E()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},N=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{N(),l=void 0,u=null},A=()=>{p()},T=function(...k){if(i!=null&&i.aborted)return;l=this,u=k;const P=v==null;b(),h&&P&&p()};return T.schedule=b,T.cancel=E,T.flush=A,i==null||i.addEventListener("abort",E,{once:!0}),T}e.debounce=t})(jy)),jy}var TA;function _z(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tz();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:h}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,m=null;const v=t.debounce(function(...E){p=r.apply(this,E),m=null},i,{edges:f}),b=function(...E){return h!=null&&(m===null&&(m=Date.now()),Date.now()-m>=h)?(p=r.apply(this,E),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,E),p)},N=()=>(v.flush(),p);return b.cancel=v.cancel,b.flush=N,b}e.debounce=n})(Iy)),Iy}var _A;function kz(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_z();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(My)),My}var Ry,kA;function Pz(){return kA||(kA=1,Ry=kz().throttle),Ry}var Mz=Pz();const Iz=ri(Mz);var Df=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},NM=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=Wi(r)?e:Number(r),h=Wi(i)?t:Number(i);return o&&o>0&&(u?h=u/o:h&&(u=h*o),l&&h!=null&&h>l&&(h=l)),{calculatedWidth:u,calculatedHeight:h}},jz={width:0,height:0,overflow:"visible"},Rz={width:0,overflowX:"visible"},Dz={height:0,overflowY:"visible"},Oz={},Lz=e=>{var{width:t,height:n}=e,r=Wi(t),i=Wi(n);return r&&i?jz:r?Rz:i?Dz:Oz};function Uz(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(null,arguments)}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){Bz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bz(e,t,n){return(t=zz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zz(e){var t=qz(e,"string");return typeof t=="symbol"?t:t+""}function qz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EM=C.createContext({width:-1,height:-1});function Hz(e){return bi(e.width)&&bi(e.height)}function AM(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return Hz(i)?C.createElement(EM.Provider,{value:i},t):null}var yx=()=>C.useContext(EM),Fz=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:h,children:f,debounce:p=0,id:m,className:v,onResize:b,style:N={}}=e,E=C.useRef(null),A=C.useRef();A.current=b,C.useImperativeHandle(t,()=>E.current);var[T,k]=C.useState({containerWidth:r.width,containerHeight:r.height}),P=C.useCallback((G,U)=>{k(D=>{var O=Math.round(G),$=Math.round(U);return D.containerWidth===O&&D.containerHeight===$?D:{containerWidth:O,containerHeight:$}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return rc;var G=$=>{var F,{width:V,height:z}=$[0].contentRect;P(V,z),(F=A.current)===null||F===void 0||F.call(A,V,z)};p>0&&(G=Iz(G,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(G),{width:D,height:O}=E.current.getBoundingClientRect();return P(D,O),U.observe(E.current),()=>{U.disconnect()}},[P,p]);var{containerWidth:I,containerHeight:R}=T;Df(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:M}=NM(I,R,{width:i,height:o,aspect:n,maxHeight:h});return Df(j!=null&&j>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,M,i,o,l,u,n),C.createElement("div",{id:m?"".concat(m):void 0,className:Et("recharts-responsive-container",v),style:MA(MA({},N),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:h}),ref:E},C.createElement("div",{style:Lz({width:i,height:o})},C.createElement(AM,{width:j,height:M},f)))}),Gz=C.forwardRef((e,t)=>{var n=yx();if(bi(n.width)&&bi(n.height))return e.children;var{width:r,height:i}=Uz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=NM(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Pe(o)&&Pe(l)?C.createElement(AM,{width:o,height:l},e.children):C.createElement(Fz,Y0({},e,{width:r,height:i,ref:t}))});function CM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zh=()=>{var e,t=er(),n=je(Az),r=je(Bh),i=(e=je(Uh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Vz={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TM=()=>{var e;return(e=je(Sn))!==null&&e!==void 0?e:Vz},_M=()=>je(sa),kM=()=>je(la),vt=e=>e.layout.layoutType,ll=()=>je(vt),$z=()=>{var e=ll();if(e==="horizontal"||e==="vertical")return e},Yz=()=>{var e=ll();return e!==void 0},qh=e=>{var t=sn(),n=er(),{width:r,height:i}=e,o=yx(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&bi(l)&&bi(u)&&t(XB({width:l,height:u}))},[t,n,l,u]),null},PM=Symbol.for("immer-nothing"),IA=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function nl(e){return!!e&&!!e[mr]}function Oo(e){var t;return e?MM(e)||Array.isArray(e)||!!e[IA]||!!((t=e.constructor)!=null&&t[IA])||lc(e)||Fh(e):!1}var Kz=Object.prototype.constructor.toString(),jA=new WeakMap;function MM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=jA.get(n);return r===void 0&&(r=Function.toString.call(n),jA.set(n,r)),r===Kz}function Of(e,t,n=!0){Hh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Hh(e){const t=e[mr];return t?t.type_:Array.isArray(e)?1:lc(e)?2:Fh(e)?3:0}function K0(e,t){return Hh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IM(e,t,n){const r=Hh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Jz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function lc(e){return e instanceof Map}function Fh(e){return e instanceof Set}function So(e){return e.copy_||e.base_}function J0(e,t){if(lc(e))return new Map(e);if(Fh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=MM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[mr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Fu(e),r)}else{const r=Fu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function vx(e,t=!1){return Gh(e)||nl(e)||!Oo(e)||(Hh(e)>1&&Object.defineProperties(e,{set:Gd,add:Gd,clear:Gd,delete:Gd}),Object.freeze(e),t&&Object.values(e).forEach(n=>vx(n,!0))),e}function Xz(){Kr(2)}var Gd={value:Xz};function Gh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Wz={};function Lo(e){const t=Wz[e];return t||Kr(0,e),t}var Gu;function jM(){return Gu}function Qz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RA(e,t){t&&(Lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X0(e){W0(e),e.drafts_.forEach(Zz),e.drafts_=null}function W0(e){e===Gu&&(Gu=e.parent_)}function DA(e){return Gu=Qz(Gu,e)}function Zz(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[mr].modified_&&(X0(t),Kr(4)),Oo(e)&&(e=Lf(t,e),t.parent_||Uf(t,e)),t.patches_&&Lo("Patches").generateReplacementPatches_(n[mr].base_,e,t.patches_,t.inversePatches_)):e=Lf(t,n,[]),X0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PM?e:void 0}function Lf(e,t,n){if(Gh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[mr];if(!i)return Of(t,(o,l)=>LA(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Uf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Of(l,(h,f)=>LA(e,i,o,h,f,n,u),r),Uf(e,o,!1),n&&e.patches_&&Lo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function LA(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Gh(i);if(!(u&&!l)){if(nl(i)){const h=o&&t&&t.type_!==3&&!K0(t.assigned_,r)?o.concat(r):void 0,f=Lf(e,i,h);if(IM(n,r,f),nl(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Oo(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Lf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(lc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Uf(e,i)}}}function Uf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vx(t,n)}function eq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=xx;n&&(i=[r],o=Vu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var xx={get(e,t){if(t===mr)return e;const n=So(e);if(!K0(n,t))return tq(e,n,t);const r=n[t];return e.finalized_||!Oo(r)?r:r===Dy(e.base_,t)?(Oy(e),e.copy_[t]=Z0(r,e)):r},has(e,t){return t in So(e)},ownKeys(e){return Reflect.ownKeys(So(e))},set(e,t,n){const r=RM(So(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Dy(So(e),t),o=i==null?void 0:i[mr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Jz(n,i)&&(n!==void 0||K0(e.base_,t)))return!0;Oy(e),Q0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Dy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Oy(e),Q0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=So(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){Kr(12)}},Vu={};Of(xx,(e,t)=>{Vu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vu.deleteProperty=function(e,t){return Vu.set.call(this,e,t,void 0)};Vu.set=function(e,t,n){return xx.set.call(this,e[0],t,n,e[0])};function Dy(e,t){const n=e[mr];return(n?So(n):e)[t]}function tq(e,t,n){var i;const r=RM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function RM(e,t){if(!(t in e))return;let n=Fu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fu(n)}}function Q0(e){e.modified_||(e.modified_=!0,e.parent_&&Q0(e.parent_))}function Oy(e){e.copy_||(e.copy_=J0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(h=o,...f){return l.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&Kr(6),r!==void 0&&typeof r!="function"&&Kr(7);let i;if(Oo(t)){const o=DA(this),l=Z0(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?X0(o):W0(o)}return RA(o,r),OA(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===PM&&(i=void 0),this.autoFreeze_&&vx(i,!0),r){const o=[],l=[];Lo("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Kr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,h=>t(h,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Oo(e)||Kr(8),nl(e)&&(e=rq(e));const t=DA(this),n=Z0(e,void 0);return n[mr].isManual_=!0,W0(t),n}finishDraft(e,t){const n=e&&e[mr];(!n||!n.isManual_)&&Kr(9);const{scope_:r}=n;return RA(r,t),OA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Lo("Patches").applyPatches_;return nl(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Z0(e,t){const n=lc(e)?Lo("MapSet").proxyMap_(e,t):Fh(e)?Lo("MapSet").proxySet_(e,t):eq(e,t);return(t?t.scope_:jM()).drafts_.push(n),n}function rq(e){return nl(e)||Kr(10,e),DM(e)}function DM(e){if(!Oo(e)||Gh(e))return e;const t=e[mr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=J0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=J0(e,!0);return Of(n,(i,o)=>{IM(n,i,DM(o))},r),t&&(t.finalized_=!1),n}var iq=new nq;iq.produce;var aq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OM=Zn({name:"legend",initialState:aq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:kt()},removeLegendPayload:{reducer(e,t){var n=Xr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:kt()}}}),{setLegendSize:Hle,setLegendSettings:Fle,addLegendPayload:oq,replaceLegendPayload:sq,removeLegendPayload:lq}=OM.actions,uq=OM.reducer;function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ev.apply(null,arguments)}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cq(e,t,n){return(t=dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hq(e){return Array.isArray(e)&&xi(e[0])&&xi(e[1])?e.join(" ~ "):e}var pq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:v=!1}=e,b=()=>{if(o&&o.length){var R={padding:0,margin:0},j=(u?Th(o,u):o).map((M,G)=>{if(M.type==="none")return null;var U=M.formatter||l||hq,{value:D,name:O}=M,$=D,F=O;if(U){var V=U(D,O,M,G,o);if(Array.isArray(V))[$,F]=V;else if(V!=null)$=V;else return null}var z=Ly({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:z},xi(F)?C.createElement("span",{className:"recharts-tooltip-item-name"},F):null,xi(F)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},$),C.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:R},j)}return null},N=Ly({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Ly({margin:0},i),A=!bn(p),T=A?p:"",k=Et("recharts-default-tooltip",h),P=Et("recharts-tooltip-label",f);A&&m&&o!==void 0&&o!==null&&(T=m(p,o));var I=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",ev({className:k,style:N},I),C.createElement("p",{className:P,style:E},C.isValidElement(T)?T:"".concat(T)),b())},gu="recharts-tooltip-wrapper",mq={visibility:"hidden"};function gq(e){var{coordinate:t,translateX:n,translateY:r}=e;return Et(gu,{["".concat(gu,"-right")]:Pe(n)&&t&&Pe(t.x)&&n>=t.x,["".concat(gu,"-left")]:Pe(n)&&t&&Pe(t.x)&&n<t.x,["".concat(gu,"-bottom")]:Pe(r)&&t&&Pe(t.y)&&r>=t.y,["".concat(gu,"-top")]:Pe(r)&&t&&Pe(t.y)&&r<t.y})}function BA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:h,viewBoxDimension:f}=e;if(o&&Pe(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?p:m;var v=h[r];if(v==null)return 0;if(l[r]){var b=p,N=v;return b<N?Math.max(m,v):Math.max(p,v)}if(f==null)return 0;var E=m+u,A=v+f;return E>A?Math.max(p,v):Math.max(m,v)}function yq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:h}=e,f,p,m;return l.height>0&&l.width>0&&n?(p=BA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),m=BA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),f=yq({translateX:p,translateY:m,useTranslate3d:u})):f=mq,{cssProperties:f,cssClasses:gq({translateX:p,translateY:m,coordinate:n})}}function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){tv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tv(e,t,n){return(t=xq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xq(e){var t=bq(e,"string");return typeof t=="symbol"?t:t+""}function bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wq extends C.PureComponent{constructor(){super(...arguments),tv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),tv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:h,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:b,wrapperStyle:N,lastBoundingBox:E,innerRef:A,hasPortalFromProps:T}=this.props,{cssClasses:k,cssProperties:P}=vq({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:b}),I=T?{}:Vd(Vd({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=Vd(Vd({},I),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},N);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:R,ref:A},o)}}var LM=()=>{var e;return(e=je(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){Sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sq(e,t,n){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FA={curveBasisClosed:M6,curveBasisOpen:I6,curveBasis:P6,curveBumpX:_6,curveBumpY:k6,curveLinearClosed:j6,curveLinear:Eh,curveMonotoneX:R6,curveMonotoneY:D6,curveNatural:O6,curveStep:L6,curveStepAfter:B6,curveStepBefore:U6},Bf=e=>Mt(e.x)&&Mt(e.y),GA=e=>e.base!=null&&Bf(e.base)&&Bf(e),yu=e=>e.x,vu=e=>e.y,Aq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ax(e));return(n==="curveMonotone"||n==="curveBump")&&t?FA["".concat(n).concat(t==="vertical"?"Y":"X")]:FA[n]||Eh},Cq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=Aq(t,i),u=o?n.filter(Bf):n,h;if(Array.isArray(r)){var f=n.map((b,N)=>HA(HA({},b),{},{base:r[N]}));i==="vertical"?h=Ld().y(vu).x1(yu).x0(b=>b.base.x):h=Ld().x(yu).y1(vu).y0(b=>b.base.y);var p=h.defined(GA).curve(l),m=o?f.filter(GA):f;return p(m)}i==="vertical"&&Pe(r)?h=Ld().y(vu).x1(yu).x0(r):Pe(r)?h=Ld().x(yu).y1(vu).y0(r):h=gP().x(yu).y(vu);var v=h.defined(Bf).curve(l);return v(u)},hf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=ll();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?Cq(l):r;return C.createElement("path",nv({},ei(e),ox(e),{className:Et("recharts-curve",t),d:u===null?void 0:u,ref:i}))},Tq=["x","y","top","left","width","height","className"];function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rv.apply(null,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kq(e,t,n){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iq(e,t){if(e==null)return{};var n,r,i=jq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rq=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),Dq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,h=Iq(e,Tq),f=_q({x:t,y:n,top:r,left:i,width:o,height:l},h);return!Pe(t)||!Pe(n)||!Pe(o)||!Pe(l)||!Pe(r)||!Pe(i)?null:C.createElement("path",rv({},Or(f),{className:Et("recharts-cross",u),d:Rq(t,n,o,l,r,i)}))};function Oq(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){Lq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lq(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qq=(e,t,n)=>e.map(r=>"".concat(zq(r)," ").concat(t,"ms ").concat(n)).join(","),Hq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),$u=(e,t)=>Object.keys(t).reduce((n,r)=>YA(YA({},n),{},{[r]:e(r,t[r])}),{});function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){Fq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fq(e,t,n){return(t=Gq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zf=(e,t,n)=>e+(t-e)*n,iv=e=>{var{from:t,to:n}=e;return t!==n},UM=(e,t,n)=>{var r=$u((i,o)=>{if(iv(o)){var[l,u]=e(o.from,o.to,o.velocity);return Kt(Kt({},o),{},{from:l,velocity:u})}return o},t);return n<1?$u((i,o)=>iv(o)&&r[i]!=null?Kt(Kt({},o),{},{velocity:zf(o.velocity,r[i].velocity,n),from:zf(o.from,r[i].from,n)}):o,t):UM(e,r,n-1)};function $q(e,t,n,r,i,o){var l,u=r.reduce((v,b)=>Kt(Kt({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),h=()=>$u((v,b)=>b.from,u),f=()=>!Object.values(u).filter(iv).length,p=null,m=v=>{l||(l=v);var b=v-l,N=b/n.dt;u=UM(n,u,N),i(Kt(Kt(Kt({},e),t),h())),l=v,f()||(p=o.setTimeout(m))};return()=>(p=o.setTimeout(m),()=>{var v;(v=p)===null||v===void 0||v()})}function Yq(e,t,n,r,i,o,l){var u=null,h=i.reduce((m,v)=>{var b=e[v],N=t[v];return b==null||N==null?m:Kt(Kt({},m),{},{[v]:[b,N]})},{}),f,p=m=>{f||(f=m);var v=(m-f)/r,b=$u((E,A)=>zf(...A,n(v)),h);if(o(Kt(Kt(Kt({},e),t),b)),v<1)u=l.setTimeout(p);else{var N=$u((E,A)=>zf(...A,n(1)),h);o(Kt(Kt(Kt({},e),t),N))}};return()=>(u=l.setTimeout(p),()=>{var m;(m=u)===null||m===void 0||m()})}const Kq=(e,t,n,r,i,o)=>{var l=Hq(e,t);return n==null?()=>(i(Kt(Kt({},e),t)),()=>{}):n.isStepper===!0?$q(e,t,n,l,i,o):Yq(e,t,n,r,l,i,o)};var qf=1e-4,BM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),JA=(e,t)=>n=>{var r=BM(e,t);return zM(r,n)},Jq=(e,t)=>n=>{var r=BM(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return zM(i,n)},Xq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},Wq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Xq(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Qq=(e,t,n,r)=>{var i=JA(e,n),o=JA(t,r),l=Jq(e,n),u=f=>f>1?1:f<0?0:f,h=f=>{for(var p=f>1?1:f,m=p,v=0;v<8;++v){var b=i(m)-p,N=l(m);if(Math.abs(b-p)<qf||N<qf)return o(m);m=u(m-b/N)}return o(m)};return h.isStepper=!1,h},XA=function(){return Qq(...Wq(...arguments))},Zq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,h)=>{var f=-(l-u)*n,p=h*r,m=h+(f-p)*i/1e3,v=h*i/1e3+l;return Math.abs(v-u)<qf&&Math.abs(m)<qf?[u,0]:[v,m]};return o.isStepper=!0,o.dt=i,o},eH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XA(e);case"spring":return Zq();default:if(e.split("(")[0]==="cubic-bezier")return XA(e)}return typeof e=="function"?e:null};function tH(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[h,...f]=u;if(typeof h=="number"){i=e.setTimeout(o.bind(null,f),h);return}o(h),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class nH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function rH(){return tH(new nH)}var iH=C.createContext(rH);function aH(e,t){var n=C.useContext(iH);return C.useMemo(()=>t??n(e),[e,t,n])}var oH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),uc={isSsr:oH()},sH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},WA={t:0},Uy={t:1};function qM(e){var t=gr(e,sH),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:h,children:f}=t,p=n==="auto"?!uc.isSsr:n,m=aH(t.animationId,t.animationManager),[v,b]=C.useState(p?WA:Uy),N=C.useRef(null);return C.useEffect(()=>{p||b(Uy)},[p]),C.useEffect(()=>{if(!p||!r)return rc;var E=Kq(WA,Uy,eH(o),i,b,m.getTimeoutController()),A=()=>{N.current=E()};return m.start([h,l,A,i,u]),()=>{m.stop(),N.current&&N.current(),u()}},[p,r,i,o,l,h,u,m]),f(v.t)}function HM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(Bu(t)),r=C.useRef(e);return r.current!==e&&(n.current=Bu(t),r.current=e),n.current}var lH=["radius"],uH=["radius"],QA,ZA,eC,tC,nC,rC,iC,aC,oC,sC;function lC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(n),!0).forEach(function(r){cH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cH(e,t,n){return(t=dH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hf(){return Hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hf.apply(null,arguments)}function cC(e,t){if(e==null)return{};var n,r,i=hH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function di(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dC=(e,t,n,r,i)=>{var o=Ka(n),l=Ka(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),h=l>=0?1:-1,f=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,m;if(u>0&&i instanceof Array){for(var v=[0,0,0,0],b=0,N=4;b<N;b++)v[b]=i[b]>u?u:i[b];m=yn(QA||(QA=di(["M",",",""])),e,t+h*v[0]),v[0]>0&&(m+=yn(ZA||(ZA=di(["A ",",",",0,0,",",",",",""])),v[0],v[0],p,e+f*v[0],t)),m+=yn(eC||(eC=di(["L ",",",""])),e+n-f*v[1],t),v[1]>0&&(m+=yn(tC||(tC=di(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],p,e+n,t+h*v[1])),m+=yn(nC||(nC=di(["L ",",",""])),e+n,t+r-h*v[2]),v[2]>0&&(m+=yn(rC||(rC=di(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],p,e+n-f*v[2],t+r)),m+=yn(iC||(iC=di(["L ",",",""])),e+f*v[3],t+r),v[3]>0&&(m+=yn(aC||(aC=di(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],p,e,t+r-h*v[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);m=yn(oC||(oC=di(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+h*E,E,E,p,e+f*E,t,e+n-f*E,t,E,E,p,e+n,t+h*E,e+n,t+r-h*E,E,E,p,e+n-f*E,t+r,e+f*E,t+r,E,E,p,e,t+r-h*E)}else m=yn(sC||(sC=di(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},fC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pH=e=>{var t=gr(e,fC),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:o,y:l,width:u,height:h,radius:f,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:b,isAnimationActive:N,isUpdateAnimationActive:E}=t,A=C.useRef(u),T=C.useRef(h),k=C.useRef(o),P=C.useRef(l),I=C.useMemo(()=>({x:o,y:l,width:u,height:h,radius:f}),[o,l,u,h,f]),R=HM(I,"rectangle-");if(o!==+o||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var j=Et("recharts-rectangle",p);if(!E){var M=Or(t),{radius:G}=M,U=cC(M,lH);return C.createElement("path",Hf({},U,{x:Ka(o),y:Ka(l),width:Ka(u),height:Ka(h),radius:typeof f=="number"?f:void 0,className:j,d:dC(o,l,u,h,f)}))}var D=A.current,O=T.current,$=k.current,F=P.current,V="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),B=qq(["strokeDasharray"],v,typeof m=="string"?m:fC.animationEasing);return C.createElement(qM,{animationId:R,key:R,canBegin:r>0,duration:v,easing:m,isActive:E,begin:b},K=>{var ie=hi(D,u,K),Z=hi(O,h,K),q=hi($,o,K),Y=hi(F,l,K);n.current&&(A.current=ie,T.current=Z,k.current=q,P.current=Y);var X;N?K>0?X={transition:B,strokeDasharray:z}:X={strokeDasharray:V}:X={strokeDasharray:z};var H=Or(t),{radius:pe}=H,Se=cC(H,uH);return C.createElement("path",Hf({},Se,{radius:typeof f=="number"?f:void 0,className:j,d:dC(q,Y,ie,Z,f),ref:n,style:uC(uC({},X),t.style)}))})};function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ff=Math.PI/180,vH=e=>e*180/Math.PI,xn=(e,t,n,r)=>({x:e+Math.cos(-Ff*r)*n,y:t+Math.sin(-Ff*r)*n}),xH=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bH=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},wH=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=bH({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,h=Math.acos(u);return r>o&&(h=2*Math.PI-h),{radius:l,angle:vH(h),angleInRadian:h}},SH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},NH=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},EH=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=wH({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:h,endAngle:f}=SH(t),p=o,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?pC(pC({},t),{},{radius:i,angle:NH(p,t)}):null};function FM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=xn(t,n,r,i),u=xn(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var mC,gC,yC,vC,xC,bC,wC;function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(null,arguments)}function Ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var AH=(e,t)=>{var n=Ir(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},$d=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:h}=e,f=u*(l?1:-1)+r,p=Math.asin(u/f)/Ff,m=h?i:i+o*p,v=xn(t,n,f,m),b=xn(t,n,r,m),N=h?i-o*p:i,E=xn(t,n,f*Math.cos(p*Ff),N);return{center:v,circleTangency:b,lineTangency:E,theta:p}},GM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=AH(o,l),h=o+u,f=xn(t,n,i,o),p=xn(t,n,i,h),m=yn(mC||(mC=Ao(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>h),p.x,p.y);if(r>0){var v=xn(t,n,r,o),b=xn(t,n,r,h);m+=yn(gC||(gC=Ao(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(o<=h),v.x,v.y)}else m+=yn(yC||(yC=Ao(["L ",","," Z"])),t,n);return m},CH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}=e,p=Ir(f-h),{circleTangency:m,lineTangency:v,theta:b}=$d({cx:t,cy:n,radius:i,angle:h,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:N,lineTangency:E,theta:A}=$d({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),T=u?Math.abs(h-f):Math.abs(h-f)-b-A;if(T<0)return l?yn(vC||(vC=Ao(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,o,o,o*2,o,o,-o*2):GM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:f});var k=yn(xC||(xC=Ao(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,o,o,+(p<0),m.x,m.y,i,i,+(T>180),+(p<0),N.x,N.y,o,o,+(p<0),E.x,E.y);if(r>0){var{circleTangency:P,lineTangency:I,theta:R}=$d({cx:t,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:j,lineTangency:M,theta:G}=$d({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),U=u?Math.abs(h-f):Math.abs(h-f)-R-G;if(U<0&&o===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=yn(bC||(bC=Ao(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,o,o,+(p<0),j.x,j.y,r,r,+(U>180),+(p>0),P.x,P.y,o,o,+(p<0),I.x,I.y)}else k+=yn(wC||(wC=Ao(["L",",","Z"])),t,n);return k},TH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_H=e=>{var t=gr(e,TH),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:p,className:m}=t;if(o<i||f===p)return null;var v=Et("recharts-sector",m),b=o-i,N=Wa(l,b,0,!0),E;return N>0&&Math.abs(f-p)<360?E=CH({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,b/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:p}):E=GM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),C.createElement("path",av({},Or(t),{className:v,d:E}))};function kH(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(_P(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,h=xn(r,i,o,u),f=xn(r,i,l,u);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return FM(t)}}var By={},zy={},qy={},SC;function PH(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(qy)),qy}var NC;function MH(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PH();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(zy)),zy}var EC;function IH(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP(),n=MH();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),h=new Array(u);for(let f=0;f<u;f++)h[f]=i,i+=l;return h}e.range=r})(By)),By}var Hy,AC;function jH(){return AC||(AC=1,Hy=IH().range),Hy}var RH=jH();const VM=ri(RH);function Xa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bx(e){let t,n,r;e.length!==2?(t=Xa,n=(u,h)=>Xa(e(u),h),r=(u,h)=>e(u)-h):(t=e===Xa||e===DH?e:OH,n=e,r=e);function i(u,h,f=0,p=u.length){if(f<p){if(t(h,h)!==0)return p;do{const m=f+p>>>1;n(u[m],h)<0?f=m+1:p=m}while(f<p)}return f}function o(u,h,f=0,p=u.length){if(f<p){if(t(h,h)!==0)return p;do{const m=f+p>>>1;n(u[m],h)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,h,f=0,p=u.length){const m=i(u,h,f,p-1);return m>f&&r(u[m-1],h)>-r(u[m],h)?m-1:m}return{left:i,center:l,right:o}}function OH(){return 0}function $M(e){return e===null?NaN:+e}function*LH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const UH=bx(Xa),cc=UH.right;bx($M).center;class CC extends Map{constructor(t,n=qH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(TC(this,t))}has(t){return super.has(TC(this,t))}set(t,n){return super.set(BH(this,t),n)}delete(t){return super.delete(zH(this,t))}}function TC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function BH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function zH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function qH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HH(e=Xa){if(e===Xa)return YM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function YM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FH=Math.sqrt(50),GH=Math.sqrt(10),VH=Math.sqrt(2);function Gf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=FH?10:o>=GH?5:o>=VH?2:1;let u,h,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),h=Math.round(t*f),u/f<e&&++u,h/f>t&&--h,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),h=Math.round(t/f),u*f<e&&++u,h*f>t&&--h),h<u&&.5<=n&&n<2?Gf(e,t,n*2):[u,h,f]}function ov(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Gf(t,e,n):Gf(e,t,n);if(!(o>=i))return[];const u=o-i+1,h=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)h[f]=(o-f)/-l;else for(let f=0;f<u;++f)h[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)h[f]=(i+f)/-l;else for(let f=0;f<u;++f)h[f]=(i+f)*l;return h}function sv(e,t,n){return t=+t,e=+e,n=+n,Gf(e,t,n)[2]}function lv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?sv(t,e,n):sv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function _C(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function KM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?YM:HH(i);r>n;){if(r-n>600){const h=r-n+1,f=t-n+1,p=Math.log(h),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(h-m)/h)*(f-h/2<0?-1:1),b=Math.max(n,Math.floor(t-f*m/h+v)),N=Math.min(r,Math.floor(t+(h-f)*m/h+v));KM(e,t,b,N,i)}const o=e[t];let l=n,u=r;for(xu(e,n,t),i(e[r],o)>0&&xu(e,n,r);l<u;){for(xu(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?xu(e,n,u):(++u,xu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function xu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $H(e,t,n){if(e=Float64Array.from(LH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return kC(e);if(t>=1)return _C(e);var r,i=(r-1)*t,o=Math.floor(i),l=_C(KM(e,o).subarray(0,o+1)),u=kC(e.subarray(o+1));return l+(u-l)*(i-o)}}function YH(e,t,n=$M){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function KH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ua(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uv=Symbol("implicit");function wx(){var e=new CC,t=[],n=[],r=uv;function i(o){let l=e.get(o);if(l===void 0){if(r!==uv)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new CC;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wx(t,n).unknown(r)},zr.apply(i,arguments),i}function Sx(){var e=wx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,h=0,f=0,p=.5;delete e.unknown;function m(){var v=t().length,b=i<r,N=b?i:r,E=b?r:i;o=(E-N)/Math.max(1,v-h+f*2),u&&(o=Math.floor(o)),N+=(E-N-o*(v-h))*p,l=o*(1-h),u&&(N=Math.round(N),l=Math.round(l));var A=KH(v).map(function(T){return N+o*T});return n(b?A.reverse():A)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(h=Math.min(1,f=+v),m()):h},e.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),m()):h},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return Sx(t(),[r,i]).round(u).paddingInner(h).paddingOuter(f).align(p)},zr.apply(m(),arguments)}function JM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return JM(t())},e}function JH(){return JM(Sx.apply(null,arguments).paddingInner(1))}function Nx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function XM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dc(){}var Yu=.7,Vf=1/Yu,Js="\\s*([+-]?\\d+)\\s*",Ku="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XH=/^#([0-9a-f]{3,8})$/,WH=new RegExp(`^rgb\\(${Js},${Js},${Js}\\)$`),QH=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),ZH=new RegExp(`^rgba\\(${Js},${Js},${Js},${Ku}\\)$`),e8=new RegExp(`^rgba\\(${yi},${yi},${yi},${Ku}\\)$`),t8=new RegExp(`^hsl\\(${Ku},${yi},${yi}\\)$`),n8=new RegExp(`^hsla\\(${Ku},${yi},${yi},${Ku}\\)$`),PC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nx(dc,Ju,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MC,formatHex:MC,formatHex8:r8,formatHsl:i8,formatRgb:IC,toString:IC});function MC(){return this.rgb().formatHex()}function r8(){return this.rgb().formatHex8()}function i8(){return WM(this).formatHsl()}function IC(){return this.rgb().formatRgb()}function Ju(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?jC(t):n===3?new Xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WH.exec(e))?new Xn(t[1],t[2],t[3],1):(t=QH.exec(e))?new Xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZH.exec(e))?Yd(t[1],t[2],t[3],t[4]):(t=e8.exec(e))?Yd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=t8.exec(e))?OC(t[1],t[2]/100,t[3]/100,1):(t=n8.exec(e))?OC(t[1],t[2]/100,t[3]/100,t[4]):PC.hasOwnProperty(e)?jC(PC[e]):e==="transparent"?new Xn(NaN,NaN,NaN,0):null}function jC(e){return new Xn(e>>16&255,e>>8&255,e&255,1)}function Yd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xn(e,t,n,r)}function a8(e){return e instanceof dc||(e=Ju(e)),e?(e=e.rgb(),new Xn(e.r,e.g,e.b,e.opacity)):new Xn}function cv(e,t,n,r){return arguments.length===1?a8(e):new Xn(e,t,n,r??1)}function Xn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Nx(Xn,cv,XM(dc,{brighter(e){return e=e==null?Vf:Math.pow(Vf,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xn(Mo(this.r),Mo(this.g),Mo(this.b),$f(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RC,formatHex:RC,formatHex8:o8,formatRgb:DC,toString:DC}));function RC(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}`}function o8(){return`#${Co(this.r)}${Co(this.g)}${Co(this.b)}${Co((isNaN(this.opacity)?1:this.opacity)*255)}`}function DC(){const e=$f(this.opacity);return`${e===1?"rgb(":"rgba("}${Mo(this.r)}, ${Mo(this.g)}, ${Mo(this.b)}${e===1?")":`, ${e})`}`}function $f(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Co(e){return e=Mo(e),(e<16?"0":"")+e.toString(16)}function OC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jr(e,t,n,r)}function WM(e){if(e instanceof Jr)return new Jr(e.h,e.s,e.l,e.opacity);if(e instanceof dc||(e=Ju(e)),!e)return new Jr;if(e instanceof Jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,h=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=h<.5?o+i:2-o-i,l*=60):u=h>0&&h<1?0:l,new Jr(l,u,h,e.opacity)}function s8(e,t,n,r){return arguments.length===1?WM(e):new Jr(e,t,n,r??1)}function Jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Nx(Jr,s8,XM(dc,{brighter(e){return e=e==null?Vf:Math.pow(Vf,e),new Jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xn(Fy(e>=240?e-240:e+120,i,r),Fy(e,i,r),Fy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Jr(LC(this.h),Kd(this.s),Kd(this.l),$f(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$f(this.opacity);return`${e===1?"hsl(":"hsla("}${LC(this.h)}, ${Kd(this.s)*100}%, ${Kd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function LC(e){return e=(e||0)%360,e<0?e+360:e}function Kd(e){return Math.max(0,Math.min(1,e||0))}function Fy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ex=e=>()=>e;function l8(e,t){return function(n){return e+n*t}}function u8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function c8(e){return(e=+e)==1?QM:function(t,n){return n-t?u8(t,n,e):Ex(isNaN(t)?n:t)}}function QM(e,t){var n=t-e;return n?l8(e,n):Ex(isNaN(e)?t:e)}const UC=(function e(t){var n=c8(t);function r(i,o){var l=n((i=cv(i)).r,(o=cv(o)).r),u=n(i.g,o.g),h=n(i.b,o.b),f=QM(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=h(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function d8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function f8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function h8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=ul(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function p8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function m8(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ul(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gy=new RegExp(dv.source,"g");function g8(e){return function(){return e}}function y8(e){return function(t){return e(t)+""}}function v8(e,t){var n=dv.lastIndex=Gy.lastIndex=0,r,i,o,l=-1,u=[],h=[];for(e=e+"",t=t+"";(r=dv.exec(e))&&(i=Gy.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,h.push({i:l,x:Yf(r,i)})),n=Gy.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?h[0]?y8(h[0].x):g8(t):(t=h.length,function(f){for(var p=0,m;p<t;++p)u[(m=h[p]).i]=m.x(f);return u.join("")})}function ul(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ex(t):(n==="number"?Yf:n==="string"?(r=Ju(t))?(t=r,UC):v8:t instanceof Ju?UC:t instanceof Date?p8:f8(t)?d8:Array.isArray(t)?h8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?m8:Yf)(e,t)}function Ax(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function x8(e,t){t===void 0&&(t=e,e=ul);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function b8(e){return function(){return e}}function Kf(e){return+e}var BC=[0,1];function Dn(e){return e}function fv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:b8(isNaN(t)?NaN:.5)}function w8(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function S8(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=fv(i,r),o=n(l,o)):(r=fv(r,i),o=n(o,l)),function(u){return o(r(u))}}function N8(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=fv(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var h=cc(e,u,1,r)-1;return o[h](i[h](u))}}function fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vh(){var e=BC,t=BC,n=ul,r,i,o,l=Dn,u,h,f;function p(){var v=Math.min(e.length,t.length);return l!==Dn&&(l=w8(e[0],e[v-1])),u=v>2?N8:S8,h=f=null,m}function m(v){return v==null||isNaN(v=+v)?o:(h||(h=u(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(i((f||(f=u(t,e.map(r),Yf)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Kf),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=Ax,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Dn,p()):l!==Dn},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,b){return r=v,i=b,p()}}function Cx(){return Vh()(Dn,Dn)}function E8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rl(e){return e=Jf(Math.abs(e)),e?e[1]:NaN}function A8(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],h=0;i>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),o.push(n.substring(i-=u,i+u)),!((h+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function C8(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var T8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xu(e){if(!(t=T8.exec(e)))throw new Error("invalid format: "+e);var t;return new Tx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xu.prototype=Tx.prototype;function Tx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _8(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ZM;function k8(e,t){var n=Jf(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ZM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Jf(e,Math.max(0,t+o-1))[0]}function zC(e,t){var n=Jf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:E8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zC(e*100,t),r:zC,s:k8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HC(e){return e}var FC=Array.prototype.map,GC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function P8(e){var t=e.grouping===void 0||e.thousands===void 0?HC:A8(FC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?HC:C8(FC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Xu(m);var v=m.fill,b=m.align,N=m.sign,E=m.symbol,A=m.zero,T=m.width,k=m.comma,P=m.precision,I=m.trim,R=m.type;R==="n"?(k=!0,R="g"):qC[R]||(P===void 0&&(P=12),I=!0,R="g"),(A||v==="0"&&b==="=")&&(A=!0,v="0",b="=");var j=E==="$"?n:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",M=E==="$"?r:/[%p]/.test(R)?l:"",G=qC[R],U=/[defgprs%]/.test(R);P=P===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function D(O){var $=j,F=M,V,z,B;if(R==="c")F=G(O)+F,O="";else{O=+O;var K=O<0||1/O<0;if(O=isNaN(O)?h:G(Math.abs(O),P),I&&(O=_8(O)),K&&+O==0&&N!=="+"&&(K=!1),$=(K?N==="("?N:u:N==="-"||N==="("?"":N)+$,F=(R==="s"?GC[8+ZM/3]:"")+F+(K&&N==="("?")":""),U){for(V=-1,z=O.length;++V<z;)if(B=O.charCodeAt(V),48>B||B>57){F=(B===46?i+O.slice(V+1):O.slice(V))+F,O=O.slice(0,V);break}}}k&&!A&&(O=t(O,1/0));var ie=$.length+O.length+F.length,Z=ie<T?new Array(T-ie+1).join(v):"";switch(k&&A&&(O=t(Z+O,Z.length?T-F.length:1/0),Z=""),b){case"<":O=$+O+F+Z;break;case"=":O=$+Z+O+F;break;case"^":O=Z.slice(0,ie=Z.length>>1)+$+O+F+Z.slice(ie);break;default:O=Z+$+O+F;break}return o(O)}return D.toString=function(){return m+""},D}function p(m,v){var b=f((m=Xu(m),m.type="f",m)),N=Math.max(-8,Math.min(8,Math.floor(rl(v)/3)))*3,E=Math.pow(10,-N),A=GC[8+N/3];return function(T){return b(E*T)+A}}return{format:f,formatPrefix:p}}var Jd,_x,eI;M8({thousands:",",grouping:[3],currency:["$",""]});function M8(e){return Jd=P8(e),_x=Jd.format,eI=Jd.formatPrefix,Jd}function I8(e){return Math.max(0,-rl(Math.abs(e)))}function j8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rl(t)/3)))*3-rl(Math.abs(e)))}function R8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rl(t)-rl(e))+1}function tI(e,t,n,r){var i=lv(e,t,n),o;switch(r=Xu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=j8(i,l))&&(r.precision=o),eI(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=R8(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=I8(i))&&(r.precision=o-(r.type==="%")*2);break}}return _x(r)}function Za(e){var t=e.domain;return e.ticks=function(n){var r=t();return ov(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tI(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],h,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);p-- >0;){if(f=sv(l,u,n),f===h)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;h=f}return e},e}function nI(){var e=Cx();return e.copy=function(){return fc(e,nI())},zr.apply(e,arguments),Za(e)}function rI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Kf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return rI(e).unknown(t)},e=arguments.length?Array.from(e,Kf):[0,1],Za(n)}function iI(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function VC(e){return Math.log(e)}function $C(e){return Math.exp(e)}function D8(e){return-Math.log(-e)}function O8(e){return-Math.exp(-e)}function L8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function U8(e){return e===10?L8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function B8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YC(e){return(t,n)=>-e(-t,n)}function kx(e){const t=e(VC,$C),n=t.domain;let r=10,i,o;function l(){return i=B8(r),o=U8(r),n()[0]<0?(i=YC(i),o=YC(o),e(D8,O8)):e(VC,$C),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const h=n();let f=h[0],p=h[h.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=i(f),b=i(p),N,E;const A=u==null?10:+u;let T=[];if(!(r%1)&&b-v<A){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(N=1;N<r;++N)if(E=v<0?N/o(-v):N*o(v),!(E<f)){if(E>p)break;T.push(E)}}else for(;v<=b;++v)for(N=r-1;N>=1;--N)if(E=v>0?N/o(-v):N*o(v),!(E<f)){if(E>p)break;T.push(E)}T.length*2<A&&(T=ov(f,p,A))}else T=ov(v,b,Math.min(b-v,A)).map(o);return m?T.reverse():T},t.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Xu(h)).precision==null&&(h.trim=!0),h=_x(h)),u===1/0)return h;const f=Math.max(1,r*u/t.ticks().length);return p=>{let m=p/o(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?h(p):""}},t.nice=()=>n(iI(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function aI(){const e=kx(Vh()).domain([1,10]);return e.copy=()=>fc(e,aI()).base(e.base()),zr.apply(e,arguments),e}function KC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Px(e){var t=1,n=e(KC(t),JC(t));return n.constant=function(r){return arguments.length?e(KC(t=+r),JC(t)):t},Za(n)}function oI(){var e=Px(Vh());return e.copy=function(){return fc(e,oI()).constant(e.constant())},zr.apply(e,arguments)}function XC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function z8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function q8(e){return e<0?-e*e:e*e}function Mx(e){var t=e(Dn,Dn),n=1;function r(){return n===1?e(Dn,Dn):n===.5?e(z8,q8):e(XC(n),XC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Za(t)}function Ix(){var e=Mx(Vh());return e.copy=function(){return fc(e,Ix()).exponent(e.exponent())},zr.apply(e,arguments),e}function H8(){return Ix.apply(null,arguments).exponent(.5)}function WC(e){return Math.sign(e)*e*e}function F8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sI(){var e=Cx(),t=[0,1],n=!1,r;function i(o){var l=F8(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(WC(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Kf)).map(WC)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return sI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},zr.apply(i,arguments),Za(i)}function lI(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=YH(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[cc(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Xa),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return lI().domain(e).range(t).unknown(r)},zr.apply(o,arguments)}function uI(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(h){return h!=null&&h<=h?i[cc(r,h,0,n)]:o}function u(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return l}return l.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,u()):[e,t]},l.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,u()):i.slice()},l.invertExtent=function(h){var f=i.indexOf(h);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return uI().domain([e,t]).range(i).unknown(o)},zr.apply(Za(l),arguments)}function cI(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[cc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return cI().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}const Vy=new Date,$y=new Date;function Xt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const h=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return h;let f;do h.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return h},i.filter=o=>Xt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Vy.setTime(+o),$y.setTime(+l),e(Vy),e($y),Math.floor(n(Vy,$y))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Xf=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Xf);Xf.range;const Yi=1e3,jr=Yi*60,Ki=jr*60,Zi=Ki*24,jx=Zi*7,QC=Zi*30,Yy=Zi*365,To=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCSeconds());To.range;const Rx=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getMinutes());Rx.range;const Dx=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jr)},(e,t)=>(t-e)/jr,e=>e.getUTCMinutes());Dx.range;const Ox=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi-e.getMinutes()*jr)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getHours());Ox.range;const Lx=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCHours());Lx.range;const hc=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jr)/Zi,e=>e.getDate()-1);hc.range;const $h=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zi,e=>e.getUTCDate()-1);$h.range;const dI=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Zi,e=>Math.floor(e/Zi));dI.range;function qo(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*jr)/jx)}const Yh=qo(0),Wf=qo(1),G8=qo(2),V8=qo(3),il=qo(4),$8=qo(5),Y8=qo(6);Yh.range;Wf.range;G8.range;V8.range;il.range;$8.range;Y8.range;function Ho(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jx)}const Kh=Ho(0),Qf=Ho(1),K8=Ho(2),J8=Ho(3),al=Ho(4),X8=Ho(5),W8=Ho(6);Kh.range;Qf.range;K8.range;J8.range;al.range;X8.range;W8.range;const Ux=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ux.range;const Bx=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Bx.range;const ea=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ea.range;const ta=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ta.range;function fI(e,t,n,r,i,o){const l=[[To,1,Yi],[To,5,5*Yi],[To,15,15*Yi],[To,30,30*Yi],[o,1,jr],[o,5,5*jr],[o,15,15*jr],[o,30,30*jr],[i,1,Ki],[i,3,3*Ki],[i,6,6*Ki],[i,12,12*Ki],[r,1,Zi],[r,2,2*Zi],[n,1,jx],[t,1,QC],[t,3,3*QC],[e,1,Yy]];function u(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const b=m&&typeof m.range=="function"?m:h(f,p,m),N=b?b.range(f,+p+1):[];return v?N.reverse():N}function h(f,p,m){const v=Math.abs(p-f)/m,b=bx(([,,A])=>A).right(l,v);if(b===l.length)return e.every(lv(f/Yy,p/Yy,m));if(b===0)return Xf.every(Math.max(lv(f,p,m),1));const[N,E]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return N.every(E)}return[u,h]}const[Q8,Z8]=fI(ta,Bx,Kh,dI,Lx,Dx),[eF,tF]=fI(ea,Ux,Yh,hc,Ox,Rx);function Ky(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nF(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,h=e.shortMonths,f=wu(i),p=Su(i),m=wu(o),v=Su(o),b=wu(l),N=Su(l),E=wu(u),A=Su(u),T=wu(h),k=Su(h),P={a:K,A:ie,b:Z,B:q,c:null,d:iT,e:iT,f:AF,g:DF,G:LF,H:SF,I:NF,j:EF,L:hI,m:CF,M:TF,p:Y,q:X,Q:sT,s:lT,S:_F,u:kF,U:PF,V:MF,w:IF,W:jF,x:null,X:null,y:RF,Y:OF,Z:UF,"%":oT},I={a:H,A:pe,b:Se,B:ue,c:null,d:aT,e:aT,f:HF,g:QF,G:e9,H:BF,I:zF,j:qF,L:mI,m:FF,M:GF,p:we,q:Ue,Q:sT,s:lT,S:VF,u:$F,U:YF,V:KF,w:JF,W:XF,x:null,X:null,y:WF,Y:ZF,Z:t9,"%":oT},R={a:D,A:O,b:$,B:F,c:V,d:nT,e:nT,f:vF,g:tT,G:eT,H:rT,I:rT,j:pF,L:yF,m:hF,M:mF,p:U,q:fF,Q:bF,s:wF,S:gF,u:sF,U:lF,V:uF,w:oF,W:cF,x:z,X:B,y:tT,Y:eT,Z:dF,"%":xF};P.x=j(n,P),P.X=j(r,P),P.c=j(t,P),I.x=j(n,I),I.X=j(r,I),I.c=j(t,I);function j(ae,Ne){return function(ke){var ge=[],xt=-1,$e=0,At=ae.length,mt,Nn,Hr;for(ke instanceof Date||(ke=new Date(+ke));++xt<At;)ae.charCodeAt(xt)===37&&(ge.push(ae.slice($e,xt)),(Nn=ZC[mt=ae.charAt(++xt)])!=null?mt=ae.charAt(++xt):Nn=mt==="e"?" ":"0",(Hr=Ne[mt])&&(mt=Hr(ke,Nn)),ge.push(mt),$e=xt+1);return ge.push(ae.slice($e,xt)),ge.join("")}}function M(ae,Ne){return function(ke){var ge=bu(1900,void 0,1),xt=G(ge,ae,ke+="",0),$e,At;if(xt!=ke.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ne&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?($e=Jy(bu(ge.y,0,1)),At=$e.getUTCDay(),$e=At>4||At===0?Qf.ceil($e):Qf($e),$e=$h.offset($e,(ge.V-1)*7),ge.y=$e.getUTCFullYear(),ge.m=$e.getUTCMonth(),ge.d=$e.getUTCDate()+(ge.w+6)%7):($e=Ky(bu(ge.y,0,1)),At=$e.getDay(),$e=At>4||At===0?Wf.ceil($e):Wf($e),$e=hc.offset($e,(ge.V-1)*7),ge.y=$e.getFullYear(),ge.m=$e.getMonth(),ge.d=$e.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),At="Z"in ge?Jy(bu(ge.y,0,1)).getUTCDay():Ky(bu(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(At+5)%7:ge.w+ge.U*7-(At+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Jy(ge)):Ky(ge)}}function G(ae,Ne,ke,ge){for(var xt=0,$e=Ne.length,At=ke.length,mt,Nn;xt<$e;){if(ge>=At)return-1;if(mt=Ne.charCodeAt(xt++),mt===37){if(mt=Ne.charAt(xt++),Nn=R[mt in ZC?Ne.charAt(xt++):mt],!Nn||(ge=Nn(ae,ke,ge))<0)return-1}else if(mt!=ke.charCodeAt(ge++))return-1}return ge}function U(ae,Ne,ke){var ge=f.exec(Ne.slice(ke));return ge?(ae.p=p.get(ge[0].toLowerCase()),ke+ge[0].length):-1}function D(ae,Ne,ke){var ge=b.exec(Ne.slice(ke));return ge?(ae.w=N.get(ge[0].toLowerCase()),ke+ge[0].length):-1}function O(ae,Ne,ke){var ge=m.exec(Ne.slice(ke));return ge?(ae.w=v.get(ge[0].toLowerCase()),ke+ge[0].length):-1}function $(ae,Ne,ke){var ge=T.exec(Ne.slice(ke));return ge?(ae.m=k.get(ge[0].toLowerCase()),ke+ge[0].length):-1}function F(ae,Ne,ke){var ge=E.exec(Ne.slice(ke));return ge?(ae.m=A.get(ge[0].toLowerCase()),ke+ge[0].length):-1}function V(ae,Ne,ke){return G(ae,t,Ne,ke)}function z(ae,Ne,ke){return G(ae,n,Ne,ke)}function B(ae,Ne,ke){return G(ae,r,Ne,ke)}function K(ae){return l[ae.getDay()]}function ie(ae){return o[ae.getDay()]}function Z(ae){return h[ae.getMonth()]}function q(ae){return u[ae.getMonth()]}function Y(ae){return i[+(ae.getHours()>=12)]}function X(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return l[ae.getUTCDay()]}function pe(ae){return o[ae.getUTCDay()]}function Se(ae){return h[ae.getUTCMonth()]}function ue(ae){return u[ae.getUTCMonth()]}function we(ae){return i[+(ae.getUTCHours()>=12)]}function Ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ne=j(ae+="",P);return Ne.toString=function(){return ae},Ne},parse:function(ae){var Ne=M(ae+="",!1);return Ne.toString=function(){return ae},Ne},utcFormat:function(ae){var Ne=j(ae+="",I);return Ne.toString=function(){return ae},Ne},utcParse:function(ae){var Ne=M(ae+="",!0);return Ne.toString=function(){return ae},Ne}}}var ZC={"-":"",_:" ",0:"0"},ln=/^\s*\d+/,rF=/^%/,iF=/[\\^$*+?|[\]().{}]/g;function nt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function aF(e){return e.replace(iF,"\\$&")}function wu(e){return new RegExp("^(?:"+e.map(aF).join("|")+")","i")}function Su(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function oF(e,t,n){var r=ln.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sF(e,t,n){var r=ln.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lF(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uF(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cF(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function eT(e,t,n){var r=ln.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tT(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fF(e,t,n){var r=ln.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function hF(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nT(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pF(e,t,n){var r=ln.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rT(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mF(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gF(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yF(e,t,n){var r=ln.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vF(e,t,n){var r=ln.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xF(e,t,n){var r=rF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function bF(e,t,n){var r=ln.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wF(e,t,n){var r=ln.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function iT(e,t){return nt(e.getDate(),t,2)}function SF(e,t){return nt(e.getHours(),t,2)}function NF(e,t){return nt(e.getHours()%12||12,t,2)}function EF(e,t){return nt(1+hc.count(ea(e),e),t,3)}function hI(e,t){return nt(e.getMilliseconds(),t,3)}function AF(e,t){return hI(e,t)+"000"}function CF(e,t){return nt(e.getMonth()+1,t,2)}function TF(e,t){return nt(e.getMinutes(),t,2)}function _F(e,t){return nt(e.getSeconds(),t,2)}function kF(e){var t=e.getDay();return t===0?7:t}function PF(e,t){return nt(Yh.count(ea(e)-1,e),t,2)}function pI(e){var t=e.getDay();return t>=4||t===0?il(e):il.ceil(e)}function MF(e,t){return e=pI(e),nt(il.count(ea(e),e)+(ea(e).getDay()===4),t,2)}function IF(e){return e.getDay()}function jF(e,t){return nt(Wf.count(ea(e)-1,e),t,2)}function RF(e,t){return nt(e.getFullYear()%100,t,2)}function DF(e,t){return e=pI(e),nt(e.getFullYear()%100,t,2)}function OF(e,t){return nt(e.getFullYear()%1e4,t,4)}function LF(e,t){var n=e.getDay();return e=n>=4||n===0?il(e):il.ceil(e),nt(e.getFullYear()%1e4,t,4)}function UF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nt(t/60|0,"0",2)+nt(t%60,"0",2)}function aT(e,t){return nt(e.getUTCDate(),t,2)}function BF(e,t){return nt(e.getUTCHours(),t,2)}function zF(e,t){return nt(e.getUTCHours()%12||12,t,2)}function qF(e,t){return nt(1+$h.count(ta(e),e),t,3)}function mI(e,t){return nt(e.getUTCMilliseconds(),t,3)}function HF(e,t){return mI(e,t)+"000"}function FF(e,t){return nt(e.getUTCMonth()+1,t,2)}function GF(e,t){return nt(e.getUTCMinutes(),t,2)}function VF(e,t){return nt(e.getUTCSeconds(),t,2)}function $F(e){var t=e.getUTCDay();return t===0?7:t}function YF(e,t){return nt(Kh.count(ta(e)-1,e),t,2)}function gI(e){var t=e.getUTCDay();return t>=4||t===0?al(e):al.ceil(e)}function KF(e,t){return e=gI(e),nt(al.count(ta(e),e)+(ta(e).getUTCDay()===4),t,2)}function JF(e){return e.getUTCDay()}function XF(e,t){return nt(Qf.count(ta(e)-1,e),t,2)}function WF(e,t){return nt(e.getUTCFullYear()%100,t,2)}function QF(e,t){return e=gI(e),nt(e.getUTCFullYear()%100,t,2)}function ZF(e,t){return nt(e.getUTCFullYear()%1e4,t,4)}function e9(e,t){var n=e.getUTCDay();return e=n>=4||n===0?al(e):al.ceil(e),nt(e.getUTCFullYear()%1e4,t,4)}function t9(){return"+0000"}function oT(){return"%"}function sT(e){return+e}function lT(e){return Math.floor(+e/1e3)}var js,yI,vI;n9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function n9(e){return js=nF(e),yI=js.format,js.parse,vI=js.utcFormat,js.utcParse,js}function r9(e){return new Date(e)}function i9(e){return e instanceof Date?+e:+new Date(+e)}function zx(e,t,n,r,i,o,l,u,h,f){var p=Cx(),m=p.invert,v=p.domain,b=f(".%L"),N=f(":%S"),E=f("%I:%M"),A=f("%I %p"),T=f("%a %d"),k=f("%b %d"),P=f("%B"),I=f("%Y");function R(j){return(h(j)<j?b:u(j)<j?N:l(j)<j?E:o(j)<j?A:r(j)<j?i(j)<j?T:k:n(j)<j?P:I)(j)}return p.invert=function(j){return new Date(m(j))},p.domain=function(j){return arguments.length?v(Array.from(j,i9)):v().map(r9)},p.ticks=function(j){var M=v();return e(M[0],M[M.length-1],j??10)},p.tickFormat=function(j,M){return M==null?R:f(M)},p.nice=function(j){var M=v();return(!j||typeof j.range!="function")&&(j=t(M[0],M[M.length-1],j??10)),j?v(iI(M,j)):p},p.copy=function(){return fc(p,zx(e,t,n,r,i,o,l,u,h,f))},p}function a9(){return zr.apply(zx(eF,tF,ea,Ux,Yh,hc,Ox,Rx,To,yI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o9(){return zr.apply(zx(Q8,Z8,ta,Bx,Kh,$h,Lx,Dx,To,vI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jh(){var e=0,t=1,n,r,i,o,l=Dn,u=!1,h;function f(m){return m==null||isNaN(m=+m)?h:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(v){var b,N;return arguments.length?([b,N]=v,l=m(b,N),f):[l(0),l(1)]}}return f.range=p(ul),f.rangeRound=p(Ax),f.unknown=function(m){return arguments.length?(h=m,f):h},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xI(){var e=Za(Jh()(Dn));return e.copy=function(){return eo(e,xI())},ua.apply(e,arguments)}function bI(){var e=kx(Jh()).domain([1,10]);return e.copy=function(){return eo(e,bI()).base(e.base())},ua.apply(e,arguments)}function wI(){var e=Px(Jh());return e.copy=function(){return eo(e,wI()).constant(e.constant())},ua.apply(e,arguments)}function qx(){var e=Mx(Jh());return e.copy=function(){return eo(e,qx()).exponent(e.exponent())},ua.apply(e,arguments)}function s9(){return qx.apply(null,arguments).exponent(.5)}function SI(){var e=[],t=Dn;function n(r){if(r!=null&&!isNaN(r=+r))return t((cc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>$H(e,o/r))},n.copy=function(){return SI(t).domain(e)},ua.apply(n,arguments)}function Xh(){var e=0,t=.5,n=1,r=1,i,o,l,u,h,f=Dn,p,m=!1,v;function b(E){return isNaN(E=+E)?v:(E=.5+((E=+p(E))-o)*(r*E<r*o?u:h),f(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([e,t,n]=E,i=p(e=+e),o=p(t=+t),l=p(n=+n),u=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(f=E,b):f};function N(E){return function(A){var T,k,P;return arguments.length?([T,k,P]=A,f=x8(E,[T,k,P]),b):[f(0),f(.5),f(1)]}}return b.range=N(ul),b.rangeRound=N(Ax),b.unknown=function(E){return arguments.length?(v=E,b):v},function(E){return p=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,b}}function NI(){var e=Za(Xh()(Dn));return e.copy=function(){return eo(e,NI())},ua.apply(e,arguments)}function EI(){var e=kx(Xh()).domain([.1,1,10]);return e.copy=function(){return eo(e,EI()).base(e.base())},ua.apply(e,arguments)}function AI(){var e=Px(Xh());return e.copy=function(){return eo(e,AI()).constant(e.constant())},ua.apply(e,arguments)}function Hx(){var e=Mx(Xh());return e.copy=function(){return eo(e,Hx()).exponent(e.exponent())},ua.apply(e,arguments)}function l9(){return Hx.apply(null,arguments).exponent(.5)}const Mu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sx,scaleDiverging:NI,scaleDivergingLog:EI,scaleDivergingPow:Hx,scaleDivergingSqrt:l9,scaleDivergingSymlog:AI,scaleIdentity:rI,scaleImplicit:uv,scaleLinear:nI,scaleLog:aI,scaleOrdinal:wx,scalePoint:JH,scalePow:Ix,scaleQuantile:lI,scaleQuantize:uI,scaleRadial:sI,scaleSequential:xI,scaleSequentialLog:bI,scaleSequentialPow:qx,scaleSequentialQuantile:SI,scaleSequentialSqrt:s9,scaleSequentialSymlog:wI,scaleSqrt:H8,scaleSymlog:oI,scaleThreshold:cI,scaleTime:a9,scaleUtc:o9,tickFormat:tI},Symbol.toStringTag,{value:"Module"}));var ca=e=>e.chartData,CI=le([ca],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),TI=(e,t,n,r)=>r?CI(e):ca(e),u9=(e,t,n)=>n?CI(e):ca(e);function Qa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Mt(t)&&Mt(n))return!0}return!1}function uT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function _I(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Mt(n))i=n;else if(typeof n=="function")return;if(Mt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Qa(l))return l}}function c9(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Qa(r))return uT(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Pe(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&SA.test(i)){var h=SA.exec(i);if(h==null||h[1]==null||t==null)l=void 0;else{var f=+h[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Pe(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&NA.test(o)){var p=NA.exec(o);if(p==null||p[1]==null||t==null)u=void 0;else{var m=+p[1];u=t[1]+m}}else u=t==null?void 0:t[1];var v=[l,u];if(Qa(v))return t==null?v:uT(v,t,n)}}}var cl=1e9,d9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gx,Pt=!0,Ur="[DecimalError] ",Io=Ur+"Invalid argument: ",Fx=Ur+"Exponent out of range: ",dl=Math.floor,No=Math.pow,f9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dr,on=1e7,St=7,kI=9007199254740991,Zf=dl(kI/St),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*St;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(e){return Ji(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,n=t.constructor;return pt(Ji(t,new n(e),0,1),n.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return Vt(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(dr))throw Error(Ur+"NaN");if(n.s<1)throw Error(Ur+(n.s?"NaN":"-Infinity"));return n.eq(dr)?new r(0):(Pt=!1,t=Ji(Wu(n,o),Wu(e,o),o),Pt=!0,pt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?II(t,e):PI(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ur+"NaN");return n.s?(Pt=!1,t=Ji(n,e,0,1).times(e),Pt=!0,n.minus(t)):pt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return MI(this)};Ce.naturalLogarithm=Ce.ln=function(){return Wu(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PI(t,e):II(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Io+e);if(t=Vt(i)+1,r=i.d.length-1,n=r*St+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ce.squareRoot=Ce.sqrt=function(){var e,t,n,r,i,o,l,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(Ur+"NaN")}for(e=Vt(u),Pt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=mi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=dl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=l=n+3;;)if(o=r,r=o.plus(Ji(u,o,l+2)).times(.5),mi(o.d).slice(0,l)===(t=mi(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(pt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return Pt=!0,pt(r,n)};Ce.times=Ce.mul=function(e){var t,n,r,i,o,l,u,h,f,p=this,m=p.constructor,v=p.d,b=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,h=v.length,f=b.length,h<f&&(o=v,v=b,b=o,l=h,h=f,f=l),o=[],l=h+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=h+r;i>r;)u=o[i]+b[r]*v[i-r-1]+t,o[i--]=u%on|0,t=u/on|0;o[i]=(o[i]+t)%on|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Pt?pt(e,m.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(wi(e,0,cl),t===void 0?t=r.rounding:wi(t,0,8),pt(n,e+Vt(n)+1,t))};Ce.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Uo(r,!0):(wi(e,0,cl),t===void 0?t=i.rounding:wi(t,0,8),r=pt(new i(r),e+1,t),n=Uo(r,!0,e+1)),n};Ce.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Uo(i):(wi(e,0,cl),t===void 0?t=o.rounding:wi(t,0,8),r=pt(new o(i),e+Vt(i)+1,t),n=Uo(r.abs(),!1,e+Vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return pt(new t(e),Vt(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,n,r,i,o,l,u=this,h=u.constructor,f=12,p=+(e=new h(e));if(!e.s)return new h(dr);if(u=new h(u),!u.s){if(e.s<1)throw Error(Ur+"Infinity");return u}if(u.eq(dr))return u;if(r=h.precision,e.eq(dr))return pt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=p<0?-p:p)<=kI){for(i=new h(dr),t=Math.ceil(r/St+4),Pt=!1;n%2&&(i=i.times(u),dT(i.d,t)),n=dl(n/2),n!==0;)u=u.times(u),dT(u.d,t);return Pt=!0,e.s<0?new h(dr).div(i):pt(i,r)}}else if(o<0)throw Error(Ur+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,Pt=!1,i=e.times(Wu(u,r+f)),Pt=!0,i=MI(i),i.s=o,i};Ce.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Vt(i),r=Uo(i,n<=o.toExpNeg||n>=o.toExpPos)):(wi(e,1,cl),t===void 0?t=o.rounding:wi(t,0,8),i=pt(new o(i),e,t),n=Vt(i),r=Uo(i,e<=n||n<=o.toExpNeg,e)),r};Ce.toSignificantDigits=Ce.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(wi(e,1,cl),t===void 0?t=r.rounding:wi(t,0,8)),pt(new r(n),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),n=e.constructor;return Uo(e,t<=n.toExpNeg||t>=n.toExpPos)};function PI(e,t){var n,r,i,o,l,u,h,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Pt?pt(t,m):t;if(h=e.d,f=t.d,l=e.e,i=t.e,h=h.slice(),o=l-i,o){for(o<0?(r=h,o=-o,u=f.length):(r=f,i=l,u=h.length),l=Math.ceil(m/St),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=h.length,o=f.length,u-o<0&&(o=u,r=f,f=h,h=r),n=0;o;)n=(h[--o]=h[o]+f[o]+n)/on|0,h[o]%=on;for(n&&(h.unshift(n),++i),u=h.length;h[--u]==0;)h.pop();return t.d=h,t.e=i,Pt?pt(t,m):t}function wi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Io+e)}function mi(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=St-r.length,n&&(o+=Ga(n)),o+=r;l=e[t],r=l+"",n=St-r.length,n&&(o+=Ga(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ji=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%on|0,l=o/on|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,h;if(o!=l)h=o>l?1:-1;else for(u=h=0;u<o;u++)if(r[u]!=i[u]){h=r[u]>i[u]?1:-1;break}return h}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*on+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,h,f,p,m,v,b,N,E,A,T,k,P,I,R,j,M,G,U=r.constructor,D=r.s==i.s?1:-1,O=r.d,$=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Ur+"Division by zero");for(h=r.e-i.e,M=$.length,R=O.length,b=new U(D),N=b.d=[],f=0;$[f]==(O[f]||0);)++f;if($[f]>(O[f]||0)&&--h,o==null?k=o=U.precision:l?k=o+(Vt(r)-Vt(i))+1:k=o,k<0)return new U(0);if(k=k/St+2|0,f=0,M==1)for(p=0,$=$[0],k++;(f<R||p)&&k--;f++)P=p*on+(O[f]||0),N[f]=P/$|0,p=P%$|0;else{for(p=on/($[0]+1)|0,p>1&&($=e($,p),O=e(O,p),M=$.length,R=O.length),I=M,E=O.slice(0,M),A=E.length;A<M;)E[A++]=0;G=$.slice(),G.unshift(0),j=$[0],$[1]>=on/2&&++j;do p=0,u=t($,E,M,A),u<0?(T=E[0],M!=A&&(T=T*on+(E[1]||0)),p=T/j|0,p>1?(p>=on&&(p=on-1),m=e($,p),v=m.length,A=E.length,u=t(m,E,v,A),u==1&&(p--,n(m,M<v?G:$,v))):(p==0&&(u=p=1),m=$.slice()),v=m.length,v<A&&m.unshift(0),n(E,m,A),u==-1&&(A=E.length,u=t($,E,M,A),u<1&&(p++,n(E,M<A?G:$,A))),A=E.length):u===0&&(p++,E=[0]),N[f++]=p,u&&E[0]?E[A++]=O[I]||0:(E=[O[I]],A=1);while((I++<R||E[0]!==void 0)&&k--)}return N[0]||N.shift(),b.e=h,pt(b,l?o+Vt(b)+1:o)}})();function MI(e,t){var n,r,i,o,l,u,h=0,f=0,p=e.constructor,m=p.precision;if(Vt(e)>16)throw Error(Fx+Vt(e));if(!e.s)return new p(dr);for(Pt=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(No(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new p(dr),p.precision=u;;){if(i=pt(i.times(e),u),n=n.times(++h),l=o.plus(Ji(i,n,u)),mi(l.d).slice(0,u)===mi(o.d).slice(0,u)){for(;f--;)o=pt(o.times(o),u);return p.precision=m,t==null?(Pt=!0,pt(o,m)):o}o=l}}function Vt(e){for(var t=e.e*St,n=e.d[0];n>=10;n/=10)t++;return t}function Xy(e,t,n){if(t>e.LN10.sd())throw Pt=!0,n&&(e.precision=n),Error(Ur+"LN10 precision limit exceeded");return pt(new e(e.LN10),t)}function Ga(e){for(var t="";e--;)t+="0";return t}function Wu(e,t){var n,r,i,o,l,u,h,f,p,m=1,v=10,b=e,N=b.d,E=b.constructor,A=E.precision;if(b.s<1)throw Error(Ur+(b.s?"NaN":"-Infinity"));if(b.eq(dr))return new E(0);if(t==null?(Pt=!1,f=A):f=t,b.eq(10))return t==null&&(Pt=!0),Xy(E,f);if(f+=v,E.precision=f,n=mi(N),r=n.charAt(0),o=Vt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=mi(b.d),r=n.charAt(0),m++;o=Vt(b),r>1?(b=new E("0."+n),o++):b=new E(r+"."+n.slice(1))}else return h=Xy(E,f+2,A).times(o+""),b=Wu(new E(r+"."+n.slice(1)),f-v).plus(h),E.precision=A,t==null?(Pt=!0,pt(b,A)):b;for(u=l=b=Ji(b.minus(dr),b.plus(dr),f),p=pt(b.times(b),f),i=3;;){if(l=pt(l.times(p),f),h=u.plus(Ji(l,new E(i),f)),mi(h.d).slice(0,f)===mi(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Xy(E,f+2,A).times(o+""))),u=Ji(u,new E(m),f),E.precision=A,t==null?(Pt=!0,pt(u,A)):u;u=h,i+=2}}function cT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=dl(n/St),e.d=[],r=(n+1)%St,n<0&&(r+=St),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=St;r<i;)e.d.push(+t.slice(r,r+=St));t=t.slice(r),r=St-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Pt&&(e.e>Zf||e.e<-Zf))throw Error(Fx+n)}else e.s=0,e.e=0,e.d=[0];return e}function pt(e,t,n){var r,i,o,l,u,h,f,p,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=St,i=t,f=m[p=0];else{if(p=Math.ceil((r+1)/St),o=m.length,p>=o)return e;for(f=o=m[p],l=1;o>=10;o/=10)l++;r%=St,i=r-St+l}if(n!==void 0&&(o=No(10,l-i-1),u=f/o%10|0,h=t<0||m[p+1]!==void 0||f%o,h=n<4?(u||h)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||h||n==6&&(r>0?i>0?f/No(10,l-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return h?(o=Vt(e),m.length=1,t=t-o-1,m[0]=No(10,(St-t%St)%St),e.e=dl(-t/St)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=No(10,St-r),m[p]=i>0?(f/No(10,l-i)%No(10,i)|0)*o:0),h)for(;;)if(p==0){(m[0]+=o)==on&&(m[0]=1,++e.e);break}else{if(m[p]+=o,m[p]!=on)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Pt&&(e.e>Zf||e.e<-Zf))throw Error(Fx+Vt(e));return e}function II(e,t){var n,r,i,o,l,u,h,f,p,m,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Pt?pt(t,b):t;if(h=e.d,m=t.d,r=t.e,f=e.e,h=h.slice(),l=f-r,l){for(p=l<0,p?(n=h,l=-l,u=m.length):(n=m,r=f,u=h.length),i=Math.max(Math.ceil(b/St),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=h.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(h[i]!=m[i]){p=h[i]<m[i];break}l=0}for(p&&(n=h,h=m,m=n,t.s=-t.s),u=h.length,i=m.length-u;i>0;--i)h[u++]=0;for(i=m.length;i>l;){if(h[--i]<m[i]){for(o=i;o&&h[--o]===0;)h[o]=on-1;--h[o],h[i]+=on}h[i]-=m[i]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,Pt?pt(t,b):t):new v(0)}function Uo(e,t,n){var r,i=Vt(e),o=mi(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ga(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ga(-i-1)+o,n&&(r=n-l)>0&&(o+=Ga(r))):i>=l?(o+=Ga(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Ga(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Ga(r))),e.s<0?"-"+o:o}function dT(e,t){if(e.length>t)return e.length=t,!0}function jI(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Io+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return cT(l,o.toString())}else if(typeof o!="string")throw Error(Io+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,f9.test(o))cT(l,o);else throw Error(Io+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jI,i.config=i.set=h9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function h9(e){if(!e||typeof e!="object")throw Error(Ur+"Object expected");var t,n,r,i=["precision",1,cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(dl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Io+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Io+n+": "+r);return this}var Gx=jI(d9);dr=new Gx(1);const ut=Gx;var p9=e=>e,RI={},DI=e=>e===RI,fT=e=>function t(){return arguments.length===0||arguments.length===1&&DI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OI=(e,t)=>e===1?t:fT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==RI).length;return o>=e?t(...r):OI(e-o,fT(function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var f=r.map(p=>DI(p)?u.shift():p);return t(...f,...u)}))}),m9=e=>OI(e.length,e),hv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},g9=m9((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),y9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return p9;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,h)=>h(u),o(...arguments))}};function LI(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function UI(e,t,n){for(var r=new ut(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var BI=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},zI=(e,t,n)=>{if(e.lte(0))return new ut(0);var r=LI(e.toNumber()),i=new ut(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new ut(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=u.mul(i);return t?new ut(h.toNumber()):new ut(Math.ceil(h.toNumber()))},v9=(e,t,n)=>{var r=new ut(1),i=new ut(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ut(10).pow(LI(e)-1),i=new ut(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ut(Math.floor(e)))}else e===0?i=new ut(Math.floor((t-1)/2)):n||(i=new ut(Math.floor(e)));var l=Math.floor((t-1)/2),u=y9(g9(h=>i.add(new ut(h-l).mul(r)).toNumber()),hv);return u(0,t)},qI=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var l=zI(new ut(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new ut(0):(u=new ut(t).add(n).div(2),u=u.sub(new ut(u).mod(l)));var h=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new ut(n).sub(u).div(l).toNumber()),p=h+f+1;return p>r?qI(t,n,r,i,o+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:l,tickMin:u.sub(new ut(h).mul(l)),tickMax:u.add(new ut(f).mul(l))})},x9=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,h]=BI([n,r]);if(u===-1/0||h===1/0){var f=h===1/0?[u,...hv(0,i-1).map(()=>1/0)]:[...hv(0,i-1).map(()=>-1/0),h];return n>r?f.reverse():f}if(u===h)return v9(u,i,o);var{step:p,tickMin:m,tickMax:v}=qI(u,h,l,o,0),b=UI(m,v.add(new ut(.1).mul(p)),p);return n>r?b.reverse():b},b9=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=BI([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(n,2),f=zI(new ut(u).sub(l).div(h-1),o,0),p=[...UI(new ut(l),new ut(u),f),u];return o===!1&&(p=p.map(m=>Math.round(m))),r>i?p.reverse():p},w9=e=>e.rootProps.barCategoryGap,Wh=e=>e.rootProps.stackOffset,HI=e=>e.rootProps.reverseStackOrder,Vx=e=>e.options.chartName,$x=e=>e.rootProps.syncId,FI=e=>e.rootProps.syncMethod,Yx=e=>e.options.eventEmitter,S9=e=>e.rootProps.baseValue,On={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Qh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},N9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vi.angleAxisId,includeHidden:!1,name:void 0,reversed:Vi.reversed,scale:Vi.scale,tick:Vi.tick,tickCount:void 0,ticks:void 0,type:Vi.type,unit:void 0},E9={allowDataOverflow:cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:cr.type,unit:void 0},A9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vi.scale,tick:Vi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},C9={allowDataOverflow:cr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,ticks:void 0,type:"category",unit:void 0},Kx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?A9:N9,Jx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?C9:E9,Zh=e=>e.polarOptions,Xx=le([sa,la,Sn],xH),GI=le([Zh,Xx],(e,t)=>{if(e!=null)return Wa(e.innerRadius,t,0)}),VI=le([Zh,Xx],(e,t)=>{if(e!=null)return Wa(e.outerRadius,t,t*.8)}),T9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},$I=le([Zh],T9);le([Kx,$I],Qh);var YI=le([Xx,GI,VI],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});le([Jx,YI],Qh);var KI=le([vt,Zh,GI,VI,sa,la],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:h,endAngle:f}=t;return{cx:Wa(l,i,i/2),cy:Wa(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),Wt=(e,t)=>t,ep=(e,t,n)=>n;function Wx(e){return e==null?void 0:e.id}function JI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var h,f=(h=u.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var p=Wx(u);f.forEach((m,v)=>{var b=o==null||i?v:String(wn(m,o,null)),N=wn(m,u.dataKey,0),E;l.has(b)?E=l.get(b):E={},Object.assign(E,{[p]:N}),l.set(b,E)})}}),Array.from(l.values())}function Qx(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var tp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function np(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _9(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qt=e=>{var t=vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fl=e=>e.tooltip.settings.axisId;function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){k9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pv=[0,"auto"],rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XI=(e,t)=>e.cartesianAxis.xAxis[t],da=(e,t)=>{var n=XI(e,t);return n??rn},an={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sc},WI=(e,t)=>e.cartesianAxis.yAxis[t],fa=(e,t)=>{var n=WI(e,t);return n??an},I9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Zx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??I9},zn=(e,t,n)=>{switch(t){case"xAxis":return da(e,n);case"yAxis":return fa(e,n);case"zAxis":return Zx(e,n);case"angleAxis":return Kx(e,n);case"radiusAxis":return Jx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},j9=(e,t,n)=>{switch(t){case"xAxis":return da(e,n);case"yAxis":return fa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pc=(e,t,n)=>{switch(t){case"xAxis":return da(e,n);case"yAxis":return fa(e,n);case"angleAxis":return Kx(e,n);case"radiusAxis":return Jx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},QI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ZI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ej=e=>e.graphicalItems.cartesianItems,R9=le([Wt,ep],ZI),tj=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),mc=le([ej,zn,R9],tj,{memoizeOptions:{resultEqualityCheck:np}}),nj=le([mc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qx)),rj=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),D9=le([mc],rj),ij=e=>e.map(t=>t.data).filter(Boolean).flat(1),O9=le([mc],ij,{memoizeOptions:{resultEqualityCheck:np}}),aj=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},eb=le([O9,TI],aj),oj=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:wn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:wn(i,r)}))):e.map(r=>({value:r})),rp=le([eb,zn,mc],oj);function sj(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pf(e){if(xi(e)||e instanceof Date){var t=Number(e);if(Mt(t))return t}}function pT(e){if(Array.isArray(e)){var t=[pf(e[0]),pf(e[1])];return Qa(t)?t:void 0}var n=pf(e);if(n!=null)return[n,n]}function na(e){return e.map(pf).filter(Q6)}function L9(e,t,n){return!n||typeof t!="number"||ti(t)?[]:n.length?na(n.flatMap(r=>{var i=wn(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Mt(o)||!Mt(l)))return[t-o,t+l]})):[]}var Zt=e=>{var t=Qt(e),n=fl(e);return pc(e,t,n)},gc=le([Zt],e=>e==null?void 0:e.dataKey),U9=le([nj,TI,Zt],JI),lj=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var h=l[u.stackId];return h==null&&(h=[]),h.push(u),l[u.stackId]=h,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,h]=l,f=r?[...h].reverse():h,p=f.map(Wx);return[u,{stackedData:sz(e,p,n),graphicalItems:f}]}))},uj=le([U9,nj,Wh,HI],lj),cj=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=dz(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},B9=le([zn],e=>e.allowDataOverflow),tb=e=>{var t;if(e==null||!("domain"in e))return pv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=na(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:pv},dj=le([zn],tb),fj=le([dj,B9],_I),z9=le([uj,ca,Wt,fj],cj,{memoizeOptions:{resultEqualityCheck:tp}}),nb=e=>e.errorBars,q9=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>sj(n,r)),th=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},hj=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(h=>{var f,p,m=(f=r[h.id])===null||f===void 0?void 0:f.filter(T=>sj(i,T)),v=wn(u,(p=t.dataKey)!==null&&p!==void 0?p:h.dataKey),b=L9(u,v,m);if(b.length>=2){var N=Math.min(...b),E=Math.max(...b);(o==null||N<o)&&(o=N),(l==null||E>l)&&(l=E)}var A=pT(v);A!=null&&(o=o==null?A[0]:Math.min(o,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var h=pT(wn(u,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),Mt(o)&&Mt(l))return[o,l]},H9=le([eb,zn,D9,nb,Wt],hj,{memoizeOptions:{resultEqualityCheck:tp}});function F9(e){var{value:t}=e;if(xi(t)||t instanceof Date)return t}var G9=(e,t,n)=>{var r=e.map(F9).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&CP(r))?VM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},pj=e=>e.referenceElements.dots,hl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),V9=le([pj,Wt,ep],hl),mj=e=>e.referenceElements.areas,$9=le([mj,Wt,ep],hl),gj=e=>e.referenceElements.lines,Y9=le([gj,Wt,ep],hl),yj=(e,t)=>{if(e!=null){var n=na(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},K9=le(V9,Wt,yj),vj=(e,t)=>{if(e!=null){var n=na(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},J9=le([$9,Wt],vj);function X9(e){var t;if(e.x!=null)return na([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:na(n)}function W9(e){var t;if(e.y!=null)return na([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:na(n)}var xj=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?X9(r):W9(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Q9=le([Y9,Wt],xj),Z9=le(K9,Q9,J9,(e,t,n)=>th(e,n,t)),bj=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var h=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=h?th(r,o,i):th(o,i);return c9(t,f,e.allowDataOverflow)},eG=le([zn,dj,fj,z9,H9,Z9,vt,Wt],bj,{memoizeOptions:{resultEqualityCheck:tp}}),tG=[0,1],wj=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:h}=e,f=oa(t,o);if(f&&u==null){var p;return VM(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return h==="category"?G9(r,e,f):i==="expand"?tG:l}},rb=le([zn,vt,eb,rp,Wh,Wt,eG],wj),Sj=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(ax(o));return u in Mu?u:"point"}}},yc=le([zn,vt,QI,Vx,Wt],Sj);function nG(e){if(e!=null){if(e in Mu)return Mu[e]();var t="scale".concat(ax(e));if(t in Mu)return Mu[t]()}}function ib(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=nG(t);if(i!=null){var o=i.domain(n).range(r);return rz(o),o}}}var Nj=(e,t,n)=>{var r=tb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qa(e))return x9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qa(e))return b9(e,t.tickCount,t.allowDecimals)}},ab=le([rb,pc,yc],Nj),Ej=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Qa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},rG=le([zn,rb,ab,Wt],Ej),iG=le(rp,zn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(na(e.map(m=>m.value))).sort((m,v)=>m-v),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var h=r[u],f=r[u+1];if(!(h==null||f==null)){var p=f-h;n=Math.min(n,p)}}return n/l}}),Aj=le(iG,vt,w9,Sn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Mt(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Wa(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),aG=(e,t,n)=>{var r=da(e,t);return r==null||typeof r.padding!="string"?0:Aj(e,"xAxis",t,n,r.padding)},oG=(e,t,n)=>{var r=fa(e,t);return r==null||typeof r.padding!="string"?0:Aj(e,"yAxis",t,n,r.padding)},sG=le(da,aG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),lG=le(fa,oG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),uG=le([Sn,sG,Bh,Uh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),cG=le([Sn,vt,lG,Bh,Uh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),vc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return uG(e,n,r);case"yAxis":return cG(e,n,r);case"zAxis":return(i=Zx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $I(e);case"radiusAxis":return YI(e,n);default:return}},Cj=le([zn,vc],Qh),ip=le([zn,yc,rG,Cj],ib);le([mc,nb,Wt],q9);function Tj(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ap=(e,t)=>t,op=(e,t,n)=>n,dG=le(Oh,ap,op,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Tj)),fG=le(Lh,ap,op,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Tj)),_j=(e,t)=>({width:e.width,height:t.height}),hG=(e,t)=>{var n=typeof t.width=="number"?t.width:sc;return{width:n,height:e.height}},pG=le(Sn,da,_j),mG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},gG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},yG=le(la,Sn,dG,ap,op,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var h=_j(t,u);l==null&&(l=mG(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),o}),vG=le(sa,Sn,fG,ap,op,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var h=hG(t,u);l==null&&(l=gG(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),o}),xG=(e,t)=>{var n=da(e,t);if(n!=null)return yG(e,n.orientation,n.mirror)},bG=le([Sn,da,xG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),wG=(e,t)=>{var n=fa(e,t);if(n!=null)return vG(e,n.orientation,n.mirror)},SG=le([Sn,fa,wG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),NG=le(Sn,fa,(e,t)=>{var n=typeof t.width=="number"?t.width:sc;return{width:n,height:e.height}}),kj=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=oa(e,r),h=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&CP(h))return h}},ob=le([vt,rp,zn,Wt],kj),Pj=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=oa(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},sb=le([vt,rp,pc,Wt],Pj),mT=le([vt,j9,yc,ip,ob,sb,vc,ab,Wt],(e,t,n,r,i,o,l,u,h)=>{if(t!=null){var f=oa(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),EG=(e,t,n,r,i,o,l,u,h)=>{if(!(t==null||r==null)){var f=oa(e,h),{type:p,ticks:m,tickCount:v}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=p==="category"&&r.bandwidth?r.bandwidth()/b:0;N=h==="angleAxis"&&o!=null&&o.length>=2?Ir(o[0]-o[1])*2*N:N;var E=m||i;if(E){var A=E.map((T,k)=>{var P=l?l.indexOf(T):T;return{index:k,coordinate:r(P)+N,value:T,offset:N}});return A.filter(T=>Mt(T.coordinate))}return f&&u?u.map((T,k)=>({coordinate:r(T)+N,value:T,index:k,offset:N})).filter(T=>Mt(T.coordinate)):r.ticks?r.ticks(v).map(T=>({coordinate:r(T)+N,value:T,offset:N})):r.domain().map((T,k)=>({coordinate:r(T)+N,value:l?l[T]:T,index:k,offset:N}))}},Mj=le([vt,pc,yc,ip,ab,vc,ob,sb,Wt],EG),AG=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=oa(e,l),{tickCount:h}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Ir(r[0]-r[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},Ij=le([vt,pc,ip,vc,ob,sb,Wt],AG),jj=le(zn,ip,(e,t)=>{if(!(e==null||t==null))return eh(eh({},e),{},{scale:t})}),CG=le([zn,yc,rb,Cj],ib);le((e,t,n)=>Zx(e,n),CG,(e,t)=>{if(!(e==null||t==null))return eh(eh({},e),{},{scale:t})});var TG=le([vt,Oh,Lh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Rj=e=>e.options.defaultTooltipEventType,Dj=e=>e.options.validateTooltipEventTypes;function Oj(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function lb(e,t){var n=Rj(e),r=Dj(e);return Oj(t,n,r)}function _G(e){return je(t=>lb(t,e))}var Lj=(e,t)=>{var n,r=Number(t);if(!(ti(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},kG=e=>e.tooltip.settings,$a={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},PG={itemInteraction:{click:$a,hover:$a},axisInteraction:{click:$a,hover:$a},keyboardInteraction:$a,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Uj=Zn({name:"tooltip",initialState:PG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:kt()},removeTooltipEntrySettings:{reducer(e,t){var n=Xr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:MG,replaceTooltipEntrySettings:IG,removeTooltipEntrySettings:jG,setTooltipSettingsState:RG,setActiveMouseOverItemIndex:DG,mouseLeaveItem:Gle,mouseLeaveChart:Bj,setActiveClickItemIndex:Vle,setMouseOverAxisIndex:zj,setMouseClickAxisIndex:OG,setSyncInteraction:mv,setKeyboardInteraction:gv}=Uj.actions,LG=Uj.reducer;function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(r){UG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UG(e,t,n){return(t=BG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function HG(e){return e.index!=null}var qj=(e,t,n,r)=>{if(t==null)return $a;var i=qG(e,t,n);if(i==null)return $a;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(HG(i)){if(o)return Xd(Xd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Xd(Xd({},$a),{},{coordinate:i.coordinate})};function FG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function GG(e,t){var n=FG(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function VG(e,t,n){if(n==null||t==null)return!0;var r=wn(e,t);return r==null||!Qa(n)?!0:GG(r,n)}var ub=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!Mt(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var h=Math.max(l,Math.min(o,u)),f=t[h];return f==null||VG(f,n,r)?String(h):null},Hj=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var h=l[0],f=h==null?void 0:u(h.positions,o);if(f!=null)return f;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},Fj=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},xc=e=>e.options.tooltipPayloadSearcher,pl=e=>e.tooltip;function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){$G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $G(e,t,n){return(t=YG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JG(e,t){return e??t}var Gj=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,m=[];return e.reduce((v,b)=>{var N,{dataDefinedOnItem:E,settings:A}=b,T=JG(E,u),k=Array.isArray(T)?yM(T,f,p):T,P=(N=A==null?void 0:A.dataKey)!==null&&N!==void 0?N:r,I=A==null?void 0:A.nameKey,R;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?R=TP(k,r,i):R=o(k,t,h,I),Array.isArray(R))R.forEach(M=>{var G=vT(vT({},A),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(EA({tooltipEntrySettings:G,dataKey:M.dataKey,payload:M.payload,value:wn(M.payload,M.dataKey),name:M.name}))});else{var j;v.push(EA({tooltipEntrySettings:A,dataKey:P,payload:R,value:wn(R,P),name:(j=wn(R,I))!==null&&j!==void 0?j:A==null?void 0:A.name}))}return v},m)}},cb=le([Zt,vt,QI,Vx,Qt],Sj),XG=le([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),WG=le([Qt,fl],ZI),ml=le([XG,Zt,WG],tj,{memoizeOptions:{resultEqualityCheck:np}}),QG=le([ml],e=>e.filter(Qx)),ZG=le([ml],ij,{memoizeOptions:{resultEqualityCheck:np}}),gl=le([ZG,ca],aj),eV=le([QG,ca,Zt],JI),db=le([gl,Zt,ml],oj),Vj=le([Zt],tb),tV=le([Zt],e=>e.allowDataOverflow),$j=le([Vj,tV],_I),nV=le([ml],e=>e.filter(Qx)),rV=le([eV,nV,Wh,HI],lj),iV=le([rV,ca,Qt,$j],cj),aV=le([ml],rj),oV=le([gl,Zt,aV,nb,Qt],hj,{memoizeOptions:{resultEqualityCheck:tp}}),sV=le([pj,Qt,fl],hl),lV=le([sV,Qt],yj),uV=le([mj,Qt,fl],hl),cV=le([uV,Qt],vj),dV=le([gj,Qt,fl],hl),fV=le([dV,Qt],xj),hV=le([lV,fV,cV],th),pV=le([Zt,Vj,$j,iV,oV,hV,vt,Qt],bj),bc=le([Zt,vt,gl,db,Wh,Qt,pV],wj),mV=le([bc,Zt,cb],Nj),gV=le([Zt,bc,mV,Qt],Ej),Yj=e=>{var t=Qt(e),n=fl(e),r=!1;return vc(e,t,n,r)},Kj=le([Zt,Yj],Qh),Jj=le([Zt,cb,gV,Kj],ib),yV=le([vt,db,Zt,Qt],kj),vV=le([vt,db,Zt,Qt],Pj),xV=(e,t,n,r,i,o,l,u)=>{if(t){var{type:h}=t,f=oa(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ir(i[0]-i[1])*2*m:m,f&&l?l.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:o?o[v]:v,index:b,offset:m}))}}},ha=le([vt,Zt,cb,Jj,Yj,yV,vV,Qt],xV),fb=le([Rj,Dj,kG],(e,t,n)=>Oj(n.shared,e,t)),Xj=e=>e.tooltip.settings.trigger,hb=e=>e.tooltip.settings.defaultIndex,wc=le([pl,fb,Xj,hb],qj),Qu=le([wc,gl,gc,bc],ub),Wj=le([ha,Qu],Lj),bV=le([wc],e=>{if(e)return e.dataKey});le([wc],e=>{if(e)return e.graphicalItemId});var Qj=le([pl,fb,Xj,hb],Fj),wV=le([sa,la,vt,Sn,ha,hb,Qj,xc],Hj),SV=le([wc,wV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),NV=le([wc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),EV=le([Qj,Qu,ca,gc,Wj,xc,fb],Gj),AV=le([EV],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){CV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CV(e,t,n){return(t=TV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TV(e){var t=_V(e,"string");return typeof t=="symbol"?t:t+""}function _V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kV=()=>je(Zt),PV=()=>{var e=kV(),t=je(ha),n=je(Jj);return Rf(!e||!n?void 0:bT(bT({},e),{},{scale:n}),t)};function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(r){MV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MV(e,t,n){return(t=IV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RV=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},DV=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return Rs(Rs(Rs({},r),xn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:h}=r;return Rs(Rs(Rs({},r),xn(r.cx,r.cy,u,h)),{},{angle:h,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function OV(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var Zj=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var h,f,p,m,v,b=u>0?(h=n[u-1])===null||h===void 0?void 0:h.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,N=(p=n[u])===null||p===void 0?void 0:p.coordinate,E=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,A=void 0;if(!(b==null||N==null||E==null))if(Ir(N-b)!==Ir(E-N)){var T=[];if(Ir(E-N)===Ir(i[1]-i[0])){A=E;var k=N+i[1]-i[0];T[0]=Math.min(k,(k+b)/2),T[1]=Math.max(k,(k+b)/2)}else{A=b;var P=E+i[1]-i[0];T[0]=Math.min(N,(P+N)/2),T[1]=Math.max(N,(P+N)/2)}var I=[Math.min(N,(A+N)/2),Math.max(N,(A+N)/2)];if(e>I[0]&&e<=I[1]||e>=T[0]&&e<=T[1]){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}else{var j=Math.min(b,E),M=Math.max(b,E);if(e>(j+N)/2&&e<=(M+N)/2){var G;return(G=n[u])===null||G===void 0?void 0:G.index}}}else if(t)for(var U=0;U<l;U++){var D=t[U];if(D!=null){var O=t[U+1],$=t[U-1];if(U===0&&O!=null&&e<=(D.coordinate+O.coordinate)/2||U===l-1&&$!=null&&e>(D.coordinate+$.coordinate)/2||U>0&&U<l-1&&$!=null&&O!=null&&e>(D.coordinate+$.coordinate)/2&&e<=(D.coordinate+O.coordinate)/2)return D.index}}return-1},eR=()=>je(Vx),pb=(e,t)=>t,tR=(e,t,n)=>n,mb=(e,t,n,r)=>r,LV=le(ha,e=>Th(e,t=>t.coordinate)),gb=le([pl,pb,tR,mb],qj),yb=le([gb,gl,gc,bc],ub),UV=(e,t,n)=>{if(t!=null){var r=pl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},nR=le([pl,pb,tR,mb],Fj),nh=le([sa,la,vt,Sn,ha,mb,nR,xc],Hj),BV=le([gb,nh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),rR=le([ha,yb],Lj),zV=le([nR,yb,ca,gc,rR,xc,pb],Gj),qV=le([gb,yb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),HV=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&OV(e,l)){var u=fz(e,t),h=Zj(u,o,i,n,r),f=RV(t,i,h,e);return{activeIndex:String(h),activeCoordinate:f}}},FV=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=EH(e,n);if(u){var h=hz(u,t),f=Zj(h,l,o,r,i),p=DV(t,o,f,u);return{activeIndex:String(f),activeCoordinate:p}}}},GV=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?HV(e,t,r,i,o,l,u):FV(e,t,n,r,i,o,l)},VV=le(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),$V=le(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(On)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:_9}});function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){YV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YV(e,t,n){return(t=KV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XV={},WV={zIndexMap:Object.values(On).reduce((e,t)=>NT(NT({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),XV)},QV=new Set(Object.values(On));function ZV(e){return QV.has(e)}var iR=Zn({name:"zIndex",initialState:WV,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!ZV(n)&&delete e.zIndexMap[n])},prepare:kt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:kt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:kt()}}}),{registerZIndexPortal:e$,unregisterZIndexPortal:t$,registerZIndexPortalElement:n$,unregisterZIndexPortalElement:r$}=iR.actions,i$=iR.reducer;function pa(e){var{zIndex:t,children:n}=e,r=Yz(),i=r&&t!==void 0&&t!==0,o=er(),l=sn();C.useLayoutEffect(()=>i?(l(e$({zIndex:t})),()=>{l(t$({zIndex:t}))}):rc,[l,t,i]);var u=je(h=>VV(h,t,o));return i?u?cP.createPortal(n,u):null:n}function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yv.apply(null,arguments)}function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(n),!0).forEach(function(r){a$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a$(e,t,n){return(t=o$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=s$(e,"string");return typeof t=="symbol"?t:t+""}function s$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l$(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function u$(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:h,tooltipEventType:f,chartName:p}=e,m=n,v=r,b=i;if(!h||!m||p!=="ScatterChart"&&f!=="axis")return null;var N,E,A;if(p==="ScatterChart")N=m,E=Dq,A=On.cursorLine;else if(p==="BarChart")N=Oq(u,m,o,l),E=pH,A=On.cursorRectangle;else if(u==="radial"&&_P(m)){var{cx:T,cy:k,radius:P,startAngle:I,endAngle:R}=FM(m);N={cx:T,cy:k,startAngle:I,endAngle:R,innerRadius:P,outerRadius:P},E=_H,A=On.cursorLine}else N={points:kH(u,m,o)},E=hf,A=On.cursorLine;var j=typeof h=="object"&&"className"in h?h.className:void 0,M=Wd(Wd(Wd(Wd({stroke:"#ccc",pointerEvents:"none"},o),N),Nh(h)),{},{payload:v,payloadIndex:b,className:Et("recharts-tooltip-cursor",j)});return C.createElement(pa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:A},C.createElement(l$,{cursor:h,cursorComp:E,cursorProps:M}))}function c$(e){var t=PV(),n=TM(),r=ll(),i=eR();return t==null||n==null||r==null||i==null?null:C.createElement(u$,yv({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var aR=C.createContext(null),d$=()=>C.useContext(aR),Wy={exports:{}},AT;function f$(){return AT||(AT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function o(h,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,m||h,v),N=n?n+f:f;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],b]:h._events[N].push(b):(h._events[N]=b,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,N=new Array(b);v<b;v++)N[v]=m[v].fn;return N},u.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,v,b,N){var E=n?n+f:f;if(!this._events[E])return!1;var A=this._events[E],T=arguments.length,k,P;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),T){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,m),!0;case 4:return A.fn.call(A.context,p,m,v),!0;case 5:return A.fn.call(A.context,p,m,v,b),!0;case 6:return A.fn.call(A.context,p,m,v,b,N),!0}for(P=1,k=new Array(T-1);P<T;P++)k[P-1]=arguments[P];A.fn.apply(A.context,k)}else{var I=A.length,R;for(P=0;P<I;P++)switch(A[P].once&&this.removeListener(f,A[P].fn,void 0,!0),T){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,p);break;case 3:A[P].fn.call(A[P].context,p,m);break;case 4:A[P].fn.call(A[P].context,p,m,v);break;default:if(!k)for(R=1,k=new Array(T-1);R<T;R++)k[R-1]=arguments[R];A[P].fn.apply(A[P].context,k)}}return!0},u.prototype.on=function(f,p,m){return o(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return o(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,v){var b=n?n+f:f;if(!this._events[b])return this;if(!p)return l(this,b),this;var N=this._events[b];if(N.fn)N.fn===p&&(!v||N.once)&&(!m||N.context===m)&&l(this,b);else{for(var E=0,A=[],T=N.length;E<T;E++)(N[E].fn!==p||v&&!N[E].once||m&&N[E].context!==m)&&A.push(N[E]);A.length?this._events[b]=A.length===1?A[0]:A:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Wy)),Wy.exports}var h$=f$();const p$=ri(h$);var Zu=new p$,vv="recharts.syncEvent.tooltip",CT="recharts.syncEvent.brush";function m$(e,t){if(t){var n=Number.parseInt(t,10);if(!ti(n))return e==null?void 0:e[n]}}var g$={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oR=Zn({name:"options",initialState:g$,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),y$=oR.reducer,{createEventEmitter:v$}=oR.actions;function x$(e){return e.tooltip.syncInteraction}var b$={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sR=Zn({name:"chartData",initialState:b$,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:TT,setDataStartEndIndexes:w$,setComputedData:$le}=sR.actions,S$=sR.reducer,N$=["x","y"];function _T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(n),!0).forEach(function(r){E$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E$(e,t,n){return(t=A$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A$(e){var t=C$(e,"string");return typeof t=="symbol"?t:t+""}function C$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T$(e,t){if(e==null)return{};var n,r,i=_$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function k$(){var e=je($x),t=je(Yx),n=sn(),r=je(FI),i=je(ha),o=ll(),l=zh(),u=je(h=>h.rootProps.className);C.useEffect(()=>{if(e==null)return rc;var h=(f,p,m)=>{if(t!==m&&e===f){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:N,y:E}=b,A=T$(b,N$),{x:T,y:k,width:P,height:I}=p.payload.sourceViewBox,R=Ds(Ds({},A),{},{x:l.x+(P?(N-T)/P:0)*l.width,y:l.y+(I?(E-k)/I:0)*l.height});n(Ds(Ds({},p),{},{payload:Ds(Ds({},p.payload),{},{coordinate:R})}))}else n(p);return}if(i!=null){var j;if(typeof r=="function"){var M={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},G=r(i,M);j=i[G]}else r==="value"&&(j=i.find(B=>String(B.value)===p.payload.label));var{coordinate:U}=p.payload;if(j==null||p.payload.active===!1||U==null||l==null){n(mv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:O}=U,$=Math.min(D,l.x+l.width),F=Math.min(O,l.y+l.height),V={x:o==="horizontal"?j.coordinate:$,y:o==="horizontal"?F:j.coordinate},z=mv({active:p.payload.active,coordinate:V,dataKey:p.payload.dataKey,index:String(j.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(z)}}};return Zu.on(vv,h),()=>{Zu.off(vv,h)}},[u,n,t,e,r,i,o,l])}function P$(){var e=je($x),t=je(Yx),n=sn();C.useEffect(()=>{if(e==null)return rc;var r=(i,o,l)=>{t!==l&&e===i&&n(w$(o))};return Zu.on(CT,r),()=>{Zu.off(CT,r)}},[n,t,e])}function M$(){var e=sn();C.useEffect(()=>{e(v$())},[e]),k$(),P$()}function I$(e,t,n,r,i,o){var l=je(b=>UV(b,e,t)),u=je(Yx),h=je($x),f=je(FI),p=je(x$),m=p==null?void 0:p.active,v=zh();C.useEffect(()=>{if(!m&&h!=null&&u!=null){var b=mv({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Zu.emit(vv,h,b,u)}},[m,n,l,i,r,u,h,f,o,v])}function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(n),!0).forEach(function(r){j$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j$(e,t,n){return(t=R$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R$(e){var t=D$(e,"string");return typeof t=="symbol"?t:t+""}function D$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O$(e){return e.dataKey}function L$(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(pq,t)}var MT=[],U$={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function B$(e){var t,n,r=gr(e,U$),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:h,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:v,position:b,reverseDirection:N,useTranslate3d:E,wrapperStyle:A,cursor:T,shared:k,trigger:P,defaultIndex:I,portal:R,axisId:j}=r,M=sn(),G=typeof I=="number"?String(I):I;C.useEffect(()=>{M(RG({shared:k,trigger:P,axisId:j,active:i,defaultIndex:G}))},[M,k,P,j,i,G]);var U=zh(),D=LM(),O=_G(k),{activeIndex:$,isActive:F}=(t=je(we=>qV(we,O,P,G)))!==null&&t!==void 0?t:{},V=je(we=>zV(we,O,P,G)),z=je(we=>rR(we,O,P,G)),B=je(we=>BV(we,O,P,G)),K=V,ie=d$(),Z=(n=i??F)!==null&&n!==void 0?n:!1,[q,Y]=QU([K,Z]),X=O==="axis"?z:void 0;I$(O,P,B,X,$,Z);var H=R??ie;if(H==null||U==null||O==null)return null;var pe=K??MT;Z||(pe=MT),f&&pe.length&&(pe=EU(pe.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),v,O$));var Se=pe.length>0,ue=C.createElement(wq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:Z,coordinate:B,hasPayload:Se,offset:m,position:b,reverseDirection:N,useTranslate3d:E,viewBox:U,wrapperStyle:A,lastBoundingBox:q,innerRef:Y,hasPortalFromProps:!!R},L$(h,PT(PT({},r),{},{payload:pe,label:X,active:Z,activeIndex:$,coordinate:B,accessibilityLayer:D})));return C.createElement(C.Fragment,null,cP.createPortal(ue,H),Z&&C.createElement(c$,{cursor:T,tooltipEventType:O,coordinate:B,payload:pe,index:$}))}function z$(e,t,n){return(t=q$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q$(e){var t=H$(e,"string");return typeof t=="symbol"?t:t+""}function H$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class F${constructor(t){z$(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){V$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V$(e,t,n){return(t=$$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $$(e){var t=Y$(e,"string");return typeof t=="symbol"?t:t+""}function Y$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K$={cacheSize:2e3,enableCache:!0},lR=G$({},K$),jT=new F$(lR.cacheSize),J$={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RT="recharts_measurement_span";function X$(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var DT=(e,t)=>{try{var n=document.getElementById(RT);n||(n=document.createElement("span"),n.setAttribute("id",RT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,J$,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ju=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||uc.isSsr)return{width:0,height:0};if(!lR.enableCache)return DT(t,n);var r=X$(t,n),i=jT.get(r);if(i)return i;var o=DT(t,n);return jT.set(r,o),o},uR;function W$(e,t,n){return(t=Q$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q$(e){var t=Z$(e,"string");return typeof t=="symbol"?t:t+""}function Z$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,n7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},r7=["cm","mm","pt","pc","in","Q","px"];function i7(e){return r7.includes(e)}var qs="NaN";function a7(e,t){return e*n7[t]}class vn{static parse(t){var n,[,r,i]=(n=t7.exec(t))!==null&&n!==void 0?n:[];return r==null?vn.NaN:new vn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ti(t)&&(this.unit=""),n!==""&&!e7.test(n)&&(this.num=NaN,this.unit=""),i7(n)&&(this.num=a7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new vn(NaN,""):new vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vn(NaN,""):new vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vn(NaN,""):new vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vn(NaN,""):new vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ti(this.num)}}uR=vn;W$(vn,"NaN",new uR(NaN,""));function cR(e){if(e==null||e.includes(qs))return qs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=OT.exec(t))!==null&&n!==void 0?n:[],l=vn.parse(r??""),u=vn.parse(o??""),h=i==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return qs;t=t.replace(OT,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,m,v]=(f=LT.exec(t))!==null&&f!==void 0?f:[],b=vn.parse(p??""),N=vn.parse(v??""),E=m==="+"?b.add(N):b.subtract(N);if(E.isNaN())return qs;t=t.replace(LT,E.toString())}return t}var UT=/\(([^()]*)\)/;function o7(e){for(var t=e,n;(n=UT.exec(t))!=null;){var[,r]=n;t=t.replace(UT,cR(r))}return t}function s7(e){var t=e.replace(/\s+/g,"");return t=o7(t),t=cR(t),t}function l7(e){try{return s7(e)}catch{return qs}}function Qy(e){var t=l7(e.slice(5,-1));return t===qs?"":t}var u7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],c7=["dx","dy","angle","className","breakAll"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(null,arguments)}function BT(e,t){if(e==null)return{};var n,r,i=d7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var dR=/[ \f\n\r\t\v\u2028\u2029]+/,fR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];bn(t)||(n?i=t.toString().split(""):i=t.toString().split(dR));var o=i.map(u=>({word:u,width:ju(u,r).width})),l=n?0:ju("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function f7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var hR=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,h=i[i.length-1];if(h&&u!=null&&(t==null||r||h.width+u+n<Number(t)))h.words.push(l),h.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),pR=e=>e.reduce((t,n)=>t.width>n.width?t:n),h7="",zT=(e,t,n,r,i,o,l,u)=>{var h=e.slice(0,t),f=fR({breakAll:n,style:r,children:h+h7});if(!f)return[!1,[]];var p=hR(f.wordsWithComputedWidth,o,l,u),m=p.length>i||pR(p).width>Number(o);return[m,p]},p7=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:h}=e,f=Pe(o),p=String(l),m=hR(t,r,n,i);if(!f||i)return m;var v=m.length>o||pR(m).width>Number(r);if(!v)return m;for(var b=0,N=p.length-1,E=0,A;b<=N&&E<=p.length-1;){var T=Math.floor((b+N)/2),k=T-1,[P,I]=zT(p,k,h,u,o,r,n,i),[R]=zT(p,T,h,u,o,r,n,i);if(!P&&!R&&(b=T+1),P&&R&&(N=T-1),!P&&R){A=I;break}E++}return A||m},qT=e=>{var t=bn(e)?[]:e.toString().split(dR);return[{words:t,width:void 0}]},m7=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!uc.isSsr){var u,h,f=fR({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;u=p,h=m}else return qT(r);return p7({breakAll:o,children:r,maxLines:l,style:i},u,h,t,!!n)}return qT(r)},mR="#808080",g7={angle:0,breakAll:!1,capHeight:"0.71em",fill:mR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vb=C.forwardRef((e,t)=>{var n=gr(e,g7),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:h,textAnchor:f,verticalAnchor:p}=n,m=BT(n,u7),v=C.useMemo(()=>m7({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:h,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,h,m.style,m.width]),{dx:b,dy:N,angle:E,className:A,breakAll:T}=m,k=BT(m,c7);if(!xi(r)||!xi(i)||v.length===0)return null;var P=Number(r)+(Pe(b)?b:0),I=Number(i)+(Pe(N)?N:0);if(!Mt(P)||!Mt(I))return null;var R;switch(p){case"start":R=Qy("calc(".concat(l,")"));break;case"middle":R=Qy("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:R=Qy("calc(".concat(v.length-1," * -").concat(o,")"));break}var j=[];if(h){var M=v[0].width,{width:G}=m;j.push("scale(".concat(Pe(G)&&Pe(M)?G/M:1,")"))}return E&&j.push("rotate(".concat(E,", ").concat(P,", ").concat(I,")")),j.length&&(k.transform=j.join(" ")),C.createElement("text",xv({},Or(k),{ref:t,x:P,y:I,className:Et("recharts-text",A),textAnchor:f,fill:u.includes("url")?mR:u}),v.map((U,D)=>{var O=U.words.join(T?"":" ");return C.createElement("tspan",{x:P,dy:D===0?R:o,key:"".concat(O,"-").concat(D)},O)}))});vb.displayName="Text";var y7=["labelRef"],v7=["content"];function HT(e,t){if(e==null)return{};var n,r,i=x7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return(t=w7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}var gR=C.createContext(null),N7=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,h=C.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return C.createElement(gR.Provider,{value:h},u)},yR=()=>{var e=C.useContext(gR),t=zh();return e||CM(t)},E7=C.createContext(null),A7=()=>{var e=C.useContext(E7),t=je(KI);return e||t},C7=e=>{var{value:t,formatter:n}=e,r=bn(e.children)?t:e.children;return typeof n=="function"?n(r):r},xb=e=>e!=null&&typeof e=="function",T7=(e,t)=>{var n=Ir(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_7=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:h,innerRadius:f,outerRadius:p,startAngle:m,endAngle:v,clockWise:b}=i,N=(f+p)/2,E=T7(m,v),A=E>=0?1:-1,T,k;switch(t){case"insideStart":T=m+A*o,k=b;break;case"insideEnd":T=v-A*o,k=!b;break;case"end":T=v+A*o,k=b;break;default:throw new Error("Unsupported position ".concat(t))}k=E<=0?k:!k;var P=xn(u,h,N,T),I=xn(u,h,N,T+(k?1:-1)*359),R="M".concat(P.x,",").concat(P.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(k?0:1,`,
    `).concat(I.x,",").concat(I.y),j=bn(e.id)?Bu("recharts-radial-line-"):e.id;return C.createElement("text",$i({},r,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:j,d:R})),C.createElement("textPath",{xlinkHref:"#".concat(j)},n))},k7=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:h}=e,f=(u+h)/2;if(n==="outside"){var{x:p,y:m}=xn(r,i,l+t,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:b,y:N}=xn(r,i,v,f);return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},bv=e=>"cx"in e&&Pe(e.cx),P7=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!bv(n)&&(o=n);var{x:l,y:u,upperWidth:h,lowerWidth:f,height:p}=t,m=l,v=l+(h-f)/2,b=(m+v)/2,N=(h+f)/2,E=m+h/2,A=p>=0?1:-1,T=A*r,k=A>0?"end":"start",P=A>0?"start":"end",I=h>=0?1:-1,R=I*r,j=I>0?"end":"start",M=I>0?"start":"end";if(i==="top"){var G={x:m+h/2,y:u-T,textAnchor:"middle",verticalAnchor:k};return Ut(Ut({},G),o?{height:Math.max(u-o.y,0),width:h}:{})}if(i==="bottom"){var U={x:v+f/2,y:u+p+T,textAnchor:"middle",verticalAnchor:P};return Ut(Ut({},U),o?{height:Math.max(o.y+o.height-(u+p),0),width:f}:{})}if(i==="left"){var D={x:b-R,y:u+p/2,textAnchor:j,verticalAnchor:"middle"};return Ut(Ut({},D),o?{width:Math.max(D.x-o.x,0),height:p}:{})}if(i==="right"){var O={x:b+N+R,y:u+p/2,textAnchor:M,verticalAnchor:"middle"};return Ut(Ut({},O),o?{width:Math.max(o.x+o.width-O.x,0),height:p}:{})}var $=o?{width:N,height:p}:{};return i==="insideLeft"?Ut({x:b+R,y:u+p/2,textAnchor:M,verticalAnchor:"middle"},$):i==="insideRight"?Ut({x:b+N-R,y:u+p/2,textAnchor:j,verticalAnchor:"middle"},$):i==="insideTop"?Ut({x:m+h/2,y:u+T,textAnchor:"middle",verticalAnchor:P},$):i==="insideBottom"?Ut({x:v+f/2,y:u+p-T,textAnchor:"middle",verticalAnchor:k},$):i==="insideTopLeft"?Ut({x:m+R,y:u+T,textAnchor:M,verticalAnchor:P},$):i==="insideTopRight"?Ut({x:m+h-R,y:u+T,textAnchor:j,verticalAnchor:P},$):i==="insideBottomLeft"?Ut({x:v+R,y:u+p-T,textAnchor:M,verticalAnchor:k},$):i==="insideBottomRight"?Ut({x:v+f-R,y:u+p-T,textAnchor:j,verticalAnchor:k},$):i&&typeof i=="object"&&(Pe(i.x)||Wi(i.x))&&(Pe(i.y)||Wi(i.y))?Ut({x:l+Wa(i.x,N),y:u+Wa(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):Ut({x:E,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},M7={angle:0,offset:5,zIndex:On.label,position:"middle",textBreakAll:!1};function Va(e){var t=gr(e,M7),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:h,labelRef:f}=t,p=A7(),m=yR(),v=r==="center"?m:p??m,b,N,E;if(n==null?b=v:bv(n)?b=n:b=CM(n),!b||bn(i)&&bn(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var A=Ut(Ut({},t),{},{viewBox:b});if(C.isValidElement(l)){var{labelRef:T}=A,k=HT(A,y7);return C.cloneElement(l,k)}if(typeof l=="function"){var{content:P}=A,I=HT(A,v7);if(N=C.createElement(l,I),C.isValidElement(N))return N}else N=C7(t);var R=Or(t);if(bv(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return _7(t,r,N,R,b);E=k7(b,t.offset,t.position)}else E=P7(t,b);return C.createElement(pa,{zIndex:t.zIndex},C.createElement(vb,$i({ref:f,className:Et("recharts-label",u)},R,E,{textAnchor:f7(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:h}),N))}Va.displayName="Label";var I7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(Va,$i({key:"label-implicit"},r)):xi(e)?C.createElement(Va,$i({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===Va?C.cloneElement(e,Ut({key:"label-implicit"},r)):C.createElement(Va,$i({key:"label-implicit",content:e},r)):xb(e)?C.createElement(Va,$i({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(Va,$i({},e,{key:"label-implicit"},r)):null};function j7(e){var{label:t,labelRef:n}=e,r=yR();return I7(t,r,n)||null}var Zy={},e0={},GT;function R7(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(e0)),e0}var t0={},VT;function D7(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(t0)),t0}var $T;function O7(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R7(),n=D7(),r=sx();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Zy)),Zy}var n0,YT;function L7(){return YT||(YT=1,n0=O7().last),n0}var U7=L7();const B7=ri(U7);var z7=["valueAccessor"],q7=["dataKey","clockWise","id","textBreakAll","zIndex"];function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(null,arguments)}function KT(e,t){if(e==null)return{};var n,r,i=H7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var F7=e=>Array.isArray(e.value)?B7(e.value):e.value,vR=C.createContext(void 0),G7=vR.Provider,xR=C.createContext(void 0);xR.Provider;function V7(){return C.useContext(vR)}function $7(){return C.useContext(xR)}function mf(e){var{valueAccessor:t=F7}=e,n=KT(e,z7),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,h=KT(n,q7),f=V7(),p=$7(),m=f||p;return!m||!m.length?null:C.createElement(pa,{zIndex:u??On.label},C.createElement(vi,{className:"recharts-label-list"},m.map((v,b)=>{var N,E=bn(r)?t(v,b):wn(v&&v.payload,r),A=bn(o)?{}:{id:"".concat(o,"-").concat(b)};return C.createElement(Va,rh({key:"label-".concat(b)},Or(v),h,A,{fill:(N=n.fill)!==null&&N!==void 0?N:v.fill,parentViewBox:v.parentViewBox,value:E,textBreakAll:l,viewBox:v.viewBox,index:b,zIndex:0}))})))}mf.displayName="LabelList";function Y7(e){var{label:t}=e;return t?t===!0?C.createElement(mf,{key:"labelList-implicit"}):C.isValidElement(t)||xb(t)?C.createElement(mf,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(mf,rh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}var bR=e=>{var{cx:t,cy:n,r,className:i}=e,o=Et("recharts-dot",i);return Pe(t)&&Pe(n)&&Pe(r)?C.createElement("circle",wv({},ei(e),ox(e),{className:o,cx:t,cy:n,r})):null},K7={radiusAxis:{},angleAxis:{}},wR=Zn({name:"polarAxis",initialState:K7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Yle,removeRadiusAxis:Kle,addAngleAxis:Jle,removeAngleAxis:Xle}=wR.actions,J7=wR.reducer,SR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function X7(e){var{tooltipEntrySettings:t}=e,n=sn(),r=er(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(MG(t)):i.current!==t&&n(IG({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(jG(i.current)),i.current=null)},[n]),null}function W7(e){var{legendPayload:t}=e,n=sn(),r=er(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(oq(t)):i.current!==t&&n(sq({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(lq(i.current)),i.current=null)},[n]),null}var r0,Q7=()=>{var[e]=C.useState(()=>Bu("uid-"));return e},Z7=(r0=J5.useId)!==null&&r0!==void 0?r0:Q7;function eY(e,t){var n=Z7();return t||(e?"".concat(e,"-").concat(n):n)}var tY=C.createContext(void 0),nY=e=>{var{id:t,type:n,children:r}=e,i=eY("recharts-".concat(n),t);return C.createElement(tY.Provider,{value:i},r(i))},rY={cartesianItems:[],polarItems:[]},NR=Zn({name:"graphicalItems",initialState:rY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Xr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:kt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Xr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(e,t){var n=Xr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:kt()}}}),{addCartesianGraphicalItem:iY,replaceCartesianGraphicalItem:aY,removeCartesianGraphicalItem:oY,addPolarGraphicalItem:Wle,removePolarGraphicalItem:Qle}=NR.actions,sY=NR.reducer,lY=e=>{var t=sn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(iY(e)):n.current!==e&&t(aY({prev:n.current,next:e})),n.current=e},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(t(oY(n.current)),n.current=null)},[t]),null},uY=C.memo(lY),cY=["points"];function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){dY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dY(e,t,n){return(t=fY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(null,arguments)}function pY(e,t){if(e==null)return{};var n,r,i=mY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gY(e){var{option:t,dotProps:n,className:r}=e;if(C.isValidElement(t))return C.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Et(r,typeof t!="boolean"?t.className:""),o=n??{},{points:l}=o,u=pY(o,cY);return C.createElement(bR,ih({},u,{className:i}))}function yY(e,t){return e==null?!1:t?!0:e.length===1}function vY(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:h,zIndex:f=On.scatter}=e;if(!yY(t,n))return null;var p=SR(n),m=y6(n),v=t.map((N,E)=>{var A,T,k=i0(i0(i0({r:3},l),m),{},{index:E,cx:(A=N.x)!==null&&A!==void 0?A:void 0,cy:(T=N.y)!==null&&T!==void 0?T:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return C.createElement(gY,{key:"dot-".concat(E),option:n,dotProps:k,className:i})}),b={};return u&&h!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(h,")")),C.createElement(pa,{zIndex:f},C.createElement(vi,ih({className:r},b),v))}function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){xY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xY(e,t,n){return(t=bY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ER=0,SY={xAxis:{},yAxis:{},zAxis:{}},AR=Zn({name:"cartesianAxis",initialState:SY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=WT(WT({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:NY,replaceXAxis:EY,removeXAxis:AY,addYAxis:CY,replaceYAxis:TY,removeYAxis:_Y,addZAxis:Zle,replaceZAxis:eue,removeZAxis:tue,updateYAxisWidth:kY}=AR.actions,PY=AR.reducer,MY=le([Sn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),IY=le([MY,sa,la],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),bb=()=>je(IY),jY=()=>je(AV);function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){RY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RY(e,t,n){return(t=DY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LY=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=a0(a0(a0({},u),Nh(i)),ox(i)),f;return C.isValidElement(i)?f=C.cloneElement(i,h):typeof i=="function"?f=i(h):f=C.createElement(bR,h),C.createElement(vi,{className:"recharts-active-dot",clipPath:l},f)};function ZT(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=On.activeDot}=e,u=je(Qu),h=jY();if(t==null||h==null)return null;var f=t.find(p=>h.includes(p.payload));return bn(f)?null:C.createElement(pa,{zIndex:l},C.createElement(LY,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var UY=e=>{var{chartData:t}=e,n=sn(),r=er();return C.useEffect(()=>r?()=>{}:(n(TT(t)),()=>{n(TT(void 0))}),[t,n,r]),null},e_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CR=Zn({name:"brush",initialState:e_,reducers:{setBrushSettings(e,t){return t.payload==null?e_:t.payload}}}),{setBrushSettings:nue}=CR.actions,BY=CR.reducer;function zY(e,t,n){return(t=qY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wb{static create(t){return new wb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}zY(wb,"EPS",1e-4);function FY(e){return(e%180+180)%180}var GY=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=FY(i),l=o*Math.PI/180,u=Math.atan(r/n),h=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},VY={dots:[],areas:[],lines:[]},TR=Zn({name:"referenceElements",initialState:VY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Xr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Xr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Xr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:rue,removeDot:iue,addArea:aue,removeArea:oue,addLine:sue,removeLine:lue}=TR.actions,$Y=TR.reducer,YY=C.createContext(void 0),KY=e=>{var{children:t}=e,[n]=C.useState("".concat(Bu("recharts"),"-clip")),r=bb();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return C.createElement(YY.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function _R(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function JY(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return GY(r,n)}function XY(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function ec(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function WY(e,t){return _R(e,t+1)}function QY(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,h=0,f=1,p=l,m=function(){var N=r==null?void 0:r[h];if(N===void 0)return{v:_R(r,f)};var E=h,A,T=()=>(A===void 0&&(A=n(N,E)),A),k=N.coordinate,P=h===0||ec(e,k,T,p,u);P||(h=0,p=l,f+=1),P&&(p=k+e*(T()/2+i),h+=f)},v;f<=o.length;)if(v=m(),v)return v.v;return[]}function ZY(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:h}=t,f=1;f<=l;f++){for(var p=(l-1)%f,m=u,v=!0,b=function(){var k=r[N],P=N,I,R=()=>(I===void 0&&(I=n(k,P)),I),j=k.coordinate,M=N===p||ec(e,j,R,m,h);if(!M)return v=!1,1;M&&(m=j+e*(R()/2+i))},N=p;N<l&&!b();N+=f);if(v){for(var E=[],A=p;A<l;A+=f)E.push(r[A]);return E}}return[]}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(r){eK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eK(e,t,n){return(t=tK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rK(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:h}=t,f=function(v){var b=o[v],N,E=()=>(N===void 0&&(N=n(b,v)),N);if(v===l-1){var A=e*(b.coordinate+e*E()/2-h);o[v]=b=_n(_n({},b),{},{tickCoord:A>0?b.coordinate-A*e:b.coordinate})}else o[v]=b=_n(_n({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var T=ec(e,b.tickCoord,E,u,h);T&&(h=b.tickCoord-e*(E()/2+i),o[v]=_n(_n({},b),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return o}function iK(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:h,end:f}=t;if(o){var p=r[u-1],m=n(p,u-1),v=e*(p.coordinate+e*m/2-f);if(l[u-1]=p=_n(_n({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var b=ec(e,p.tickCoord,()=>m,h,f);b&&(f=p.tickCoord-e*(m/2+i),l[u-1]=_n(_n({},p),{},{isShow:!0}))}}for(var N=o?u-1:u,E=function(k){var P=l[k],I,R=()=>(I===void 0&&(I=n(P,k)),I);if(k===0){var j=e*(P.coordinate-e*R()/2-h);l[k]=P=_n(_n({},P),{},{tickCoord:j<0?P.coordinate-j*e:P.coordinate})}else l[k]=P=_n(_n({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var M=ec(e,P.tickCoord,R,h,f);M&&(h=P.tickCoord+e*(R()/2+i),l[k]=_n(_n({},P),{},{isShow:!0}))}},A=0;A<N;A++)E(A);return l}function Sb(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:h,tickFormatter:f,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(Pe(h)||uc.isSsr){var v;return(v=WY(i,Pe(h)?h:0))!==null&&v!==void 0?v:[]}var b=[],N=u==="top"||u==="bottom"?"width":"height",E=p&&N==="width"?ju(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},A=(P,I)=>{var R=typeof f=="function"?f(P.value,I):P.value;return N==="width"?JY(ju(R,{fontSize:t,letterSpacing:n}),E,m):ju(R,{fontSize:t,letterSpacing:n})[N]},T=i.length>=2?Ir(i[1].coordinate-i[0].coordinate):1,k=XY(o,T,N);return h==="equidistantPreserveStart"?QY(T,k,A,i,l):h==="equidistantPreserveEnd"?ZY(T,k,A,i,l):(h==="preserveStart"||h==="preserveStartEnd"?b=iK(T,k,A,i,l,h==="preserveStartEnd"):b=rK(T,k,A,i,l),b.filter(P=>P.isShow))}var aK=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,h=i+o,f=l+h+u+(n?r:0);return Math.round(f)}return 0},oK=["axisLine","width","height","className","hide","ticks","axisType"];function sK(e,t){if(e==null)return{};var n,r,i=lK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(null,arguments)}function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:On.axis};function fK(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:h}=e;if(!u)return null;var f=Gt(Gt(Gt({},h),ei(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);f=Gt(Gt({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);f=Gt(Gt({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return C.createElement("line",Bo({},f,{className:Et("recharts-cartesian-axis-line",Ch(u,"className"))}))}function hK(e,t,n,r,i,o,l,u,h){var f,p,m,v,b,N,E=u?-1:1,A=e.tickSize||l,T=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=p=e.coordinate,v=n+ +!u*i,m=v-E*A,N=m-E*h,b=T;break;case"left":m=v=e.coordinate,p=t+ +!u*r,f=p-E*A,b=f-E*h,N=T;break;case"right":m=v=e.coordinate,p=t+ +u*r,f=p+E*A,b=f+E*h,N=T;break;default:f=p=e.coordinate,v=n+ +u*i,m=v+E*A,N=m+E*h,b=T;break}return{line:{x1:f,y1:m,x2:p,y2:v},tick:{x:b,y:N}}}function pK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function mK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gK(e){var{option:t,tickProps:n,value:r}=e,i,o=Et(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,Gt(Gt({},n),{},{className:o}));else if(typeof t=="function")i=t(Gt(Gt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Et(l,t==null?void 0:t.className)),i=C.createElement(vb,Bo({},n,{className:l}),r)}return i}var yK=C.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:h,tickTextProps:f,orientation:p,mirror:m,x:v,y:b,width:N,height:E,tickSize:A,tickMargin:T,fontSize:k,letterSpacing:P,getTicksConfig:I,events:R,axisType:j}=e,M=Sb(Gt(Gt({},I),{},{ticks:n}),k,P),G=pK(p,m),U=mK(p,m),D=ei(I),O=Nh(r),$={};typeof i=="object"&&($=i);var F=Gt(Gt({},D),{},{fill:"none"},$),V=M.map(K=>Gt({entry:K},hK(K,v,b,N,E,p,A,m,T))),z=V.map(K=>{var{entry:ie,line:Z}=K;return C.createElement(vi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&C.createElement("line",Bo({},F,Z,{className:Et("recharts-cartesian-axis-tick-line",Ch(i,"className"))})))}),B=V.map((K,ie)=>{var{entry:Z,tick:q}=K,Y=Gt(Gt(Gt(Gt({textAnchor:G,verticalAnchor:U},D),{},{stroke:"none",fill:o},O),q),{},{index:ie,payload:Z,visibleTicksCount:M.length,tickFormatter:l,padding:h},f);return C.createElement(vi,Bo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},eU(R,Z,ie)),r&&C.createElement(gK,{option:r,tickProps:Y,value:"".concat(typeof l=="function"?l(Z.value,ie):Z.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},B.length>0&&C.createElement(pa,{zIndex:On.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},B)),z.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},z))}),vK=C.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:h}=e,f=sK(e,oK),[p,m]=C.useState(""),[v,b]=C.useState(""),N=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var A;return aK({ticks:N.current,label:(A=e.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=C.useCallback(A=>{if(A){var T=A.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=T;var k=T[0];if(k){var P=window.getComputedStyle(k),I=P.fontSize,R=P.letterSpacing;(I!==p||R!==v)&&(m(I),b(R))}}},[p,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(pa,{zIndex:e.zIndex},C.createElement(vi,{className:Et("recharts-cartesian-axis",o)},C.createElement(fK,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ei(e)}),C.createElement(yK,{ref:E,axisType:h,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),C.createElement(N7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},C.createElement(j7,{label:e.label,labelRef:e.labelRef}),e.children)))}),Nb=C.forwardRef((e,t)=>{var n=gr(e,Xi);return C.createElement(vK,Bo({},n,{ref:t}))});Nb.displayName="CartesianAxis";var xK=["x1","y1","x2","y2","key"],bK=["offset"],wK=["xAxisId","yAxisId"],SK=["xAxisId","yAxisId"];function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){NK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NK(e,t,n){return(t=EK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(null,arguments)}function ah(e,t){if(e==null)return{};var n,r,i=CK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return C.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kR(e){var{option:t,lineItemProps:n}=e,r;if(C.isValidElement(t))r=C.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:h,key:f}=n,p=ah(n,xK),m=(i=ei(p))!==null&&i!==void 0?i:{},{offset:v}=m,b=ah(m,bK);r=C.createElement("line",_o({},b,{x1:o,y1:l,x2:u,y2:h,fill:"none",key:f}))}return r}function _K(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=ah(e,wK),h=i.map((f,p)=>{var m=kn(kn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return C.createElement(kR,{key:"line-".concat(p),option:r,lineItemProps:m})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function kK(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=ah(e,SK),h=i.map((f,p)=>{var m=kn(kn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return C.createElement(kR,{option:r,lineItemProps:m,key:"line-".concat(p)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function PK(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:h=!0}=e;if(!h||!t||!t.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var p=f.map((m,v)=>{var b=!f[v+1],N=b?i+l-m:f[v+1]-m;if(N<=0)return null;var E=v%t.length;return C.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:N,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function MK(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var f=h.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var p=f.map((m,v)=>{var b=!f[v+1],N=b?i+l-m:f[v+1]-m;if(N<=0)return null;var E=v%n.length;return C.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:N,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var IK=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return vM(Sb(kn(kn(kn({},Xi),n),{},{ticks:xM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},jK=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return vM(Sb(kn(kn(kn({},Xi),n),{},{ticks:xM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},RK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:On.grid};function PR(e){var t=_M(),n=kM(),r=TM(),i=kn(kn({},gr(e,RK)),{},{x:Pe(e.x)?e.x:r.left,y:Pe(e.y)?e.y:r.top,width:Pe(e.width)?e.width:r.width,height:Pe(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:h,width:f,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:b}=i,N=er(),E=je(U=>mT(U,"xAxis",o,N)),A=je(U=>mT(U,"yAxis",l,N));if(!bi(f)||!bi(p)||!Pe(u)||!Pe(h))return null;var T=i.verticalCoordinatesGenerator||IK,k=i.horizontalCoordinatesGenerator||jK,{horizontalPoints:P,verticalPoints:I}=i;if((!P||!P.length)&&typeof k=="function"){var R=v&&v.length,j=k({yAxis:A?kn(kn({},A),{},{ticks:R?v:A.ticks}):void 0,width:t??f,height:n??p,offset:r},R?!0:m);Df(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(P=j)}if((!I||!I.length)&&typeof T=="function"){var M=b&&b.length,G=T({xAxis:E?kn(kn({},E),{},{ticks:M?b:E.ticks}):void 0,width:t??f,height:n??p,offset:r},M?!0:m);Df(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(I=G)}return C.createElement(pa,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(TK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(PK,_o({},i,{horizontalPoints:P})),C.createElement(MK,_o({},i,{verticalPoints:I})),C.createElement(_K,_o({},i,{offset:r,horizontalPoints:P,xAxis:E,yAxis:A})),C.createElement(kK,_o({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:A}))))}PR.displayName="CartesianGrid";var DK={},MR=Zn({name:"errorBars",initialState:DK,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:uue,replaceErrorBar:cue,removeErrorBar:due}=MR.actions,OK=MR.reducer;function IR(e,t){var n,r,i=je(f=>da(f,e)),o=je(f=>fa(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:rn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:an.allowDataOverflow,h=l||u;return{needClip:h,needClipX:l,needClipY:u}}function LK(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=bb(),{needClipX:o,needClipY:l,needClip:u}=IR(t,n);if(!u||!i)return null;var{x:h,y:f,width:p,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?h:h-p/2,y:l?f:f-m/2,width:o?p:p*2,height:l?m:m*2}))}function UK(e){var t=Nh(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var o0={exports:{}},s0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function BK(){if(i_)return s0;i_=1;var e=ol();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return s0.useSyncExternalStoreWithSelector=function(h,f,p,m,v){var b=i(null);if(b.current===null){var N={hasValue:!1,value:null};b.current=N}else N=b.current;b=l(function(){function A(R){if(!T){if(T=!0,k=R,R=m(R),v!==void 0&&N.hasValue){var j=N.value;if(v(j,R))return P=j}return P=R}if(j=P,n(k,R))return j;var M=m(R);return v!==void 0&&v(j,M)?(k=R,j):(k=R,P=M)}var T=!1,k,P,I=p===void 0?null:p;return[function(){return A(f())},I===null?void 0:function(){return A(I())}]},[f,p,m,v]);var E=r(h,b[0],b[1]);return o(function(){N.hasValue=!0,N.value=E},[E]),u(E),E},s0}var a_;function zK(){return a_||(a_=1,o0.exports=BK()),o0.exports}zK();function qK(e){e()}function HK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var o_={notify(){},get:()=>[]};function FK(e,t){let n,r=o_,i=0,o=!1;function l(E){p();const A=r.subscribe(E);let T=!1;return()=>{T||(T=!0,A(),m())}}function u(){r.notify()}function h(){N.onStateChange&&N.onStateChange()}function f(){return o}function p(){i++,n||(n=e.subscribe(h),r=HK())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=o_)}function v(){o||(o=!0,p())}function b(){o&&(o=!1,m())}const N={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return N}var GK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VK=GK(),$K=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YK=$K(),KK=()=>VK||YK?C.useLayoutEffect:C.useEffect,JK=KK();function s_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function XK(e,t){if(s_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!s_(e[n[i]],t[n[i]]))return!1;return!0}var l0=Symbol.for("react-redux-context"),u0=typeof globalThis<"u"?globalThis:{};function WK(){if(!C.createContext)return{};const e=u0[l0]??(u0[l0]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var QK=WK();function ZK(e){const{children:t,context:n,serverState:r,store:i}=e,o=C.useMemo(()=>{const h=FK(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);JK(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const u=n||QK;return C.createElement(u.Provider,{value:o},t)}var eJ=ZK,tJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function nJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Eb(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(tJ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!XK(e[r],t[r]))return!1}else if(!nJ(e[r],t[r]))return!1;return!0}function Ab(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:ER}function Cb(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:ER}var jR=(e,t,n)=>jj(e,"xAxis",Ab(e,t),n),RR=(e,t,n)=>Ij(e,"xAxis",Ab(e,t),n),DR=(e,t,n)=>jj(e,"yAxis",Cb(e,t),n),OR=(e,t,n)=>Ij(e,"yAxis",Cb(e,t),n),rJ=le([vt,jR,DR,RR,OR],(e,t,n,r,i)=>oa(e,"xAxis")?Rf(t,r,!1):Rf(n,i,!1)),iJ=(e,t)=>t,LR=le([ej,iJ],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),UR=e=>{var t=vt(e),n=oa(t,"xAxis");return n?"yAxis":"xAxis"},aJ=(e,t)=>{var n=UR(e);return n==="yAxis"?Cb(e,t):Ab(e,t)},oJ=(e,t,n)=>uj(e,UR(e),aJ(e,t),n),sJ=le([LR,oJ],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=Wx(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,l=o==null?void 0:o.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),lJ=le([vt,jR,DR,RR,OR,sJ,u9,rJ,LR,S9],(e,t,n,r,i,o,l,u,h,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=l;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=h,N;if(b&&b.length>0?N=b:N=p==null?void 0:p.slice(m,v+1),N!=null)return TJ({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:h,stackedData:o,displayedData:N,chartBaseValue:f,bandSize:u})}}),uJ=["id"],cJ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(null,arguments)}function BR(e,t){if(e==null)return{};var n,r,i=dJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oh(e,t){return e&&e!=="none"?e:t}var mJ=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:l}=e;return[{inactive:l,dataKey:t,type:o,color:oh(r,i),value:bM(n,t),payload:e}]},gJ=C.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:h,tooltipType:f,id:p}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:bM(l,t),hide:u,type:f,color:oh(r,o),unit:h,graphicalItemId:p}};return C.createElement(X7,{tooltipEntrySettings:m})});function yJ(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:l}=r,u=ei(r);return C.createElement(vY,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:t})}function vJ(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var l,u,h={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hs(Hs({},h),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return C.createElement(G7,{value:t?i:void 0},n)}function u_(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:l,type:u,stroke:h,connectNulls:f,isRange:p}=o,{id:m}=o,v=BR(o,uJ),b=ei(v),N=Or(v);return C.createElement(C.Fragment,null,(t==null?void 0:t.length)>1&&C.createElement(vi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},C.createElement(hf,jo({},N,{id:m,points:t,connectNulls:f,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),h!=="none"&&C.createElement(hf,jo({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),h!=="none"&&p&&C.createElement(hf,jo({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}))),C.createElement(yJ,{points:t,props:v,clipPathId:i}))}function xJ(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=e,u=(t=o[0])===null||t===void 0?void 0:t.y,h=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Mt(u)||!Mt(h))return null;var f=r*Math.abs(u-h),p=Math.max(...o.map(m=>m.x||0));return Pe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(m=>m.x||0),p)),Pe(p)?C.createElement("rect",{x:0,y:u<h?u:u-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}function bJ(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=e,u=(t=o[0])===null||t===void 0?void 0:t.x,h=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Mt(u)||!Mt(h))return null;var f=r*Math.abs(u-h),p=Math.max(...o.map(m=>m.y||0));return Pe(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(m=>m.y||0),p)),Pe(p)?C.createElement("rect",{x:u<h?u:u-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function wJ(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?C.createElement(xJ,{alpha:t,points:r,baseLine:i,strokeWidth:o}):C.createElement(bJ,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function SJ(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:l,baseLine:u,isAnimationActive:h,animationBegin:f,animationDuration:p,animationEasing:m,onAnimationStart:v,onAnimationEnd:b}=r,N=C.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=HM(N,"recharts-area-"),A=$z(),[T,k]=C.useState(!1),P=!T,I=C.useCallback(()=>{typeof b=="function"&&b(),k(!1)},[b]),R=C.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]);if(A==null)return null;var j=i.current,M=o.current;return C.createElement(vJ,{showLabels:P,points:l},r.children,C.createElement(qM,{animationId:E,begin:f,duration:p,isActive:h,easing:m,onAnimationEnd:I,onAnimationStart:R,key:E},G=>{if(j){var U=j.length/l.length,D=G===1?l:l.map(($,F)=>{var V=Math.floor(F*U);if(j[V]){var z=j[V];return Hs(Hs({},$),{},{x:hi(z.x,$.x,G),y:hi(z.y,$.y,G)})}return $}),O;return Pe(u)?O=hi(M,u,G):bn(u)||ti(u)?O=hi(M,0,G):O=u.map(($,F)=>{var V=Math.floor(F*U);if(Array.isArray(M)&&M[V]){var z=M[V];return Hs(Hs({},$),{},{x:hi(z.x,$.x,G),y:hi(z.y,$.y,G)})}return $}),G>0&&(i.current=D,o.current=O),C.createElement(u_,{points:D,baseLine:O,needClip:t,clipPathId:n,props:r})}return G>0&&(i.current=l,o.current=u),C.createElement(vi,null,h&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(wJ,{alpha:G,points:l,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),C.createElement(vi,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(u_,{points:l,baseLine:u,needClip:t,clipPathId:n,props:r})))}),C.createElement(Y7,{label:r.label}))}function NJ(e){var{needClip:t,clipPathId:n,props:r}=e,i=C.useRef(null),o=C.useRef();return C.createElement(SJ,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class EJ extends C.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:l,needClip:u,xAxisId:h,yAxisId:f,width:p,height:m,id:v,baseLine:b,zIndex:N}=this.props;if(t)return null;var E=Et("recharts-area",i),A=v,{r:T,strokeWidth:k}=UK(n),P=SR(n),I=T*2+k,R=u?"url(#clipPath-".concat(P?"":"dots-").concat(A,")"):void 0;return C.createElement(pa,{zIndex:N},C.createElement(vi,{className:E},u&&C.createElement("defs",null,C.createElement(LK,{clipPathId:A,xAxisId:h,yAxisId:f}),!P&&C.createElement("clipPath",{id:"clipPath-dots-".concat(A)},C.createElement("rect",{x:l-I/2,y:o-I/2,width:p+I,height:m+I}))),C.createElement(NJ,{needClip:u,clipPathId:A,props:this.props})),C.createElement(ZT,{points:r,mainColor:oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}),this.props.isRange&&Array.isArray(b)&&C.createElement(ZT,{points:b,mainColor:oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}))}}var zR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:On.area};function AJ(e){var t,n=gr(e,zR),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:h,fill:f,fillOpacity:p,hide:m,isAnimationActive:v,legendType:b,stroke:N,xAxisId:E,yAxisId:A}=n,T=BR(n,cJ),k=ll(),P=eR(),{needClip:I}=IR(E,A),R=er(),{points:j,isRange:M,baseLine:G}=(t=je(V=>lJ(V,e.id,R)))!==null&&t!==void 0?t:{},U=bb();if(k!=="horizontal"&&k!=="vertical"||U==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:D,width:O,x:$,y:F}=U;return!j||!j.length?null:C.createElement(EJ,jo({},T,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:G,connectNulls:u,dot:h,fill:f,fillOpacity:p,height:D,hide:m,layout:k,isAnimationActive:v==="auto"?!uc.isSsr:v,isRange:M,legendType:b,needClip:I,points:j,stroke:N,width:O,left:$,top:F,xAxisId:E,yAxisId:A}))}var CJ=(e,t,n,r,i)=>{var o=n??t;if(Pe(o))return o;var l=e==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var h=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function TJ(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:l,xAxis:u,yAxis:h,displayedData:f,dataStartIndex:p,xAxisTicks:m,yAxisTicks:v,bandSize:b}=e,N=i&&i.length,E=CJ(o,l,n,u,h),A=o==="horizontal",T=!1,k=f.map((I,R)=>{var j,M,G;if(N)G=i[p+R];else{var U=wn(I,r);Array.isArray(U)?(G=U,T=!0):G=[E,U]}var D=(j=(M=G)===null||M===void 0?void 0:M[1])!==null&&j!==void 0?j:null,O=D==null||N&&!t&&wn(I,r)==null;return A?{x:wA({axis:u,ticks:m,bandSize:b,entry:I,index:R}),y:O?null:h.scale(D),value:G,payload:I}:{x:O?null:u.scale(D),y:wA({axis:h,ticks:v,bandSize:b,entry:I,index:R}),value:G,payload:I}}),P;return N||T?P=k.map(I=>{var R=Array.isArray(I.value)?I.value[0]:null;return A?{x:I.x,y:R!=null&&I.y!=null?h.scale(R):null,payload:I.payload}:{x:R!=null?u.scale(R):null,y:I.y,payload:I.payload}}):P=A?h.scale(E):u.scale(E),{points:k,baseLine:P,isRange:T}}function _J(e){var t=gr(e,zR),n=er();return C.createElement(nY,{id:t.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(W7,{legendPayload:mJ(t)}),C.createElement(gJ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),C.createElement(uY,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:lz(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),C.createElement(AJ,jo({},t,{id:r}))))}var qR=C.memo(_J,Eb);qR.displayName="Area";var kJ=["domain","range"],PJ=["domain","range"];function c_(e,t){if(e==null)return{};var n,r,i=MJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function HR(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=c_(e,kJ),{domain:o,range:l}=t,u=c_(t,PJ);return!d_(n,o)||!d_(r,l)?!1:Eb(i,u)}var IJ=["dangerouslySetInnerHTML","ticks","scale"],jJ=["id","scale"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(null,arguments)}function f_(e,t){if(e==null)return{};var n,r,i=RJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DJ(e){var t=sn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(NY(e)):n.current!==e&&t(EY({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(AY(n.current)),n.current=null)},[t]),null}var OJ=e=>{var{xAxisId:t,className:n}=e,r=je(SM),i=er(),o="xAxis",l=je(T=>Mj(T,o,t,i)),u=je(T=>pG(T,t)),h=je(T=>bG(T,t)),f=je(T=>XI(T,t));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:v}=e,b=f_(e,IJ),{id:N,scale:E}=f,A=f_(f,jJ);return C.createElement(Nb,Sv({},b,A,{x:h.x,y:h.y,width:u.width,height:u.height,className:Et("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},LJ={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:Xi.axisLine,height:rn.height,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:Xi.tickLine,tickSize:Xi.tickSize,type:rn.type,xAxisId:0},UJ=e=>{var t=gr(e,LJ);return C.createElement(C.Fragment,null,C.createElement(DJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),C.createElement(OJ,t))},FR=C.memo(UJ,HR);FR.displayName="XAxis";var BJ=["dangerouslySetInnerHTML","ticks","scale"],zJ=["id","scale"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(null,arguments)}function h_(e,t){if(e==null)return{};var n,r,i=qJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HJ(e){var t=sn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(CY(e)):n.current!==e&&t(TY({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(_Y(n.current)),n.current=null)},[t]),null}var FJ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=C.useRef(null),l=C.useRef(null),u=je(SM),h=er(),f=sn(),p="yAxis",m=je(j=>NG(j,t)),v=je(j=>SG(j,t)),b=je(j=>Mj(j,p,t,h)),N=je(j=>WI(j,t));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!m||xb(i)||C.isValidElement(i)||N==null)){var j=o.current;if(j){var M=j.getCalculatedWidth();Math.round(m.width)!==Math.round(M)&&f(kY({id:t,width:M}))}}},[b,m,f,i,t,r,N]),m==null||v==null||N==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:T}=e,k=h_(e,BJ),{id:P,scale:I}=N,R=h_(N,zJ);return C.createElement(Nb,Nv({},k,R,{ref:o,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Et("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:b,axisType:p}))},GJ={allowDataOverflow:an.allowDataOverflow,allowDecimals:an.allowDecimals,allowDuplicatedCategory:an.allowDuplicatedCategory,angle:an.angle,axisLine:Xi.axisLine,hide:!1,includeHidden:an.includeHidden,interval:an.interval,minTickGap:an.minTickGap,mirror:an.mirror,orientation:an.orientation,padding:an.padding,reversed:an.reversed,scale:an.scale,tick:an.tick,tickCount:an.tickCount,tickLine:Xi.tickLine,tickSize:Xi.tickSize,type:an.type,width:an.width,yAxisId:0},VJ=e=>{var t=gr(e,GJ);return C.createElement(C.Fragment,null,C.createElement(HJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),C.createElement(FJ,t))},GR=C.memo(VJ,HR);GR.displayName="YAxis";var $J=(e,t)=>t,Tb=le([$J,vt,KI,Qt,Kj,ha,LV,Sn],GV),_b=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},VR=Lr("mouseClick"),$R=oc();$R.startListening({actionCreator:VR,effect:(e,t)=>{var n=e.payload,r=Tb(t.getState(),_b(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(OG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Ev=Lr("mouseMove"),YR=oc(),Qd=null;YR.startListening({actionCreator:Ev,effect:(e,t)=>{var n=e.payload;Qd!==null&&cancelAnimationFrame(Qd);var r=_b(n);Qd=requestAnimationFrame(()=>{var i=t.getState(),o=lb(i,i.tooltip.settings.shared);if(o==="axis"){var l=Tb(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(zj({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(Bj())}Qd=null})}});function YJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var p_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KR=Zn({name:"rootProps",initialState:p_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:p_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),KJ=KR.reducer,{updateOptions:JJ}=KR.actions,JR=Zn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fue}=JR.actions,XJ=JR.reducer,XR=Lr("keyDown"),WR=Lr("focus"),kb=oc();kb.startListening({actionCreator:XR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=ub(i,gl(n),gc(n),bc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var h=ha(n);if(o==="Enter"){var f=nh(n,"axis","hover",String(i.index));t.dispatch(gv({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var p=TG(n),m=p==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,b=u+v*m;if(!(h==null||b>=h.length||b<0)){var N=nh(n,"axis","hover",String(b));t.dispatch(gv({active:!0,activeIndex:b.toString(),activeCoordinate:N}))}}}}}});kb.startListening({actionCreator:WR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=nh(n,"axis","hover",String(o));t.dispatch(gv({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Pr=Lr("externalEvent"),QR=oc(),c0=new Map;QR.startListening({actionCreator:Pr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=c0.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),h={activeCoordinate:SV(u),activeDataKey:bV(u),activeIndex:Qu(u),activeLabel:Wj(u),activeTooltipIndex:Qu(u),isTooltipActive:NV(u)};n(h,r)}finally{c0.delete(i)}});c0.set(i,l)}}});var WJ=le([pl],e=>e.tooltipItemPayloads),QJ=le([WJ,xc,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),ZR=Lr("touchMove"),eD=oc();eD.startListening({actionCreator:ZR,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=lb(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=Tb(r,_b({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(zj({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,h=n.touches[0];if(document.elementFromPoint==null||h==null)return;var f=document.elementFromPoint(h.clientX,h.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(mz),m=(u=f.getAttribute(gz))!==null&&u!==void 0?u:void 0,v=ml(r).find(E=>E.id===m);if(p==null||v==null||m==null)return;var{dataKey:b}=v,N=QJ(r,p,m);t.dispatch(DG({activeDataKey:b,activeIndex:p,activeCoordinate:N,activeGraphicalItemId:m}))}}}});var ZJ=FP({brush:BY,cartesianAxis:PY,chartData:S$,errorBars:OK,graphicalItems:sY,layout:QB,legend:uq,options:y$,polarAxis:J7,polarOptions:XJ,referenceElements:$Y,rootProps:KJ,tooltip:LG,zIndex:i$}),eX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return NB({reducer:ZJ,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([$R.middleware,YR.middleware,kb.middleware,QR.middleware,eD.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(iM({type:"raf"}))},devTools:{serialize:{replacer:YJ},name:"recharts-".concat(n)}})};function tX(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=er(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=eX(t,r));var l=lx;return C.createElement(eJ,{context:l,store:o.current},n)}function nX(e){var{layout:t,margin:n}=e,r=sn(),i=er();return C.useEffect(()=>{i||(r(JB(t)),r(KB(n)))},[r,i,t,n]),null}var rX=C.memo(nX,Eb);function iX(e){var t=sn();return C.useEffect(()=>{t(JJ(e))},[t,e]),null}function m_(e){var{zIndex:t,isPanorama:n}=e,r=C.useRef(null),i=sn();return C.useLayoutEffect(()=>(r.current&&i(n$({zIndex:t,element:r.current,isPanorama:n})),()=>{i(r$({zIndex:t,isPanorama:n}))}),[i,t,n]),C.createElement("g",{tabIndex:-1,ref:r})}function g_(e){var{children:t,isPanorama:n}=e,r=je($V);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(m_,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>C.createElement(m_,{key:l,zIndex:l,isPanorama:n})))}var aX=["children"];function oX(e,t){if(e==null)return{};var n,r,i=sX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}var lX={width:"100%",height:"100%",display:"block"},uX=C.forwardRef((e,t)=>{var n=_M(),r=kM(),i=LM();if(!bi(n)||!bi(r))return null;var{children:o,otherAttributes:l,title:u,desc:h}=e,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),C.createElement(uP,sh({},l,{title:u,desc:h,role:p,tabIndex:f,width:n,height:r,style:lX,ref:t}),o)}),cX=e=>{var{children:t}=e,n=je(Bh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return C.createElement(uP,{width:r,height:i,x:l,y:o},t)},y_=C.forwardRef((e,t)=>{var{children:n}=e,r=oX(e,aX),i=er();return i?C.createElement(cX,null,C.createElement(g_,{isPanorama:!0},n)):C.createElement(uX,sh({ref:t},r),C.createElement(g_,{isPanorama:!1},n))});function dX(){var e=sn(),[t,n]=C.useState(null),r=je(pz);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Mt(o)&&o!==r&&e(WB(o))}},[t,e,r]),n}function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(n),!0).forEach(function(r){hX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hX(e,t,n){return(t=pX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(null,arguments)}var gX=()=>(M$(),null);function lh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var yX=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[o,l]=C.useState({containerWidth:lh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:lh((r=e.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,p)=>{l(m=>{var v=Math.round(f),b=Math.round(p);return m.containerWidth===v&&m.containerHeight===b?m:{containerWidth:v,containerHeight:b}})},[]),h=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();u(p,m);var v=N=>{var{width:E,height:A}=N[0].contentRect;u(E,A)},b=new ResizeObserver(v);b.observe(f),i.current=b}},[t,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(qh,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",zo({ref:h},e)))}),vX=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=C.useState({containerWidth:lh(n),containerHeight:lh(r)}),l=C.useCallback((h,f)=>{o(p=>{var m=Math.round(h),v=Math.round(f);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),u=C.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();l(f,p)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(qh,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",zo({ref:u},e)))}),xX=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(qh,{width:n,height:r}),C.createElement("div",zo({ref:t},e)))}),bX=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return Wi(n)||Wi(r)?C.createElement(vX,zo({},e,{ref:t})):C.createElement(xX,zo({},e,{ref:t}))});function wX(e){return e===!0?yX:bX}var SX=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:b,onTouchMove:N,onTouchStart:E,style:A,width:T,responsive:k,dispatchTouchEvents:P=!0}=e,I=C.useRef(null),R=sn(),[j,M]=C.useState(null),[G,U]=C.useState(null),D=dX(),O=yx(),$=(O==null?void 0:O.width)>0?O.width:T,F=(O==null?void 0:O.height)>0?O.height:i,V=C.useCallback(ae=>{D(ae),typeof t=="function"&&t(ae),M(ae),U(ae),ae!=null&&(I.current=ae)},[D,t,M,U]),z=C.useCallback(ae=>{R(VR(ae)),R(Pr({handler:o,reactEvent:ae}))},[R,o]),B=C.useCallback(ae=>{R(Ev(ae)),R(Pr({handler:f,reactEvent:ae}))},[R,f]),K=C.useCallback(ae=>{R(Bj()),R(Pr({handler:p,reactEvent:ae}))},[R,p]),ie=C.useCallback(ae=>{R(Ev(ae)),R(Pr({handler:m,reactEvent:ae}))},[R,m]),Z=C.useCallback(()=>{R(WR())},[R]),q=C.useCallback(ae=>{R(XR(ae.key))},[R]),Y=C.useCallback(ae=>{R(Pr({handler:l,reactEvent:ae}))},[R,l]),X=C.useCallback(ae=>{R(Pr({handler:u,reactEvent:ae}))},[R,u]),H=C.useCallback(ae=>{R(Pr({handler:h,reactEvent:ae}))},[R,h]),pe=C.useCallback(ae=>{R(Pr({handler:v,reactEvent:ae}))},[R,v]),Se=C.useCallback(ae=>{R(Pr({handler:E,reactEvent:ae}))},[R,E]),ue=C.useCallback(ae=>{P&&R(ZR(ae)),R(Pr({handler:N,reactEvent:ae}))},[R,P,N]),we=C.useCallback(ae=>{R(Pr({handler:b,reactEvent:ae}))},[R,b]),Ue=wX(k);return C.createElement(aR.Provider,{value:j},C.createElement(E6.Provider,{value:G},C.createElement(Ue,{width:$??(A==null?void 0:A.width),height:F??(A==null?void 0:A.height),className:Et("recharts-wrapper",r),style:fX({position:"relative",cursor:"default",width:$,height:F},A),onClick:z,onContextMenu:Y,onDoubleClick:X,onFocus:Z,onKeyDown:q,onMouseDown:H,onMouseEnter:B,onMouseLeave:K,onMouseMove:ie,onMouseUp:pe,onTouchEnd:we,onTouchMove:ue,onTouchStart:Se,ref:V},C.createElement(gX,null),n)))}),NX=["width","height","responsive","children","className","style","compact","title","desc"];function EX(e,t){if(e==null)return{};var n,r,i=AX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CX=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:h,title:f,desc:p}=e,m=EX(e,NX),v=ei(m);return h?C.createElement(C.Fragment,null,C.createElement(qh,{width:n,height:r}),C.createElement(y_,{otherAttributes:v,title:f,desc:p},o)):C.createElement(SX,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(y_,{otherAttributes:v,title:f,desc:p,ref:t},C.createElement(KY,null,o)))});function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}var TX={top:5,right:5,bottom:5,left:5},_X={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:TX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kX=C.forwardRef(function(t,n){var r,i=gr(t.categoricalChartProps,_X),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,p={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(tX,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},C.createElement(UY,{chartData:f.data}),C.createElement(rX,{layout:i.layout,margin:i.margin}),C.createElement(iX,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(CX,Av({},i,{ref:n})))}),PX=["axis"],MX=C.forwardRef((e,t)=>C.createElement(kX,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:PX,tooltipPayloadSearcher:m$,categoricalChartProps:e,ref:t}));const x_=({onNavigate:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState("daily"),[o,l]=C.useState([]),[u,h]=C.useState([]),[f,p]=C.useState("payments"),[m,v]=C.useState(""),[b,N]=C.useState("out"),[E,A]=C.useState(10),[T,k]=C.useState(!1),[P,I]=C.useState({title:"",date:new Date().toISOString().split("T")[0]});C.useEffect(()=>{R()},[r]);const R=()=>{const O=me.getTransactions();l(me.getProducts()),h(me.getAllReminders()),j(O)},j=O=>{let $=[];const F=new Date,V=O.filter(z=>z.type==="SALE");if(r==="daily")for(let z=29;z>=0;z--){const B=new Date(F);B.setDate(B.getDate()-z);const K=B.toISOString().split("T")[0],ie=Ys(B),Z=`${M0[ie.month-1].substring(0,3)} ${ie.day}`,q=V.filter(Y=>Y.date.startsWith(K)).reduce((Y,X)=>Y+X.totalAmount,0);$.push({name:Z,sales:q})}else if(r==="monthly"){const z=Ys(F);let B=z.year,K=z.month;const ie=[];for(let Z=0;Z<12;Z++)ie.unshift({year:B,month:K}),K--,K<1&&(K=12,B--);ie.forEach(Z=>{const q=P0(Z.year,Z.month-1),Y=Ya(Z.year,Z.month,1),X=Ya(Z.year,Z.month,q);Y.setHours(0,0,0,0),X.setHours(23,59,59,999);const H=`${M0[Z.month-1].substring(0,3)} ${Z.year}`,pe=V.filter(Se=>{const ue=new Date(Se.date);return ue>=Y&&ue<=X}).reduce((Se,ue)=>Se+ue.totalAmount,0);$.push({name:H,sales:pe})})}else if(r==="yearly"){let B=Ys(F).year;for(let K=4;K>=0;K--){const ie=B-K,Z=Ya(ie,1,1),q=P0(ie,11),Y=Ya(ie,12,q);Z.setHours(0,0,0,0),Y.setHours(23,59,59,999);const X=V.filter(H=>{const pe=new Date(H.date);return pe>=Z&&pe<=Y}).reduce((H,pe)=>H+pe.totalAmount,0);$.push({name:ie.toString(),sales:X})}}n($)},M=O=>{me.deleteManualReminder(O),h(me.getAllReminders())},G=O=>{O.preventDefault(),P.title&&(me.addManualReminder({id:Date.now().toString(),title:P.title,date:new Date(P.date).toISOString(),type:"manual",priority:"medium"}),k(!1),I({title:"",date:new Date().toISOString().split("T")[0]}),h(me.getAllReminders()))},D=(()=>{const O=m.toLowerCase();return f==="stock"?o.filter($=>$.type==="service"||O&&!$.name.toLowerCase().includes(O)?!1:b==="out"?$.stock<1:b==="low"?$.stock<($.minStockLevel||5):b==="custom"?$.stock<E:!1).map($=>({id:$.id,title:$.name,subtitle:`Stock: ${$.stock} ${$.unit} (Min: ${$.minStockLevel||5})`,type:"stock",priority:$.stock<1?"high":"medium"})):f==="payments"?u.filter($=>!(!["system_due","party_due","party_deadline"].includes($.type||"")||O&&!$.title.toLowerCase().includes(O))).map($=>({id:$.id,title:$.title,subtitle:$.amount?`Dues: Rs. ${ne($.amount)}`:It($.date),type:"payment",priority:$.priority||"medium",raw:$})):f==="personal"?u.filter($=>!(!($.type==="manual")||O&&!$.title.toLowerCase().includes(O))).map($=>({id:$.id,title:$.title,subtitle:`Due: ${It($.date)}`,type:"manual",priority:$.priority||"medium",raw:$})):[]})();return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-100 shadow-sm min-h-[400px]",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[c.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(bh,{className:"w-5 h-5 text-emerald-600"}),"Sales Performance"]}),c.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["daily","monthly","yearly"].map(O=>c.jsx("button",{onClick:()=>i(O),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all capitalize ${r===O?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-200"}`,children:O},O))})]}),c.jsx("div",{className:"h-[320px] w-full",children:c.jsx(Gz,{width:"100%",height:"100%",children:c.jsxs(MX,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),c.jsx(PR,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),c.jsx(FR,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#9ca3af"},dy:10,interval:r==="daily"?3:0}),c.jsx(GR,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#9ca3af"},tickFormatter:O=>`k ${(O/1e3).toFixed(0)}`}),c.jsx(B$,{cursor:{stroke:"#10b981",strokeWidth:1,strokeDasharray:"4 4"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:O=>[ne(O),"Sales"]}),c.jsx(qR,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm min-h-[400px] flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[c.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(bf,{className:"w-5 h-5 text-orange-500"}),"Reminders & Alerts"]}),c.jsx("button",{onClick:()=>k(!0),className:"text-[10px] font-black uppercase bg-brand-500 text-white px-2 py-1 rounded shadow-sm hover:bg-brand-600 transition-colors",children:"Add New"})]}),c.jsxs("div",{className:"flex border-b border-gray-100 bg-white",children:[c.jsx("button",{onClick:()=>{p("payments"),v("")},className:`flex-1 py-3 text-[10px] font-black uppercase text-center border-b-2 transition-colors ${f==="payments"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Payments Aging"}),c.jsx("button",{onClick:()=>{p("stock"),v("")},className:`flex-1 py-3 text-[10px] font-black uppercase text-center border-b-2 transition-colors ${f==="stock"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Stock Alerts"}),c.jsx("button",{onClick:()=>{p("personal"),v("")},className:`flex-1 py-3 text-[10px] font-black uppercase text-center border-b-2 transition-colors ${f==="personal"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Manual List"})]}),c.jsx("div",{className:"p-3 border-b border-gray-50",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-xl text-xs focus:ring-2 focus:ring-brand-500 outline-none transition-all",placeholder:"Filter reminders...",value:m,onChange:O=>v(O.target.value)}),c.jsx($t,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2.5 top-1/2 -translate-y-1/2"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[350px]",children:D.length>0?D.map(O=>c.jsxs("div",{className:"group flex items-start gap-3 p-3 rounded-xl border border-gray-100 bg-white hover:border-brand-200 hover:bg-brand-50/20 transition-all shadow-sm",children:[c.jsx("div",{className:`shrink-0 mt-0.5 p-2 rounded-lg ${O.type==="stock"?"bg-red-50 text-red-600":O.type==="payment"?O.priority==="high"?"bg-red-50 text-red-600 animate-pulse":"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:O.type==="stock"?c.jsx(ko,{className:"w-4 h-4"}):O.type==="payment"?c.jsx($k,{className:"w-4 h-4"}):c.jsx(vh,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h4",{className:"text-sm font-bold text-gray-800 truncate",title:O.title,children:O.title}),c.jsx("button",{onClick:()=>M(O.id),className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(aa,{className:"w-3.5 h-3.5"})})]}),c.jsxs("div",{className:`text-[11px] mt-0.5 font-medium flex items-center justify-between ${O.priority==="high"?"text-red-600":"text-gray-500"}`,children:[c.jsx("span",{children:O.subtitle}),O.priority==="high"&&c.jsx(eP,{className:"w-3 h-3 ml-1"})]})]})]},O.id)):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 text-sm py-20",children:[c.jsx(PL,{className:"w-12 h-12 mb-3 opacity-20 text-emerald-500"}),c.jsx("p",{className:"font-bold",children:"No Alerts"}),c.jsx("p",{className:"text-xs",children:"Your dashboard is clean!"})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:()=>e("sales-invoices"),className:"bg-emerald-50 p-5 rounded-2xl border border-emerald-100 flex items-center gap-4 hover:bg-emerald-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-emerald-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(Vk,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-emerald-900 uppercase text-xs tracking-wider",children:"New Sale"})]}),c.jsxs("button",{onClick:()=>e("purchase-bills"),className:"bg-blue-50 p-5 rounded-2xl border border-blue-100 flex items-center gap-4 hover:bg-blue-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-blue-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(Fk,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-blue-900 uppercase text-xs tracking-wider",children:"New Purchase"})]}),c.jsxs("button",{onClick:()=>e("parties"),className:"bg-purple-50 p-5 rounded-2xl border border-purple-100 flex items-center gap-4 hover:bg-purple-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-purple-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(wh,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-purple-900 uppercase text-xs tracking-wider",children:"Parties"})]}),c.jsxs("button",{onClick:()=>e("inventory"),className:"bg-orange-50 p-5 rounded-2xl border border-orange-100 flex items-center gap-4 hover:bg-orange-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-orange-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(ko,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-orange-900 uppercase text-xs tracking-wider",children:"Inventory"})]})]}),T&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"font-black text-lg text-gray-800 uppercase flex items-center gap-2",children:[c.jsx(Zr,{className:"w-5 h-5 text-brand-500"})," New Reminder"]}),c.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:G,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:"Title / Details"}),c.jsx("input",{autoFocus:!0,required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:P.title,onChange:O=>I({...P,title:O.target.value}),placeholder:"e.g. Call Rajesh for payment"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:"Reminder Date"}),c.jsx("input",{type:"date",required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:P.date,onChange:O=>I({...P,date:O.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-5 py-2 text-gray-600 font-bold text-sm hover:bg-gray-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-bold text-sm hover:bg-brand-700 shadow-lg shadow-brand-600/20 active:scale-95 transition-all",children:"Create"})]})]})]})})]})},ii=(e,t)=>{if(typeof XLSX>"u"){alert("Excel library not loaded. Please check your internet connection.");return}const n=XLSX.utils.json_to_sheet(e),r=XLSX.utils.book_new();XLSX.utils.book_append_sheet(r,n,"Sheet1"),XLSX.writeFile(r,`${t}_${new Date().toISOString().split("T")[0]}.xlsx`)},Fo=(e,t,n)=>{const r=window.open("","_blank");if(!r)return;const i=t.map(u=>`<th style="border:1px solid #e2e8f0; padding:12px 8px; text-align:left; background-color:#f8fafc; color:#475569; font-weight:600; font-size: 12px;">${u}</th>`).join(""),o=n.map((u,h)=>{const f=h%2===0?"#ffffff":"#fcfcfc",p=u.map(m=>`<td style="border:1px solid #e2e8f0; padding:8px; font-size: 12px; color:#334155;">${m??""}</td>`).join("");return`<tr style="background-color:${f}">${p}</tr>`}).join(""),l=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>${e}</title>
        <style>
          @page { size: A4; margin: 20mm; }
          body { font-family: 'Inter', system-ui, sans-serif; padding: 20px; color: #1e293b; }
          h1 { text-align: center; color: #0f172a; font-size: 24px; margin-bottom: 5px; }
          .meta { text-align: center; color: #64748b; font-size: 12px; margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          .footer { margin-top: 40px; text-align: center; font-size: 10px; color: #94a3b8; border-top: 1px solid #e2e8f0; padding-top: 20px; }
        </style>
      </head>
      <body>
        <h1>${e}</h1>
        <div class="meta">Generated on: ${new Date().toLocaleString()}</div>
        <table>
          <thead>
            <tr>${i}</tr>
          </thead>
          <tbody>
            ${o}
          </tbody>
        </table>
        <div class="footer">Generated by AA Pro Business Solutions</div>
        <script>
          window.onload = function() { window.print(); }
        <\/script>
      </body>
    </html>
  `;r.document.write(l),r.document.close()},tD=e=>e.map(t=>({"Item Name":t.name,Category:t.category,Type:t.type,Stock:t.stock,Unit:t.unit,"Purchase Price":t.purchasePrice,"Sale Price":t.salePrice,"Wholesale Price":t.wholesalePrice||0})),Cv=e=>e.map(t=>({Name:t.name,Type:t.type,Phone:t.phone,Balance:t.balance,Status:t.balance>0?"Receivable":t.balance<0?"Payable":"Settled"})),Tv=e=>e.map(t=>({Date:It(t.date),"Voucher No":t.id,Type:t.type,Party:t.partyName,"Total Amount":t.totalAmount,"Paid Via":t.paymentMode||"-",Remarks:t.notes||""})),nD=C.createContext(void 0),qr=()=>{const e=C.useContext(nD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},IX=({children:e})=>{const[t,n]=C.useState([]),r=C.useCallback((o,l="info")=>{const u=Date.now().toString();n(h=>[...h,{id:u,message:o,type:l}]),setTimeout(()=>{n(h=>h.filter(f=>f.id!==u))},4e3)},[]),i=o=>{n(l=>l.filter(u=>u.id!==o))};return c.jsxs(nD.Provider,{value:{addToast:r},children:[e,c.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:t.map(o=>c.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border animate-in slide-in-from-right-full duration-300 min-w-[300px] max-w-md
              ${o.type==="success"?"bg-white border-emerald-100 text-emerald-800":""}
              ${o.type==="error"?"bg-white border-red-100 text-red-800":""}
              ${o.type==="info"?"bg-white border-blue-100 text-blue-800":""}
            `,children:[c.jsxs("div",{className:"shrink-0",children:[o.type==="success"&&c.jsx(xh,{className:"w-5 h-5 text-emerald-500"}),o.type==="error"&&c.jsx(Vs,{className:"w-5 h-5 text-red-500"}),o.type==="info"&&c.jsx(Kk,{className:"w-5 h-5 text-blue-500"})]}),c.jsx("p",{className:"text-sm font-medium flex-1 leading-snug",children:o.message}),c.jsx("button",{onClick:()=>i(o.id),className:"text-gray-400 hover:text-gray-600 shrink-0",children:c.jsx(Nt,{className:"w-4 h-4"})})]},o.id))})]})},Jt=({value:e,onChange:t,placeholder:n="DD/MM/YYYY",className:r=""})=>{const[i,o]=C.useState(!1),[l,u]=C.useState(""),h=C.useRef(null),f=C.useRef(null),[p,m]=C.useState(2081),[v,b]=C.useState(0);C.useEffect(()=>{if(e){u(It(e));const U=Ys(new Date(e));m(U.year),b(U.month-1)}else u("")},[e]),C.useEffect(()=>{function U(D){h.current&&!h.current.contains(D.target)&&o(!1)}return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const N=U=>{let D=U.target.value.replace(/[^\d/]/g,"");(D.length===2&&!D.includes("/")||D.length===5&&D.split("/").length===2)&&(D=D+"/"),u(D.substring(0,10))},E=()=>{if(!l){t("");return}const U=h6(),D=l.split("/");let O=parseInt(D[0]),$=D.length>1&&D[1]!==""?parseInt(D[1]):U.month,F=D.length>2&&D[2]!==""?parseInt(D[2]):U.year;F<100&&(F=2e3+F);const V=`${String(O).padStart(2,"0")}/${String($).padStart(2,"0")}/${F}`;if(d6(V)){const z=Ya(F,$,O);z.setHours(12,0,0,0),t(z.toISOString()),u(V)}else u(e?It(e):"")},A=U=>{U.key==="Enter"&&(E(),o(!1)),U.key==="Escape"&&o(!1)},T=()=>{v===0?(b(11),m(U=>U-1)):b(U=>U-1)},k=()=>{v===11?(b(0),m(U=>U+1)):b(U=>U+1)},P=U=>{const D=Ya(p,v+1,U);D.setHours(12,0,0,0),t(D.toISOString()),o(!1)},I=U=>{U.stopPropagation(),u(""),t("")},R=P0(p,v),M=Ya(p,v+1,1).getDay(),G=()=>{const U=[];for(let D=0;D<M;D++)U.push(c.jsx("div",{className:"h-8 w-8"},`empty-${D}`));for(let D=1;D<=R;D++){const O=Ya(p,v+1,D),$=e&&new Date(e).toDateString()===O.toDateString(),F=new Date().toDateString()===O.toDateString();U.push(c.jsx("button",{type:"button",onClick:()=>P(D),className:`h-8 w-8 rounded-full text-sm flex items-center justify-center transition-colors
            ${$?"bg-brand-500 text-white font-bold":F?"bg-brand-50 text-brand-600 font-semibold border border-brand-200":"hover:bg-gray-100 text-gray-700"}
          `,children:D},D))}return U};return c.jsxs("div",{className:`relative ${r}`,ref:h,children:[c.jsxs("div",{className:"flex items-center bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-brand-500 focus-within:border-brand-500 transition-all",children:[c.jsx("div",{className:"p-2.5 text-gray-400",children:c.jsx(vh,{className:"w-4 h-4"})}),c.jsx("input",{ref:f,type:"text",className:"flex-1 bg-transparent py-2 px-1 text-sm outline-none placeholder-gray-400 dark:placeholder-gray-500 text-gray-700 dark:text-gray-200",placeholder:n,value:l,onChange:N,onKeyDown:A,onBlur:E,onFocus:()=>o(!0)}),l&&c.jsx("button",{type:"button",onClick:I,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Nt,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2.5 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 border-l border-gray-300 dark:border-gray-600 transition-colors",children:c.jsx(gi,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 p-4 w-72 z-[100] animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("button",{type:"button",onClick:T,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(EL,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),c.jsxs("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:[M0[v]," ",p]}),c.jsx("button",{type:"button",onClick:k,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(CL,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-2 text-center",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(U=>c.jsx("div",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:U},U))}),c.jsx("div",{className:"grid grid-cols-7 gap-y-1 justify-items-center",children:G()}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 flex justify-between",children:[c.jsx("button",{type:"button",onClick:()=>{t(""),u(""),o(!1)},className:"text-xs text-red-500 hover:text-red-600 font-medium",children:"Clear"}),c.jsx("button",{type:"button",onClick:()=>{t(new Date().toISOString()),o(!1)},className:"text-xs text-brand-600 hover:text-brand-700 dark:text-brand-400 font-medium",children:"Today"})]})]})]})},jX=({triggerAdd:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(!1),[o,l]=C.useState({type:"customer",name:"",phone:"",address:"",dueDate:""}),[u,h]=C.useState(""),[f,p]=C.useState(""),[m,v]=C.useState("receive"),[b,N]=C.useState(!1),[E,A]=C.useState(null),[T,k]=C.useState({date:new Date().toISOString(),note:"",priority:"medium"}),{addToast:P}=qr();C.useEffect(()=>{n(me.getParties())},[r,b]),C.useEffect(()=>{e&&e>0&&j()},[e]);const I=F=>{if(F.preventDefault(),o.name){if(o.id){if(me.updateParty(o),f){const V=Number(f),z=m==="receive"?V:-V,B=me.getTransactions().find(K=>K.partyId===o.id&&K.type==="BALANCE_ADJUSTMENT"&&K.category==="Opening Balance");B?B.totalAmount!==z&&me.updateTransaction(B.id,{...B,totalAmount:z,partyName:o.name||B.partyName}):V>0&&me.addTransaction({id:`OP-${o.id}-${Date.now()}`,date:new Date().toISOString(),type:"BALANCE_ADJUSTMENT",partyId:o.id,partyName:o.name,items:[],totalAmount:z,notes:"Opening Balance",category:"Opening Balance",paymentMode:"Adjustment"})}P("Party details updated successfully","success")}else{const V=Date.now().toString();if(me.addParty({id:V,name:o.name,phone:o.phone||"",type:o.type,address:o.address,dueDate:o.dueDate,balance:0}),f&&Number(f)>0){const z=Number(f),B=m==="receive"?z:-z;me.addTransaction({id:`OP-${V}`,date:new Date().toISOString(),type:"BALANCE_ADJUSTMENT",partyId:V,partyName:o.name,items:[],totalAmount:B,notes:"Opening Balance",category:"Opening Balance",paymentMode:"Adjustment"})}P("New party added successfully","success")}i(!1),M(),n(me.getParties())}else P("Party Name is required","error")},R=F=>{l({...F});const V=me.getTransactions().find(z=>z.partyId===F.id&&z.type==="BALANCE_ADJUSTMENT"&&z.category==="Opening Balance");V?(p(Math.abs(V.totalAmount).toString()),v(V.totalAmount>=0?"receive":"pay")):(p(""),v("receive")),i(!0)},j=()=>{M(),i(!0)},M=()=>{l({type:"customer",name:"",phone:"",address:"",dueDate:""}),p(""),v("receive")},G=F=>{A(F),k({date:new Date().toISOString(),note:`Follow up payment of ${ne(Math.abs(F.balance))}`,priority:Math.abs(F.balance)>5e4?"high":"medium"}),N(!0)},U=F=>{F.preventDefault(),E&&T.note&&(me.addManualReminder({id:Date.now().toString(),title:`FOLLOW UP: ${E.name}`,date:T.date,type:"party_due",priority:T.priority,amount:Math.abs(E.balance)}),P(`Manual reminder set for ${E.name}`,"success"),N(!1))},D=()=>{try{const F=Cv(t);ii(F,"Parties_Report"),P("Exported to Excel successfully","success")}catch{P("Failed to export data","error")}},O=()=>{const F=Cv(t),V=["Name","Type","Phone","Balance","Status"],z=F.map(B=>[B.Name,B.Type,B.Phone,ne(Math.abs(B.Balance)),B.Status]);Fo("Parties List",V,z)},$=t.filter(F=>F.name.toLowerCase().includes(u.toLowerCase())||F.phone&&F.phone.includes(u));return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parties"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[c.jsx(Qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Excel"})]}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[c.jsx(Ln,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Print"})]}),c.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors",children:[c.jsx(Zr,{className:"w-4 h-4"}),"Add Party"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[c.jsx("div",{className:"p-4 border-b border-gray-100 flex gap-4",children:c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[c.jsx($t,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search parties...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:u,onChange:F=>h(F.target.value)})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Name"}),c.jsx("th",{className:"px-6 py-3",children:"Type"}),c.jsx("th",{className:"px-6 py-3",children:"Contact"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Balance"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[$.map(F=>c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-bold text-xs uppercase",children:F.name.substring(0,2)}),c.jsxs("div",{children:[F.name,F.dueDate&&c.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[c.jsx(vh,{className:"w-3 h-3"})," Due: ",It(F.dueDate)]})]})]}),c.jsx("td",{className:"px-6 py-4 capitalize",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${F.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:F.type})}),c.jsx("td",{className:"px-6 py-4 text-gray-500",children:F.phone||"-"}),c.jsxs("td",{className:`px-6 py-4 text-right font-bold ${F.balance>=0?"text-green-600":"text-red-600"}`,children:[ne(Math.abs(F.balance)),c.jsx("span",{className:"text-xs font-normal text-gray-400 ml-1",children:F.balance>=0?"To Rx":"To Give"})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>G(F),className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Set Manual Reminder",children:c.jsx(bf,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(F),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(nc,{className:"w-4 h-4"})})]})})]},F.id)),$.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-400",children:"No parties found."})})]})]})})]}),r&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-4",children:o.id?"Edit Party":"Add New Party"}),c.jsxs("form",{onSubmit:I,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Party Type"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"type",checked:o.type==="customer",onChange:()=>{l({...o,type:"customer"}),v("receive")}})," Customer"]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"type",checked:o.type==="supplier",onChange:()=>{l({...o,type:"supplier"}),v("pay")}})," Supplier"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-brand-500 outline-none",value:o.name,onChange:F=>l({...o,name:F.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-brand-500 outline-none",value:o.phone||"",onChange:F=>l({...o,phone:F.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-brand-500 outline-none",value:o.address||"",onChange:F=>l({...o,address:F.target.value})})]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Sh,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Opening Balance"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("div",{children:c.jsx("input",{type:"number",min:"0",placeholder:"0.00",className:"w-full border border-gray-300 rounded-lg p-2 outline-none bg-white",value:f,onChange:F=>p(F.target.value)})}),c.jsx("div",{children:c.jsxs("select",{className:`w-full border border-gray-300 rounded-lg p-2 outline-none ${m==="receive"?"text-green-600 font-medium":"text-red-600 font-medium"}`,value:m,onChange:F=>v(F.target.value),children:[c.jsx("option",{value:"receive",children:"To Receive (Dr)"}),c.jsx("option",{value:"pay",children:"To Pay (Cr)"})]})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Due Date (Optional)"}),c.jsx(Jt,{value:o.dueDate||"",onChange:F=>l({...o,dueDate:F}),placeholder:"Set due date"})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{i(!1),M()},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 font-bold",children:o.id?"Update Party":"Save Party"})]})]})]})}),b&&E&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(bf,{className:"w-5 h-5 text-brand-500"})," Payment Reminder"]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Manual follow-up for ",E.name]})]}),c.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:`p-4 rounded-xl mb-6 text-center border-2 ${E.balance>=0?"bg-emerald-50 border-emerald-100 text-emerald-800":"bg-red-50 border-red-100 text-red-800"}`,children:[c.jsx("div",{className:"text-[10px] uppercase font-black tracking-widest opacity-60",children:"Current Total Dues"}),c.jsx("div",{className:"text-2xl font-black",children:ne(Math.abs(E.balance))}),c.jsx("div",{className:"text-xs font-bold mt-1 uppercase tracking-tighter",children:E.balance>=0?"Account Receivable":"Account Payable"})]}),c.jsxs("form",{onSubmit:U,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Follow-up Date"}),c.jsx(Jt,{value:T.date,onChange:F=>k({...T,date:F})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Priority Level"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(F=>c.jsx("button",{type:"button",onClick:()=>k({...T,priority:F}),className:`py-2 rounded-lg text-xs font-bold border-2 transition-all ${T.priority===F?"bg-brand-500 border-brand-500 text-white shadow-md":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:F.toUpperCase()},F))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Follow-up Note"}),c.jsx("textarea",{required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none min-h-[100px] resize-none",placeholder:"e.g. Promised to pay by check tomorrow morning...",value:T.note,onChange:F=>k({...T,note:F.target.value})})]}),c.jsxs("button",{type:"submit",className:"w-full py-3.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-bold shadow-lg shadow-brand-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[c.jsx(xh,{className:"w-5 h-5"})," Set Manual Reminder"]})]})]})})]})},RX=({triggerAdd:e,refreshKey:t,onNavigateToRestock:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState(!1),[u,h]=C.useState({name:"",category:"",type:"goods",stock:0,minStockLevel:5,purchasePrice:0,salePrice:0,unit:"pcs"}),[f,p]=C.useState(!1),m=C.useRef(null),[v,b]=C.useState(""),[N,E]=C.useState("All Categories"),{addToast:A}=qr();C.useEffect(()=>{i(me.getProducts())},[o,t]),C.useEffect(()=>{e&&e>0&&T()},[e]),C.useEffect(()=>{function D(O){m.current&&!m.current.contains(O.target)&&p(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const T=()=>{h({name:"",category:"",type:"goods",stock:0,minStockLevel:5,purchasePrice:0,salePrice:0,unit:"pcs"}),l(!0)},k=D=>{h({...D}),l(!0)},P=D=>{window.confirm("Are you sure you want to delete this item?")&&(me.deleteProduct(D),i(me.getProducts()),A("Item deleted successfully","success"))},I=D=>{if(D.preventDefault(),u.name){const O={id:u.id||Date.now().toString(),name:u.name,category:u.category||"General",type:u.type,stock:u.type==="service"?0:Number(u.stock),minStockLevel:u.type==="service"?0:Number(u.minStockLevel||0),purchasePrice:Number(u.purchasePrice),salePrice:Number(u.salePrice),wholesalePrice:Number(u.wholesalePrice),unit:u.unit||"pcs",secondaryUnit:u.secondaryUnit,conversionRatio:u.conversionRatio?Number(u.conversionRatio):void 0};u.id?(me.updateProduct(O),A("Product updated successfully","success")):(me.addProduct(O),A("New product added successfully","success")),l(!1),i(me.getProducts())}else A("Product Name is required","error")},R=Array.from(new Set(r.map(D=>D.category||"General"))).filter(D=>typeof D=="string"),j=["All Categories",...R],M=r.filter(D=>{const O=D.name.toLowerCase().includes(v.toLowerCase()),$=N==="All Categories"||(D.category||"General")===N;return O&&$}),G=r.filter(D=>D.type!=="service"&&D.stock<(D.minStockLevel||5)).length,U=()=>{const D=tD(r);ii(D,"Inventory_Report")};return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(ko,{className:"w-6 h-6 text-brand-500"}),"Inventory Master"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage products, services and stock thresholds"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[G>0&&n&&c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-orange-50 text-orange-700 border border-orange-200 rounded-lg hover:bg-orange-100 transition-all animate-pulse shadow-sm",children:[c.jsx(eP,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-bold",children:[G," Low Items"]}),c.jsx(gi,{className:"-rotate-90 w-3 h-3"})]}),c.jsxs("button",{onClick:U,className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[c.jsx(Qn,{className:"w-4 h-4"})," Excel"]}),c.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-bold",children:[c.jsx(Zr,{className:"w-4 h-4"})," Add Item"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[c.jsx($t,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search items by name or category...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:v,onChange:D=>b(D.target.value)})]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"appearance-none h-full pl-4 pr-10 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 cursor-pointer",value:N,onChange:D=>E(D.target.value),children:j.map(D=>c.jsx("option",{value:D,children:D},D))}),c.jsx(gi,{className:"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Item Details"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Stock"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Threshold"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Purchase"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Sales"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[M.map(D=>{const O=D.type!=="service"&&D.stock<(D.minStockLevel||5),$=D.type!=="service"&&D.stock<=0;return c.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-bold text-gray-900",children:D.name}),c.jsxs("div",{className:"text-[10px] text-gray-400 uppercase flex items-center gap-2",children:[D.category," ",c.jsx("span",{className:"opacity-30",children:"|"})," ",D.unit,D.type==="service"&&c.jsx("span",{className:"bg-blue-50 text-blue-600 px-1 rounded",children:"Service"})]})]}),c.jsx("td",{className:`px-6 py-4 text-center font-black text-lg ${D.type==="service"?"text-gray-300":O?"text-red-500":"text-emerald-600"}`,children:D.type==="service"?"-":D.stock}),c.jsx("td",{className:"px-6 py-4 text-center text-gray-400 font-medium",children:D.type==="service"?"-":D.minStockLevel||0}),c.jsx("td",{className:"px-6 py-4 text-right text-gray-600 font-mono",children:ne(D.purchasePrice)}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900 font-mono",children:ne(D.salePrice)}),c.jsx("td",{className:"px-6 py-4 text-center",children:D.type!=="service"&&c.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${$?"bg-red-50 text-red-600 border-red-100":O?"bg-orange-50 text-orange-600 border-orange-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:$?"OUT":O?"LOW":"OK"})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>k(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:c.jsx(nc,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>P(D.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(aa,{className:"w-4 h-4"})})]})})]},D.id)}),M.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:7,className:"text-center py-20 text-gray-400",children:[c.jsx(ko,{className:"w-10 h-10 mx-auto mb-2 opacity-10"}),"No items found."]})})]})]})})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(ko,{className:"w-6 h-6 text-brand-500"}),u.id?"Edit Item Details":"Register New Item"]}),c.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:I,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Product/Service Name"}),c.jsx("input",{required:!0,autoFocus:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",placeholder:"e.g. Wireless Gaming Mouse",value:u.name,onChange:D=>h({...u,name:D.target.value})})]}),c.jsxs("div",{ref:m,className:"relative",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Category"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none pr-8 font-medium",placeholder:"Select or type...",value:u.category,onChange:D=>{h({...u,category:D.target.value}),p(!0)},onFocus:()=>p(!0)}),c.jsx(gi,{className:"absolute right-3 top-3.5 w-4 h-4 text-gray-400 pointer-events-none"})]}),f&&c.jsx("div",{className:"absolute z-20 top-full left-0 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-40 overflow-y-auto",children:R.filter(D=>D.toLowerCase().includes((u.category||"").toLowerCase())).map(D=>c.jsx("div",{className:"px-4 py-2 text-sm hover:bg-gray-50 cursor-pointer",onClick:()=>{h({...u,category:D}),p(!1)},children:D},D))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Item Type"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none bg-white font-medium",value:u.type,onChange:D=>h({...u,type:D.target.value}),children:[c.jsx("option",{value:"goods",children:"Goods (Stockable)"}),c.jsx("option",{value:"service",children:"Service (No Stock)"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Primary Unit"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",value:u.unit,onChange:D=>h({...u,unit:D.target.value}),placeholder:"pcs, kg, etc"})]}),u.type!=="service"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Current Stock"}),c.jsx("input",{type:"number",step:"any",className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:u.stock,onChange:D=>h({...u,stock:Number(D.target.value)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Min Threshold"}),c.jsx("input",{type:"number",step:"any",className:"w-full border border-orange-300 bg-orange-50/20 rounded-xl p-3 text-sm focus:ring-2 focus:ring-orange-500 outline-none font-bold",value:u.minStockLevel,onChange:D=>h({...u,minStockLevel:Number(D.target.value)}),title:"Warn if stock falls below this value"})]})]})]}),c.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-gray-100 space-y-4",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Pricing & Margins"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1",children:"BUY PRICE (COST)"}),c.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-xl p-2.5 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-mono",value:u.purchasePrice,onChange:D=>h({...u,purchasePrice:Number(D.target.value)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold text-brand-600 mb-1",children:"RETAIL SALE PRICE"}),c.jsx("input",{type:"number",className:"w-full border border-brand-200 rounded-xl p-2.5 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-mono font-bold",value:u.salePrice,onChange:D=>h({...u,salePrice:Number(D.target.value)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold text-blue-600 mb-1",children:"WHOLESALE PRICE"}),c.jsx("input",{type:"number",className:"w-full border border-blue-200 rounded-xl p-2.5 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-mono",value:u.wholesalePrice||"",onChange:D=>h({...u,wholesalePrice:Number(D.target.value)})})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2.5 text-gray-600 hover:bg-gray-100 rounded-xl font-medium transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-10 py-2.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-bold shadow-lg shadow-brand-500/20 active:scale-95 transition-all",children:"Save Product"})]})]})]})})]})},DX=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(""),[i,o]=C.useState("All Categories");C.useEffect(()=>{t(me.getProducts())},[]);const l=["All Categories",...Array.from(new Set(e.map(h=>h.category||"General")))],u=e.filter(h=>{const f=h.name.toLowerCase().includes(n.toLowerCase()),p=i==="All Categories"||(h.category||"General")===i;return f&&p});return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Price List"}),c.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors border border-gray-200",children:[c.jsx(Ln,{className:"w-4 h-4"}),"Print List"]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm print:shadow-none print:border-none",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-4 print:hidden",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1 max-w-md",children:[c.jsx($t,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search items by name...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:n,onChange:h=>r(h.target.value)})]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"h-full pl-10 pr-8 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm appearance-none outline-none cursor-pointer text-gray-700",value:i,onChange:h=>o(h.target.value),children:l.map(h=>c.jsx("option",{value:h,children:h},h))}),c.jsx(XL,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium print:bg-gray-100 print:text-black",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Item Name"}),c.jsx("th",{className:"px-6 py-3",children:"Category"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Unit"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Stock"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Sales Price"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Wholesale Price"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[u.map((h,f)=>c.jsxs("tr",{className:"hover:bg-gray-50 group print:border-b print:border-gray-200",children:[c.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:h.name}),c.jsx("td",{className:"px-6 py-4 text-gray-500",children:h.category||"General"}),c.jsx("td",{className:"px-6 py-4 text-center text-gray-500 uppercase text-xs",children:h.unit}),c.jsx("td",{className:`px-6 py-4 text-center font-medium ${h.type==="service"?"text-gray-400":h.stock<5?"text-red-500":"text-gray-700"}`,children:h.type==="service"?"N/A":h.stock}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-800",children:ne(h.salePrice)}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-600",children:h.wholesalePrice?ne(h.wholesalePrice):"-"})]},h.id)),u.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No items found matching your filters."})})]})]})})]})]})};function OX(e){const t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=u=>u===0?"":u<20?t[u]:u<100?n[Math.floor(u/10)]+(u%10!==0?" "+t[u%10]:""):u<1e3?t[Math.floor(u/100)]+"Hundred "+r(u%100):u<1e5?r(Math.floor(u/1e3))+"Thousand "+r(u%1e3):u<1e7?r(Math.floor(u/1e5))+"Lakh "+r(u%1e5):r(Math.floor(u/1e7))+"Crore "+r(u%1e7),[i,o]=e.toString().split(".");let l=r(Number(i));if(o&&Number(o)>0){const u=o.padEnd(2,"0").slice(0,2);l+="and "+r(Number(u))+"Paisa "}return l.trim()+" Only"}const LX=({transaction:e,party:t,onClose:n})=>{var l;const[r,i]=C.useState(null);C.useEffect(()=>{i(me.getBusinessProfile())},[]);const o=()=>{switch(e.type){case"SALE":return"Estimate Bill";case"PURCHASE":return"Purchase Bill";case"QUOTATION":return"Quotation";case"SALE_RETURN":return"Credit Note";case"PURCHASE_RETURN":return"Debit Note";case"PAYMENT_IN":return"Receipt Voucher";case"PAYMENT_OUT":return"Payment Voucher";default:return"Invoice"}};return r?c.jsxs("div",{className:"fixed inset-0 z-[100] bg-gray-900/50 flex items-start justify-center p-4 overflow-y-auto print:p-0 print:bg-white print:block print:static",children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @media print {
          @page {
            size: A4;
            margin: 10mm;
          }
          body {
            margin: 0;
            padding: 0;
            background: #fff;
          }
          .no-print {
            display: none !important;
          }
          .print-container {
            width: 100%;
            margin: 0;
            padding: 0;
            box-shadow: none;
            border: none;
          }
        }
      `}}),c.jsxs("div",{className:"fixed top-4 right-4 flex gap-2 no-print z-[110]",children:[c.jsx("button",{onClick:()=>window.print(),className:"bg-brand-600 text-white p-3 rounded-full shadow-xl hover:bg-brand-700 transition-all active:scale-95",title:"Print",children:c.jsx(Ln,{className:"w-6 h-6"})}),c.jsx("button",{onClick:n,className:"bg-gray-800 text-white p-3 rounded-full shadow-xl hover:bg-gray-900 transition-all active:scale-95",title:"Close",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"print-container bg-white w-full max-w-[210mm] shadow-2xl p-10 mt-10 mb-10 print:mt-0 print:mb-0 print:p-0 print:max-w-none",children:[c.jsxs("div",{className:"flex justify-between items-start mb-8 border-b-2 border-gray-100 pb-6 print:border-gray-200",children:[c.jsxs("div",{className:"flex gap-5",children:[r.logoUrl?c.jsx("img",{src:r.logoUrl,alt:"Logo",className:"w-20 h-20 rounded-xl object-cover"}):c.jsx("div",{className:"w-16 h-16 rounded-xl bg-brand-50 flex items-center justify-center border border-brand-100 print:border-gray-300",children:c.jsx(Ro,{className:"w-8 h-8 text-brand-500 print:text-black"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight leading-none mb-2",children:r.name}),c.jsx("p",{className:"text-sm text-gray-600 font-medium",children:r.address}),c.jsxs("div",{className:"mt-1 space-y-0.5",children:[c.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:["PAN: ",r.pan]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Contact: ",r.phone]})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-1",children:o()}),c.jsx("div",{className:"bg-gray-900 text-white px-3 py-1 text-xs font-bold inline-block rounded uppercase tracking-widest print:bg-gray-200 print:text-black print:border print:border-black",children:e.type})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-0.5",children:"Billed To"}),c.jsx("p",{className:"text-lg font-black text-gray-900 leading-tight",children:e.partyName}),(t==null?void 0:t.address)&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.address}),(t==null?void 0:t.phone)&&c.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",t.phone]})]}),c.jsxs("div",{className:"pt-2 border-t border-dashed border-gray-100 print:border-gray-300",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Opening Balance"}),c.jsxs("p",{className:"text-sm font-bold text-gray-700",children:["Rs. ",t?ne(Math.abs(t.balance)):"0.00"]})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Voucher No"}),c.jsxs("p",{className:"font-mono text-lg font-black text-gray-900",children:["#",e.id]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Date (Nepali)"}),c.jsx("p",{className:"font-bold text-gray-800",children:It(e.date)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Payment Mode"}),c.jsx("p",{className:"text-sm font-bold px-2 py-0.5 bg-gray-100 rounded border border-gray-200 print:border-black",children:e.paymentMode||"Credit"})]})]})]}),c.jsx("div",{className:"mb-10",children:c.jsxs("table",{className:"w-full text-sm border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-900 text-white print:bg-gray-100 print:text-black print:border-y print:border-black",children:[c.jsx("th",{className:"py-3 px-4 text-center border border-transparent print:border-black w-16 font-black uppercase text-[10px]",children:"S.N."}),c.jsx("th",{className:"py-3 px-4 text-left border border-transparent print:border-black font-black uppercase text-[10px]",children:"Description of Goods"}),c.jsx("th",{className:"py-3 px-4 text-center border border-transparent print:border-black w-24 font-black uppercase text-[10px]",children:"Qty"}),c.jsx("th",{className:"py-3 px-4 text-right border border-transparent print:border-black w-32 font-black uppercase text-[10px]",children:"Rate (Rs)"}),c.jsx("th",{className:"py-3 px-4 text-right border border-transparent print:border-black w-32 font-black uppercase text-[10px]",children:"Total (Rs)"})]})}),c.jsxs("tbody",{children:[e.items&&e.items.length>0?e.items.map((u,h)=>c.jsxs("tr",{className:"border-b border-gray-100 print:border-gray-400",children:[c.jsx("td",{className:"py-3 px-4 text-center text-gray-500 font-mono",children:h+1}),c.jsx("td",{className:"py-3 px-4 text-left",children:c.jsx("div",{className:"font-black text-gray-900",children:u.productName})}),c.jsxs("td",{className:"py-3 px-4 text-center font-bold text-gray-700",children:[u.quantity," ",u.unit||"pcs"]}),c.jsx("td",{className:"py-3 px-4 text-right font-medium text-gray-600",children:ne(u.rate)}),c.jsx("td",{className:"py-3 px-4 text-right font-black text-gray-900",children:ne(u.amount)})]},h)):c.jsxs("tr",{className:"border-b border-gray-100 print:border-gray-400",children:[c.jsx("td",{className:"py-4 px-4 text-center text-gray-400",children:"1"}),c.jsxs("td",{className:"py-4 px-4 text-left",children:[c.jsx("div",{className:"font-bold text-gray-900 uppercase",children:e.type==="PAYMENT_IN"?"Payment Received":"Payment Made"}),e.notes&&c.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:e.notes})]}),c.jsx("td",{className:"py-4 px-4 text-center text-gray-400",children:"--"}),c.jsx("td",{className:"py-4 px-4 text-right text-gray-400",children:"--"}),c.jsx("td",{className:"py-4 px-4 text-right font-black text-gray-900",children:ne(e.totalAmount)})]}),(!e.items||e.items.length<3)&&Array.from({length:4-(((l=e.items)==null?void 0:l.length)||1)}).map((u,h)=>c.jsxs("tr",{className:"border-b border-gray-50 print:border-gray-200 opacity-20",children:[c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""})]},`filler-${h}`))]})]})}),c.jsxs("div",{className:"grid grid-cols-12 gap-8 mb-16",children:[c.jsxs("div",{className:"col-span-7",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 print:bg-white print:border-gray-400",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Total Amount in Words"}),c.jsx("p",{className:"text-sm text-gray-900 font-black italic capitalize leading-tight",children:OX(e.totalAmount)})]}),e.notes&&c.jsxs("div",{className:"mt-4 px-1",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Terms & Remarks"}),c.jsx("p",{className:"text-xs text-gray-600 italic leading-relaxed",children:e.notes})]})]}),c.jsxs("div",{className:"col-span-5 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center py-1 text-sm font-bold text-gray-500",children:[c.jsx("span",{children:"Sub Total"}),c.jsx("span",{children:ne(e.subTotal||e.totalAmount)})]}),(e.discount||0)>0&&c.jsxs("div",{className:"flex justify-between items-center py-1 text-sm font-bold text-red-500",children:[c.jsx("span",{children:"Discount (-)"}),c.jsx("span",{children:ne(e.discount)})]}),(e.tax||0)>0&&c.jsxs("div",{className:"flex justify-between items-center py-1 text-sm font-bold text-gray-600",children:[c.jsx("span",{children:"VAT/Tax (+)"}),c.jsx("span",{children:ne(e.tax)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-3 pb-1 border-t-2 border-gray-900 print:border-black mt-2",children:[c.jsx("span",{className:"text-lg font-black text-gray-900 uppercase",children:"Grand Total"}),c.jsxs("span",{className:"text-2xl font-black text-gray-900",children:["Rs. ",ne(e.totalAmount)]})]}),c.jsx("div",{className:"text-[10px] text-right text-gray-400 italic",children:"E. & O.E. (Errors and Omissions Excepted)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-20 pt-10",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"border-t-2 border-gray-900 w-full mx-auto mb-3 print:border-black"}),c.jsx("p",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:"Receiver's Signature"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"border-t-2 border-gray-900 w-full mx-auto mb-3 print:border-black"}),c.jsx("p",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:"Authorized Signature"})]})]}),c.jsx("div",{className:"mt-16 text-center text-[9px] text-gray-400 font-bold uppercase tracking-widest border-t border-gray-100 pt-4 print:border-gray-300",children:"Computer Generated Invoice  Generated via AA PRO Solutions"})]})]}):null},qa=({type:e,onNew:t,refreshKey:n,onEdit:r,onConvert:i})=>{const[o,l]=C.useState([]),[u,h]=C.useState([]),[f,p]=C.useState(""),[m,v]=C.useState(()=>{const z=new Date;return z.setDate(1),z.toISOString()}),[b,N]=C.useState(()=>new Date().toISOString()),[E,A]=C.useState({key:"date",direction:"desc"}),[T,k]=C.useState(null),[P,I]=C.useState(void 0);C.useEffect(()=>{const z=me.getTransactions().filter(B=>B.type===e);l(z)},[e,n]),C.useEffect(()=>{let z=o;if(m){const B=new Date(m);B.setHours(0,0,0,0),z=z.filter(K=>new Date(K.date)>=B)}if(b){const B=new Date(b);B.setHours(23,59,59,999),z=z.filter(K=>new Date(K.date)<=B)}if(f){const B=f.toLowerCase();z=z.filter(K=>K.partyName.toLowerCase().includes(B)||K.id.toLowerCase().includes(B))}z.sort((B,K)=>{const ie=B[E.key],Z=K[E.key];return ie<Z?E.direction==="asc"?-1:1:ie>Z?E.direction==="asc"?1:-1:0}),h(z)},[o,f,m,b,E]);const R=z=>{window.confirm("Are you sure you want to void this transaction? Stock and Party Balance will be reversed.")&&(me.deleteTransaction(z),l(B=>B.filter(K=>K.id!==z)))},j=z=>{const B=me.getParties().find(K=>K.id===z.partyId);I(B),k(z)},M=z=>{A(B=>({key:z,direction:B.key===z&&B.direction==="asc"?"desc":"asc"}))},G=()=>{p(""),v(""),N("")},U=()=>{const z=Tv(u);ii(z,`${e}_Report`)},D=()=>{const z=Tv(u),B=["Date","Voucher","Party","Amount","Payment Mode","Notes"],K=z.map(ie=>[ie.Date,ie["Voucher No"],ie.Party,ne(ie["Total Amount"]),ie["Paid Via"],ie.Remarks]);Fo(`${O()} Report`,B,K)},O=()=>{switch(e){case"SALE":return"Sales Invoices";case"PURCHASE":return"Purchase Bills";case"SALE_RETURN":return"Sales Return";case"PURCHASE_RETURN":return"Purchase Return";case"QUOTATION":return"Quotations";case"PURCHASE_ORDER":return"Purchase Orders";case"PAYMENT_IN":return"Payment In";case"PAYMENT_OUT":return"Payment Out";default:return"Transactions"}},$=()=>{switch(e){case"SALE":return"New Sale";case"PURCHASE":return"New Purchase";case"SALE_RETURN":return"New Return";case"PURCHASE_RETURN":return"New Return";case"QUOTATION":return"New Quotation";case"PURCHASE_ORDER":return"New Order";case"PAYMENT_IN":return"Record Payment";case"PAYMENT_OUT":return"Record Payment";default:return"New"}},F=({column:z})=>E.key!==z?c.jsx(Gk,{className:"w-3 h-3 text-gray-400 ml-1 inline opacity-0 group-hover:opacity-50"}):E.direction==="asc"?c.jsx(gL,{className:"w-3 h-3 text-brand-500 ml-1 inline"}):c.jsx(cL,{className:"w-3 h-3 text-brand-500 ml-1 inline"}),V=f||m||b;return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:O()}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Export to Excel",children:[c.jsx(Qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Excel"})]}),c.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Print List",children:[c.jsx(Ln,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Print"})]}),c.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors shadow-sm ${e.includes("SALE")||e.includes("QUOTATION")||e==="PAYMENT_IN"?"bg-brand-500 hover:bg-brand-600":"bg-blue-500 hover:bg-blue-600"}`,children:[c.jsx(Zr,{className:"w-4 h-4"}),$()]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 w-full sm:max-w-xs",children:[c.jsx($t,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search invoice or party...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:f,onChange:z=>p(z.target.value)})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-36",children:c.jsx(Jt,{value:m,onChange:v,placeholder:"From Date"})}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("div",{className:"w-36",children:c.jsx(Jt,{value:b,onChange:N,placeholder:"To Date"})})]}),V&&c.jsxs("button",{onClick:G,className:"flex items-center gap-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Nt,{className:"w-4 h-4"}),"Clear"]})]})]}),c.jsx("div",{className:"overflow-x-auto rounded-b-xl pb-32 lg:pb-0",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>M("date"),children:c.jsxs("div",{className:"flex items-center",children:["Date (BS)",c.jsx(F,{column:"date"})]})}),c.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>M("id"),children:c.jsxs("div",{className:"flex items-center",children:["Ref No",c.jsx(F,{column:"id"})]})}),c.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>M("partyName"),children:c.jsxs("div",{className:"flex items-center",children:["Party Name",c.jsx(F,{column:"partyName"})]})}),c.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>M("totalAmount"),children:c.jsxs("div",{className:"flex items-center justify-end",children:["Amount",c.jsx(F,{column:"totalAmount"})]})}),e!=="PAYMENT_IN"&&e!=="PAYMENT_OUT"&&c.jsx("th",{className:"px-6 py-3 text-center",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[u.map(z=>{var B;return c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsx("td",{className:"px-6 py-4 text-gray-500",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vh,{className:"w-3 h-3"}),It(z.date)]})}),c.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:c.jsxs("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded text-xs text-gray-600",children:["#",z.id.slice(-6)]})}),c.jsx("td",{className:"px-6 py-4 text-gray-700 font-medium",children:z.partyName}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:ne(z.totalAmount)}),e!=="PAYMENT_IN"&&e!=="PAYMENT_OUT"&&c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded text-xs font-medium",children:[((B=z.items)==null?void 0:B.reduce((K,ie)=>K+ie.quantity,0))||0," Pcs"]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i&&(e==="QUOTATION"||e==="PURCHASE_ORDER")&&c.jsx("button",{onClick:()=>i(z),className:"p-1.5 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",title:e==="QUOTATION"?"Convert to Sale":"Convert to Bill",children:c.jsx(Zv,{className:"w-4 h-4 fill-current"})}),r&&c.jsx("button",{onClick:()=>r(z),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(nc,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>j(z),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Print Bill",children:c.jsx(Ln,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(z.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Void Transaction",children:c.jsx(aa,{className:"w-4 h-4"})})]})})]},z.id)}),u.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-12 text-gray-400",children:o.length>0?"No records found for the selected date range. Try clearing filters.":"No records found."})})]})]})})]}),T&&c.jsx(LX,{transaction:T,party:P,onClose:()=>k(null)})]})},Ha=[1e3,500,100,50,20,10,5,2,1],UX=({type:e,initialData:t,onClose:n,onSave:r})=>{var oi;const[i,o]=C.useState([]),[l,u]=C.useState([]),[h,f]=C.useState([]),[p,m]=C.useState(""),[v,b]=C.useState(new Date().toISOString()),[N,E]=C.useState(""),[A,T]=C.useState(""),[k,P]=C.useState("Credit"),[I,R]=C.useState("retail"),[j,M]=C.useState(""),[G,U]=C.useState(!1),[D,O]=C.useState(0),[$,F]=C.useState(!1),[V,z]=C.useState({name:"",phone:"",address:""}),[B,K]=C.useState(!1),[ie,Z]=C.useState([]),[q,Y]=C.useState(!1),[X,H]=C.useState(Ha.map(se=>({denomination:se,count:0}))),[pe,Se]=C.useState(Ha.map(se=>({denomination:se,count:0}))),[ue,we]=C.useState([{id:"1",productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),[Ue,ae]=C.useState(0),[Ne,ke]=C.useState(""),[ge,xt]=C.useState(!1),[$e,At]=C.useState(0),mt=C.useRef(new Map),Nn=C.useRef(null),Hr=C.useRef(null),Ni=C.useRef(null),{addToast:yr}=qr();C.useEffect(()=>{const se=me.getParties();o(se),u(me.getProducts()),f(me.getAccounts()),t?Sl(t,se):E(Ei())},[t,e]),C.useEffect(()=>{const se=ye=>{Nn.current&&!Nn.current.contains(ye.target)&&xt(!1),Hr.current&&!Hr.current.contains(ye.target)&&U(!1)};return document.addEventListener("mousedown",se),()=>document.removeEventListener("mousedown",se)},[]);const Ei=()=>{const se=me.getTransactions().filter(ve=>ve.type===e);let ye=0;return se.forEach(ve=>{const ze=parseInt(ve.id);!isNaN(ze)&&ze<1e8&&ze>ye&&(ye=ze)}),(ye+1).toString()},Sl=(se,ye)=>{m(se.partyId);const ve=ye.find(Ie=>Ie.id===se.partyId);M(ve?ve.name:se.partyName),b(se.date);const ze=se.id===""||se.type!==e;if(E(ze?Ei():se.id),T(se.notes||""),se.accountId)P(se.accountId);else if(se.paymentMode==="Credit")P("Credit");else{const Ie=me.getAccounts().find(Oe=>Oe.type===se.paymentMode)||me.getAccounts().find(Oe=>Oe.isDefault);P(Ie?Ie.id:"Credit")}if(se.items){const Ie=se.items.map((Oe,en)=>({id:en.toString(),productId:Oe.productId,productName:Oe.productName,quantity:Oe.quantity,unit:Oe.unit||"",rate:Oe.rate,discountAmount:Oe.discount||"",amount:Oe.amount}));Ie.push({id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}),we(Ie)}se.cashBreakdown&&(H(se.cashBreakdown.received),Se(se.cashBreakdown.returned))},Nl=()=>{const se=i.find(ye=>ye.id==="1"||ye.name.toLowerCase().includes("walk-in"));se&&(m(se.id),M(se.name),U(!1))},cn=se=>{m(se.id),M(se.name),U(!1)},El=()=>{z({name:j,phone:"",address:""}),F(!0),U(!1)},de=se=>{const ye=Number(se.quantity)||0,ve=Number(se.rate)||0,ze=Number(se.discountAmount)||0;return ye*ve-ze},be=()=>{if(!Ne)return[];const se=Ne.toLowerCase();return l.filter(ye=>ye.name.toLowerCase().includes(se)||ye.id.includes(se)).slice(0,10)},Re=()=>{if(!j&&!G)return[];const se=j.toLowerCase();return i.filter(ye=>ye.name.toLowerCase().includes(se)||ye.phone&&ye.phone.includes(se))},He=(se,ye,ve)=>{const ze=[...ue],Ie={...ze[se]};if(ye==="productName")Ie.productName=ve,ke(ve),xt(!0),At(0),ve===""&&(Ie.productId="",Ie.unit="",Ie.rate="");else if(ye==="unit"){Ie.unit=ve;const Oe=l.find(en=>en.id===Ie.productId);if(Oe){let en=I==="wholesale"?Oe.wholesalePrice||Oe.salePrice:I==="cost"?Oe.purchasePrice:Oe.salePrice;ve===Oe.secondaryUnit&&Oe.conversionRatio?Ie.rate=parseFloat((en/Oe.conversionRatio).toFixed(2)):Ie.rate=en}}else Ie[ye]=ve===""?"":Number(ve);Ie.amount=de(Ie),ze[se]=Ie,we(ze)},Ze=(se,ye)=>{const ve=[...ue],ze=ve[se];ze.productId=ye.id,ze.productName=ye.name,ze.unit=ye.unit,ze.quantity=1,ze.rate=I==="wholesale"?ye.wholesalePrice||ye.salePrice:I==="cost"?ye.purchasePrice:ye.salePrice,ze.amount=de(ze),ve[se]=ze,we(ve),ke(""),xt(!1),Ct(se,"quantity")},In=se=>{ue.length<=1?we([{id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]):we(ue.filter((ye,ve)=>ve!==se))},vr=()=>{const se=Date.now().toString();we(ye=>[...ye,{id:se,productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),setTimeout(()=>Ct(ue.length,"productName"),50)},Ct=(se,ye)=>{const ve=`${se}-${ye}`,ze=mt.current.get(ve);ze&&(ze.focus(),ze instanceof HTMLInputElement&&ze.select()),ae(se)},Tt=(se,ye,ve)=>{var ze;if(ve==="productName"&&ge){const Ie=be();if(se.key==="ArrowDown"){se.preventDefault(),At(Oe=>(Oe+1)%Ie.length);return}if(se.key==="ArrowUp"){se.preventDefault(),At(Oe=>(Oe-1+Ie.length)%Ie.length);return}if(se.key==="Enter"){se.preventDefault(),Ie.length>0&&Ze(ye,Ie[$e]);return}if(se.key==="Escape"){xt(!1);return}}se.key==="Enter"&&(se.preventDefault(),ve==="productName"?Ct(ye,"quantity"):ve==="quantity"?ue[ye].productId&&((ze=l.find(Oe=>Oe.id===ue[ye].productId))==null?void 0:ze.secondaryUnit)?Ct(ye,"unit"):Ct(ye,"rate"):ve==="unit"?Ct(ye,"rate"):ve==="rate"?Ct(ye,"discountAmount"):ve==="discountAmount"&&(ye===ue.length-1?ue[ye].productName&&vr():Ct(ye+1,"productName")))},En=(se=!1)=>{const ye=ue.filter(it=>it.productName.trim()!=="");if(!p){yr("Please select a party","error");return}if(ye.length===0){yr("Please add at least one item","error");return}if(e==="PURCHASE"&&!se){const it=[];if(ye.forEach(xr=>{if(!xr.productId)return;const Cn=l.find(Ai=>Ai.id===xr.productId);if(Cn){let Ai=Number(xr.rate);xr.unit&&Cn.secondaryUnit&&xr.unit===Cn.secondaryUnit&&Cn.conversionRatio&&(Ai*=Cn.conversionRatio),Ai>Cn.purchasePrice&&it.push({productId:Cn.id,productName:Cn.name,oldPurchasePrice:Cn.purchasePrice,newPurchasePrice:Ai,newSalePrice:Cn.salePrice,newWholesalePrice:Cn.wholesalePrice||Cn.salePrice})}}),it.length>0){Z(it),K(!0);return}}const ve=i.find(it=>it.id===p),ze=ye.reduce((it,xr)=>it+xr.amount,0);let Ie,Oe=k;if(k!=="Credit"){const it=h.find(xr=>xr.id===k);it&&(Ie=it.id,Oe=it.type==="Cash"?"Cash":"Bank")}const en={id:N,date:v,type:e,partyId:p,partyName:(ve==null?void 0:ve.name)||"Unknown",items:ye.map(it=>({productId:it.productId||`custom-${Date.now()}`,productName:it.productName,quantity:Number(it.quantity),unit:it.unit,rate:Number(it.rate),discount:Number(it.discountAmount),amount:it.amount})),subTotal:ze,totalAmount:ze,notes:A,paymentMode:Oe,accountId:Ie,cashBreakdown:Oe==="Cash"?{received:X,returned:pe}:void 0};t&&t.id===N&&t.type===e?(me.updateTransaction(t.id,en),r()):(me.addTransaction(en),e==="SALE"?(yr("Sale saved. Ready for next.","success"),we([{id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),m(""),M(""),T(""),P("Credit"),R("retail"),E(Ei()),H(Ha.map(it=>({denomination:it,count:0}))),Se(Ha.map(it=>({denomination:it,count:0}))),setTimeout(()=>{var it;return(it=Ni.current)==null?void 0:it.focus()},100)):r())},Ye=ue.reduce((se,ye)=>se+ye.amount,0),An=X.reduce((se,ye)=>se+ye.denomination*ye.count,0),qn=pe.reduce((se,ye)=>se+ye.denomination*ye.count,0),Ec=An-qn,$o=()=>e==="SALE"?"Sale":e==="PURCHASE"?"Purchase":e.replace("_"," "),Yo=((oi=h.find(se=>se.id===k))==null?void 0:oi.type)==="Cash",Ko=()=>{const se=me.getCashDrawer();let ye=An-Ye;if(ye<=0){Se(Ha.map(Ie=>({denomination:Ie,count:0})));return}const ve=new Map;se.notes.forEach(Ie=>ve.set(Ie.denomination,Ie.count)),X.forEach(Ie=>{const Oe=ve.get(Ie.denomination)||0;ve.set(Ie.denomination,Oe+Ie.count)});const ze=[];for(const Ie of Ha){const Oe=ve.get(Ie)||0;if(Oe>0&&ye>=Ie){const en=Math.min(Math.floor(ye/Ie),Oe);ze.push({denomination:Ie,count:en}),ye-=en*Ie}else ze.push({denomination:Ie,count:0})}Se(ze),ye>0?yr(`Warning: Only ${ne(An-Ye-ye)} in physical notes available in drawer. Still short: ${ne(ye)}`,"info"):yr("Auto-suggested change from available drawer notes.","success")};return c.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-white shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:c.jsx(Nt,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[t&&t.id===N?"Edit":"New"," ",$o()]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Press ",c.jsx("kbd",{className:"bg-gray-100 px-1 rounded",children:"Enter"})," to move, ",c.jsx("kbd",{className:"bg-gray-100 px-1 rounded",children:"Ctrl+S"})," to save"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right mr-4 hidden md:block",children:[c.jsx("span",{className:"block text-xs text-gray-500 uppercase tracking-wider",children:"Total Amount"}),c.jsx("span",{className:"block text-xl font-bold text-brand-600",children:ne(Ye)})]}),c.jsxs("button",{onClick:()=>En(),className:"flex items-center gap-2 px-6 py-2.5 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 shadow-md transition-all active:scale-95",children:[c.jsx(sl,{className:"w-5 h-5"}),t||e!=="SALE"?"Save Invoice":"Save & New"]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm grid grid-cols-1 md:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"md:col-span-5 relative",ref:Hr,children:[c.jsxs("div",{className:"flex justify-between mb-1.5",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Party"}),e==="SALE"&&c.jsxs("button",{onClick:Nl,className:"text-xs text-brand-600 font-medium hover:underline flex items-center gap-1",children:[c.jsx(Zv,{className:"w-3 h-3"})," Quick Cash"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{ref:Ni,autoFocus:!t,type:"text",className:"w-full pl-9 pr-8 p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"Search Party...",value:j,onChange:se=>{M(se.target.value),U(!0),m("")},onFocus:()=>U(!0)}),c.jsx($t,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),G&&c.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 mt-1 max-h-60 overflow-y-auto",children:Re().length===0?c.jsx("div",{className:"p-1",children:c.jsxs("button",{onClick:El,className:"w-full text-left p-2.5 bg-brand-50 text-brand-700 hover:bg-brand-100 rounded-md text-sm font-bold flex items-center gap-2",children:[c.jsx(Zr,{className:"w-4 h-4"}),'Create "',j,'"']})}):Re().map((se,ye)=>c.jsxs("div",{className:"p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group hover:bg-blue-50",onClick:()=>cn(se),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm",children:se.name}),c.jsx("div",{className:"text-xs text-gray-500",children:se.phone||"No Phone"})]}),c.jsx("div",{className:`text-xs px-2 py-0.5 rounded ${se.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:se.type})]},se.id))})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Invoice Date"}),c.jsx(Jt,{value:v,onChange:b})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Invoice No"}),c.jsx("input",{type:"text",className:"w-full p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm font-mono outline-none",value:N,onChange:se=>E(se.target.value)})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Payment"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("select",{className:"flex-1 p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:k,onChange:se=>P(se.target.value),children:[c.jsx("option",{value:"Credit",children:"Credit (Due)"}),c.jsx("optgroup",{label:"Paid Now",children:h.map(se=>c.jsx("option",{value:se.id,children:se.name},se.id))})]}),Yo&&c.jsx("button",{onClick:()=>Y(!0),className:`p-2.5 rounded-lg border flex items-center justify-center transition-all ${An>0?"bg-emerald-50 border-emerald-200 text-emerald-600 shadow-sm":"bg-white border-gray-300 text-gray-400 hover:bg-gray-50"}`,title:"Cash Note Breakdown",children:c.jsx(Dr,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden min-h-[400px] flex flex-col",children:[c.jsxs("div",{className:"grid grid-cols-[40px_minmax(250px,2fr)_100px_80px_100px_100px_120px_40px] gap-2 bg-gray-50 border-b border-gray-200 px-4 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider sticky top-0 z-10",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Product Name"}),c.jsx("div",{children:"Quantity"}),c.jsx("div",{children:"Unit"}),c.jsx("div",{children:"Rate"}),c.jsx("div",{children:"Discount"}),c.jsx("div",{className:"text-right",children:"Amount"}),c.jsx("div",{})]}),c.jsxs("div",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[ue.map((se,ye)=>c.jsxs("div",{className:`grid grid-cols-[40px_minmax(250px,2fr)_100px_80px_100px_100px_120px_40px] gap-2 items-start px-2 py-1.5 rounded-lg border ${Ue===ye?"bg-blue-50/50 border-blue-200":"bg-white border-transparent"}`,children:[c.jsx("div",{className:"flex items-center justify-center h-9 text-gray-400 font-medium text-sm",children:ye+1}),c.jsxs("div",{className:"relative",children:[c.jsx($t,{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-400"}),c.jsx("input",{ref:ve=>{ve&&mt.current.set(`${ye}-productName`,ve)},type:"text",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm outline-none",placeholder:"Search Item...",value:se.productName,onChange:ve=>He(ye,"productName",ve.target.value),onKeyDown:ve=>Tt(ve,ye,"productName"),onFocus:()=>{ae(ye),xt(!0),ke(se.productName)}}),ge&&Ue===ye&&c.jsx("div",{ref:Nn,className:"absolute top-full left-0 w-[400px] bg-white border border-gray-200 rounded-lg shadow-xl z-50 mt-1 max-h-60 overflow-y-auto",children:be().map((ve,ze)=>c.jsxs("div",{className:"p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group hover:bg-blue-50",onClick:()=>Ze(ye,ve),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm",children:ve.name}),c.jsx("div",{className:"text-xs text-gray-500 flex gap-2 mt-0.5",children:c.jsxs("span",{children:["Stock: ",ve.stock," ",ve.unit]})})]}),c.jsx("div",{className:"text-right font-bold text-brand-600 text-sm",children:ne(e.includes("SALE")?I==="wholesale"?ve.wholesalePrice||ve.salePrice:I==="cost"?ve.purchasePrice:ve.salePrice:ve.purchasePrice)})]},ve.id))})]}),c.jsx("div",{children:c.jsx("input",{ref:ve=>{ve&&mt.current.set(`${ye}-quantity`,ve)},type:"number",min:"0",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-center",placeholder:"Qty",value:se.quantity,onChange:ve=>He(ye,"quantity",ve.target.value),onKeyDown:ve=>Tt(ve,ye,"quantity"),onFocus:ve=>{ae(ye),ve.target.select()}})}),c.jsx("div",{children:c.jsx("div",{className:"h-9 flex items-center justify-center text-sm text-gray-500 bg-gray-50 border border-gray-200 rounded-md",children:se.unit||"-"})}),c.jsx("div",{children:c.jsx("input",{ref:ve=>{ve&&mt.current.set(`${ye}-rate`,ve)},type:"number",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-right",placeholder:"Rate",value:se.rate,onChange:ve=>He(ye,"rate",ve.target.value),onKeyDown:ve=>Tt(ve,ye,"rate"),onFocus:ve=>{ae(ye),ve.target.select()}})}),c.jsx("div",{children:c.jsx("input",{ref:ve=>{ve&&mt.current.set(`${ye}-discountAmount`,ve)},type:"number",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-right",placeholder:"Dis.",value:se.discountAmount,onChange:ve=>He(ye,"discountAmount",ve.target.value),onKeyDown:ve=>Tt(ve,ye,"discountAmount"),onFocus:ve=>{ae(ye),ve.target.select()}})}),c.jsx("div",{className:"h-9 flex items-center justify-end px-2 font-bold text-gray-800 text-sm",children:ne(se.amount)}),c.jsx("div",{className:"flex items-center justify-center h-9",children:ue.length>1&&c.jsx("button",{onClick:()=>In(ye),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-lg",children:c.jsx(aa,{className:"w-4 h-4"})})})]},se.id)),c.jsx("div",{className:"px-2 pt-2",children:c.jsxs("button",{onClick:vr,className:"flex items-center gap-1 text-sm text-brand-600 font-medium hover:bg-brand-50 px-3 py-2 rounded-lg",children:[c.jsx(Zr,{className:"w-4 h-4"})," Add Line Item"]})})]}),c.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Internal Notes"}),c.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm outline-none",rows:2,placeholder:"Add details...",value:A,onChange:se=>T(se.target.value)})]}),c.jsxs("div",{className:"flex flex-col gap-2 justify-center md:items-end",children:[c.jsxs("div",{className:"flex justify-between w-full md:w-64 text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sub Total:"}),c.jsx("span",{className:"font-bold text-gray-900",children:ne(Ye)})]}),c.jsxs("div",{className:"flex justify-between w-full md:w-64 text-lg border-t border-gray-200 pt-2 mt-1",children:[c.jsx("span",{className:"font-bold text-gray-800",children:"Grand Total:"}),c.jsx("span",{className:"font-bold text-brand-600",children:ne(Ye)})]})]})]})]})]})}),q&&c.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[70] p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:"bg-emerald-600 p-6 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Dr,{className:"w-6 h-6"})," Cash Calculator"]}),c.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Breakdown of notes received and returned as change."})]}),c.jsx("button",{onClick:()=>Y(!1),className:"text-white/80 hover:text-white",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between items-center",children:[c.jsx("span",{children:"RECEIVED FROM CUSTOMER"}),c.jsx("span",{className:"text-emerald-600 font-black",children:ne(An)})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:X.map((se,ye)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${se.count>0?"bg-emerald-50 border-emerald-200":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${se.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:se.denomination}),c.jsx(Nt,{className:"w-3 h-3 text-gray-300"})]}),c.jsx("input",{type:"number",min:"0",className:"w-16 p-1.5 border border-gray-300 rounded-lg text-center font-bold",value:se.count||"",onChange:ve=>{const ze=parseInt(ve.target.value)||0;H(Ie=>Ie.map((Oe,en)=>en===ye?{...Oe,count:ze}:Oe))}}),c.jsx("span",{className:"w-20 text-right font-bold text-gray-600",children:ne(se.denomination*se.count)})]},se.denomination))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between items-center",children:[c.jsx("span",{children:"GIVE BACK (CHANGE)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[An>Ye&&c.jsxs("button",{onClick:Ko,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded border border-emerald-100 font-bold hover:bg-emerald-100 transition-colors flex items-center gap-1",children:[c.jsx(Lu,{className:"w-3 h-3"})," Auto-Suggest"]}),c.jsx("span",{className:"text-red-600 font-black",children:ne(qn)})]})]}),c.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4 flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold text-gray-500",children:"REQUIRED CHANGE:"}),c.jsx("span",{className:"font-black text-gray-800 text-lg",children:ne(Math.max(0,An-Ye))})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:pe.map((se,ye)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${se.count>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${se.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:se.denomination}),c.jsx(Nt,{className:"w-3 h-3 text-gray-300"})]}),c.jsx("input",{type:"number",min:"0",className:"w-16 p-1.5 border border-gray-300 rounded-lg text-center font-bold",value:se.count||"",onChange:ve=>{const ze=parseInt(ve.target.value)||0;Se(Ie=>Ie.map((Oe,en)=>en===ye?{...Oe,count:ze}:Oe))}}),c.jsx("span",{className:"w-20 text-right font-bold text-gray-600",children:ne(se.denomination*se.count)})]},se.denomination))})]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[c.jsxs("div",{className:"flex gap-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Bill Amount"}),c.jsx("p",{className:"text-lg font-bold text-gray-800",children:ne(Ye)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Net Physical Paid"}),c.jsx("p",{className:`text-lg font-bold ${Ec===Ye?"text-emerald-600":"text-orange-500"}`,children:ne(Ec)})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>{H(Ha.map(se=>({denomination:se,count:0}))),Se(Ha.map(se=>({denomination:se,count:0})))},className:"px-4 py-2 text-gray-500 flex items-center gap-2",children:[c.jsx(N3,{className:"w-4 h-4"})," Reset"]}),c.jsx("button",{onClick:()=>Y(!1),className:"px-8 py-2.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-600/20 hover:bg-emerald-700",children:"Done"})]})]})]})})]})},d0=[1e3,500,100,50,20,10,5,2,1],BX=({type:e,initialData:t,onClose:n,onSave:r})=>{const[i,o]=C.useState([]),[l,u]=C.useState([]),[h,f]=C.useState(""),[p,m]=C.useState(""),[v,b]=C.useState(!1),[N,E]=C.useState(0);C.useRef(null);const[A,T]=C.useState(new Date().toISOString()),[k,P]=C.useState(Date.now().toString().slice(-6)),[I,R]=C.useState(""),[j,M]=C.useState("1"),[G,U]=C.useState(""),[D,O]=C.useState(!1),[$,F]=C.useState(d0.map(ue=>({denomination:ue,count:0}))),[V,z]=C.useState(d0.map(ue=>({denomination:ue,count:0}))),B=e==="PAYMENT_IN",{addToast:K}=qr();C.useEffect(()=>{const ue=me.getParties();if(o(ue),u(me.getAccounts()),t){f(t.partyId);const we=ue.find(Ue=>Ue.id===t.partyId);m(we?we.name:t.partyName),T(t.date),P(t.id),R(t.totalAmount),U(t.notes||""),t.accountId&&M(t.accountId),t.cashBreakdown&&(F(t.cashBreakdown.received),z(t.cashBreakdown.returned))}},[t]);const ie=ue=>{if(ue.preventDefault(),!h||!I)return;const we=i.find(ke=>ke.id===h),Ue=l.find(ke=>ke.id===j),ae=(Ue==null?void 0:Ue.type)==="Cash",Ne={id:k,date:A,type:e,partyId:h,partyName:(we==null?void 0:we.name)||"Unknown",items:[],totalAmount:Number(I),notes:G,accountId:j,paymentMode:ae?"Cash":"Bank",cashBreakdown:ae?{received:$,returned:V}:void 0};t?me.updateTransaction(t.id,Ne):me.addTransaction(Ne),r()},Z=i.filter(ue=>ue.name.toLowerCase().includes(p.toLowerCase())),q=l.find(ue=>ue.id===j),Y=(q==null?void 0:q.type)==="Cash",X=$.reduce((ue,we)=>ue+we.denomination*we.count,0),H=V.reduce((ue,we)=>ue+we.denomination*we.count,0),pe=X-H,Se=()=>{const ue=me.getCashDrawer();let we=X-Number(I||0);if(we<=0)return;const Ue=[],ae=new Map(ue.notes.map(Ne=>[Ne.denomination,Ne.count]));$.forEach(Ne=>ae.set(Ne.denomination,(ae.get(Ne.denomination)||0)+Ne.count));for(const Ne of d0){const ke=ae.get(Ne)||0;if(ke>0&&we>=Ne){const ge=Math.min(Math.floor(we/Ne),ke);Ue.push({denomination:Ne,count:ge}),we-=ge*Ne}else Ue.push({denomination:Ne,count:0})}z(Ue),K("Change auto-suggested from drawer availability.","info")};return c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:`px-6 py-4 border-b flex items-center justify-between ${B?"bg-emerald-50 border-emerald-100":"bg-red-50 border-red-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${B?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:B?c.jsx(Fk,{className:"w-5 h-5"}):c.jsx(Vk,{className:"w-5 h-5"})}),c.jsx("h2",{className:`text-lg font-bold ${B?"text-emerald-900":"text-red-900"}`,children:B?"Receive Payment":"Pay Out"})]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-white/50 rounded-full transition-colors",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:ie,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Voucher No"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:k,onChange:ue=>P(ue.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Date"}),c.jsx(Jt,{value:A,onChange:T})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Party"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Search Party...",value:p,onChange:ue=>{m(ue.target.value),b(!0)}}),v&&c.jsx("div",{className:"absolute top-full left-0 w-full bg-white border rounded shadow-lg z-20 max-h-40 overflow-auto mt-1",children:Z.map(ue=>c.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>{f(ue.id),m(ue.name),b(!1)},children:ue.name},ue.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Amount"}),c.jsx("input",{type:"number",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-xl font-bold focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"0.00",value:I,onChange:ue=>R(ue.target.value?Number(ue.target.value):"")})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Account / Mode"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"flex-1 p-2 border border-gray-300 rounded-lg text-sm bg-white",value:j,onChange:ue=>M(ue.target.value),children:l.map(ue=>c.jsx("option",{value:ue.id,children:ue.name},ue.id))}),Y&&c.jsx("button",{type:"button",onClick:()=>O(!0),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${X>0?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-white border-gray-300 text-gray-400"}`,title:"Notes Breakdown",children:c.jsx(Dr,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Remarks"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none",rows:2,value:G,onChange:ue=>U(ue.target.value)})]})]}),c.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",onClick:ie,className:`px-6 py-2 text-white font-bold rounded-lg shadow-sm ${B?"bg-emerald-500 hover:bg-emerald-600":"bg-red-500 hover:bg-red-600"}`,children:"Save Transaction"})]}),D&&c.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"bg-brand-600 p-6 text-white flex justify-between items-center",children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Dr,{className:"w-6 h-6"})," Cash Note Entry"]}),c.jsx("button",{onClick:()=>O(!1),className:"text-white hover:opacity-70",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between",children:[c.jsx("span",{children:"NOTES RECEIVED"})," ",c.jsx("span",{className:"text-emerald-600",children:ne(X)})]}),$.map((ue,we)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border",children:[c.jsx("span",{className:"w-12 font-bold text-gray-600",children:ue.denomination}),c.jsx("input",{type:"number",min:"0",className:"w-20 p-1 border rounded text-center",value:ue.count||"",onChange:Ue=>{const ae=parseInt(Ue.target.value)||0;F(Ne=>Ne.map((ke,ge)=>ge===we?{...ke,count:ae}:ke))}}),c.jsx("span",{className:"w-24 text-right text-gray-500",children:ne(ue.denomination*ue.count)})]},ue.denomination))]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between",children:[c.jsx("span",{children:"NOTES RETURNED"})," ",c.jsx("span",{className:"text-red-600",children:ne(H)})]}),B&&c.jsxs("button",{type:"button",onClick:Se,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold border border-emerald-100 flex items-center gap-1 mb-2",children:[c.jsx(Lu,{className:"w-3 h-3"})," Auto-Suggest Change"]}),V.map((ue,we)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border",children:[c.jsx("span",{className:"w-12 font-bold text-gray-600",children:ue.denomination}),c.jsx("input",{type:"number",min:"0",className:"w-20 p-1 border rounded text-center",value:ue.count||"",onChange:Ue=>{const ae=parseInt(Ue.target.value)||0;z(Ne=>Ne.map((ke,ge)=>ge===we?{...ke,count:ae}:ke))}}),c.jsx("span",{className:"w-24 text-right text-gray-500",children:ne(ue.denomination*ue.count)})]},ue.denomination))]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm font-bold text-gray-600",children:["Net Physical Value: ",c.jsx("span",{className:Math.abs(pe)===Number(I)?"text-emerald-600":"text-orange-500",children:ne(pe)})]}),c.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-8 py-2 bg-brand-600 text-white rounded-lg font-bold",children:"Done"})]})]})})]})};class zX{constructor(){this.accessToken=null}init(t,n){t.googleClientId&&(typeof google<"u"&&google.accounts?this.tokenClient=google.accounts.oauth2.initTokenClient({client_id:t.googleClientId,scope:"https://www.googleapis.com/auth/drive.file",callback:r=>{this.accessToken=r.access_token,n(r)}}):console.warn("Google Identity Services script not loaded."))}requestToken(){this.tokenClient?this.tokenClient.requestAccessToken():console.warn("Token client not initialized. Check Client ID.")}async uploadBackup(t,n){var i;if(!me.getCloudConfig().googleClientId||!this.accessToken)return console.log("Simulating Cloud Backup..."),await new Promise(o=>setTimeout(o,2e3)),{success:!0,message:"Backup simulated successfully (No valid Google Client ID configured)."};try{const o={name:t,mimeType:"application/json"},l=new Blob([n],{type:"application/json"}),u=new FormData;u.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),u.append("file",l);const h=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`},body:u});if(!h.ok){const f=await h.json();throw new Error(((i=f.error)==null?void 0:i.message)||"Upload failed")}return{success:!0,message:"Backup uploaded to Google Drive successfully."}}catch(o){return console.error("Drive Upload Error:",o),{success:!1,message:`Upload failed: ${o.message}`}}}generateBackupData(){const t=me.getBackupData();return JSON.stringify(t,null,2)}}const rD=new zX,qX=({onBack:e})=>{const[t,n]=C.useState("items"),[r,i]=C.useState(!1),[o,l]=C.useState(null),[u,h]=C.useState([]),[f,p]=C.useState(""),[m,v]=C.useState(""),[b,N]=C.useState(!1),[E,A]=C.useState(null),T=C.useRef(null),{addToast:k}=qr(),P=[{"Item Name":"Coca Cola 2L",Category:"Drinks","Sales Price":120,"Purchase Price":80,"Opening Stock":25,Unit:"pcs"},{"Item Name":"Real Juice 250ml",Category:"General","Sales Price":50,"Purchase Price":35,"Opening Stock":60,Unit:"pcs"}],I=[{"Party Name":"Hari Basnet","Phone Number":"9800000000","Customer/Supplier":"Customer","Opening Balance":500,"Receivable/Payable":"Receivable",Address:"Kathmandu"},{"Party Name":"ABC Traders","Phone Number":"014000000","Customer/Supplier":"Supplier","Opening Balance":1e4,"Receivable/Payable":"Payable",Address:"Pokhara"}],R=()=>{l(null),v(""),p(""),A(null),h([]),T.current&&(T.current.value="")},j=z=>{n(z),R()},M=z=>{z.preventDefault(),z.stopPropagation(),z.type==="dragenter"||z.type==="dragover"?i(!0):z.type==="dragleave"&&i(!1)},G=z=>{z.preventDefault(),z.stopPropagation(),i(!1),z.dataTransfer.files&&z.dataTransfer.files[0]&&D(z.dataTransfer.files[0])},U=z=>{z.preventDefault(),z.target.files&&z.target.files[0]&&D(z.target.files[0]),z.target.value=""},D=z=>{if(l(z),p(""),v(""),h([]),A(null),t==="backup"){if(!(z.type==="application/json"||z.name.toLowerCase().endsWith(".json"))){p("Please upload a valid JSON backup file.");return}const ie=new FileReader;ie.onload=Z=>{var q,Y;try{const X=JSON.parse((q=Z.target)==null?void 0:q.result);if(!X.transactions&&!X.profile&&!X.accounts){p("Invalid backup file format. Missing core data.");return}h([X]),A({company:X.companyName||((Y=X.profile)==null?void 0:Y.name)||"Unknown Company",date:X.generatedAt||new Date().toISOString(),transactions:Array.isArray(X.transactions)?X.transactions.length:0,products:Array.isArray(X.products)?X.products.length:0,parties:Array.isArray(X.parties)?X.parties.length:0,accounts:Array.isArray(X.accounts)?X.accounts.length:0,reminders:Array.isArray(X.reminders)?X.reminders.length:0,serviceJobs:Array.isArray(X.serviceJobs)?X.serviceJobs.length:0,hasCashDrawer:!!X.cashDrawer,version:X.appVersion||"Legacy"})}catch{p("Failed to parse JSON file. It might be corrupted.")}},ie.readAsText(z);return}if(typeof XLSX>"u"){p("Excel processing library not loaded. Please check internet connection.");return}const B=new FileReader;B.onload=K=>{var ie;try{const Z=(ie=K.target)==null?void 0:ie.result,q=XLSX.read(Z,{type:"binary"}),Y=q.SheetNames[0],X=q.Sheets[Y],H=XLSX.utils.sheet_to_json(X);h(H)}catch{p("Failed to parse Excel file. Please ensure it is a valid .xlsx or .xls file.")}},B.readAsBinaryString(z)},O=()=>{if(typeof XLSX>"u"){p("Library not loaded.");return}const z=t==="items"?P:I,B=XLSX.utils.json_to_sheet(z),K=XLSX.utils.book_new();XLSX.utils.book_append_sheet(K,B,"Sample"),XLSX.writeFile(K,`sample_${t}.xlsx`)},$=async()=>{try{const z=rD.generateBackupData(),B=new Date,K=X=>String(X).padStart(2,"0"),ie=`${B.getFullYear()}-${K(B.getMonth()+1)}-${K(B.getDate())}`,Z=`${K(B.getHours())}-${K(B.getMinutes())}-${K(B.getSeconds())}`,q=`aapro_backup_${ie}_${Z}.json`;let Y=!1;if("showSaveFilePicker"in window)try{const H=await(await window.showSaveFilePicker({suggestedName:q,types:[{description:"JSON Backup File",accept:{"application/json":[".json"]}}]})).createWritable();await H.write(z),await H.close(),k("Backup saved successfully","success"),Y=!0}catch(X){if(X.name==="AbortError")return;console.warn("File picker skipped/failed, falling back to download:",X)}if(!Y){const X=new Blob([z],{type:"application/json"}),H=URL.createObjectURL(X),pe=document.createElement("a");pe.href=H,pe.download=q,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(H),k("Backup file downloaded","success")}}catch(z){console.error(z),k("Failed to generate backup","error")}},F=async()=>{if(u.length!==0){N(!0);try{if(t==="backup"){const z=u[0],B=await me.restoreData(z);B.success?(v("Database restored successfully. Application will reload shortly..."),setTimeout(()=>window.location.reload(),2500)):p(B.message)}else if(t==="items"){const z=[];u.forEach((B,K)=>{B["Item Name"]&&z.push({id:Date.now().toString()+K,name:B["Item Name"],category:B.Category||"General",stock:Number(B["Opening Stock"]||B.Stock||B.stock||0),purchasePrice:Number(B["Purchase Price"])||0,salePrice:Number(B["Sales Price"])||0,wholesalePrice:Number(B["Wholesale Price"])||0,unit:B.Unit||"pcs"})}),await me.bulkAddProducts(z),v(`Successfully processed ${z.length} items.`)}else{const z=me.getParties(),B=new Set(z.map(Z=>Z.name.toLowerCase())),K=[],ie=[];u.forEach((Z,q)=>{if(!Z["Party Name"])return;const Y=Z["Party Name"].trim();if(B.has(Y.toLowerCase())||K.some(Se=>Se.name.toLowerCase()===Y.toLowerCase()))return;let X=Number(Z["Opening Balance"])||0;(Z["Receivable/Payable"]||"").toLowerCase().includes("payable")?X=-Math.abs(X):X=Math.abs(X);const pe=`${Date.now()}_${q}`;K.push({id:pe,name:Y,phone:Z["Phone Number"]||"",type:(Z["Customer/Supplier"]||"Customer").toLowerCase().includes("supplier")?"supplier":"customer",address:Z.Address,balance:0}),X!==0&&ie.push({id:`OP-IMP-${pe}`,date:new Date().toISOString(),type:"BALANCE_ADJUSTMENT",partyId:pe,partyName:Y,items:[],totalAmount:X,notes:"Opening Balance (Imported)",category:"Opening Balance",paymentMode:"Adjustment"})}),K.length>0?(await me.bulkAddParties(K),ie.forEach(Z=>me.addTransaction(Z)),v(`Successfully processed ${K.length} new parties.`)):v("No new parties found to import (duplicates skipped).")}t!=="backup"&&(l(null),h([]))}catch(z){p("Error importing data. Please check file format."),console.error(z)}finally{N(!1)}}},V=()=>t==="backup"?"Restore Database":t==="items"?"Import Items":"Import Parties";return c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:V()}),c.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>j("items"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="items"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Import Items"}),c.jsx("button",{onClick:()=>j("parties"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="parties"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Import Parties"}),c.jsx("button",{onClick:()=>j("backup"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="backup"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Restore Backup"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 h-fit",children:[c.jsx("h3",{className:"font-bold text-lg mb-6 text-gray-800",children:t==="backup"?"Restore Instructions":`Import ${t==="items"?"Items":"Parties"} in 3 Steps`}),t==="backup"?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-100 text-orange-800 text-sm flex gap-3",children:[c.jsx(Vs,{className:"w-5 h-5 shrink-0"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Warning:"})," Restoring a backup will completely ",c.jsx("u",{children:"replace"})," your current data (Items, Parties, Transactions, Service Jobs, and Cash Drawer). Ensure you have a backup of the current state if needed."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"1. Locate Backup File"}),c.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Find the ",c.jsx("code",{children:".json"}),' file you previously downloaded using the "Backup Data" button in settings.']})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"2. Review & Restore"}),c.jsx("p",{className:"text-sm text-gray-500",children:'Upload the file to see a summary of the data inside. Click "Confirm & Restore" to apply.'})]})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"1. Download the file & Fill Data"}),c.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Download our sample excel file and enter your data according to the file format."}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:[c.jsx(Yk,{className:"w-4 h-4"}),"Download Sample File"]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"2. Review & Adjust Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Review the data to be imported from the app. If there are any errors, fix it in the excel and re-upload."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"3. Confirm & Import"}),c.jsxs("p",{className:"text-sm text-gray-500",children:["When everything is ready to import you can start the import process.",c.jsx("br",{}),c.jsx("span",{className:"text-emerald-600 font-medium text-xs mt-1 block",children:"Note: Duplicate entries (by name) will be skipped to prevent errors."})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[!E&&c.jsxs("div",{className:`border-2 border-dashed rounded-xl h-80 flex flex-col items-center justify-center transition-all cursor-pointer bg-gray-50
                      ${r?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-brand-400 hover:bg-gray-100"}
                      ${o?"bg-emerald-50 border-emerald-500":""}
                   `,onDragEnter:M,onDragLeave:M,onDragOver:M,onDrop:G,onClick:()=>{var z;return(z=T.current)==null?void 0:z.click()},children:[c.jsx("input",{ref:T,type:"file",className:"hidden",accept:t==="backup"?".json":".xlsx, .xls",onChange:U}),o?c.jsxs("div",{className:"text-center p-6",children:[t==="backup"?c.jsx(_0,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}):c.jsx(Qn,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),c.jsx("p",{className:"font-bold text-gray-800 text-lg mb-1",children:o.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(o.size/1024).toFixed(2)," KB"]}),u.length>0&&t!=="backup"&&c.jsxs("div",{className:"mt-4 inline-block bg-white px-3 py-1 rounded-full text-xs font-semibold text-emerald-700 border border-emerald-200",children:[u.length," records found"]}),c.jsx("p",{className:"text-xs text-gray-400 mt-8",children:"Click to replace file"})]}):c.jsxs("div",{className:"text-center p-6",children:[c.jsx(Y3,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"font-bold text-gray-800 text-lg mb-2",children:"Click to Upload or drag and drop"}),c.jsx("p",{className:"text-sm text-gray-500",children:t==="backup"?"Only .json backup files are supported":"Only excel files (.xlsx, .xls) are supported."})]})]}),E&&t==="backup"&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm animate-in fade-in zoom-in-95",children:[c.jsxs("div",{className:"bg-brand-500 p-4 text-white flex justify-between items-center",children:[c.jsxs("div",{className:"font-bold flex items-center gap-2",children:[c.jsx(_0,{className:"w-5 h-5"}),"Backup Data Verification"]}),c.jsx("button",{onClick:()=>{A(null),l(null)},className:"text-white/80 hover:text-white text-xs bg-brand-600 px-2 py-1 rounded",children:"Change File"})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-100 pb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center font-bold text-xl shrink-0",children:E.company.substring(0,1).toUpperCase()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-800",children:E.company}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Backup Date: ",new Date(E.date).toLocaleString()]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(Qv,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:E.transactions}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Transactions"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(ko,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:E.products}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Products"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(wh,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:E.parties}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Parties"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(wf,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:E.serviceJobs}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Service Jobs"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(Dr,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-emerald-600",children:E.hasCashDrawer?"Yes":"No"}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Cash Drawer"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(bf,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:E.reminders}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Reminders"})]})]}),c.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-xs flex gap-2 items-start border border-red-100",children:[c.jsx(Vs,{className:"w-4 h-4 shrink-0 mt-0.5"}),c.jsxs("p",{children:["Confirming restore will ",c.jsx("b",{children:"permanently overwrite"}),' your existing data for "',me.getBusinessProfile().name,'".']})]})]})]}),f&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 text-red-700",children:[c.jsx(Vs,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm",children:f})]}),m&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3 text-green-700",children:[c.jsx(xh,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm",children:m})]}),(u.length>0||E)&&!m&&c.jsxs("button",{onClick:t==="backup"?F:$,disabled:b,className:`w-full py-3 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 ${t==="backup"?"bg-red-500 hover:bg-red-600 shadow-red-500/30":"bg-brand-500 hover:bg-brand-600 shadow-brand-500/30"}`,children:[b?"Processing...":t==="backup"?"Confirm & Restore Everything":"Confirm & Import Data",!b&&(t==="backup"?c.jsx(Xk,{className:"w-5 h-5"}):c.jsx(xf,{className:"w-5 h-5"}))]}),t!=="backup"&&u.length>0&&!m&&c.jsxs("button",{onClick:F,disabled:b,className:"w-full py-3 text-white bg-emerald-500 rounded-xl font-bold shadow-lg hover:bg-emerald-600 transition-all flex items-center justify-center gap-2",children:[b?"Processing...":"Start Import",!b&&c.jsx(xf,{className:"w-5 h-5"})]})]})]})]})},HX=()=>{const[e,t]=C.useState("profile"),[n,r]=C.useState({name:"",address:"",pan:"",phone:"",email:"",logoUrl:""}),[i,o]=C.useState({mode:"local"}),[l,u]=C.useState({enabled:!1,autoBackup:!1,backupSchedules:["16:00"],googleClientId:""}),[h,f]=C.useState({username:"",password:"",confirmPassword:""}),[p,m]=C.useState(!1),[v,b]=C.useState("idle"),[N,E]=C.useState({status:"idle",message:""}),[A,T]=C.useState(null),{addToast:k}=qr();C.useEffect(()=>{r(me.getBusinessProfile()),o(me.getDatabaseConfig()),u(me.getCloudConfig());const M=Uu.getStoredCredentials();f({username:M.username,password:M.password,confirmPassword:M.password}),navigator.storage&&navigator.storage.estimate&&navigator.storage.estimate().then(G=>{G.usage!==void 0&&G.quota!==void 0&&T({usage:G.usage,quota:G.quota})})},[]);const P=(M,G)=>{r(U=>({...U,[M]:G})),m(!1)},I=M=>{M.preventDefault(),me.updateBusinessProfile(n),m(!0),k("Company profile saved successfully","success"),setTimeout(()=>m(!1),2e3)},R=M=>{if(M.preventDefault(),h.password!==h.confirmPassword){k("Passwords do not match!","error");return}Uu.updateCredentials(h.username,h.password),k("Security credentials updated. These will be required for next login.","success")},j=async()=>{try{const M=rD.generateBackupData(),G=`aapro_backup_${new Date().toISOString().slice(0,10)}.json`,U=new Blob([M],{type:"application/json"}),D=URL.createObjectURL(U),O=document.createElement("a");O.href=D,O.download=G,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(D),k("Backup file downloaded","success")}catch{k("Failed to generate backup","error")}};return c.jsxs("div",{className:"p-4 lg:p-8 max-w-4xl mx-auto",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Settings"}),c.jsx("div",{className:"flex gap-4 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:[{id:"profile",label:"Profile",icon:yh},{id:"database",label:"Database",icon:_0},{id:"security",label:"Security",icon:P3},{id:"cloud",label:"Backup",icon:iE},{id:"import",label:"Import",icon:Qn},{id:"db-browser",label:"Explorer",icon:$t}].map(M=>c.jsxs("button",{onClick:()=>t(M.id),className:`px-4 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-colors whitespace-nowrap ${e===M.id?"bg-brand-500 text-white":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:[c.jsx(M.icon,{className:"w-4 h-4"})," ",M.label]},M.id))}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden min-h-[400px]",children:[e==="profile"&&c.jsxs("form",{onSubmit:I,className:"p-6 space-y-6",children:[c.jsx("div",{className:"border-b border-gray-100 pb-4 mb-4",children:c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Company Profile"})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),c.jsx("input",{type:"text",required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg outline-none",value:n.name,onChange:M=>P("name",M.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),c.jsx("input",{type:"text",required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg outline-none",value:n.address,onChange:M=>P("address",M.target.value)})]})]}),c.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:c.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-brand-500 text-white rounded-lg font-medium hover:bg-brand-600 transition-colors shadow-sm",children:"Save Profile"})})]}),e==="security"&&c.jsxs("form",{onSubmit:R,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[c.jsx(Jk,{className:"w-5 h-5 text-brand-500"})," Account Security"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Change your login email and password."})]}),c.jsxs("div",{className:"space-y-4 max-w-md",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login Email / Username"}),c.jsx("input",{type:"email",required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500",value:h.username,onChange:M=>f({...h,username:M.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsx("input",{type:"password",required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500",value:h.password,onChange:M=>f({...h,password:M.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),c.jsx("input",{type:"password",required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg outline-none focus:ring-2 focus:ring-brand-500",value:h.confirmPassword,onChange:M=>f({...h,confirmPassword:M.target.value})})]})]}),c.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:c.jsxs("button",{type:"submit",className:"px-6 py-2.5 bg-gray-800 text-white rounded-lg font-medium hover:bg-black transition-colors shadow-sm flex items-center gap-2",children:[c.jsx(sl,{className:"w-4 h-4"})," Update Credentials"]})})]}),e==="cloud"&&c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"border-b border-gray-100 pb-4 mb-4",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[c.jsx(iE,{className:"w-5 h-5 text-blue-500"})," Backup Data"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Download your entire business data as a secure JSON file."})]}),c.jsxs("div",{className:"bg-emerald-50 p-8 rounded-2xl border border-emerald-100 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:c.jsx(Yk,{className:"w-8 h-8 text-emerald-600"})}),c.jsx("h3",{className:"font-bold text-emerald-900 text-xl mb-2",children:"Manual Backup"}),c.jsx("p",{className:"text-emerald-700 text-sm max-w-sm mx-auto mb-6",children:"Create a point-in-time copy of your database. Keep this file safe as it contains all your private business information."}),c.jsx("button",{onClick:j,className:"px-10 py-3 bg-brand-500 text-white rounded-xl font-bold hover:bg-brand-600 transition-all shadow-lg shadow-brand-500/20",children:"Download Backup File"})]})]}),e==="import"&&c.jsxs("div",{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Qn,{className:"w-5 h-5 text-brand-500"})," Import Data"]}),c.jsx(qX,{onBack:()=>t("profile")})]})]})]})},FX=({onNew:e,refreshKey:t,onEdit:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState([]),[u,h]=C.useState(""),[f,p]=C.useState("All Category"),[m,v]=C.useState("All Payment Modes"),[b,N]=C.useState(""),[E,A]=C.useState([]),[T,k]=C.useState([]);C.useEffect(()=>{P()},[t]),C.useEffect(()=>{I()},[r,u,f,m,b]);const P=()=>{const G=me.getTransactions().filter(O=>O.type==="EXPENSE");i(G);const U=Array.from(new Set(G.map(O=>O.category).filter(Boolean))),D=Array.from(new Set(G.map(O=>O.paymentMode).filter(Boolean)));A(["All Category",...U]),k(["All Payment Modes",...D])},I=()=>{let G=[...r];if(u){const U=u.toLowerCase();G=G.filter(D=>D.id.toLowerCase().includes(U)||D.notes&&D.notes.toLowerCase().includes(U)||D.totalAmount.toString().includes(U))}if(f!=="All Category"&&(G=G.filter(U=>U.category===f)),m!=="All Payment Modes"&&(G=G.filter(U=>U.paymentMode===m)),b){const U=b.split("T")[0];G=G.filter(D=>D.date.split("T")[0]===U)}l(G)},R=G=>{window.confirm("Are you sure you want to delete this expense?")&&(me.deleteTransaction(G),P())},j=()=>{h(""),p("All Category"),v("All Payment Modes"),N("")},M=u||f!=="All Category"||m!=="All Payment Modes"||b;return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Expenses (",r.length,")"]}),c.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:[c.jsx(Zr,{className:"w-4 h-4"}),"Add New Expense"]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center bg-white rounded-lg px-3 py-2 border border-gray-200 flex-1 lg:max-w-xs shadow-sm focus-within:ring-2 focus-within:ring-emerald-500 focus-within:border-emerald-500",children:[c.jsx($t,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search Expense...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full placeholder-gray-400",value:u,onChange:G=>h(G.target.value)})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-sm cursor-pointer",value:f,onChange:G=>p(G.target.value),children:E.length===0?c.jsx("option",{children:"All Category"}):E.map(G=>c.jsx("option",{value:G,children:G},G))}),c.jsx(gi,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-sm cursor-pointer",value:m,onChange:G=>v(G.target.value),children:T.length===0?c.jsx("option",{children:"All Payment Modes"}):T.map(G=>c.jsx("option",{value:G,children:G},G))}),c.jsx(gi,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),c.jsx("div",{className:"w-40",children:c.jsx(Jt,{value:b,onChange:N,placeholder:"All Date",className:"bg-white"})}),M&&c.jsx("button",{onClick:j,className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Clear Filters",children:c.jsx(Nt,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"lg:ml-auto",children:c.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 shadow-sm",children:[c.jsx(Gk,{className:"w-4 h-4"}),"Sort By"]})})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Exp No."}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Payment Mode"}),c.jsx("th",{className:"px-6 py-4",children:"Total Amount"}),c.jsx("th",{className:"px-6 py-4",children:"Remarks"}),c.jsx("th",{className:"px-6 py-4",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.map(G=>c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsxs("td",{className:"px-6 py-4 text-gray-900 font-medium",children:["#",G.id.slice(-6)]}),c.jsx("td",{className:"px-6 py-4 text-gray-700",children:G.category||"-"}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:It(G.date)}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:G.paymentMode||"Cash"}),c.jsx("td",{className:"px-6 py-4 text-gray-900 font-bold",children:ne(G.totalAmount)}),c.jsx("td",{className:"px-6 py-4 text-gray-500 max-w-xs truncate",title:G.notes,children:G.notes||"--"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>n(G),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(nc,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(G.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(aa,{className:"w-4 h-4"})})]})})]},G.id)),o.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-400 bg-gray-50/50",children:"No expenses found matching your criteria."})})]})]})})})]})},f0=[1e3,500,100,50,20,10,5,2,1],GX=["Rent","Utilities","Salary","Petrol","Transportation","Tea & Snacks","Maintenance","Office Supplies","Internet","Telephone","Marketing","Other"],VX=({initialData:e,onClose:t,onSave:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState(Date.now().toString().slice(-6)),[u,h]=C.useState(new Date().toISOString()),[f,p]=C.useState("Petrol"),[m,v]=C.useState("1"),[b,N]=C.useState(""),[E,A]=C.useState(""),[T,k]=C.useState(""),[P,I]=C.useState(!1),[R,j]=C.useState(f0.map(z=>({denomination:z,count:0}))),[M,G]=C.useState(f0.map(z=>({denomination:z,count:0}))),{addToast:U}=qr();C.useEffect(()=>{i(me.getAccounts()),e&&(l(e.id),h(e.date),p(e.category||"Other"),N(e.totalAmount),A(e.notes||""),k(e.partyName!=="General Expense"?e.partyName:""),e.accountId&&v(e.accountId),e.cashBreakdown&&(j(e.cashBreakdown.received),G(e.cashBreakdown.returned)))},[e]);const D=z=>{if(z.preventDefault(),!b||!f)return;const B=r.find(Z=>Z.id===m),K=(B==null?void 0:B.type)==="Cash",ie={id:o,date:u,type:"EXPENSE",partyId:"",partyName:T||"General Expense",items:[],totalAmount:Number(b),notes:E,category:f,accountId:m,paymentMode:K?"Cash":"Bank",cashBreakdown:K?{received:R,returned:M}:void 0};e?me.updateTransaction(e.id,ie):me.addTransaction(ie),n()},O=r.find(z=>z.id===m),$=(O==null?void 0:O.type)==="Cash",F=M.reduce((z,B)=>z+B.denomination*B.count,0),V=()=>{const z=me.getCashDrawer();let B=Number(b||0);if(B<=0)return;const K=[],ie=new Map(z.notes.map(Z=>[Z.denomination,Z.count]));for(const Z of f0){const q=ie.get(Z)||0;if(q>0&&B>=Z){const Y=Math.min(Math.floor(B/Z),q);K.push({denomination:Z,count:Y}),B-=Y*Z}else K.push({denomination:Z,count:0})}G(K),U("Notes auto-suggested from drawer availability.","info")};return c.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-orange-100 text-orange-600",children:c.jsx(Qv,{className:"w-5 h-5"})}),c.jsx("div",{children:c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e?"Edit Expense":"Add New Expense"})})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition-colors",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:D,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Expense No"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none font-mono bg-gray-50",value:o,readOnly:!!e,onChange:z=>l(z.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Date"}),c.jsx("div",{className:"w-full",children:c.jsx(Jt,{value:u,onChange:h})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Category"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",value:f,onChange:z=>p(z.target.value),children:GX.map(z=>c.jsx("option",{value:z,children:z},z))}),c.jsx(gi,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Total Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:"Rs."}),c.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",className:"w-full border border-gray-300 rounded-lg pl-10 pr-4 py-3 text-xl font-bold text-gray-800 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:b,onChange:z=>N(z.target.value?Number(z.target.value):"")})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Paid From"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"flex-1 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",value:m,onChange:z=>v(z.target.value),children:r.map(z=>c.jsxs("option",{value:z.id,children:[z.name," (",z.type,")"]},z.id))}),$&&c.jsx("button",{type:"button",onClick:()=>I(!0),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${F>0?"bg-orange-50 border-orange-200 text-orange-600 shadow-sm":"bg-white border-gray-300 text-gray-400 hover:bg-gray-50"}`,title:"Cash Drawer Note Entry",children:c.jsx(Dr,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Paid To (Optional)"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Name of receiver...",value:T,onChange:z=>k(z.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Remarks"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none min-h-[80px] resize-none",placeholder:"Enter description...",value:E,onChange:z=>A(z.target.value)})]})]}),c.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",onClick:D,disabled:!b,className:"px-6 py-2.5 bg-emerald-500 text-white font-medium rounded-lg shadow-sm flex items-center gap-2 hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(sl,{className:"w-4 h-4"}),"Save Expense"]})]})]}),P&&c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"bg-brand-600 p-6 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Dr,{className:"w-6 h-6"})," Cash Out Entry"]}),c.jsx("p",{className:"text-brand-100 text-xs mt-1",children:"Specify exact notes being removed from the drawer."})]}),c.jsx("button",{onClick:()=>I(!1),className:"text-white hover:opacity-70",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-200",children:[c.jsx("span",{className:"text-sm font-bold text-gray-600 uppercase",children:"Expense Amount:"}),c.jsx("span",{className:"text-xl font-black text-gray-900",children:ne(Number(b||0))})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-bold text-gray-800 text-sm uppercase",children:"Physical Notes Leaving Drawer"}),c.jsxs("button",{type:"button",onClick:V,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold border border-emerald-100 flex items-center gap-1",children:[c.jsx(Lu,{className:"w-3 h-3"})," Auto-Suggest"]})]}),c.jsx("div",{className:"space-y-2",children:M.map((z,B)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all ${z.count>0?"bg-brand-50 border-brand-200":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${z.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:z.denomination}),c.jsx(Nt,{className:"w-3 h-3 text-gray-300"})]}),c.jsx("input",{type:"number",min:"0",className:"w-20 p-2 border border-gray-300 rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-brand-500",value:z.count||"",onChange:K=>{const ie=parseInt(K.target.value)||0;G(Z=>Z.map((q,Y)=>Y===B?{...q,count:ie}:q))}}),c.jsx("span",{className:"w-24 text-right font-bold text-gray-600",children:ne(z.denomination*z.count)})]},z.denomination))})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Total Physical Value"}),c.jsx("div",{className:`text-lg font-bold ${F===Number(b||0)?"text-emerald-600":"text-orange-500"}`,children:ne(F)})]}),c.jsx("button",{type:"button",onClick:()=>I(!1),className:"px-10 py-2.5 bg-brand-600 text-white rounded-xl font-bold shadow-lg hover:bg-brand-700 transition-all",children:"Done"})]})]})})]})},b_=({targetReport:e,onConsumeTarget:t,onConvertToPurchase:n})=>{const[r,i]=C.useState("DASHBOARD");C.useEffect(()=>{e&&(i(e),t&&t())},[e,t]);const o=()=>{switch(r){case"DASHBOARD":return c.jsx(w_,{onNavigate:i});case"SALES":return c.jsx(Nu,{title:"Sales Report",type:"SALE",onBack:()=>i("DASHBOARD")});case"PURCHASE":return c.jsx(Nu,{title:"Purchase Report",type:"PURCHASE",onBack:()=>i("DASHBOARD")});case"SALES_RETURN":return c.jsx(Nu,{title:"Sales Return Report",type:"SALE_RETURN",onBack:()=>i("DASHBOARD")});case"PURCHASE_RETURN":return c.jsx(Nu,{title:"Purchase Return Report",type:"PURCHASE_RETURN",onBack:()=>i("DASHBOARD")});case"DAY_BOOK":return c.jsx($X,{onBack:()=>i("DASHBOARD")});case"ALL_TRANSACTIONS":return c.jsx(Nu,{title:"All Transactions",type:"ALL",onBack:()=>i("DASHBOARD")});case"PROFIT_LOSS":return c.jsx(YX,{onBack:()=>i("DASHBOARD")});case"PARTY_STATEMENT":return c.jsx(KX,{onBack:()=>i("DASHBOARD")});case"ALL_PARTY_REPORT":return c.jsx(JX,{onBack:()=>i("DASHBOARD")});case"PARTY_AGING":return c.jsx(XX,{onBack:()=>i("DASHBOARD")});case"STOCK_QUANTITY":case"ITEM_LIST":return c.jsx(S_,{onBack:()=>i("DASHBOARD")});case"LOW_STOCK":return c.jsx(S_,{filter:"low",onBack:()=>i("DASHBOARD")});case"OUT_OF_STOCK":return c.jsx(WX,{onBack:()=>i("DASHBOARD"),onConvert:n});default:return c.jsx(w_,{onNavigate:i})}};return c.jsx("div",{className:"p-4 lg:p-8 max-w-full mx-auto h-full flex flex-col",children:o()})},w_=({onNavigate:e})=>{const[t,n]=C.useState("All Reports"),[r,i]=C.useState(""),l=[{title:"Transaction Report",category:"Transactions",items:[{id:"SALES",label:"Sales",desc:"View your sales data on a given time"},{id:"PURCHASE",label:"Purchase",desc:"View your purchase data on a given time"},{id:"SALES_RETURN",label:"Sales Return",desc:"View your sales return data on a given time"},{id:"PURCHASE_RETURN",label:"Purchase Return",desc:"View your purchase return data on a given time"},{id:"DAY_BOOK",label:"Day Book",desc:"View all of your daily transactions",highlight:!0},{id:"ALL_TRANSACTIONS",label:"All Transactions",desc:"View all party transactions in a given time"},{id:"PROFIT_LOSS",label:"Profit And Loss",desc:"View your profit & loss in a given time"}]},{title:"Party Report",category:"Parties",items:[{id:"PARTY_STATEMENT",label:"Party Statement",desc:"Check the transactions of certain party"},{id:"ALL_PARTY_REPORT",label:"All Party Statement",desc:"Print or download balance list of all parties"},{id:"PARTY_AGING",label:"Receivable Aging",desc:"Track overdue payments by date buckets (1wk to 4mo+)",highlight:!0}]},{title:"Inventory Report",category:"Inventory",items:[{id:"ITEM_LIST",label:"Item List Report",desc:"Detailed list of all items"},{id:"LOW_STOCK",label:"Low Stock Summary",desc:"Quick view of items running low"},{id:"OUT_OF_STOCK",label:"Restock / Auto Order",desc:"Calculate buy amount needed to replenish stock",highlight:!0},{id:"STOCK_QUANTITY",label:"Stock Quantity Report",desc:"View current stock levels"}]}].map(u=>({...u,items:u.items.filter(h=>h.label.toLowerCase().includes(r.toLowerCase())||h.desc.toLowerCase().includes(r.toLowerCase()))})).filter(u=>t!=="All Reports"&&u.category!==t&&t!=="Income Expense"&&t!=="Business Status"?!1:u.items.length>0);return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Browse Various Reports"}),c.jsxs("div",{className:"relative w-full md:w-64",children:[c.jsx($t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search reports...",className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500",value:r,onChange:u=>i(u.target.value)})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["All Reports","Transactions","Parties","Inventory","Income Expense","Business Status"].map(u=>c.jsx("button",{onClick:()=>n(u),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-colors ${t===u?"bg-brand-500 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:u},u))}),l.length>0?l.map((u,h)=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-600 font-semibold mb-4 text-lg",children:u.title}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.items.map(f=>c.jsxs("button",{onClick:()=>e(f.id),className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all text-left flex flex-col h-full group relative",children:[c.jsxs("div",{className:"flex justify-between items-start w-full mb-2",children:[c.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-brand-600 transition-colors",children:f.label}),f.highlight&&c.jsxs("span",{className:"text-xs text-brand-500 font-medium flex items-center",children:["View Report ",c.jsx(xf,{className:"w-3 h-3 ml-1"})]})]}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:f.desc})]},f.id))})]},h)):c.jsx("div",{className:"text-center py-12 text-gray-400",children:c.jsxs("p",{children:['No reports found matching "',r,'"']})})]})},Nu=({title:e,type:t,onBack:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState(""),[u,h]=C.useState(""),[f,p]=C.useState(null);C.useEffect(()=>{const E=me.getProducts(),A=new Map;E.forEach(I=>A.set(I.id,I));const T=me.getTransactions();let k=T;if(t!=="ALL"?k=k.filter(I=>I.type===t):k=k.filter(I=>I.type!=="EXPENSE"),o){const I=new Date(o);I.setHours(0,0,0,0),k=k.filter(R=>new Date(R.date)>=I)}if(u){const I=new Date(u);I.setHours(23,59,59,999),k=k.filter(R=>new Date(R.date)<=I)}const P=k.map(I=>{var M;let R=0;["SALE","SALE_RETURN","QUOTATION"].includes(I.type)&&((M=I.items)==null||M.forEach(G=>{const U=A.get(G.productId);if(U&&U.type!=="service"){let D=G.quantity;G.unit&&U.secondaryUnit&&G.unit===U.secondaryUnit&&U.conversionRatio&&(D=G.quantity/U.conversionRatio),R+=D*U.purchasePrice}}));let j=0;return I.type==="SALE"||I.type==="QUOTATION"?j=I.totalAmount-R:I.type==="SALE_RETURN"&&(j=R-I.totalAmount),{...I,profit:j}});if(i(P),t==="SALE"||t==="ALL"){let I=0,R=0;P.filter(O=>O.type==="SALE").forEach(O=>{var $;R+=O.totalAmount,($=O.items)==null||$.forEach(F=>{const V=A.get(F.productId);if(V&&V.type!=="service"){let z=F.quantity;F.unit&&V.secondaryUnit&&F.unit===V.secondaryUnit&&V.conversionRatio&&(z=F.quantity/V.conversionRatio),I+=z*V.purchasePrice}})});let j=T.filter(O=>O.type==="EXPENSE");if(o){const O=new Date(o);O.setHours(0,0,0,0),j=j.filter($=>new Date($.date)>=O)}if(u){const O=new Date(u);O.setHours(23,59,59,999),j=j.filter($=>new Date($.date)<=O)}const M=j.reduce((O,$)=>O+$.totalAmount,0),G=R-I,U=R>0?G/R*100:0,D=G-M;p({cogs:I,grossProfit:G,margin:U,expense:M,netProfit:D})}else p(null)},[t,o,u]);const m=r.reduce((E,A)=>E+A.totalAmount,0),v=r.reduce((E,A)=>E+A.profit,0),b=()=>{const E=r.map(A=>({...Tv([A])[0],"Bill Profit":A.profit}));ii(E,e.replace(/ /g,"_"))},N=()=>{const E=["Date","Ref No","Party","Type","Amount","Profit"],A=r.map(T=>[It(T.date),T.id,T.partyName,T.type.replace("_"," "),ne(T.totalAmount),["SALE","SALE_RETURN"].includes(T.type)?ne(T.profit):"-"]);Fo(e,E,A)};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[c.jsx("div",{className:"w-32",children:c.jsx(Jt,{value:o,onChange:l,placeholder:"From Date"})}),c.jsx("div",{className:"w-32",children:c.jsx(Jt,{value:u,onChange:h,placeholder:"To Date"})}),c.jsx("button",{onClick:b,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Export Excel",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:N,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Print",children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),f&&c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 p-4 bg-gray-50 border-b border-gray-200",children:[c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-blue-600",children:[c.jsx(Ro,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Cost of Goods"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(f.cogs)})]}),c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-emerald-600",children:[c.jsx(bh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Gross Profit"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(f.grossProfit)})]}),c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-purple-600",children:[c.jsx(g3,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Margin"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[f.margin.toFixed(1),"%"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-orange-600",children:[c.jsx(Dr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Total Expense"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(f.expense)})]}),c.jsxs("div",{className:`bg-white p-3 rounded-lg border shadow-sm ${f.netProfit>=0?"border-emerald-200":"border-red-200"}`,children:[c.jsxs("div",{className:`flex items-center gap-2 mb-1 ${f.netProfit>=0?"text-emerald-600":"text-red-600"}`,children:[c.jsx(Sh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Net Profit"})]}),c.jsx("div",{className:`text-lg font-bold ${f.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:ne(f.netProfit)})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Date"}),c.jsx("th",{className:"px-4 py-3",children:"Ref No"}),c.jsx("th",{className:"px-4 py-3",children:"Party"}),c.jsx("th",{className:"px-4 py-3",children:"Type"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Profit/Loss"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(E=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3",children:It(E.date)}),c.jsxs("td",{className:"px-4 py-3 text-gray-500 font-mono",children:["#",E.id]}),c.jsx("td",{className:"px-4 py-3 font-medium",children:E.partyName}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${E.type.includes("SALE")?"bg-emerald-50 text-emerald-600":E.type.includes("PURCHASE")?"bg-blue-50 text-blue-600":"bg-gray-100 text-gray-600"}`,children:E.type.replace("_"," ")})}),c.jsx("td",{className:"px-4 py-3 text-right font-bold text-gray-800",children:ne(E.totalAmount)}),c.jsx("td",{className:`px-4 py-3 text-right font-bold ${E.profit>=0?"text-emerald-600":"text-red-600"}`,children:["SALE","SALE_RETURN","QUOTATION"].includes(E.type)?ne(E.profit):"-"})]},E.id)),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No records found"})})]}),c.jsx("tfoot",{className:"border-t border-gray-200 bg-gray-50 font-bold",children:c.jsxs("tr",{children:[c.jsx("td",{colSpan:4,className:"px-4 py-3 text-right",children:"Total"}),c.jsx("td",{className:"px-4 py-3 text-right",children:ne(m)}),c.jsx("td",{className:`px-4 py-3 text-right ${v>=0?"text-emerald-700":"text-red-700"}`,children:ne(v)})]})})]})})]})},$X=({onBack:e})=>{const[t,n]=C.useState(new Date().toISOString()),[r,i]=C.useState([]),[o,l]=C.useState([]);C.useEffect(()=>{l(me.getProducts())},[]),C.useEffect(()=>{const m=new Map;o.forEach(A=>m.set(A.id,A));const v=new Date(t);v.setHours(0,0,0,0);const b=new Date(t);b.setHours(23,59,59,999);const E=me.getTransactions().filter(A=>{const T=new Date(A.date);return T>=v&&T<=b}).map(A=>{var P;let T=0;["SALE","SALE_RETURN"].includes(A.type)&&((P=A.items)==null||P.forEach(I=>{const R=m.get(I.productId);if(R&&R.type!=="service"){let j=I.quantity;I.unit&&R.secondaryUnit&&I.unit===R.secondaryUnit&&R.conversionRatio&&(j=I.quantity/R.conversionRatio),T+=j*R.purchasePrice}}));let k=0;return A.type==="SALE"?k=A.totalAmount-T:A.type==="SALE_RETURN"&&(k=T-A.totalAmount),{...A,profit:k}});i(E)},[t,o]);const u=C.useMemo(()=>{const m=r.filter(T=>T.type==="SALE").reduce((T,k)=>T+k.totalAmount,0),v=r.filter(T=>T.type==="PURCHASE").reduce((T,k)=>T+k.totalAmount,0),b=r.filter(T=>T.type==="PAYMENT_IN").reduce((T,k)=>T+k.totalAmount,0),N=r.filter(T=>T.type==="PAYMENT_OUT").reduce((T,k)=>T+k.totalAmount,0),E=r.filter(T=>T.type==="EXPENSE").reduce((T,k)=>T+k.totalAmount,0),A=r.reduce((T,k)=>T+k.profit,0)-E;return{sales:m,purchase:v,payIn:b,payOut:N,expense:E,profit:A}},[r]),h=()=>{const m=r.map(v=>{const b=v.type==="SALE"||v.type==="PAYMENT_IN"||v.type==="PURCHASE_RETURN",N=v.type==="PURCHASE"||v.type==="PAYMENT_OUT"||v.type==="EXPENSE"||v.type==="SALE_RETURN";return{Time:new Date(v.date).toLocaleTimeString(),Particulars:v.partyName,Type:v.type,"In Amount":b?v.totalAmount:0,"Out Amount":N?v.totalAmount:0,"Bill Profit":v.profit||0}});ii(m,`DayBook_${It(t)}`)},f=()=>{const m=["Time","Particulars","Type","In Amount","Out Amount","Profit"],v=r.map(b=>{const N=b.type==="SALE"||b.type==="PAYMENT_IN"||b.type==="PURCHASE_RETURN",E=b.type==="PURCHASE"||b.type==="PAYMENT_OUT"||b.type==="EXPENSE"||b.type==="SALE_RETURN";return[new Date(b.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),b.partyName,b.type,N?ne(b.totalAmount):"-",E?ne(b.totalAmount):"-",["SALE","SALE_RETURN"].includes(b.type)?ne(b.profit):"-"]});Fo(`Day Book - ${It(t)}`,m,v)},p=({label:m,value:v,color:b,icon:N})=>c.jsxs("div",{className:"p-3 rounded-lg border flex flex-col justify-between h-full bg-white border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:`p-1.5 rounded-md bg-${b}-50 text-${b}-600`,children:c.jsx(N,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase",children:m})]}),c.jsx("div",{className:`text-lg font-bold text-${b}-700`,children:ne(v)})]});return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Day Book"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-40",children:c.jsx(Jt,{value:t,onChange:n})}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Export Excel",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:f,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Print",children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 p-4 bg-gray-50 border-b border-gray-100",children:[c.jsx(p,{label:"Total Sales",value:u.sales,color:"emerald",icon:Ro}),c.jsx(p,{label:"Purchase",value:u.purchase,color:"blue",icon:Ro}),c.jsx(p,{label:"Payment In",value:u.payIn,color:"indigo",icon:q3}),c.jsx(p,{label:"Payment Out",value:u.payOut,color:"orange",icon:bh}),c.jsx(p,{label:"Expenses",value:u.expense,color:"red",icon:Dr}),c.jsx(p,{label:"Net Profit",value:u.profit,color:u.profit>=0?"emerald":"red",icon:Sh})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Time"}),c.jsx("th",{className:"px-4 py-3",children:"Particulars"}),c.jsx("th",{className:"px-4 py-3",children:"Type"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"In Amount"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Out Amount"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Profit"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(m=>{const v=m.type==="SALE"||m.type==="PAYMENT_IN",b=m.type==="PURCHASE"||m.type==="PAYMENT_OUT"||m.type==="EXPENSE",N=m.type==="PURCHASE_RETURN",E=m.type==="SALE_RETURN",A=new Date(m.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-gray-500",children:A}),c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("div",{className:"font-medium text-gray-800",children:m.partyName}),c.jsxs("div",{className:"text-xs text-gray-400",children:["#",m.id]})]}),c.jsx("td",{className:"px-4 py-3 text-xs uppercase text-gray-500",children:m.type.replace("_"," ")}),c.jsx("td",{className:"px-4 py-3 text-right font-medium text-emerald-600",children:v||N?ne(m.totalAmount):"-"}),c.jsx("td",{className:"px-4 py-3 text-right font-medium text-red-600",children:b||E?ne(m.totalAmount):"-"}),c.jsx("td",{className:`px-4 py-3 text-right font-bold ${m.profit>=0?"text-emerald-600":"text-red-600"}`,children:["SALE","SALE_RETURN"].includes(m.type)?ne(m.profit):"-"})]},m.id)}),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No transactions for this day"})})]})]})})]})},YX=({onBack:e})=>{const[t,n]=C.useState(""),[r,i]=C.useState(""),[o,l]=C.useState(null),[u,h]=C.useState({totalSales:0,salesReturns:0,netSales:0,cogs:0,grossProfit:0,totalExpenses:0,netProfit:0,expensesByCategory:[]});C.useEffect(()=>{l(me.getBusinessProfile());const m=me.getProducts();let v=me.getTransactions();if(t){const M=new Date(t);M.setHours(0,0,0,0),v=v.filter(G=>new Date(G.date)>=M)}if(r){const M=new Date(r);M.setHours(23,59,59,999),v=v.filter(G=>new Date(G.date)<=M)}let b=0,N=0,E=0;const A=new Map,T=new Map;m.forEach(M=>T.set(M.id,M)),v.forEach(M=>{var G,U;if(M.type==="SALE")b+=M.totalAmount,(G=M.items)==null||G.forEach(D=>{const O=T.get(D.productId);if(O&&O.type!=="service"){let $=D.quantity;D.unit&&O.secondaryUnit&&D.unit===O.secondaryUnit&&O.conversionRatio&&($=D.quantity/O.conversionRatio),E+=$*O.purchasePrice}});else if(M.type==="SALE_RETURN")N+=M.totalAmount,(U=M.items)==null||U.forEach(D=>{const O=T.get(D.productId);if(O&&O.type!=="service"){let $=D.quantity;D.unit&&O.secondaryUnit&&D.unit===O.secondaryUnit&&O.conversionRatio&&($=D.quantity/O.conversionRatio),E-=$*O.purchasePrice}});else if(M.type==="EXPENSE"){const D=M.category||"General";A.set(D,(A.get(D)||0)+M.totalAmount)}});const k=Array.from(A.entries()).map(([M,G])=>({category:M,amount:G})).sort((M,G)=>G.amount-M.amount),P=k.reduce((M,G)=>M+G.amount,0),I=b-N,R=I-E,j=R-P;h({totalSales:b,salesReturns:N,netSales:I,cogs:E,grossProfit:R,totalExpenses:P,netProfit:j,expensesByCategory:k})},[t,r]);const f=()=>{const m=[{Item:"Total Sales",Amount:u.totalSales},{Item:"Sales Return",Amount:u.salesReturns},{Item:"Net Sales",Amount:u.netSales},{Item:"COGS",Amount:u.cogs},{Item:"Gross Profit",Amount:u.grossProfit},{Item:"--- Operating Expenses ---",Amount:""},...u.expensesByCategory.map(v=>({Item:v.category,Amount:v.amount})),{Item:"Total Expenses",Amount:u.totalExpenses},{Item:"Net Profit",Amount:u.netProfit}];ii(m,"ProfitAndLoss")},p=(m,v)=>v?(m/v*100).toFixed(1)+"%":"0%";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full max-w-5xl mx-auto w-full print:hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Profit & Loss Statement"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("div",{className:"w-32",children:c.jsx(Jt,{value:t,onChange:n,placeholder:"From Date"})}),c.jsx("div",{className:"w-32",children:c.jsx(Jt,{value:r,onChange:i,placeholder:"To Date"})}),c.jsx("button",{onClick:f,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Export Excel",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>window.print(),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Print",children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-6 bg-gray-50/50",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-emerald-100 shadow-sm",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Net Sales"}),c.jsx("h3",{className:"text-2xl font-bold text-emerald-600",children:ne(u.netSales)}),c.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:"Gross Revenue"})]}),c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-blue-100 shadow-sm",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gross Profit"}),c.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:ne(u.grossProfit)}),c.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:[p(u.grossProfit,u.netSales)," of Sales"]})]}),c.jsxs("div",{className:`bg-white p-5 rounded-xl border shadow-sm ${u.netProfit>=0?"border-emerald-100":"border-red-100"}`,children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Net Profit"}),c.jsx("h3",{className:`text-2xl font-bold ${u.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:ne(u.netProfit)}),c.jsxs("p",{className:`text-xs mt-1 ${u.netProfit>=0?"text-emerald-600":"text-red-500"}`,children:[p(u.netProfit,u.netSales)," Net Margin"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm h-fit",children:[c.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 font-bold text-gray-700",children:"Trading Account (Income)"}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Revenue from Operations"}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-1",children:[c.jsx("span",{className:"text-gray-600",children:"Total Sales"}),c.jsx("span",{className:"font-medium text-gray-900",children:ne(u.totalSales)})]}),u.salesReturns>0&&c.jsxs("div",{className:"flex justify-between items-center text-sm py-1 text-red-500",children:[c.jsx("span",{children:"Less: Sales Return"}),c.jsxs("span",{children:["(",ne(u.salesReturns),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-2 border-t border-gray-100 mt-1 font-bold",children:[c.jsx("span",{className:"text-gray-800",children:"Net Sales"}),c.jsx("span",{className:"text-emerald-600",children:ne(u.netSales)})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3 mt-2",children:"Cost of Goods Sold"}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-1",children:[c.jsx("span",{className:"text-gray-600",children:"Cost of Sales"}),c.jsxs("span",{className:"font-medium text-red-500",children:["(",ne(u.cogs),")"]})]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex justify-between items-center mt-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-blue-900 block",children:"Gross Profit"}),c.jsx("span",{className:"text-xs text-blue-700",children:"Net Sales - COGS"})]}),c.jsx("span",{className:"font-bold text-xl text-blue-700",children:ne(u.grossProfit)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm h-fit",children:[c.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 font-bold text-gray-700",children:"Operating Expenses"}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"space-y-3 mb-6",children:u.expensesByCategory.length===0?c.jsx("p",{className:"text-center text-gray-400 py-4 text-sm",children:"No expenses recorded for this period."}):u.expensesByCategory.map((m,v)=>c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1 z-10 relative",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:m.category}),c.jsx("span",{className:"text-gray-900",children:ne(m.amount)})]}),c.jsx("div",{className:"h-1.5 w-full bg-gray-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-400 rounded-full",style:{width:`${m.amount/u.totalExpenses*100}%`}})})]},v))}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-3 border-t border-gray-100 font-bold mb-4",children:[c.jsx("span",{className:"text-gray-800",children:"Total Operating Expenses"}),c.jsxs("span",{className:"text-red-600",children:["(",ne(u.totalExpenses),")"]})]}),c.jsxs("div",{className:`p-4 rounded-lg flex justify-between items-center ${u.netProfit>=0?"bg-emerald-50":"bg-red-50"}`,children:[c.jsxs("div",{children:[c.jsx("span",{className:`font-bold block ${u.netProfit>=0?"text-emerald-900":"text-red-900"}`,children:u.netProfit>=0?"Net Profit":"Net Loss"}),c.jsx("span",{className:`text-xs ${u.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:"Gross Profit - Expenses"})]}),c.jsx("span",{className:`font-bold text-2xl ${u.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:ne(u.netProfit)})]})]})]})]})]})]}),c.jsxs("div",{className:"hidden print:block fixed inset-0 bg-white z-[200] p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold uppercase",children:(o==null?void 0:o.name)||"Company Name"}),c.jsx("p",{className:"text-sm",children:o==null?void 0:o.address}),c.jsx("h2",{className:"text-lg font-bold mt-4 underline decoration-double",children:"PROFIT & LOSS STATEMENT"}),c.jsxs("p",{className:"text-xs mt-1",children:["From: ",t||"Beginning"," To: ",r||"Today"]})]}),c.jsx("table",{className:"w-full text-sm border border-gray-400 mb-6",children:c.jsxs("tbody",{children:[c.jsx("tr",{className:"bg-gray-100 font-bold",children:c.jsx("td",{className:"p-2 border border-gray-400",colSpan:2,children:"Trading Account"})}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Total Sales"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.totalSales)})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Less: Sales Return"}),c.jsxs("td",{className:"p-2 border border-gray-400 text-right",children:["(",ne(u.salesReturns),")"]})]}),c.jsxs("tr",{className:"font-semibold",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Net Sales"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.netSales)})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Less: Cost of Goods Sold"}),c.jsxs("td",{className:"p-2 border border-gray-400 text-right",children:["(",ne(u.cogs),")"]})]}),c.jsxs("tr",{className:"bg-gray-100 font-bold text-base",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"GROSS PROFIT"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.grossProfit)})]})]})}),c.jsx("table",{className:"w-full text-sm border border-gray-400",children:c.jsxs("tbody",{children:[c.jsx("tr",{className:"bg-gray-100 font-bold",children:c.jsx("td",{className:"p-2 border border-gray-400",colSpan:2,children:"Operating Expenses"})}),u.expensesByCategory.map((m,v)=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:m.category}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(m.amount)})]},v)),c.jsxs("tr",{className:"font-semibold",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Total Expenses"}),c.jsxs("td",{className:"p-2 border border-gray-400 text-right",children:["(",ne(u.totalExpenses),")"]})]}),c.jsxs("tr",{className:"bg-gray-100 font-bold text-lg",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"NET PROFIT / (LOSS)"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.netProfit)})]})]})})]})]})},KX=({onBack:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState([]),[o,l]=C.useState(""),[u,h]=C.useState(""),[f,p]=C.useState(""),[m,v]=C.useState([]),[b,N]=C.useState(""),[E,A]=C.useState(!1),[T,k]=C.useState(0),P=C.useRef(null);C.useEffect(()=>{n(me.getParties()),i(me.getProducts())},[]),C.useEffect(()=>{if(o){let F=me.getTransactions().filter(V=>V.partyId===o);v(F.sort((V,z)=>new Date(V.date).getTime()-new Date(z.date).getTime()))}else v([])},[o]),C.useEffect(()=>{function F(V){P.current&&!P.current.contains(V.target)&&A(!1)}return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const I=C.useMemo(()=>{if(!o||m.length===0)return{cogs:0,profit:0};const F=new Map;r.forEach(B=>F.set(B.id,B));let V=0,z=0;return m.forEach(B=>{var ie;let K=0;["SALE","SALE_RETURN","QUOTATION"].includes(B.type)&&((ie=B.items)==null||ie.forEach(Z=>{const q=F.get(Z.productId);if(q&&q.type!=="service"){let Y=Z.quantity;Z.unit&&q.secondaryUnit&&Z.unit===q.secondaryUnit&&q.conversionRatio&&(Y=Z.quantity/q.conversionRatio),K+=Y*q.purchasePrice}})),B.type==="SALE"||B.type==="QUOTATION"?(V+=K,z+=B.totalAmount-K):B.type==="SALE_RETURN"&&(V-=K,z-=B.totalAmount-K)}),{cogs:V,profit:z}},[m,r,o]),{bfBalance:R,ledgerRows:j}=C.useMemo(()=>{let F=0;const V=u?new Date(u):null;V&&V.setHours(0,0,0,0);const z=f?new Date(f):null;z&&z.setHours(23,59,59,999);const B=[];let K=0;return m.forEach(ie=>{let Z=0,q=0;["SALE","PAYMENT_OUT","PURCHASE_RETURN"].includes(ie.type)?Z=ie.totalAmount:["PURCHASE","PAYMENT_IN","SALE_RETURN"].includes(ie.type)?q=ie.totalAmount:ie.type==="BALANCE_ADJUSTMENT"&&(ie.totalAmount>=0?Z=ie.totalAmount:q=Math.abs(ie.totalAmount));const Y=new Date(ie.date);V&&Y<V?F+=Z-q:(!z||Y<=z)&&(B.length===0&&(K=F),K+=Z-q,B.push({...ie,debit:Z,credit:q,balance:Math.abs(K),indicator:K>=0?"Dr":"Cr"}))}),{bfBalance:F,ledgerRows:B}},[m,u,f]),M=t.find(F=>F.id===o),G=t.filter(F=>F.name.toLowerCase().includes(b.toLowerCase())||F.phone&&F.phone.includes(b)),U=F=>{l(F.id),N(F.name),A(!1)},D=F=>{F.key==="ArrowDown"?(F.preventDefault(),k(V=>(V+1)%G.length)):F.key==="ArrowUp"?(F.preventDefault(),k(V=>(V-1+G.length)%G.length)):F.key==="Enter"&&(F.preventDefault(),G.length>0&&U(G[T]))},O=()=>{const F=[{Date:"-",Type:"-",Voucher:"-",Debit:0,Credit:0,Balance:`${Math.abs(R)} ${R>=0?"Dr":"Cr"}`,Narration:"Opening Balance / B.F"},...j.map(V=>({Date:It(V.date),Type:V.type,Voucher:V.id,Debit:V.debit||0,Credit:V.credit||0,Balance:`${V.balance} ${V.indicator}`,Narration:V.notes||""}))];ii(F,`Ledger_${(M==null?void 0:M.name)||"Party"}`)},$=()=>{if(!M)return;const F=me.getBusinessProfile(),V=window.open("","_blank");if(!V)return;const z=j.map(K=>{var q,Y;const ie=((q=K.items)==null?void 0:q.map(X=>`<div style="font-size: 10px; color: #555; margin-left: 10px;">${X.productName} &nbsp; ${X.quantity} pcs @ ${ne(X.rate)} = ${ne(X.amount)}</div>`).join(""))||"",Z=((Y=K.items)==null?void 0:Y.length)>0?`<div style="font-size: 10px; border-top: 1px dashed #ccc; margin-top: 4px; padding-top: 2px;">**** Total Qty. = ${K.items.reduce((X,H)=>X+H.quantity,0)} : Amt. = ${ne(K.totalAmount)}</div>`:"";return`
        <tr>
          <td>${It(K.date)}</td>
          <td>${K.type.substring(0,4)}</td>
          <td>${K.id.slice(-6)}</td>
          <td style="padding: 10px 8px;">
            <div style="font-weight: bold; color: #2563eb;">${K.type.replace("_"," ")}</div>
            ${ie}
            ${Z}
          </td>
          <td style="text-align: right;">${K.debit>0?ne(K.debit):""}</td>
          <td style="text-align: right;">${K.credit>0?ne(K.credit):""}</td>
          <td style="text-align: right; font-weight: bold;">${ne(K.balance)} <small style="color: #666;">${K.indicator}</small></td>
          <td>${K.notes||""}</td>
        </tr>
      `}).join(""),B=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Party Statement - ${M.name}</title>
          <style>
            @page { size: A4; margin: 10mm; }
            body { font-family: 'Inter', sans-serif; color: #1e293b; padding: 0; margin: 0; }
            .header { margin-bottom: 20px; border-bottom: 2px solid #333; padding-bottom: 10px; }
            .company-name { font-size: 24px; font-bold; color: #1e3a8a; text-transform: capitalize; }
            .address-bar { font-size: 14px; color: #666; }
            table { width: 100%; border-collapse: collapse; border: 1px solid #94a3b8; table-layout: fixed; }
            th { background-color: #0284c7; color: white; padding: 10px 8px; font-size: 13px; border: 1px solid #075985; text-align: center; }
            td { padding: 6px 8px; font-size: 12px; border: 1px solid #cbd5e1; vertical-align: top; word-wrap: break-word; }
            .opening-row { background-color: #fffbeb; font-weight: bold; }
            tr:nth-child(even) { background-color: #f8fafc; }
            .footer-note { margin-top: 30px; text-align: center; font-size: 10px; color: #94a3b8; }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="company-name">${F.name}</div>
            <div class="address-bar">${F.address}</div>
            <div class="address-bar">${F.phone}</div>
          </div>
          
          <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
              <div style="font-size: 16px; font-weight: bold;">Statement for: ${M.name}</div>
              <div style="font-size: 12px;">Contact: ${M.phone||"N/A"}</div>
            </div>
            <div style="text-align: right; font-size: 12px;">
              Period: ${u?It(u):"Beginning"} - ${f?It(f):"Today"}
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 80px;">Date</th>
                <th style="width: 50px;">Type</th>
                <th style="width: 70px;">Vch/Bill No</th>
                <th style="width: 250px; text-align: left;">Account</th>
                <th style="width: 100px; text-align: right;">Debit(Rs.)</th>
                <th style="width: 100px; text-align: right;">Credit(Rs.)</th>
                <th style="width: 110px; text-align: right;">Balance(Rs.)</th>
                <th style="width: 100px;">Short Narration</th>
              </tr>
            </thead>
            <tbody>
              <tr class="opening-row">
                <td colspan="3"></td>
                <td colspan="3" style="text-align: left;">Opening Balance / B.F</td>
                <td style="text-align: right;">${ne(Math.abs(R))} ${R>=0?"Dr":"Cr"}</td>
                <td></td>
              </tr>
              ${z}
            </tbody>
          </table>
          <div class="footer-note">Generated by AA Pro Business Solutions</div>
          <script>window.onload = function() { window.print(); window.close(); }<\/script>
        </body>
      </html>
    `;V.document.write(B),V.document.close()};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Party Ledger Statement"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[c.jsxs("div",{className:"w-48 relative",ref:P,children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"w-full pl-9 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none transition-all",placeholder:"Search Party...",value:b,onChange:F=>{N(F.target.value),A(!0),k(0)},onKeyDown:D,onFocus:()=>A(!0)}),c.jsx($t,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),b&&c.jsx("button",{onClick:()=>{N(""),l("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:c.jsx(Nt,{className:"w-4 h-4"})})]}),E&&c.jsx("div",{className:"absolute top-full left-0 w-[300px] bg-white border border-gray-200 rounded-lg shadow-xl z-[60] mt-1 max-h-60 overflow-y-auto",children:G.length===0?c.jsx("div",{className:"p-3 text-sm text-gray-500 text-center italic",children:"No parties found."}):G.map((F,V)=>c.jsxs("div",{className:`p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group ${T===V?"bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>U(F),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm",children:F.name}),c.jsx("div",{className:"text-[10px] text-gray-500",children:F.phone||"No Phone"})]}),c.jsx("div",{className:`text-[10px] px-1.5 py-0.5 rounded ${F.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:F.type.substring(0,4)})]},F.id))})]}),c.jsx("div",{className:"w-32",children:c.jsx(Jt,{value:u,onChange:h,placeholder:"From Date"})}),c.jsx("div",{className:"w-32",children:c.jsx(Jt,{value:f,onChange:p,placeholder:"To Date"})}),c.jsx("button",{onClick:O,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",disabled:!o,children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:$,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",disabled:!o,children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-auto bg-gray-50/30",children:o?c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 print:hidden",children:[c.jsxs("div",{className:"p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 text-base",children:M==null?void 0:M.name}),c.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[M==null?void 0:M.phone," | ",(M==null?void 0:M.address)||"No Address"]})]}),c.jsxs("div",{className:"p-4 bg-white rounded-xl border border-blue-50 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-blue-600",children:[c.jsx(Ro,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Cost of Goods"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(I.cogs)})]}),c.jsxs("div",{className:`p-4 rounded-xl border shadow-sm ${I.profit>=0?"bg-white border-emerald-50":"bg-white border-red-50"}`,children:[c.jsxs("div",{className:`flex items-center gap-2 mb-1 ${I.profit>=0?"text-emerald-600":"text-red-600"}`,children:[c.jsx(bh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Profit (Estimated)"})]}),c.jsx("div",{className:`text-lg font-bold ${I.profit>=0?"text-emerald-700":"text-red-700"}`,children:ne(I.profit)})]}),c.jsxs("div",{className:"p-4 bg-white rounded-xl border border-gray-200 text-right flex flex-col justify-center shadow-sm",children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Closing Balance"}),c.jsxs("p",{className:`text-xl font-bold ${M.balance>=0?"text-emerald-600":"text-red-600"}`,children:[ne(Math.abs(M.balance)),c.jsx("span",{className:"text-[10px] ml-1 font-normal text-gray-400",children:M.balance>=0?"Dr":"Cr"})]})]})]}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:c.jsxs("table",{className:"w-full text-xs text-left border-collapse",children:[c.jsx("thead",{className:"bg-[#0284c7] text-white font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 border border-[#075985]",children:"Date"}),c.jsx("th",{className:"px-2 py-3 border border-[#075985]",children:"Type"}),c.jsx("th",{className:"px-2 py-3 border border-[#075985]",children:"Vch No"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-left",children:"Account (Details)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-right",children:"Debit(Rs.)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-right",children:"Credit(Rs.)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-right",children:"Balance(Rs.)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985]",children:"Narration"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.jsxs("tr",{className:"bg-amber-50/30 font-bold italic",children:[c.jsx("td",{colSpan:3}),c.jsx("td",{className:"px-4 py-2 border-r border-gray-100",children:"Opening Balance / B.F"}),c.jsx("td",{}),c.jsx("td",{className:"border-r border-gray-100"}),c.jsxs("td",{className:"px-4 py-2 text-right border-r border-gray-100",children:[ne(Math.abs(R))," ",R>=0?"Dr":"Cr"]}),c.jsx("td",{})]}),j.map(F=>{var V,z;return c.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[c.jsx("td",{className:"px-4 py-3 border-r border-gray-100 whitespace-nowrap",children:It(F.date)}),c.jsx("td",{className:"px-2 py-3 border-r border-gray-100 uppercase text-[10px] font-bold text-gray-400",children:F.type.substring(0,4)}),c.jsxs("td",{className:"px-2 py-3 border-r border-gray-100 font-mono text-[10px]",children:["#",F.id.slice(-6)]}),c.jsxs("td",{className:"px-4 py-3 border-r border-gray-100",children:[c.jsx("div",{className:"font-bold text-blue-600 mb-1",children:F.type.replace("_"," ")}),(V=F.items)==null?void 0:V.map((B,K)=>c.jsxs("div",{className:"text-[10px] text-gray-500 pl-2 border-l border-gray-200 ml-1 mb-0.5",children:[B.productName," ",c.jsx("span",{className:"mx-1 opacity-50",children:""})," ",B.quantity," x ",ne(B.rate)," = ",ne(B.amount)]},K)),((z=F.items)==null?void 0:z.length)>0&&c.jsxs("div",{className:"text-[10px] text-gray-400 border-t border-dashed mt-1 pt-0.5 font-mono",children:["**** Total Qty. = ",F.items.reduce((B,K)=>B+K.quantity,0)," : Amt. = ",ne(F.totalAmount)]})]}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-right font-medium",children:F.debit>0?ne(F.debit):""}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-right font-medium",children:F.credit>0?ne(F.credit):""}),c.jsxs("td",{className:"px-4 py-3 border-r border-gray-100 text-right font-bold text-gray-900",children:[ne(F.balance),c.jsx("span",{className:"text-[10px] ml-1 font-normal text-gray-400",children:F.indicator})]}),c.jsx("td",{className:"px-4 py-3 text-gray-500 italic max-w-xs",children:F.notes||"-"})]},F.id)}),j.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"text-center py-20 text-gray-400 flex flex-col items-center gap-2",children:[c.jsx($t,{className:"w-10 h-10 opacity-20"}),"No transactions found for this period."]})})]})]})})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 space-y-4 py-32",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx(wh,{className:"w-10 h-10 opacity-30"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold text-gray-600",children:"No Party Selected"}),c.jsx("p",{className:"text-sm",children:"Please search and select a party to view the ledger statement."})]})]})})]})},JX=({onBack:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState("");C.useEffect(()=>{n(me.getParties())},[]);const o=t.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())),l=t.reduce((p,m)=>m.balance>0?p+m.balance:p,0),u=t.reduce((p,m)=>m.balance<0?p+Math.abs(m.balance):p,0),h=()=>{const p=Cv(o);ii(p,"All_Parties_Balance")},f=()=>{const p=["Name","Type","Phone","Balance","Status"],m=o.map(v=>[v.name,v.type,v.phone||"-",ne(Math.abs(v.balance)),v.balance>=0?"To Receive":"To Give"]);Fo("All Party Balances",p,m)};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"All Party Statement"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx($t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none",placeholder:"Search party...",value:r,onChange:p=>i(p.target.value)})]}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:f,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 border-b border-gray-100",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-emerald-100 shadow-sm",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total To Receive (Dr)"}),c.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:ne(l)})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total To Give (Cr)"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:ne(u)})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Party Name"}),c.jsx("th",{className:"px-4 py-3",children:"Type"}),c.jsx("th",{className:"px-4 py-3",children:"Phone"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Balance"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.map(p=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:p.name}),c.jsx("td",{className:"px-4 py-3 capitalize text-gray-500",children:p.type}),c.jsx("td",{className:"px-4 py-3 text-gray-500",children:p.phone||"-"}),c.jsx("td",{className:`px-4 py-3 text-right font-bold ${p.balance>=0?"text-emerald-600":"text-red-600"}`,children:ne(Math.abs(p.balance))}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${p.balance>=0?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:p.balance>=0?"RECEIVABLE":"PAYABLE"})})]},p.id)),o.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-400",children:"No parties found"})})]})]})})]})},XX=({onBack:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(""),o=new Date;C.useEffect(()=>{const f=me.getParties().filter(v=>v.balance>0),p=me.getTransactions(),m=f.map(v=>{const b=p.filter(A=>A.partyId===v.id&&["SALE","PAYMENT_IN","SALE_RETURN","BALANCE_ADJUSTMENT"].includes(A.type)).sort((A,T)=>new Date(A.date).getTime()-new Date(T.date).getTime());let N=v.balance;const E={current:0,w1:0,d15:0,d30:0,d60:0,d90:0,d120:0};for(let A=b.length-1;A>=0&&N>0;A--){const T=b[A];if(["SALE","BALANCE_ADJUSTMENT"].includes(T.type)&&T.totalAmount>0){const k=Math.min(N,T.totalAmount),P=Math.floor((o.getTime()-new Date(T.date).getTime())/(1e3*60*60*24));P>=120?E.d120+=k:P>=90?E.d90+=k:P>=60?E.d60+=k:P>=30?E.d30+=k:P>=15?E.d15+=k:P>=7?E.w1+=k:E.current+=k,N-=k}}return N>0&&(E.d120+=N),{...v,buckets:E}});n(m)},[]);const l=t.filter(f=>f.name.toLowerCase().includes(r.toLowerCase())),u=C.useMemo(()=>l.reduce((f,p)=>(f.total+=p.balance,f.current+=p.buckets.current,f.w1+=p.buckets.w1,f.d15+=p.buckets.d15,f.d30+=p.buckets.d30,f.d60+=p.buckets.d60,f.d90+=p.buckets.d90,f.d120+=p.buckets.d120,f),{total:0,current:0,w1:0,d15:0,d30:0,d60:0,d90:0,d120:0}),[l]),h=()=>{const f=l.map(p=>({"Party Name":p.name,"Total Due":p.balance,Current:p.buckets.current,"1 Week+":p.buckets.w1,"15 Days+":p.buckets.d15,"30 Days+":p.buckets.d30,"60 Days+":p.buckets.d60,"90 Days+":p.buckets.d90,"120 Days+":p.buckets.d120}));ii(f,"Receivable_Aging_Report")};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between gap-4 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Aged Receivables Report"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Classification of dues by time period"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx($t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none w-64",placeholder:"Search party...",value:r,onChange:f=>i(f.target.value)})]}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>window.print(),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-auto bg-gray-50/30",children:c.jsxs("table",{className:"w-full text-xs text-left border-collapse min-w-[1000px]",children:[c.jsx("thead",{className:"sticky top-0 z-10 font-bold uppercase tracking-wider text-[10px]",children:c.jsxs("tr",{className:"bg-gray-800 text-white",children:[c.jsx("th",{className:"px-4 py-4 border-r border-gray-700",children:"Party Name"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right",children:"Total Due"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-emerald-600",children:"Current"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-emerald-700",children:"1 Wk +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-yellow-600",children:"15 Days +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-orange-500",children:"30 Days +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-orange-600",children:"60 Days +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-red-600",children:"90 Days +"}),c.jsx("th",{className:"px-4 py-4 text-right bg-red-700",children:"120 Days +"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100 bg-white",children:[l.map(f=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 font-bold text-gray-800",children:f.name}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right font-black text-blue-600",children:ne(f.balance)}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-emerald-50/30",children:f.buckets.current>0?ne(f.buckets.current):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-emerald-100/30",children:f.buckets.w1>0?ne(f.buckets.w1):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-yellow-50/30 font-medium",children:f.buckets.d15>0?ne(f.buckets.d15):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-orange-50/30 font-bold",children:f.buckets.d30>0?ne(f.buckets.d30):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-orange-100/30 font-bold",children:f.buckets.d60>0?ne(f.buckets.d60):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-red-50/30 font-black text-red-600",children:f.buckets.d90>0?ne(f.buckets.d90):"-"}),c.jsx("td",{className:"px-4 py-3 text-right bg-red-100/30 font-black text-red-700 animate-pulse",children:f.buckets.d120>0?ne(f.buckets.d120):"-"})]},f.id)),l.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:9,className:"py-20 text-center text-gray-400",children:"No receivable balances found."})})]}),c.jsx("tfoot",{className:"sticky bottom-0 bg-gray-900 text-white font-black text-xs uppercase",children:c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-4 border-r border-gray-800",children:"Total Company Credit"}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right text-blue-400",children:ne(u.total)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.current)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.w1)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d15)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d30)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d60)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d90)}),c.jsx("td",{className:"px-4 py-4 text-right text-red-400",children:ne(u.d120)})]})})]})})]})},S_=({filter:e,onBack:t})=>{const[n,r]=C.useState([]),[i,o]=C.useState("");C.useEffect(()=>{let p=me.getProducts();e==="low"&&(p=p.filter(m=>m.type!=="service"&&m.stock<(m.minStockLevel||5))),r(p)},[e]);const l=n.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())),u=l.reduce((p,m)=>p+m.stock*m.purchasePrice,0),h=()=>{const p=tD(l);ii(p,e==="low"?"Low_Stock_Report":"Full_Stock_Report")},f=()=>{const p=["Item Name","Category","Stock","Unit","Value (Purchase)"],m=l.map(v=>[v.name,v.category||"General",v.stock,v.unit,ne(v.stock*v.purchasePrice)]);Fo(e==="low"?"Low Stock Report":"Stock Quantity Report",p,m)};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e==="low"?"Low Stock Summary":"Stock Quantity Report"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx($t,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none",placeholder:"Search items...",value:i,onChange:p=>o(p.target.value)})]}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:f,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(Ln,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-100",children:c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm w-fit min-w-[200px]",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total Inventory Value (Cost)"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ne(u)})]})}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Item Name"}),c.jsx("th",{className:"px-4 py-3",children:"Category"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Stock"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Unit"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Buy Price"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Total Value"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(p=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:p.name}),c.jsx("td",{className:"px-4 py-3 text-gray-500",children:p.category||"General"}),c.jsx("td",{className:`px-4 py-3 text-center font-bold ${p.stock<(p.minStockLevel||5)?"text-red-500":"text-gray-700"}`,children:p.stock}),c.jsx("td",{className:"px-4 py-3 text-center text-xs uppercase text-gray-400",children:p.unit}),c.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:ne(p.purchasePrice)}),c.jsx("td",{className:"px-4 py-3 text-right font-bold text-gray-800",children:ne(p.stock*p.purchasePrice)})]},p.id))})]})})]})},WX=({onBack:e,onConvert:t})=>{const[n,r]=C.useState([]),[i,o]=C.useState([]),[l,u]=C.useState(""),[h,f]=C.useState(!1),[p,m]=C.useState(!1),v=C.useRef(null),{addToast:b}=qr();C.useEffect(()=>{const U=me.getProducts();r(U);const D=me.getReplenishmentDraft();D&&D.length>0?o(D):N(U)},[]);const N=U=>{const D=U.filter(O=>O.type!=="service"&&O.stock<(O.minStockLevel||5)).map(O=>{const $=O.minStockLevel||5,F=Math.max(10,$*2)-O.stock;return{productId:O.id,productName:O.name,quantity:Math.ceil(F),unit:O.unit,rate:O.purchasePrice,amount:Math.ceil(F)*O.purchasePrice,currentStock:O.stock,threshold:$}});o(D)};C.useEffect(()=>{function U(D){v.current&&!v.current.contains(D.target)&&f(!1)}return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const E=(U,D)=>{const O=[...i],$=Math.max(0,D);O[U]={...O[U],quantity:$,amount:$*O[U].rate},o(O)},A=U=>{o(i.filter((D,O)=>O!==U))},T=U=>{if(i.some(O=>O.productId===U.id))return;const D={productId:U.id,productName:U.name,quantity:1,unit:U.unit,rate:U.purchasePrice,amount:U.purchasePrice,currentStock:U.stock,threshold:U.minStockLevel||0};o([...i,D]),f(!1),u("")},k=()=>{me.updateReplenishmentDraft(i),b("Draft saved successfully","success")},P=()=>{m(!0),setTimeout(()=>{const U=me.getProducts();N(U),m(!1),b("Inventory re-scanned. Order list updated.","info")},600)},I=()=>{const U=i.map((D,O)=>({"S.N.":O+1,"Item Details":D.productName,"Current Stock":D.currentStock,Threshold:D.threshold,"Order Quantity":D.quantity,Unit:D.unit,"Buy Rate":D.rate,"Estimated Subtotal":D.amount}));ii(U,"Auto_Order_Sheet")},R=()=>{const U=["S.N.","Item Details","Stock","Order Qty","Unit","Rate","Total"],D=i.map((O,$)=>[$+1,O.productName,O.currentStock,O.quantity,O.unit,ne(O.rate),ne(O.amount)]);Fo("Purchase Replenishment Order Sheet",U,D)},j=()=>{i.length!==0&&t&&(t(i.map(({currentStock:U,threshold:D,...O})=>O)),me.clearReplenishmentDraft())},M=i.reduce((U,D)=>U+D.amount,0),G=n.filter(U=>U.name.toLowerCase().includes(l.toLowerCase())).slice(0,10);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ia,{className:"w-5 h-5"})}),c.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(k0,{className:"w-5 h-5 text-brand-500"}),"Auto-Order Manager"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right hidden sm:block mr-2",children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Est. Purchase Total"}),c.jsx("p",{className:"text-lg font-bold text-brand-600",children:ne(M)})]}),c.jsxs("div",{className:"flex items-center gap-2 pr-2 border-r border-gray-200",children:[c.jsx("button",{onClick:P,className:"p-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-all border border-gray-200",title:"Check Inventory for Fresh Order",children:c.jsx(Wk,{className:`w-5 h-5 ${p?"animate-spin":""}`})}),c.jsx("button",{onClick:k,disabled:i.length===0,className:"p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Save Edited Draft",children:c.jsx(sl,{className:"w-5 h-5"})}),c.jsx("button",{onClick:I,disabled:i.length===0,className:"p-2.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors border border-green-200",title:"Export to Excel",children:c.jsx(Qn,{className:"w-5 h-5"})}),c.jsx("button",{onClick:R,disabled:i.length===0,className:"p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Print Order Sheet",children:c.jsx(Ln,{className:"w-5 h-5"})})]}),c.jsxs("button",{onClick:j,disabled:i.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-500/20 disabled:opacity-50 transition-all active:scale-95",children:[c.jsx(Zv,{className:"w-4 h-4 fill-current"}),c.jsx("span",{className:"hidden md:inline",children:"Convert to Purchase Bill"}),c.jsx("span",{className:"md:hidden",children:"Bill"})]})]})]}),c.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-gray-50/30",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 bg-white flex flex-col sm:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[c.jsx(Vs,{className:"w-5 h-5 text-orange-500 shrink-0"}),c.jsxs("p",{children:["Listing items below ",c.jsx("b",{children:"reorder thresholds"}),". Adjust quantities and convert to a purchase bill."]})]}),c.jsxs("div",{className:"relative w-full sm:w-80",ref:v,children:[c.jsx("input",{type:"text",className:"w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"Search additional items...",value:l,onChange:U=>{u(U.target.value),f(!0)},onFocus:()=>f(!0)}),c.jsx($t,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),h&&l&&c.jsx("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-20 max-h-60 overflow-y-auto",children:G.map(U=>c.jsxs("div",{className:"p-3 border-b last:border-0 hover:bg-gray-50 cursor-pointer flex justify-between items-center",onClick:()=>T(U),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-sm text-gray-800",children:U.name}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",U.stock," ",U.unit]})]}),c.jsx(Zr,{className:"w-4 h-4 text-brand-500"})]},U.id))})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-[10px] tracking-wider border-b border-gray-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Item Details"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Order Qty"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Buy Price"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Subtotal"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map((U,D)=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-bold text-gray-800",children:U.productName}),c.jsxs("div",{className:"text-[10px] text-gray-400 font-mono",children:["ID: ",U.productId]})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:`font-bold px-2 py-0.5 rounded text-[10px] ${U.currentStock<U.threshold?"bg-red-50 text-red-600":"bg-gray-50 text-gray-500"}`,children:["STOCK: ",U.currentStock]}),c.jsxs("span",{className:"text-[9px] text-gray-400 uppercase mt-1",children:["Threshold: ",U.threshold]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("input",{type:"number",min:"0",className:"w-20 border border-gray-300 rounded-lg p-1.5 text-center font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:U.quantity,onChange:O=>E(D,Number(O.target.value))}),c.jsx("span",{className:"text-xs text-gray-400 uppercase",children:U.unit})]})}),c.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:ne(U.rate)}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:ne(U.amount)}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>A(D),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(aa,{className:"w-4 h-4"})})})]},U.productId)),i.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:6,className:"text-center py-24 text-gray-400",children:[c.jsx(k0,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{className:"font-medium",children:"All items are above their reorder levels."}),c.jsx("p",{className:"text-xs mt-1",children:"Great job on stock management!"})]})})]})]})})})]})]})},QX=()=>{const[e,t]=C.useState([]),[n,r]=C.useState("1"),[i,o]=C.useState([]),[l,u]=C.useState(0),[h,f]=C.useState(!1),[p,m]=C.useState({name:"",type:"Bank",balance:0,bankName:"",accountNumber:""}),[v,b]=C.useState(!1),[N,E]=C.useState({toAccountId:"",amount:"",date:new Date().toISOString(),remarks:""}),[A,T]=C.useState(!1),[k,P]=C.useState({newBalance:"",date:new Date().toISOString(),remarks:""}),{addToast:I}=qr();C.useEffect(()=>{R()},[]),C.useEffect(()=>{n&&j(n)},[n,e]);const R=()=>{const V=me.getAccounts();t(V),u(V.reduce((z,B)=>z+B.balance,0)),!V.find(z=>z.id===n)&&V.length>0&&r(V[0].id)},j=V=>{const B=me.getTransactions().filter(K=>K.accountId===V||K.type==="TRANSFER"&&K.transferAccountId===V||!K.accountId&&V==="1"&&(K.paymentMode==="Cash"||!K.paymentMode)).sort((K,ie)=>new Date(ie.date).getTime()-new Date(K.date).getTime());o(B)},M=V=>{if(V.preventDefault(),p.name){const z={id:p.id||Date.now().toString(),name:p.name,type:p.type||"Bank",balance:Number(p.balance)||0,bankName:p.bankName,accountNumber:p.accountNumber,isDefault:!1};p.id?(me.updateAccount(z),I("Account updated successfully","success")):(me.addAccount(z),I("New account created","success")),f(!1),R(),m({name:"",type:"Bank",balance:0,bankName:"",accountNumber:""})}},G=V=>{window.confirm("Are you sure you want to delete this account?")&&(me.deleteAccount(V)?(I("Account deleted successfully","success"),R()):I("Cannot delete default account or account with existing transactions.","error"))},U=V=>{m({...V}),f(!0)},D=V=>{if(V.preventDefault(),N.toAccountId&&N.amount&&F){const z=Number(N.amount);if(z<=0){I("Amount must be greater than 0","error");return}if(F.balance<z){I("Insufficient funds in source account","error");return}if(N.toAccountId===F.id){I("Cannot transfer to same account","error");return}const B=e.find(K=>K.id===N.toAccountId);me.addTransaction({id:Date.now().toString(),date:N.date,type:"TRANSFER",partyId:"",partyName:`Transfer to ${B==null?void 0:B.name}`,items:[],totalAmount:z,notes:N.remarks,accountId:F.id,transferAccountId:N.toAccountId}),I("Transfer successful","success"),b(!1),E({toAccountId:"",amount:"",date:new Date().toISOString(),remarks:""}),R()}},O=V=>{if(V.preventDefault(),k.newBalance!==""&&F){const B=Number(k.newBalance)-F.balance;if(B===0){I("New balance is same as current balance","info");return}me.addTransaction({id:Date.now().toString(),date:k.date,type:"BALANCE_ADJUSTMENT",partyId:"",partyName:"System Adjustment",items:[],totalAmount:B,notes:k.remarks||"Manual Balance Correction",accountId:F.id}),I("Balance adjusted successfully","success"),T(!1),P({newBalance:"",date:new Date().toISOString(),remarks:""}),R()}},$=V=>{switch(V){case"Cash":return c.jsx(Dr,{className:"w-6 h-6"});case"Bank":return c.jsx($L,{className:"w-6 h-6"});case"Mobile Wallet":return c.jsx(Sh,{className:"w-6 h-6"});default:return c.jsx(UL,{className:"w-6 h-6"})}},F=e.find(V=>V.id===n);return c.jsxs("div",{className:"p-4 lg:p-8 h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Manage Accounts (",e.length,")"]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("button",{onClick:()=>{m({name:"",type:"Bank",balance:0}),f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:[c.jsx(Zr,{className:"w-4 h-4"}),"Add Account"]})})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full min-h-[500px]",children:[c.jsxs("div",{className:"w-full lg:w-1/3 bg-white border border-gray-200 rounded-xl flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:"Total Balance:"}),c.jsx("span",{className:"font-bold text-gray-900 text-lg",children:ne(l)})]}),c.jsx("div",{className:"text-xs text-gray-400 uppercase font-semibold mt-4 mb-2",children:"Accounts"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:e.map(V=>c.jsxs("button",{onClick:()=>r(V.id),className:`w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ${n===V.id?"bg-emerald-50 border border-emerald-100":"hover:bg-gray-50 border border-transparent"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${n===V.id?"bg-white text-emerald-600":"bg-gray-100 text-gray-500"}`,children:$(V.type)}),c.jsxs("div",{children:[c.jsx("div",{className:`font-medium ${n===V.id?"text-emerald-900":"text-gray-900"}`,children:V.name}),c.jsx("div",{className:"text-xs text-gray-400",children:V.type})]})]}),c.jsx("div",{className:`font-bold ${V.balance<0?"text-red-500":n===V.id?"text-emerald-600":"text-gray-600"}`,children:ne(V.balance)})]},V.id))})]}),c.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-xl flex flex-col",children:F?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:$(F.type)}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:F.name}),c.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[F.accountNumber&&c.jsxs("span",{children:["Ac No: ",F.accountNumber]}),F.bankName&&c.jsx("span",{children:F.bankName})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors",children:[c.jsx(Qk,{className:"w-4 h-4"}),"Transfer"]}),c.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:[c.jsx(Wk,{className:"w-4 h-4"}),"Adjust"]}),c.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),c.jsx("button",{onClick:()=>U(F),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:c.jsx(nc,{className:"w-5 h-5"})}),!F.isDefault&&c.jsx("button",{onClick:()=>G(F.id),className:"p-2 text-gray-500 hover:bg-red-50 hover:text-red-500 rounded-lg",children:c.jsx(aa,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"px-6 py-6",children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Current Balance"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:ne(F.balance)})]}),c.jsxs("div",{className:"flex-1 flex flex-col border-t border-gray-100 min-h-0",children:[c.jsx("div",{className:"px-6 py-4 flex items-center justify-between",children:c.jsxs("h3",{className:"font-bold text-gray-800",children:["Transactions Activity (",i.length,")"]})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Type"}),c.jsx("th",{className:"px-6 py-3",children:"Date"}),c.jsx("th",{className:"px-6 py-3",children:"Rec/Paid Amount"}),c.jsx("th",{className:"px-6 py-3",children:"Remarks"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map(V=>{V.accountId;const z=V.transferAccountId===n;let B=V.totalAmount,K=["SALE","PAYMENT_IN","PURCHASE_RETURN"].includes(V.type);return V.type==="TRANSFER"&&(z?K=!0:K=!1),V.type==="BALANCE_ADJUSTMENT"&&(V.totalAmount>=0?K=!0:(K=!1,B=Math.abs(V.totalAmount))),["PURCHASE","PAYMENT_OUT","SALE_RETURN","EXPENSE"].includes(V.type)&&(K=!1),c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-medium text-gray-900",children:V.type==="TRANSFER"?z?"Received Transfer":"Transfer Out":V.type.replace("_"," ")}),c.jsxs("div",{className:"text-xs text-gray-400",children:["#",V.id," - ",V.partyName]})]}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:It(V.date)}),c.jsxs("td",{className:`px-6 py-4 font-bold ${K?"text-emerald-600":"text-red-500"}`,children:[K?"+":"-",ne(B)]}),c.jsx("td",{className:"px-6 py-4 text-gray-500 truncate max-w-[200px]",children:V.notes||"--"})]},V.id)}),i.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"text-center py-8 text-gray-400",children:"No transactions found"})})]})]})})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Select an account to view details"})})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:p.id?"Edit Account":"Add New Account"}),c.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:M,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),c.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Laxmi Sunrise Bank",value:p.name,onChange:V=>m({...p,name:V.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",value:p.type,onChange:V=>m({...p,type:V.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank Account"}),c.jsx("option",{value:"Cash",children:"Cash In Hand"}),c.jsx("option",{value:"Mobile Wallet",children:"Mobile Wallet (Esewa/Khalti)"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),p.type==="Bank"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"e.g. Laxmi Sunrise",value:p.bankName||"",onChange:V=>m({...p,bankName:V.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"0000...",value:p.accountNumber||"",onChange:V=>m({...p,accountNumber:V.target.value})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Balance"}),c.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"0",value:p.balance,onChange:V=>m({...p,balance:Number(V.target.value)})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:p.id?"Update":"Save"})]})]})]})}),v&&F&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-6 shadow-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg font-bold",children:"Transfer Funds"}),c.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mb-4",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Source Account"}),c.jsx("div",{className:"font-bold text-gray-800",children:F.name}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Balance: ",ne(F.balance)]})]}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer To"}),c.jsxs("select",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",value:N.toAccountId,onChange:V=>E({...N,toAccountId:V.target.value}),children:[c.jsx("option",{value:"",children:"Select Destination Account"}),e.filter(V=>V.id!==F.id).map(V=>c.jsxs("option",{value:V.id,children:[V.name," (",ne(V.balance),")"]},V.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),c.jsx("input",{type:"number",required:!0,min:"1",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:N.amount,onChange:V=>E({...N,amount:V.target.value?Number(V.target.value):""})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("div",{className:"w-full",children:c.jsx(Jt,{value:N.date,onChange:V=>E({...N,date:V})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Bank Deposit",value:N.remarks,onChange:V=>E({...N,remarks:V.target.value})})]}),c.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium mt-2",children:"Confirm Transfer"})]})]})}),A&&F&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-6 shadow-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg font-bold",children:"Adjust Balance"}),c.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"text-sm text-gray-600 mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-100",children:"This will create a correction entry to set your account balance to the actual physical amount."}),c.jsxs("div",{className:"flex justify-between mb-2 px-1",children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Current System Balance:"}),c.jsx("span",{className:"font-bold",children:ne(F.balance)})]}),c.jsxs("form",{onSubmit:O,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Actual Physical Balance"}),c.jsx("input",{type:"number",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-lg font-bold text-gray-900 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:k.newBalance,onChange:V=>P({...k,newBalance:V.target.value?Number(V.target.value):""})})]}),k.newBalance!==""&&c.jsxs("div",{className:"text-right text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Difference: "}),c.jsx("span",{className:`font-bold ${Number(k.newBalance)-F.balance>=0?"text-green-600":"text-red-600"}`,children:ne(Number(k.newBalance)-F.balance)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("div",{className:"w-full",children:c.jsx(Jt,{value:k.date,onChange:V=>P({...k,date:V})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Reconciliation correction",value:k.remarks,onChange:V=>P({...k,remarks:V.target.value})})]}),c.jsx("button",{type:"submit",className:"w-full py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 font-medium mt-2",children:"Save Adjustment"})]})]})})]})};var ZX={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eW,tW;function nW(){return{geminiUrl:eW,vertexUrl:tW}}function rW(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=nW();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ma{}function Ee(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const h=e[u];if(Array.isArray(n))for(let f=0;f<h.length;f++){const p=h[f];x(p,t.slice(o+1),n[f])}else for(const f of h)x(f,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const h=e[u];x(h[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function y(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>y(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function iW(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let h=0;h<i.length;h++)if(i[h]==="*"){u=h;break}if(u!==-1&&o.length>u)for(let h=u;h<o.length;h++){const f=o[h];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}_v(e,i,o,0,l)}}function _v(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const h of u[l])_v(h,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),h={};for(const f of u)h[f]=l[f];for(const[f,p]of Object.entries(h)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);x(l,m,p)}for(const f of u)delete l[f]}}else{const l=e;o in l&&_v(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aW(e){const t={},n=y(e,["operationName"]);n!=null&&x(t,["operationName"],n);const r=y(e,["resourceName"]);return r!=null&&x(t,["_url","resourceName"],r),t}function oW(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],lW(l)),t}function sW(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],uW(l)),t}function lW(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>cW(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function uW(e){const t={},n=y(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>dW(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function cW(e){const t={},n=y(e,["video"]);return n!=null&&x(t,["video"],yW(n)),t}function dW(e){const t={},n=y(e,["_self"]);return n!=null&&x(t,["video"],vW(n)),t}function fW(e){const t={},n=y(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function hW(e){const t={},n=y(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function pW(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],mW(l)),t}function mW(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function iD(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],gW(l)),t}function gW(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function yW(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],Pb(r));const i=y(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function vW(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],Pb(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var N_;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(N_||(N_={}));var E_;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(E_||(E_={}));var A_;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(A_||(A_={}));var Ja;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ja||(Ja={}));var C_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(C_||(C_={}));var T_;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(T_||(T_={}));var __;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(__||(__={}));var k_;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(k_||(k_={}));var P_;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(P_||(P_={}));var M_;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(M_||(M_={}));var I_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(I_||(I_={}));var j_;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(j_||(j_={}));var R_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(R_||(R_={}));var D_;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(D_||(D_={}));var O_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(O_||(O_={}));var L_;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(L_||(L_={}));var U_;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(U_||(U_={}));var B_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(B_||(B_={}));var z_;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(z_||(z_={}));var uh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(uh||(uh={}));var q_;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(q_||(q_={}));var H_;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(H_||(H_={}));var F_;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(F_||(F_={}));var kv;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kv||(kv={}));var G_;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(G_||(G_={}));var V_;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(V_||(V_={}));var $_;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})($_||($_={}));var Y_;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Y_||(Y_={}));var K_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(K_||(K_={}));var J_;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(J_||(J_={}));var X_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(X_||(X_={}));var W_;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(W_||(W_={}));var Q_;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Q_||(Q_={}));var Z_;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Z_||(Z_={}));var e2;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(e2||(e2={}));var t2;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(t2||(t2={}));var n2;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(n2||(n2={}));var r2;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(r2||(r2={}));var i2;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(i2||(i2={}));var a2;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(a2||(a2={}));var o2;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(o2||(o2={}));var s2;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(s2||(s2={}));var l2;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(l2||(l2={}));var u2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(u2||(u2={}));var c2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(c2||(c2={}));var d2;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(d2||(d2={}));var f2;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(f2||(f2={}));var h2;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(h2||(h2={}));var p2;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(p2||(p2={}));var m2;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(m2||(m2={}));var g2;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(g2||(g2={}));var y2;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(y2||(y2={}));var v2;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(v2||(v2={}));var x2;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(x2||(x2={}));var b2;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(b2||(b2={}));var Fs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Fs||(Fs={}));class Pv{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Eu{get text(){var t,n,r,i,o,l,u,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const v of(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&h!==void 0?h:[]){for(const[b,N]of Object.entries(v))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&m.push(b);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,i,o,l,u,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&h!==void 0?h:[]){for(const[v,b]of Object.entries(m))v!=="inlineData"&&(b!==null||b!==void 0)&&p.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,l,u,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,l,u,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,l,u,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class w2{}class S2{}class xW{}class bW{}class wW{}class SW{}class N2{}class E2{}class A2{}class NW{}class ch{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ch;let i;const o=t;return n?i=sW(o):i=oW(o),Object.assign(r,i),r}}class C2{}class T2{}class _2{}class k2{}class EW{}class AW{}class CW{}class Mb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Mb,o=pW(t);return Object.assign(r,o),r}}class TW{}class _W{}class kW{}class P2{}class PW{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,f]of Object.entries(u))h!=="text"&&h!=="thought"&&f!==null&&l.push(h);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,h]of Object.entries(l))u!=="inlineData"&&h!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class MW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ib{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ib,o=iD(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function aD(e,t){const n=rt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function oD(e){return Array.isArray(e)?e.map(t=>dh(t)):[dh(e)]}function dh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function sD(e){const t=dh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lD(e){const t=dh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function M2(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function uD(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>M2(t)):[M2(e)]}function Mv(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function I2(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function j2(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Pn(e){if(e==null)throw new Error("ContentUnion is required");return Mv(e)?e:{role:"user",parts:uD(e)}}function jb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Pn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Pn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Pn(n)):[Pn(t)]}function Rr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(I2(e)||j2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pn(e)]}const t=[],n=[],r=Mv(e[0]);for(const i of e){const o=Mv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(I2(i)||j2(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:uD(n)}),t}function IW(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ja).includes(n[0].toUpperCase())?n[0].toUpperCase():Ja.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ja).includes(r.toUpperCase())?r.toUpperCase():Ja.TYPE_UNSPECIFIED})}}function Xs(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&IW(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ja).includes(u.toUpperCase())?u.toUpperCase():Ja.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Xs(u);else if(r.includes(l)){const h=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}h.push(Xs(f))}t[l]=h}else if(i.includes(l)){const h={};for(const[f,p]of Object.entries(u))h[f]=Xs(p);t[l]=h}else{if(l==="additionalProperties")continue;t[l]=u}return t}function Rb(e){return Xs(e)}function Db(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ob(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function yl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Xs(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Xs(t.response));return e}function vl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function jW(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ga(e,t){if(typeof t!="string")throw new Error("name must be a string");return jW(e,t,"cachedContents")}function cD(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function to(e){return Pb(e)}function RW(e){return e!=null&&typeof e=="object"&&"name"in e}function DW(e){return e!=null&&typeof e=="object"&&"video"in e}function OW(e){return e!=null&&typeof e=="object"&&"uri"in e}function dD(e){var t;let n;if(RW(e)&&(n=e.name),!(OW(e)&&(n=e.uri,n===void 0))&&!(DW(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function fD(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function hD(e){for(const t of["models","tunedModels","publisherModels"])if(LW(e,t))return e[t];return[]}function LW(e,t){return e!==null&&typeof e=="object"&&t in e}function UW(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function BW(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=UW(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function pD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function zW(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function mD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const h=l.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function xl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function gD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qW(e){const t={},n=y(e,["responsesFile"]);n!=null&&x(t,["fileName"],n);const r=y(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>wQ(l))),x(t,["inlinedResponses"],o)}const i=y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["inlinedEmbedContentResponses"],o)}return t}function HW(e){const t={},n=y(e,["predictionsFormat"]);n!=null&&x(t,["format"],n);const r=y(e,["gcsDestination","outputUriPrefix"]);r!=null&&x(t,["gcsUri"],r);const i=y(e,["bigqueryDestination","outputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function FW(e){const t={},n=y(e,["format"]);n!=null&&x(t,["predictionsFormat"],n);const r=y(e,["gcsUri"]);r!=null&&x(t,["gcsDestination","outputUriPrefix"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&x(t,["bigqueryDestination","outputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function gf(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata","displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["metadata","state"]);i!=null&&x(t,["state"],gD(i));const o=y(e,["metadata","createTime"]);o!=null&&x(t,["createTime"],o);const l=y(e,["metadata","endTime"]);l!=null&&x(t,["endTime"],l);const u=y(e,["metadata","updateTime"]);u!=null&&x(t,["updateTime"],u);const h=y(e,["metadata","model"]);h!=null&&x(t,["model"],h);const f=y(e,["metadata","output"]);return f!=null&&x(t,["dest"],qW(mD(f))),t}function Iv(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["state"]);i!=null&&x(t,["state"],gD(i));const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["createTime"]);l!=null&&x(t,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(t,["startTime"],u);const h=y(e,["endTime"]);h!=null&&x(t,["endTime"],h);const f=y(e,["updateTime"]);f!=null&&x(t,["updateTime"],f);const p=y(e,["model"]);p!=null&&x(t,["model"],p);const m=y(e,["inputConfig"]);m!=null&&x(t,["src"],GW(m));const v=y(e,["outputConfig"]);v!=null&&x(t,["dest"],HW(mD(v)));const b=y(e,["completionStats"]);return b!=null&&x(t,["completionStats"],b),t}function GW(e){const t={},n=y(e,["instancesFormat"]);n!=null&&x(t,["format"],n);const r=y(e,["gcsSource","uris"]);r!=null&&x(t,["gcsUri"],r);const i=y(e,["bigquerySource","inputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function VW(e,t){const n={};if(y(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(t,["fileName"]);r!=null&&x(n,["fileName"],r);const i=y(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>bQ(e,l))),x(n,["requests","requests"],o)}return n}function $W(e){const t={},n=y(e,["format"]);n!=null&&x(t,["instancesFormat"],n);const r=y(e,["gcsUri"]);r!=null&&x(t,["gcsSource","uris"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&x(t,["bigquerySource","inputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function YW(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function KW(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],xl(e,r)),n}function JW(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],xl(e,r)),n}function XW(e){const t={},n=y(e,["content"]);n!=null&&x(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],WW(r));const i=y(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=y(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=y(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const h=y(e,["index"]);h!=null&&x(t,["index"],h);const f=y(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const p=y(e,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>b)),x(t,["safetyRatings"],v)}const m=y(e,["urlContextMetadata"]);return m!=null&&x(t,["urlContextMetadata"],m),t}function WW(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function yD(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_Q(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function QW(e,t){const n={},r=y(e,["displayName"]);if(t!==void 0&&r!=null&&x(t,["batch","displayName"],r),y(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ZW(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["dest"]);return t!==void 0&&i!=null&&x(t,["outputConfig"],FW(zW(i))),n}function R2(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["src"]);i!=null&&x(n,["batch","inputConfig"],VW(e,pD(e,i)));const o=y(t,["config"]);return o!=null&&QW(o,n),n}function eQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],rt(e,r));const i=y(t,["src"]);i!=null&&x(n,["inputConfig"],$W(pD(e,i)));const o=y(t,["config"]);return o!=null&&ZW(o,n),n}function tQ(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["batch","displayName"],r),n}function nQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["src"]);i!=null&&x(n,["batch","inputConfig"],uQ(e,i));const o=y(t,["config"]);return o!=null&&tQ(o,n),n}function rQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],xl(e,r)),n}function iQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],xl(e,r)),n}function aQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);return o!=null&&x(t,["error"],o),t}function oQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);return o!=null&&x(t,["error"],o),t}function sQ(e,t){const n={},r=y(t,["contents"]);if(r!=null){let o=jb(e,r);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["requests[]","request","content"],o)}const i=y(t,["config"]);return i!=null&&(x(n,["_self"],lQ(i,n)),iW(n,{"requests[].*":"requests[].request.*"})),n}function lQ(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=y(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function uQ(e,t){const n={},r=y(t,["fileName"]);r!=null&&x(n,["file_name"],r);const i=y(t,["inlinedRequests"]);return i!=null&&x(n,["requests"],sQ(e,i)),n}function cQ(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function dQ(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fQ(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function hQ(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],yD(Pn(i)));const o=y(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const h=y(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=y(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=y(t,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=y(t,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const N=y(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const E=y(t,["seed"]);E!=null&&x(r,["seed"],E);const A=y(t,["responseMimeType"]);A!=null&&x(r,["responseMimeType"],A);const T=y(t,["responseSchema"]);T!=null&&x(r,["responseSchema"],Rb(T));const k=y(t,["responseJsonSchema"]);if(k!=null&&x(r,["responseJsonSchema"],k),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=y(t,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(V=>kQ(V))),x(n,["safetySettings"],F)}const I=y(t,["tools"]);if(n!==void 0&&I!=null){let F=vl(I);Array.isArray(F)&&(F=F.map(V=>MQ(yl(V)))),x(n,["tools"],F)}const R=y(t,["toolConfig"]);if(n!==void 0&&R!=null&&x(n,["toolConfig"],PQ(R)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=y(t,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],ga(e,j));const M=y(t,["responseModalities"]);M!=null&&x(r,["responseModalities"],M);const G=y(t,["mediaResolution"]);G!=null&&x(r,["mediaResolution"],G);const U=y(t,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],Db(U)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=y(t,["thinkingConfig"]);D!=null&&x(r,["thinkingConfig"],D);const O=y(t,["imageConfig"]);O!=null&&x(r,["imageConfig"],xQ(O));const $=y(t,["enableEnhancedCivicAnswers"]);return $!=null&&x(r,["enableEnhancedCivicAnswers"],$),r}function pQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>XW(f))),x(t,["candidates"],h)}const i=y(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=y(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=y(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function mQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],xl(e,r)),n}function gQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],xl(e,r)),n}function yQ(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function vQ(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function xQ(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["request","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let u=Rr(i);Array.isArray(u)&&(u=u.map(h=>yD(h))),x(n,["request","contents"],u)}const o=y(t,["metadata"]);o!=null&&x(n,["metadata"],o);const l=y(t,["config"]);return l!=null&&x(n,["request","generationConfig"],hQ(e,l,y(n,["request"],{}))),n}function wQ(e){const t={},n=y(e,["response"]);n!=null&&x(t,["response"],pQ(n));const r=y(e,["error"]);return r!=null&&x(t,["error"],r),t}function SQ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);if(t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),y(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function NQ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);t!==void 0&&i!=null&&x(t,["_query","pageToken"],i);const o=y(e,["filter"]);return t!==void 0&&o!=null&&x(t,["_query","filter"],o),n}function EQ(e){const t={},n=y(e,["config"]);return n!=null&&SQ(n,t),t}function AQ(e){const t={},n=y(e,["config"]);return n!=null&&NQ(n,t),t}function CQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>gf(l))),x(t,["batchJobs"],o)}return t}function TQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Iv(l))),x(t,["batchJobs"],o)}return t}function _Q(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],cQ(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],dQ(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],YW(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function kQ(e){const t={},n=y(e,["category"]);if(n!=null&&x(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function PQ(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],fQ(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function MQ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],yQ(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],vQ(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ra;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ra||(ra={}));class Go{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IQ extends ma{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Go(ra.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=R2(this.apiClient,t),r=n._url,i=Ee("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,h=u.requests,f=[];for(const p of h){const m=Object.assign({},p);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const b=m.request;b.systemInstruction=v,m.request=b}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=eQ(this.apiClient,t);return u=Ee("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Iv(p))}else{const f=R2(this.apiClient,t);return u=Ee("{model}:batchGenerateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>gf(p))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nQ(this.apiClient,t);return o=Ee("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>gf(h))}}async get(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=gQ(this.apiClient,t);return u=Ee("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Iv(p))}else{const f=mQ(this.apiClient,t);return u=Ee("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>gf(p))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const h=JW(this.apiClient,t);l=Ee("batchPredictionJobs/{name}:cancel",h._url),u=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const h=KW(this.apiClient,t);l=Ee("batches/{name}:cancel",h._url),u=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=AQ(t);return u=Ee("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=TQ(p),v=new P2;return Object.assign(v,m),v})}else{const f=EQ(t);return u=Ee("batches",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=CQ(p),v=new P2;return Object.assign(v,m),v})}}async delete(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=iQ(this.apiClient,t);return u=Ee("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>oQ(p))}else{const f=rQ(this.apiClient,t);return u=Ee("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>aQ(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jQ(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function D2(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nZ(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function RQ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=y(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let p=Rr(l);Array.isArray(p)&&(p=p.map(m=>D2(m))),x(t,["contents"],p)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],D2(Pn(u)));const h=y(e,["tools"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>iZ(m))),x(t,["tools"],p)}const f=y(e,["toolConfig"]);if(t!==void 0&&f!=null&&x(t,["toolConfig"],rZ(f)),y(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function DQ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=y(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let m=Rr(l);Array.isArray(m)&&(m=m.map(v=>v)),x(t,["contents"],m)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],Pn(u));const h=y(e,["tools"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>aZ(v))),x(t,["tools"],m)}const f=y(e,["toolConfig"]);t!==void 0&&f!=null&&x(t,["toolConfig"],f);const p=y(e,["kmsKeyName"]);return t!==void 0&&p!=null&&x(t,["encryption_spec","kmsKeyName"],p),n}function OQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],aD(e,r));const i=y(t,["config"]);return i!=null&&RQ(i,n),n}function LQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],aD(e,r));const i=y(t,["config"]);return i!=null&&DQ(i,n),n}function UQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ga(e,r)),n}function BQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ga(e,r)),n}function zQ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function qQ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function HQ(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function FQ(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function GQ(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function VQ(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function $Q(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ga(e,r)),n}function YQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ga(e,r)),n}function KQ(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function JQ(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function XQ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function WQ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function QQ(e){const t={},n=y(e,["config"]);return n!=null&&XQ(n,t),t}function ZQ(e){const t={},n=y(e,["config"]);return n!=null&&WQ(n,t),t}function eZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function tZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function nZ(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],HQ(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],FQ(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],jQ(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function rZ(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],GQ(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function iZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],KQ(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],JQ(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function aZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>VQ(v))),x(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const o=y(e,["computerUse"]);if(o!=null&&x(t,["computerUse"],o),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const h=y(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],f);const p=y(e,["urlContext"]);return p!=null&&x(t,["urlContext"],p),t}function oZ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function sZ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function lZ(e,t){const n={},r=y(t,["name"]);r!=null&&x(n,["_url","name"],ga(e,r));const i=y(t,["config"]);return i!=null&&oZ(i,n),n}function uZ(e,t){const n={},r=y(t,["name"]);r!=null&&x(n,["_url","name"],ga(e,r));const i=y(t,["config"]);return i!=null&&sZ(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cZ extends ma{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Go(ra.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=LQ(this.apiClient,t);return u=Ee("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=OQ(this.apiClient,t);return u=Ee("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=YQ(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=$Q(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=BQ(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=qQ(p),v=new _2;return Object.assign(v,m),v})}else{const f=UQ(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=zQ(p),v=new _2;return Object.assign(v,m),v})}}async update(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=uZ(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=lZ(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=ZQ(t);return u=Ee("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=tZ(p),v=new k2;return Object.assign(v,m),v})}else{const f=QQ(t);return u=Ee("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=eZ(p),v=new k2;return Object.assign(v,m),v})}}}function fh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function O2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e){return this instanceof Be?(this.v=e,this):new Be(e)}function Wr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(N){return Promise.resolve(N).then(b,m)}}function u(b,N){r[b]&&(i[b]=function(E){return new Promise(function(A,T){o.push([b,E,A,T])>1||h(b,E)})},N&&(i[b]=N(i[b])))}function h(b,N){try{f(r[b](N))}catch(E){v(o[0][3],E)}}function f(b){b.value instanceof Be?Promise.resolve(b.value.v).then(p,m):v(o[0][2],b)}function p(b){h("next",b)}function m(b){h("throw",b)}function v(b,N){b(N),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Qr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof O2=="function"?O2(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,h){l=e[o](l),i(u,h,l.done,l.value)})}}function i(o,l,u,h){Promise.resolve(h).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dZ(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:vD(n)}function vD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function fZ(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function L2(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!vD(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class hZ{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new pZ(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class pZ{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),fZ(o)}async sendMessage(t){var n;await this.sendPromise;const r=Pn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const h=await i,f=(l=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,p=h.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];p!=null&&(v=(u=p.slice(m))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Pn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?L2(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Wr(this,arguments,function*(){var i,o,l,u,h,f;const p=[];try{for(var m=!0,v=Qr(t),b;b=yield Be(v.next()),i=b.done,!i;m=!0){u=b.value,m=!1;const N=u;if(dZ(N)){const E=(f=(h=N.candidates)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.content;E!==void 0&&p.push(E)}yield yield Be(N)}}catch(N){o={error:N}}finally{try{!m&&!i&&(l=v.return)&&(yield Be(l.call(v)))}finally{if(o)throw o.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...L2(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sp extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,sp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mZ(e){const t={},n=y(e,["file"]);return n!=null&&x(t,["file"],n),t}function gZ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function yZ(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","file"],dD(n)),t}function vZ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function xZ(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","file"],dD(n)),t}function bZ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function wZ(e){const t={},n=y(e,["config"]);return n!=null&&bZ(n,t),t}function SZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NZ extends ma{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Go(ra.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wZ(t);return o=Ee("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=SZ(h),p=new TW;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mZ(t);return o=Ee("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=gZ(h),p=new _W;return Object.assign(p,f),p})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xZ(t);return o=Ee("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yZ(t);return o=Ee("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=vZ(h),p=new kW;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yf(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function EZ(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zZ(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function AZ(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function CZ(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function TZ(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function _Z(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=y(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=y(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=y(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const h=y(e,["logprobs"]);h!=null&&x(t,["logprobs"],h);const f=y(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const p=y(e,["mediaResolution"]);p!=null&&x(t,["mediaResolution"],p);const m=y(e,["presencePenalty"]);m!=null&&x(t,["presencePenalty"],m);const v=y(e,["responseLogprobs"]);v!=null&&x(t,["responseLogprobs"],v);const b=y(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const N=y(e,["responseModalities"]);N!=null&&x(t,["responseModalities"],N);const E=y(e,["responseSchema"]);E!=null&&x(t,["responseSchema"],E);const A=y(e,["routingConfig"]);A!=null&&x(t,["routingConfig"],A);const T=y(e,["seed"]);T!=null&&x(t,["seed"],T);const k=y(e,["speechConfig"]);k!=null&&x(t,["speechConfig"],k);const P=y(e,["stopSequences"]);P!=null&&x(t,["stopSequences"],P);const I=y(e,["temperature"]);I!=null&&x(t,["temperature"],I);const R=y(e,["thinkingConfig"]);R!=null&&x(t,["thinkingConfig"],R);const j=y(e,["topK"]);j!=null&&x(t,["topK"],j);const M=y(e,["topP"]);if(M!=null&&x(t,["topP"],M),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kZ(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function PZ(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function MZ(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const h=y(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=y(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const p=y(e,["seed"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","seed"],p);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","speechConfig"],Ob(m));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=y(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],EZ(Pn(N)));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let j=vl(E);Array.isArray(j)&&(j=j.map(M=>HZ(yl(M)))),x(t,["setup","tools"],j)}const A=y(e,["sessionResumption"]);t!==void 0&&A!=null&&x(t,["setup","sessionResumption"],qZ(A));const T=y(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&x(t,["setup","inputAudioTranscription"],T);const k=y(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&x(t,["setup","outputAudioTranscription"],k);const P=y(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&x(t,["setup","realtimeInputConfig"],P);const I=y(e,["contextWindowCompression"]);t!==void 0&&I!=null&&x(t,["setup","contextWindowCompression"],I);const R=y(e,["proactivity"]);if(t!==void 0&&R!=null&&x(t,["setup","proactivity"],R),y(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function IZ(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],_Z(r));const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const h=y(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=y(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const p=y(e,["seed"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","seed"],p);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","speechConfig"],Ob(m));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=y(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],Pn(N));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let M=vl(E);Array.isArray(M)&&(M=M.map(G=>FZ(yl(G)))),x(t,["setup","tools"],M)}const A=y(e,["sessionResumption"]);t!==void 0&&A!=null&&x(t,["setup","sessionResumption"],A);const T=y(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&x(t,["setup","inputAudioTranscription"],T);const k=y(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&x(t,["setup","outputAudioTranscription"],k);const P=y(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&x(t,["setup","realtimeInputConfig"],P);const I=y(e,["contextWindowCompression"]);t!==void 0&&I!=null&&x(t,["setup","contextWindowCompression"],I);const R=y(e,["proactivity"]);t!==void 0&&R!=null&&x(t,["setup","proactivity"],R);const j=y(e,["explicitVadSignal"]);return t!==void 0&&j!=null&&x(t,["setup","explicitVadSignal"],j),n}function jZ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],rt(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],MZ(i,n)),n}function RZ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],rt(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],IZ(i,n)),n}function DZ(e){const t={},n=y(e,["musicGenerationConfig"]);return n!=null&&x(t,["musicGenerationConfig"],n),t}function OZ(e){const t={},n=y(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["weightedPrompts"],r)}return t}function LZ(e){const t={},n=y(e,["media"]);if(n!=null){let f=oD(n);Array.isArray(f)&&(f=f.map(p=>yf(p))),x(t,["mediaChunks"],f)}const r=y(e,["audio"]);r!=null&&x(t,["audio"],yf(lD(r)));const i=y(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=y(e,["video"]);o!=null&&x(t,["video"],yf(sD(o)));const l=y(e,["text"]);l!=null&&x(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const h=y(e,["activityEnd"]);return h!=null&&x(t,["activityEnd"],h),t}function UZ(e){const t={},n=y(e,["media"]);if(n!=null){let f=oD(n);Array.isArray(f)&&(f=f.map(p=>p)),x(t,["mediaChunks"],f)}const r=y(e,["audio"]);r!=null&&x(t,["audio"],lD(r));const i=y(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=y(e,["video"]);o!=null&&x(t,["video"],sD(o));const l=y(e,["text"]);l!=null&&x(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const h=y(e,["activityEnd"]);return h!=null&&x(t,["activityEnd"],h),t}function BZ(e){const t={},n=y(e,["setupComplete"]);n!=null&&x(t,["setupComplete"],n);const r=y(e,["serverContent"]);r!=null&&x(t,["serverContent"],r);const i=y(e,["toolCall"]);i!=null&&x(t,["toolCall"],i);const o=y(e,["toolCallCancellation"]);o!=null&&x(t,["toolCallCancellation"],o);const l=y(e,["usageMetadata"]);l!=null&&x(t,["usageMetadata"],GZ(l));const u=y(e,["goAway"]);u!=null&&x(t,["goAway"],u);const h=y(e,["sessionResumptionUpdate"]);h!=null&&x(t,["sessionResumptionUpdate"],h);const f=y(e,["voiceActivityDetectionSignal"]);return f!=null&&x(t,["voiceActivityDetectionSignal"],f),t}function zZ(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],AZ(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],CZ(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],yf(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function qZ(e){const t={},n=y(e,["handle"]);if(n!=null&&x(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function HZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],kZ(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],PZ(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function FZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>TZ(v))),x(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const o=y(e,["computerUse"]);if(o!=null&&x(t,["computerUse"],o),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const h=y(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],f);const p=y(e,["urlContext"]);return p!=null&&x(t,["urlContext"],p),t}function GZ(e){const t={},n=y(e,["promptTokenCount"]);n!=null&&x(t,["promptTokenCount"],n);const r=y(e,["cachedContentTokenCount"]);r!=null&&x(t,["cachedContentTokenCount"],r);const i=y(e,["candidatesTokenCount"]);i!=null&&x(t,["responseTokenCount"],i);const o=y(e,["toolUsePromptTokenCount"]);o!=null&&x(t,["toolUsePromptTokenCount"],o);const l=y(e,["thoughtsTokenCount"]);l!=null&&x(t,["thoughtsTokenCount"],l);const u=y(e,["totalTokenCount"]);u!=null&&x(t,["totalTokenCount"],u);const h=y(e,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["promptTokensDetails"],b)}const f=y(e,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["cacheTokensDetails"],b)}const p=y(e,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["responseTokensDetails"],b)}const m=y(e,["toolUsePromptTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["toolUsePromptTokensDetails"],b)}const v=y(e,["trafficType"]);return v!=null&&x(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VZ(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function $Z(e){const t={},n=y(e,["content"]);n!=null&&x(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],YZ(r));const i=y(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=y(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=y(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const h=y(e,["index"]);h!=null&&x(t,["index"],h);const f=y(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const p=y(e,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>b)),x(t,["safetyRatings"],v)}const m=y(e,["urlContextMetadata"]);return m!=null&&x(t,["urlContextMetadata"],m),t}function YZ(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function KZ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let o=Rr(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}return n}function JZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["tokensInfo"],i)}return t}function XZ(e){const t={},n=y(e,["values"]);n!=null&&x(t,["values"],n);const r=y(e,["statistics"]);return r!=null&&x(t,["statistics"],WZ(r)),t}function WZ(e){const t={},n=y(e,["truncated"]);n!=null&&x(t,["truncated"],n);const r=y(e,["token_count"]);return r!=null&&x(t,["tokenCount"],r),t}function lp(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ote(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function QZ(e){const t={},n=y(e,["controlType"]);n!=null&&x(t,["controlType"],n);const r=y(e,["enableControlImageComputation"]);return r!=null&&x(t,["computeControl"],r),t}function ZZ(e){const t={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function eee(e,t){const n={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&x(t,["systemInstruction"],Pn(r));const i=y(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>SD(u))),x(t,["tools"],l)}const o=y(e,["generationConfig"]);return t!==void 0&&o!=null&&x(t,["generationConfig"],Vee(o)),n}function tee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let l=Rr(i);Array.isArray(l)&&(l=l.map(u=>lp(u))),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&ZZ(o),n}function nee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let l=Rr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&eee(o,n),n}function ree(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);r!=null&&x(t,["totalTokens"],r);const i=y(e,["cachedContentTokenCount"]);return i!=null&&x(t,["cachedContentTokenCount"],i),t}function iee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);return r!=null&&x(t,["totalTokens"],r),t}function aee(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],rt(e,r)),n}function oee(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],rt(e,r)),n}function see(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function lee(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function uee(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const o=y(e,["numberOfImages"]);t!==void 0&&o!=null&&x(t,["parameters","sampleCount"],o);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const h=y(e,["seed"]);t!==void 0&&h!=null&&x(t,["parameters","seed"],h);const f=y(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const p=y(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const m=y(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&x(t,["parameters","includeSafetyAttributes"],m);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&x(t,["parameters","includeRaiReason"],v);const b=y(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const N=y(e,["outputMimeType"]);t!==void 0&&N!=null&&x(t,["parameters","outputOptions","mimeType"],N);const E=y(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const A=y(e,["addWatermark"]);t!==void 0&&A!=null&&x(t,["parameters","addWatermark"],A);const T=y(e,["labels"]);t!==void 0&&T!=null&&x(t,["labels"],T);const k=y(e,["editMode"]);t!==void 0&&k!=null&&x(t,["parameters","editMode"],k);const P=y(e,["baseSteps"]);return t!==void 0&&P!=null&&x(t,["parameters","editConfig","baseSteps"],P),n}function cee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>fte(h))),x(n,["instances[0]","referenceImages"],u)}const l=y(t,["config"]);return l!=null&&uee(l,n),n}function dee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>up(o))),x(t,["generatedImages"],i)}return t}function fee(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=y(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hee(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["instances[]","task_type"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["instances[]","title"],i);const o=y(e,["outputDimensionality"]);t!==void 0&&o!=null&&x(t,["parameters","outputDimensionality"],o);const l=y(e,["mimeType"]);t!==void 0&&l!=null&&x(t,["instances[]","mimeType"],l);const u=y(e,["autoTruncate"]);return t!==void 0&&u!=null&&x(t,["parameters","autoTruncate"],u),n}function pee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let u=jb(e,i);Array.isArray(u)&&(u=u.map(h=>h)),x(n,["requests[]","content"],u)}const o=y(t,["config"]);o!=null&&fee(o,n);const l=y(t,["model"]);return l!==void 0&&x(n,["requests[]","model"],rt(e,l)),n}function mee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let l=jb(e,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["instances[]","content"],l)}const o=y(t,["config"]);return o!=null&&hee(o,n),n}function gee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["embeddings"],o)}const i=y(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function yee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>XZ(l))),x(t,["embeddings"],o)}const i=y(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function vee(e){const t={},n=y(e,["endpoint"]);n!=null&&x(t,["name"],n);const r=y(e,["deployedModelId"]);return r!=null&&x(t,["deployedModelId"],r),t}function xee(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function bee(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function wee(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function See(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function Nee(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],lp(Pn(i)));const o=y(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const h=y(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=y(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=y(t,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=y(t,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const N=y(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const E=y(t,["seed"]);E!=null&&x(r,["seed"],E);const A=y(t,["responseMimeType"]);A!=null&&x(r,["responseMimeType"],A);const T=y(t,["responseSchema"]);T!=null&&x(r,["responseSchema"],Rb(T));const k=y(t,["responseJsonSchema"]);if(k!=null&&x(r,["responseJsonSchema"],k),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=y(t,["safetySettings"]);if(n!==void 0&&P!=null){let F=P;Array.isArray(F)&&(F=F.map(V=>hte(V))),x(n,["safetySettings"],F)}const I=y(t,["tools"]);if(n!==void 0&&I!=null){let F=vl(I);Array.isArray(F)&&(F=F.map(V=>bte(yl(V)))),x(n,["tools"],F)}const R=y(t,["toolConfig"]);if(n!==void 0&&R!=null&&x(n,["toolConfig"],xte(R)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=y(t,["cachedContent"]);n!==void 0&&j!=null&&x(n,["cachedContent"],ga(e,j));const M=y(t,["responseModalities"]);M!=null&&x(r,["responseModalities"],M);const G=y(t,["mediaResolution"]);G!=null&&x(r,["mediaResolution"],G);const U=y(t,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],Db(U)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=y(t,["thinkingConfig"]);D!=null&&x(r,["thinkingConfig"],D);const O=y(t,["imageConfig"]);O!=null&&x(r,["imageConfig"],Xee(O));const $=y(t,["enableEnhancedCivicAnswers"]);return $!=null&&x(r,["enableEnhancedCivicAnswers"],$),r}function Eee(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Pn(i));const o=y(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const h=y(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=y(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=y(t,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=y(t,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const N=y(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const E=y(t,["seed"]);E!=null&&x(r,["seed"],E);const A=y(t,["responseMimeType"]);A!=null&&x(r,["responseMimeType"],A);const T=y(t,["responseSchema"]);T!=null&&x(r,["responseSchema"],Rb(T));const k=y(t,["responseJsonSchema"]);k!=null&&x(r,["responseJsonSchema"],k);const P=y(t,["routingConfig"]);P!=null&&x(r,["routingConfig"],P);const I=y(t,["modelSelectionConfig"]);I!=null&&x(r,["modelConfig"],I);const R=y(t,["safetySettings"]);if(n!==void 0&&R!=null){let B=R;Array.isArray(B)&&(B=B.map(K=>K)),x(n,["safetySettings"],B)}const j=y(t,["tools"]);if(n!==void 0&&j!=null){let B=vl(j);Array.isArray(B)&&(B=B.map(K=>SD(yl(K)))),x(n,["tools"],B)}const M=y(t,["toolConfig"]);n!==void 0&&M!=null&&x(n,["toolConfig"],M);const G=y(t,["labels"]);n!==void 0&&G!=null&&x(n,["labels"],G);const U=y(t,["cachedContent"]);n!==void 0&&U!=null&&x(n,["cachedContent"],ga(e,U));const D=y(t,["responseModalities"]);D!=null&&x(r,["responseModalities"],D);const O=y(t,["mediaResolution"]);O!=null&&x(r,["mediaResolution"],O);const $=y(t,["speechConfig"]);$!=null&&x(r,["speechConfig"],Db($));const F=y(t,["audioTimestamp"]);F!=null&&x(r,["audioTimestamp"],F);const V=y(t,["thinkingConfig"]);V!=null&&x(r,["thinkingConfig"],V);const z=y(t,["imageConfig"]);if(z!=null&&x(r,["imageConfig"],Wee(z)),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function U2(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let l=Rr(i);Array.isArray(l)&&(l=l.map(u=>lp(u))),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&x(n,["generationConfig"],Nee(e,o,n)),n}function B2(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["contents"]);if(i!=null){let l=Rr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&x(n,["generationConfig"],Eee(e,o,n)),n}function z2(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>$Z(f))),x(t,["candidates"],h)}const i=y(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=y(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=y(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function q2(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),x(t,["candidates"],f)}const i=y(e,["createTime"]);i!=null&&x(t,["createTime"],i);const o=y(e,["modelVersion"]);o!=null&&x(t,["modelVersion"],o);const l=y(e,["promptFeedback"]);l!=null&&x(t,["promptFeedback"],l);const u=y(e,["responseId"]);u!=null&&x(t,["responseId"],u);const h=y(e,["usageMetadata"]);return h!=null&&x(t,["usageMetadata"],h),t}function Aee(e,t){const n={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["aspectRatio"]);t!==void 0&&i!=null&&x(t,["parameters","aspectRatio"],i);const o=y(e,["guidanceScale"]);if(t!==void 0&&o!=null&&x(t,["parameters","guidanceScale"],o),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=y(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&x(t,["parameters","safetySetting"],l);const u=y(e,["personGeneration"]);t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u);const h=y(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&x(t,["parameters","includeSafetyAttributes"],h);const f=y(e,["includeRaiReason"]);t!==void 0&&f!=null&&x(t,["parameters","includeRaiReason"],f);const p=y(e,["language"]);t!==void 0&&p!=null&&x(t,["parameters","language"],p);const m=y(e,["outputMimeType"]);t!==void 0&&m!=null&&x(t,["parameters","outputOptions","mimeType"],m);const v=y(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&x(t,["parameters","outputOptions","compressionQuality"],v),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=y(e,["imageSize"]);if(t!==void 0&&b!=null&&x(t,["parameters","sampleImageSize"],b),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Cee(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const o=y(e,["numberOfImages"]);t!==void 0&&o!=null&&x(t,["parameters","sampleCount"],o);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const h=y(e,["seed"]);t!==void 0&&h!=null&&x(t,["parameters","seed"],h);const f=y(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const p=y(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const m=y(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&x(t,["parameters","includeSafetyAttributes"],m);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&x(t,["parameters","includeRaiReason"],v);const b=y(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const N=y(e,["outputMimeType"]);t!==void 0&&N!=null&&x(t,["parameters","outputOptions","mimeType"],N);const E=y(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&x(t,["parameters","outputOptions","compressionQuality"],E);const A=y(e,["addWatermark"]);t!==void 0&&A!=null&&x(t,["parameters","addWatermark"],A);const T=y(e,["labels"]);t!==void 0&&T!=null&&x(t,["labels"],T);const k=y(e,["imageSize"]);t!==void 0&&k!=null&&x(t,["parameters","sampleImageSize"],k);const P=y(e,["enhancePrompt"]);return t!==void 0&&P!=null&&x(t,["parameters","enhancePrompt"],P),n}function Tee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["config"]);return o!=null&&Aee(o,n),n}function _ee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["config"]);return o!=null&&Cee(o,n),n}function kee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>qee(l))),x(t,["generatedImages"],o)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],bD(i)),t}function Pee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>up(l))),x(t,["generatedImages"],o)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],wD(i)),t}function Mee(e,t){const n={},r=y(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(e,["durationSeconds"]);if(t!==void 0&&i!=null&&x(t,["parameters","durationSeconds"],i),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(e,["aspectRatio"]);t!==void 0&&o!=null&&x(t,["parameters","aspectRatio"],o);const l=y(e,["resolution"]);t!==void 0&&l!=null&&x(t,["parameters","resolution"],l);const u=y(e,["personGeneration"]);if(t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=y(e,["negativePrompt"]);t!==void 0&&h!=null&&x(t,["parameters","negativePrompt"],h);const f=y(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&x(t,["parameters","enhancePrompt"],f),y(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=y(e,["lastFrame"]);t!==void 0&&p!=null&&x(t,["instances[0]","lastFrame"],cp(p));const m=y(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>jte(b))),x(t,["instances[0]","referenceImages"],v)}if(y(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Iee(e,t){const n={},r=y(e,["numberOfVideos"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const o=y(e,["fps"]);t!==void 0&&o!=null&&x(t,["parameters","fps"],o);const l=y(e,["durationSeconds"]);t!==void 0&&l!=null&&x(t,["parameters","durationSeconds"],l);const u=y(e,["seed"]);t!==void 0&&u!=null&&x(t,["parameters","seed"],u);const h=y(e,["aspectRatio"]);t!==void 0&&h!=null&&x(t,["parameters","aspectRatio"],h);const f=y(e,["resolution"]);t!==void 0&&f!=null&&x(t,["parameters","resolution"],f);const p=y(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const m=y(e,["pubsubTopic"]);t!==void 0&&m!=null&&x(t,["parameters","pubsubTopic"],m);const v=y(e,["negativePrompt"]);t!==void 0&&v!=null&&x(t,["parameters","negativePrompt"],v);const b=y(e,["enhancePrompt"]);t!==void 0&&b!=null&&x(t,["parameters","enhancePrompt"],b);const N=y(e,["generateAudio"]);t!==void 0&&N!=null&&x(t,["parameters","generateAudio"],N);const E=y(e,["lastFrame"]);t!==void 0&&E!=null&&x(t,["instances[0]","lastFrame"],ai(E));const A=y(e,["referenceImages"]);if(t!==void 0&&A!=null){let P=A;Array.isArray(P)&&(P=P.map(I=>Rte(I))),x(t,["instances[0]","referenceImages"],P)}const T=y(e,["mask"]);t!==void 0&&T!=null&&x(t,["instances[0]","mask"],Ite(T));const k=y(e,["compressionQuality"]);return t!==void 0&&k!=null&&x(t,["parameters","compressionQuality"],k),n}function jee(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],Lee(l)),t}function Ree(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],Uee(l)),t}function Dee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["image"]);o!=null&&x(n,["instances[0]","image"],cp(o));const l=y(t,["video"]);l!=null&&x(n,["instances[0]","video"],ND(l));const u=y(t,["source"]);u!=null&&Bee(u,n);const h=y(t,["config"]);return h!=null&&Mee(h,n),n}function Oee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["image"]);o!=null&&x(n,["instances[0]","image"],ai(o));const l=y(t,["video"]);l!=null&&x(n,["instances[0]","video"],ED(l));const u=y(t,["source"]);u!=null&&zee(u,n);const h=y(t,["config"]);return h!=null&&Iee(h,n),n}function Lee(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Fee(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function Uee(e){const t={},n=y(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Gee(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function Bee(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],cp(i));const o=y(e,["video"]);return t!==void 0&&o!=null&&x(t,["instances[0]","video"],ND(o)),n}function zee(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],ai(i));const o=y(e,["video"]);return t!==void 0&&o!=null&&x(t,["instances[0]","video"],ED(o)),n}function qee(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["image"],Qee(n));const r=y(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=y(e,["_self"]);return i!=null&&x(t,["safetyAttributes"],bD(i)),t}function up(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["image"],xD(n));const r=y(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=y(e,["_self"]);i!=null&&x(t,["safetyAttributes"],wD(i));const o=y(e,["prompt"]);return o!=null&&x(t,["enhancedPrompt"],o),t}function Hee(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["mask"],xD(n));const r=y(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["labels"],i)}return t}function Fee(e){const t={},n=y(e,["video"]);return n!=null&&x(t,["video"],Pte(n)),t}function Gee(e){const t={},n=y(e,["_self"]);return n!=null&&x(t,["video"],Mte(n)),t}function Vee(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=y(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=y(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=y(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const h=y(e,["logprobs"]);h!=null&&x(t,["logprobs"],h);const f=y(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const p=y(e,["mediaResolution"]);p!=null&&x(t,["mediaResolution"],p);const m=y(e,["presencePenalty"]);m!=null&&x(t,["presencePenalty"],m);const v=y(e,["responseLogprobs"]);v!=null&&x(t,["responseLogprobs"],v);const b=y(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const N=y(e,["responseModalities"]);N!=null&&x(t,["responseModalities"],N);const E=y(e,["responseSchema"]);E!=null&&x(t,["responseSchema"],E);const A=y(e,["routingConfig"]);A!=null&&x(t,["routingConfig"],A);const T=y(e,["seed"]);T!=null&&x(t,["seed"],T);const k=y(e,["speechConfig"]);k!=null&&x(t,["speechConfig"],k);const P=y(e,["stopSequences"]);P!=null&&x(t,["stopSequences"],P);const I=y(e,["temperature"]);I!=null&&x(t,["temperature"],I);const R=y(e,["thinkingConfig"]);R!=null&&x(t,["thinkingConfig"],R);const j=y(e,["topK"]);j!=null&&x(t,["topK"],j);const M=y(e,["topP"]);if(M!=null&&x(t,["topP"],M),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function $ee(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],rt(e,r)),n}function Yee(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],rt(e,r)),n}function Kee(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Jee(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Xee(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Wee(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);r!=null&&x(t,["imageSize"],r);const i=y(e,["outputMimeType"]);i!=null&&x(t,["imageOutputOptions","mimeType"],i);const o=y(e,["outputCompressionQuality"]);return o!=null&&x(t,["imageOutputOptions","compressionQuality"],o),t}function Qee(e){const t={},n=y(e,["bytesBase64Encoded"]);n!=null&&x(t,["imageBytes"],to(n));const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function xD(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["imageBytes"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function cp(e){const t={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(e,["imageBytes"]);n!=null&&x(t,["bytesBase64Encoded"],to(n));const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function ai(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["imageBytes"]);r!=null&&x(t,["bytesBase64Encoded"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function Zee(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=y(t,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const l=y(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],fD(e,u)),r}function ete(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=y(t,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const l=y(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],fD(e,u)),r}function tte(e,t){const n={},r=y(t,["config"]);return r!=null&&Zee(e,r,n),n}function nte(e,t){const n={},r=y(t,["config"]);return r!=null&&ete(e,r,n),n}function rte(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let o=hD(i);Array.isArray(o)&&(o=o.map(l=>jv(l))),x(t,["models"],o)}return t}function ite(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let o=hD(i);Array.isArray(o)&&(o=o.map(l=>Rv(l))),x(t,["models"],o)}return t}function ate(e){const t={},n=y(e,["maskMode"]);n!=null&&x(t,["maskMode"],n);const r=y(e,["segmentationClasses"]);r!=null&&x(t,["maskClasses"],r);const i=y(e,["maskDilation"]);return i!=null&&x(t,["dilation"],i),t}function jv(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);i!=null&&x(t,["description"],i);const o=y(e,["version"]);o!=null&&x(t,["version"],o);const l=y(e,["_self"]);l!=null&&x(t,["tunedModelInfo"],wte(l));const u=y(e,["inputTokenLimit"]);u!=null&&x(t,["inputTokenLimit"],u);const h=y(e,["outputTokenLimit"]);h!=null&&x(t,["outputTokenLimit"],h);const f=y(e,["supportedGenerationMethods"]);f!=null&&x(t,["supportedActions"],f);const p=y(e,["temperature"]);p!=null&&x(t,["temperature"],p);const m=y(e,["maxTemperature"]);m!=null&&x(t,["maxTemperature"],m);const v=y(e,["topP"]);v!=null&&x(t,["topP"],v);const b=y(e,["topK"]);b!=null&&x(t,["topK"],b);const N=y(e,["thinking"]);return N!=null&&x(t,["thinking"],N),t}function Rv(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);i!=null&&x(t,["description"],i);const o=y(e,["versionId"]);o!=null&&x(t,["version"],o);const l=y(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>vee(v))),x(t,["endpoints"],m)}const u=y(e,["labels"]);u!=null&&x(t,["labels"],u);const h=y(e,["_self"]);h!=null&&x(t,["tunedModelInfo"],Ste(h));const f=y(e,["defaultCheckpointId"]);f!=null&&x(t,["defaultCheckpointId"],f);const p=y(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>v)),x(t,["checkpoints"],m)}return t}function ote(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],xee(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],bee(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],VZ(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function ste(e){const t={},n=y(e,["productImage"]);return n!=null&&x(t,["image"],ai(n)),t}function lte(e,t){const n={},r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["baseSteps"]);t!==void 0&&i!=null&&x(t,["parameters","baseSteps"],i);const o=y(e,["outputGcsUri"]);t!==void 0&&o!=null&&x(t,["parameters","storageUri"],o);const l=y(e,["seed"]);t!==void 0&&l!=null&&x(t,["parameters","seed"],l);const u=y(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&x(t,["parameters","safetySetting"],u);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h);const f=y(e,["addWatermark"]);t!==void 0&&f!=null&&x(t,["parameters","addWatermark"],f);const p=y(e,["outputMimeType"]);t!==void 0&&p!=null&&x(t,["parameters","outputOptions","mimeType"],p);const m=y(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&x(t,["parameters","outputOptions","compressionQuality"],m);const v=y(e,["enhancePrompt"]);t!==void 0&&v!=null&&x(t,["parameters","enhancePrompt"],v);const b=y(e,["labels"]);return t!==void 0&&b!=null&&x(t,["labels"],b),n}function ute(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["source"]);i!=null&&dte(i,n);const o=y(t,["config"]);return o!=null&&lte(o,n),n}function cte(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>up(i))),x(t,["generatedImages"],r)}return t}function dte(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["personImage"]);t!==void 0&&i!=null&&x(t,["instances[0]","personImage","image"],ai(i));const o=y(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ste(u))),x(t,["instances[0]","productImages"],l)}return n}function fte(e){const t={},n=y(e,["referenceImage"]);n!=null&&x(t,["referenceImage"],ai(n));const r=y(e,["referenceId"]);r!=null&&x(t,["referenceId"],r);const i=y(e,["referenceType"]);i!=null&&x(t,["referenceType"],i);const o=y(e,["maskImageConfig"]);o!=null&&x(t,["maskImageConfig"],ate(o));const l=y(e,["controlImageConfig"]);l!=null&&x(t,["controlImageConfig"],QZ(l));const u=y(e,["styleImageConfig"]);u!=null&&x(t,["styleImageConfig"],u);const h=y(e,["subjectImageConfig"]);return h!=null&&x(t,["subjectImageConfig"],h),t}function bD(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function wD(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function hte(e){const t={},n=y(e,["category"]);if(n!=null&&x(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function pte(e){const t={},n=y(e,["image"]);return n!=null&&x(t,["image"],ai(n)),t}function mte(e,t){const n={},r=y(e,["mode"]);t!==void 0&&r!=null&&x(t,["parameters","mode"],r);const i=y(e,["maxPredictions"]);t!==void 0&&i!=null&&x(t,["parameters","maxPredictions"],i);const o=y(e,["confidenceThreshold"]);t!==void 0&&o!=null&&x(t,["parameters","confidenceThreshold"],o);const l=y(e,["maskDilation"]);t!==void 0&&l!=null&&x(t,["parameters","maskDilation"],l);const u=y(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&x(t,["parameters","binaryColorThreshold"],u);const h=y(e,["labels"]);return t!==void 0&&h!=null&&x(t,["labels"],h),n}function gte(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["source"]);i!=null&&vte(i,n);const o=y(t,["config"]);return o!=null&&mte(o,n),n}function yte(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Hee(i))),x(t,["generatedMasks"],r)}return t}function vte(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],ai(i));const o=y(e,["scribbleImage"]);return t!==void 0&&o!=null&&x(t,["instances[0]","scribble"],pte(o)),n}function xte(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],wee(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function bte(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],Kee(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],Jee(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function SD(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>See(v))),x(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const o=y(e,["computerUse"]);if(o!=null&&x(t,["computerUse"],o),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const h=y(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],f);const p=y(e,["urlContext"]);return p!=null&&x(t,["urlContext"],p),t}function wte(e){const t={},n=y(e,["baseModel"]);n!=null&&x(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function Ste(e){const t={},n=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function Nte(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const o=y(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&x(t,["defaultCheckpointId"],o),n}function Ete(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const o=y(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&x(t,["defaultCheckpointId"],o),n}function Ate(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","name"],rt(e,r));const i=y(t,["config"]);return i!=null&&Nte(i,n),n}function Cte(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["config"]);return i!=null&&Ete(i,n),n}function Tte(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&x(t,["parameters","safetySetting"],i);const o=y(e,["personGeneration"]);t!==void 0&&o!=null&&x(t,["parameters","personGeneration"],o);const l=y(e,["includeRaiReason"]);t!==void 0&&l!=null&&x(t,["parameters","includeRaiReason"],l);const u=y(e,["outputMimeType"]);t!==void 0&&u!=null&&x(t,["parameters","outputOptions","mimeType"],u);const h=y(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&x(t,["parameters","outputOptions","compressionQuality"],h);const f=y(e,["enhanceInputImage"]);t!==void 0&&f!=null&&x(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=y(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&x(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=y(e,["labels"]);t!==void 0&&m!=null&&x(t,["labels"],m);const v=y(e,["numberOfImages"]);t!==void 0&&v!=null&&x(t,["parameters","sampleCount"],v);const b=y(e,["mode"]);return t!==void 0&&b!=null&&x(t,["parameters","mode"],b),n}function _te(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],rt(e,r));const i=y(t,["image"]);i!=null&&x(n,["instances[0]","image"],ai(i));const o=y(t,["upscaleFactor"]);o!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=y(t,["config"]);return l!=null&&Tte(l,n),n}function kte(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>up(o))),x(t,["generatedImages"],i)}return t}function Pte(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],to(r));const i=y(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function Mte(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function Ite(e){const t={},n=y(e,["image"]);n!=null&&x(t,["_self"],ai(n));const r=y(e,["maskMode"]);return r!=null&&x(t,["maskMode"],r),t}function jte(e){const t={},n=y(e,["image"]);n!=null&&x(t,["image"],cp(n));const r=y(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function Rte(e){const t={},n=y(e,["image"]);n!=null&&x(t,["image"],ai(n));const r=y(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function ND(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["videoBytes"]);r!=null&&x(t,["encodedVideo"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["encoding"],i),t}function ED(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["videoBytes"]);r!=null&&x(t,["bytesBase64Encoded"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dte(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["displayName"],r),n}function Ote(e){const t={},n=y(e,["config"]);return n!=null&&Dte(n,t),t}function Lte(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function Ute(e){const t={},n=y(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&Lte(r,t),t}function Bte(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function zte(e,t){const n={},r=y(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["customMetadata"],o)}const i=y(e,["chunkingConfig"]);return t!==void 0&&i!=null&&x(t,["chunkingConfig"],i),n}function qte(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],Fte(l)),t}function Hte(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=y(e,["fileName"]);r!=null&&x(t,["fileName"],r);const i=y(e,["config"]);return i!=null&&zte(i,t),t}function Fte(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function Gte(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Vte(e){const t={},n=y(e,["config"]);return n!=null&&Gte(n,t),t}function $te(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["fileSearchStores"],o)}return t}function AD(e,t){const n={},r=y(e,["mimeType"]);t!==void 0&&r!=null&&x(t,["mimeType"],r);const i=y(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const o=y(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>h)),x(t,["customMetadata"],u)}const l=y(e,["chunkingConfig"]);return t!==void 0&&l!=null&&x(t,["chunkingConfig"],l),n}function Yte(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=y(e,["config"]);return r!=null&&AD(r,t),t}function Kte(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jte="Content-Type",Xte="X-Server-Timeout",Wte="User-Agent",Dv="x-goog-api-client",Qte="1.34.0",Zte=`google-genai-sdk/${Qte}`,ene="v1beta1",tne="v1beta";class nne{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ene,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:tne,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&rne(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await H2(i),new Pv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await H2(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Wr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield Be(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(p,{stream:!0});try{const N=JSON.parse(m);if("error"in N){const E=JSON.parse(JSON.stringify(N.error)),A=E.status,T=E.code,k=`got status: ${A}. ${JSON.stringify(N)}`;if(T>=400&&T<600)throw new sp({message:k,status:T})}}catch(N){if(N.name==="ApiError")throw N}l+=m;let v=-1,b=0;for(;;){v=-1,b=0;for(const A of h){const T=l.indexOf(A);T!==-1&&(v===-1||T<v)&&(v=T,b=A.length)}if(v===-1)break;const N=l.substring(0,v);l=l.substring(v+b);const E=N.trim();if(E.startsWith(u)){const A=E.substring(u.length).trim();try{const T=new Response(A,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Be(new Pv(T))}catch(T){throw new Error(`exception parsing stream chunk ${A}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Zte+" "+this.clientOptions.userAgentExtra;return t[Wte]=n,t[Dv]=n,t[Jte]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(Xte,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const h={file:i},f=this.getFileName(t),p=Ee("upload/v1beta/files",h._url),m=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,h,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),h=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&AD(r,m);const v=await this.fetchUploadUrl(f,u,h,p,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let h={};l?h=l:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:h});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function H2(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new sp({message:i,status:n}):new Error(i)}}function rne(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const f=l[h],p=u[h];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[h]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[h]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ine="mcp_used/unknown";let ane=!1;function CD(e){for(const t of e)if(one(t)||typeof t=="object"&&"inputSchema"in t)return!0;return ane}function TD(e){var t;const n=(t=e[Dv])!==null&&t!==void 0?t:"";e[Dv]=(n+` ${ine}`).trimStart()}function one(e){return e!==null&&typeof e=="object"&&e instanceof Lb}function sne(e){return Wr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Be(n.listTools({cursor:i}));for(const u of l.tools)yield yield Be(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class Lb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Lb(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const p of this.mcpClients)try{for(var u=!0,h=(n=void 0,Qr(sne(p))),f;f=await h.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const m=i;l.push(m);const v=m.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=p}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),BW(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lne(e,t,n){const r=new MW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class une{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=fne(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),h=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(P=>{f=P}),m=t.callbacks,v=function(){f({})},b=this.apiClient,N={onopen:v,onmessage:P=>{lne(b,m.onmessage,P)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(P){}},E=this.webSocketFactory.create(h,dne(l),N);E.connect(),await p;const k={setup:{model:rt(this.apiClient,t.model)}};return E.send(JSON.stringify(k)),new cne(E,this.apiClient)}}class cne{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=OZ(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=DZ(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Fs.PLAY)}pause(){this.sendPlaybackControl(Fs.PAUSE)}stop(){this.sendPlaybackControl(Fs.STOP)}resetContext(){this.sendPlaybackControl(Fs.RESET_CONTEXT)}close(){this.conn.close()}}function dne(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function fne(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hne="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pne(e,t,n){const r=new PW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=BZ(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class mne{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new une(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&CD(t.config.tools)&&TD(m);const v=xne(m);if(this.apiClient.isVertexAI())p=`${h}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,p);else{const U=this.apiClient.getApiKey();let D="BidiGenerateContent",O="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",O="access_token"),p=`${h}/ws/google.ai.generativelanguage.${f}.GenerativeService.${D}?${O}=${U}`}let b=()=>{};const N=new Promise(U=>{b=U}),E=t.callbacks,A=function(){var U;(U=E==null?void 0:E.onopen)===null||U===void 0||U.call(E),b({})},T=this.apiClient,k={onopen:A,onmessage:U=>{pne(T,E.onmessage,U)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(U){}},P=this.webSocketFactory.create(p,vne(v),k);P.connect(),await N;let I=rt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const U=this.apiClient.getProject(),D=this.apiClient.getLocation();I=`projects/${U}/locations/${D}/`+I}let R={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[uh.AUDIO]}:t.config.responseModalities=[uh.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],M=[];for(const U of j)if(this.isCallableTool(U)){const D=U;M.push(await D.tool())}else M.push(U);M.length>0&&(t.config.tools=M);const G={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?R=RZ(this.apiClient,G):R=jZ(this.apiClient,G),delete R.config,P.send(JSON.stringify(R)),new yne(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const gne={turnComplete:!0};class yne{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Rr(n.turns),t.isVertexAI()||(r=r.map(i=>lp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(hne)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},gne),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:UZ(t)}:n={realtimeInput:LZ(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function vne(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function xne(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F2=10;function G2(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ws(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ws(e){return"callTool"in e&&typeof e.callTool=="function"}function bne(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ws(i)))!==null&&r!==void 0?r:!1}function V2(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ws(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function $2(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wne extends ma{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!bne(n)||G2(n.config))return await this.generateContentInternal(h);const f=V2(n);if(f.length>0){const E=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let p,m;const v=Rr(h.contents),b=(o=(i=(r=h.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:F2;let N=0;for(;N<b&&(p=await this.generateContentInternal(h),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,A=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ws(T)){const P=await T.callTool(p.functionCalls);A.push(...P)}N++,m={role:"user",parts:A},h.contents=Rr(h.contents),h.contents.push(E),h.contents.push(m),$2(h.config)&&(v.push(E),v.push(m))}return $2(h.config)&&(p.automaticFunctionCallingHistory=v),p},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),G2(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const h=V2(n);if(h.length>0){const m=h.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,p=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((i=h==null?void 0:h.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=h==null?void 0:h.safetyAttributes:l.push(h);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Go(ra.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((h=(u=n.source)===null||u===void 0?void 0:u.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async h=>Ws(h)?await h.tool():h)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&CD(t.config.tools)){const h=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},h);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),TD(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ws(l)){const u=l,h=await u.tool();for(const f of(i=h.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:F2;let l=!1,u=0;const h=await this.initAfcToolsMap(t);return(function(f,p,m){return Wr(this,arguments,function*(){for(var v,b,N,E,A,T;u<o;){l&&(u++,l=!1);const R=yield Be(f.processParamsMaybeAddMcpUsage(m)),j=yield Be(f.generateContentStreamInternal(R)),M=[],G=[];try{for(var k=!0,P=(b=void 0,Qr(j)),I;I=yield Be(P.next()),v=I.done,!v;k=!0){E=I.value,k=!1;const U=E;if(yield yield Be(U),U.candidates&&(!((A=U.candidates[0])===null||A===void 0)&&A.content)){G.push(U.candidates[0].content);for(const D of(T=U.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(u<o&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(D.functionCall.name)){const O=yield Be(p.get(D.functionCall.name).callTool([D.functionCall]));M.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(U){b={error:U}}finally{try{!k&&!v&&(N=P.return)&&(yield Be(N.call(P)))}finally{if(b)throw b.error}}if(M.length>0){l=!0;const U=new Eu;U.candidates=[{content:{role:"user",parts:M}}],yield yield Be(U);const D=[];D.push(...G),D.push({role:"user",parts:M});const O=Rr(m.contents).concat(D);m.contents=O}else break}})})(this,h,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=B2(this.apiClient,t);return u=Ee("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=q2(p),v=new Eu;return Object.assign(v,m),v})}else{const f=U2(this.apiClient,t);return u=Ee("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=z2(p),v=new Eu;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=B2(this.apiClient,t);return u=Ee("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Wr(this,arguments,function*(){var v,b,N,E;try{for(var A=!0,T=Qr(m),k;k=yield Be(T.next()),v=k.done,!v;A=!0){E=k.value,A=!1;const P=E,I=q2(yield Be(P.json()));I.sdkHttpResponse={headers:P.headers};const R=new Eu;Object.assign(R,I),yield yield Be(R)}}catch(P){b={error:P}}finally{try{!A&&!v&&(N=T.return)&&(yield Be(N.call(T)))}finally{if(b)throw b.error}}})})}else{const f=U2(this.apiClient,t);return u=Ee("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Wr(this,arguments,function*(){var v,b,N,E;try{for(var A=!0,T=Qr(m),k;k=yield Be(T.next()),v=k.done,!v;A=!0){E=k.value,A=!1;const P=E,I=z2(yield Be(P.json()));I.sdkHttpResponse={headers:P.headers};const R=new Eu;Object.assign(R,I),yield yield Be(R)}}catch(P){b={error:P}}finally{try{!A&&!v&&(N=T.return)&&(yield Be(N.call(T)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=mee(this.apiClient,t);return u=Ee("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=yee(p),v=new w2;return Object.assign(v,m),v})}else{const f=pee(this.apiClient,t);return u=Ee("{model}:batchEmbedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=gee(p),v=new w2;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=_ee(this.apiClient,t);return u=Ee("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Pee(p),v=new S2;return Object.assign(v,m),v})}else{const f=Tee(this.apiClient,t);return u=Ee("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=kee(p),v=new S2;return Object.assign(v,m),v})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=cee(this.apiClient,t);return o=Ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=dee(h),p=new xW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=_te(this.apiClient,t);return o=Ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=kte(h),p=new bW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=ute(this.apiClient,t);return o=Ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=cte(h),p=new wW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=gte(this.apiClient,t);return o=Ee("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=yte(h),p=new SW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Yee(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Rv(p))}else{const f=$ee(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>jv(p))}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=nte(this.apiClient,t);return u=Ee("{models_url}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=ite(p),v=new N2;return Object.assign(v,m),v})}else{const f=tte(this.apiClient,t);return u=Ee("{models_url}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=rte(p),v=new N2;return Object.assign(v,m),v})}}async update(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Cte(this.apiClient,t);return u=Ee("{model}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Rv(p))}else{const f=Ate(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>jv(p))}}async delete(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=oee(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=lee(p),v=new E2;return Object.assign(v,m),v})}else{const f=aee(this.apiClient,t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=see(p),v=new E2;return Object.assign(v,m),v})}}async countTokens(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=nee(this.apiClient,t);return u=Ee("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=iee(p),v=new A2;return Object.assign(v,m),v})}else{const f=tee(this.apiClient,t);return u=Ee("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=ree(p),v=new A2;return Object.assign(v,m),v})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=KZ(this.apiClient,t);return o=Ee("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=JZ(h),p=new NW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Oee(this.apiClient,t);return u=Ee("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const m=Ree(p),v=new ch;return Object.assign(v,m),v})}else{const f=Dee(this.apiClient,t);return u=Ee("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>{const m=jee(p),v=new ch;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sne extends ma{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=hW(t);return u=Ee("{operationName}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=fW(t);return u=Ee("{operationName}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=aW(t);return o=Ee("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nne(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Ene(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jne(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function Ane(e,t,n){const r={},i=y(t,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const o=y(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&x(n,["newSessionExpireTime"],o);const l=y(t,["uses"]);n!==void 0&&l!=null&&x(n,["uses"],l);const u=y(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],Ine(e,u));const h=y(t,["lockAdditionalFields"]);return n!==void 0&&h!=null&&x(n,["fieldMask"],h),r}function Cne(e,t){const n={},r=y(t,["config"]);return r!=null&&x(n,["config"],Ane(e,r,n)),n}function Tne(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function _ne(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kne(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function Pne(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Mne(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const h=y(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=y(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const p=y(e,["seed"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","seed"],p);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","speechConfig"],Ob(m));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=y(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],Ene(Pn(N)));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let j=vl(E);Array.isArray(j)&&(j=j.map(M=>Dne(yl(M)))),x(t,["setup","tools"],j)}const A=y(e,["sessionResumption"]);t!==void 0&&A!=null&&x(t,["setup","sessionResumption"],Rne(A));const T=y(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&x(t,["setup","inputAudioTranscription"],T);const k=y(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&x(t,["setup","outputAudioTranscription"],k);const P=y(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&x(t,["setup","realtimeInputConfig"],P);const I=y(e,["contextWindowCompression"]);t!==void 0&&I!=null&&x(t,["setup","contextWindowCompression"],I);const R=y(e,["proactivity"]);if(t!==void 0&&R!=null&&x(t,["setup","proactivity"],R),y(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ine(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],rt(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],Mne(i,n)),n}function jne(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],Tne(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],_ne(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],Nne(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function Rne(e){const t={},n=y(e,["handle"]);if(n!=null&&x(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Dne(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],kne(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],Pne(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function One(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function Lne(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=One(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const h=[];o&&h.push(o),u.length>0&&h.push(...u),h.length>0?e.fieldMask=h.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Une extends ma{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Cne(this.apiClient,t);o=Ee("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const h=Lne(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bne(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function zne(e){const t={},n=y(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&Bne(r,t),t}function qne(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Hne(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function Fne(e){const t={},n=y(e,["parent"]);n!=null&&x(t,["_url","parent"],n);const r=y(e,["config"]);return r!=null&&Hne(r,t),t}function Gne(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vne extends ma{constructor(t){super(),this.apiClient=t,this.list=async n=>new Go(ra.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qne(t);return o=Ee("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zne(t);i=Ee("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Fne(t);return o=Ee("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Gne(h),p=new EW;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $ne extends ma{constructor(t,n=new Vne(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Go(ra.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ote(t);return o=Ee("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Bte(t);return o=Ee("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ute(t);i=Ee("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vte(t);return o=Ee("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=$te(h),p=new AW;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yte(t);return o=Ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Kte(h),p=new CW;return Object.assign(p,f),p})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hte(t);return o=Ee("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=qte(h),p=new Mb;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _D=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return _D=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Yne=()=>_D();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ov(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Lv=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Br extends Error{}class Bn extends Br{constructor(t,n,r,i){super(`${Bn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new dp({message:r,cause:Lv(n)});const o=n;return t===400?new PD(t,o,r,i):t===401?new MD(t,o,r,i):t===403?new ID(t,o,r,i):t===404?new jD(t,o,r,i):t===409?new RD(t,o,r,i):t===422?new DD(t,o,r,i):t===429?new OD(t,o,r,i):t>=500?new LD(t,o,r,i):new Bn(t,o,r,i)}}class Uv extends Bn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class dp extends Bn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class kD extends dp{constructor({message:t}={}){super({message:t??"Request timed out."})}}class PD extends Bn{}class MD extends Bn{}class ID extends Bn{}class jD extends Bn{}class RD extends Bn{}class DD extends Bn{}class OD extends Bn{}class LD extends Bn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kne=/^[a-z][a-z0-9+.-]*:/i,Jne=e=>Kne.test(e);let Bv=e=>(Bv=Array.isArray,Bv(e));const Xne=Bv;let Wne=Xne;const Y2=Wne;function Qne(e){if(!e)return!0;for(const t in e)return!1;return!0}function Zne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const ere=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Br(`${e} must be an integer`);if(t<0)throw new Br(`${e} must be a positive integer`);return t},tre=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nre=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rre(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ire=()=>{var e,t,n,r,i;const o=rre();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":J2(Deno.build.os),"X-Stainless-Arch":K2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":J2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":K2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=are();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function are(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const K2=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",J2=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Zd;const ore=()=>Zd??(Zd=ire());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sre(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function UD(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function lre(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return UD({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function BD(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function ure(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cre=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zD=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function h0(e,t,n){return zD(),new File(e,t??"unknown_file",n)}function dre(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const fre=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qD=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",hre=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&qD(e),pre=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function mre(e,t,n){if(zD(),e=await e,hre(e))return e instanceof File?e:h0([await e.arrayBuffer()],e.name);if(pre(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),h0(await zv(i),t,n)}const r=await zv(e);if(t||(t=dre(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return h0(r,t,n)}async function zv(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(qD(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(fre(e))try{for(var u=!0,h=Qr(e),f;f=await h.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const p=i;l.push(...await zv(p))}}catch(p){n={error:p}}finally{try{!u&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}else{const p=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${gre(e)}`)}return l}function gre(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HD{constructor(t){this._client=t}}HD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FD(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const X2=Object.freeze(Object.create(null)),yre=(e=FD)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((p,m,v)=>{var b,N,E;/[?#]/.test(m)&&(i=!0);const A=r[v];let T=(i?encodeURIComponent:e)(""+A);return v!==r.length&&(A==null||typeof A=="object"&&A.toString===((E=Object.getPrototypeOf((N=Object.getPrototypeOf((b=A.hasOwnProperty)!==null&&b!==void 0?b:X2))!==null&&N!==void 0?N:X2))===null||E===void 0?void 0:E.toString))&&(T=A+"",o.push({start:p.length+m.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),p+m+(v===r.length?"":T)},""),u=l.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=h.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((p,m)=>p.start-m.start),o.length>0){let p=0;const m=o.reduce((v,b)=>{const N=" ".repeat(b.start-p),E="^".repeat(b.length);return p=b.start+b.length,v+N+E},"");throw new Br(`Path parameters result in path with invalid segments:
${o.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),ef=yre(FD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GD extends HD{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=fh(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new Br("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Br("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ef`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ef`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ef`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=fh(o,["api_version"]);return this._client.get(ef`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}GD._key=Object.freeze(["interactions"]);class VD extends GD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vre(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let tf;function Ub(e){let t;return(tf??(t=new globalThis.TextEncoder,tf=t.encode.bind(t)))(e)}let nf;function W2(e){let t;return(nf??(t=new globalThis.TextDecoder,nf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ub(t):t;this.buffer=vre([this.buffer,n]);const r=[];let i;for(;(i=xre(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(W2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=W2(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}fp.NEWLINE_CHARS=new Set([`
`,"\r"]);fp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xre(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function bre(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hh={off:0,error:200,warn:300,info:400,debug:500},Q2=(e,t,n)=>{if(e){if(Zne(hh,e))return e;Rn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(hh))}`)}};function Iu(){}function rf(e,t,n){return!t||hh[e]>hh[n]?Iu:t[e].bind(t)}const wre={error:Iu,warn:Iu,info:Iu,debug:Iu};let Z2=new WeakMap;function Rn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return wre;const i=Z2.get(n);if(i&&i[0]===r)return i[1];const o={error:rf("error",n,r),warn:rf("warn",n,r),info:rf("info",n,r),debug:rf("debug",n,r)};return Z2.set(n,[r,o]),o}const Eo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gs{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Rn(r):console;function l(){return Wr(this,arguments,function*(){var h,f,p,m;if(i)throw new Br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var b=!0,N=Qr(Sre(t,n)),E;E=yield Be(N.next()),h=E.done,!h;b=!0){m=E.value,b=!1;const A=m;if(!v)if(A.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Be(JSON.parse(A.data))}catch(T){throw o.error("Could not parse message into JSON:",A.data),o.error("From chunk:",A.raw),T}}}catch(A){f={error:A}}finally{try{!b&&!h&&(p=N.return)&&(yield Be(p.call(N)))}finally{if(f)throw f.error}}v=!0}catch(A){if(Ov(A))return yield Be(void 0);throw A}finally{v||n.abort()}})}return new Gs(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Wr(this,arguments,function*(){var h,f,p,m;const v=new fp,b=BD(t);try{for(var N=!0,E=Qr(b),A;A=yield Be(E.next()),h=A.done,!h;N=!0){m=A.value,N=!1;const T=m;for(const k of v.decode(T))yield yield Be(k)}}catch(T){f={error:T}}finally{try{!N&&!h&&(p=E.return)&&(yield Be(p.call(E)))}finally{if(f)throw f.error}}for(const T of v.flush())yield yield Be(T)})}function l(){return Wr(this,arguments,function*(){var h,f,p,m;if(i)throw new Br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var b=!0,N=Qr(o()),E;E=yield Be(N.next()),h=E.done,!h;b=!0){m=E.value,b=!1;const A=m;v||A&&(yield yield Be(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!b&&!h&&(p=N.return)&&(yield Be(p.call(N)))}finally{if(f)throw f.error}}v=!0}catch(A){if(Ov(A))return yield Be(void 0);throw A}finally{v||n.abort()}})}return new Gs(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new Gs(()=>i(t),this.controller,this.client),new Gs(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return UD({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=Ub(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Sre(e,t){return Wr(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Br("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Br("Attempted to iterate over a response with no body");const u=new Ere,h=new fp,f=BD(e.body);try{for(var p=!0,m=Qr(Nre(f)),v;v=yield Be(m.next()),r=v.done,!r;p=!0){l=v.value,p=!1;const b=l;for(const N of h.decode(b)){const E=u.decode(N);E&&(yield yield Be(E))}}}catch(b){i={error:b}}finally{try{!p&&!r&&(o=m.return)&&(yield Be(o.call(m)))}finally{if(i)throw i.error}}for(const b of h.flush()){const N=u.decode(b);N&&(yield yield Be(N))}})}function Nre(e){return Wr(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,h=Qr(e),f;f=yield Be(h.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const p=o;if(p==null)continue;const m=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Ub(p):p;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let b;for(;(b=bre(l))!==-1;)yield yield Be(l.slice(0,b)),l=l.slice(b)}}catch(p){r={error:p}}finally{try{!u&&!n&&(i=h.return)&&(yield Be(i.call(h)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Be(l))})}class Ere{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Are(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Are(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Cre(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var u;if(t.options.stream)return Rn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Gs.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const h=n.headers.get("content-type"),f=(u=h==null?void 0:h.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Rn(e).debug(`[${r}] response parsed`,Eo({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bb extends Promise{constructor(t,n,r=Cre){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Bb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $D=Symbol("brand.privateNullableHeaders");function*Tre(e){if(!e)return;if($D in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Y2(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Y2(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Au=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of Tre(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[$D]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p0=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=ZX)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var YD;class hp{constructor(t){var n,r,i,o,l,u,h,{baseURL:f=p0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=p0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,v=fh(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:p,apiVersion:m},v),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:hp.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(l=(o=Q2(b.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Q2(p0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:N,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(h=b.fetch)!==null&&h!==void 0?h:sre(),this.encoder=cre,this._options=b,this.apiKey=p,this.apiVersion=m,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Au([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Au([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Au([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Br(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Bs}`}defaultIdempotencyKey(){return`stainless-node-retry-${Yne()}`}makeStatusError(t,n,r,i){return Bn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Jne(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return Qne(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Bb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const u=await t,h=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=h),await this.prepareOptions(u);const{req:f,url:p,timeout:m}=await this.buildRequest(u,{retryCount:h-n});await this.prepareRequest(f,{url:p,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(Rn(this).debug(`[${v}] sending request`,Eo({retryOfRequestLogID:r,method:u.method,url:p,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new Uv;const E=new AbortController,A=await this.fetchWithTimeout(p,f,m,E).catch(Lv),T=Date.now();if(A instanceof globalThis.Error){const P=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Uv;const I=Ov(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return Rn(this).info(`[${v}] connection ${I?"timed out":"failed"} - ${P}`),Rn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (${P})`,Eo({retryOfRequestLogID:r,url:p,durationMs:T-N,message:A.message})),this.retryRequest(u,n,r??v);throw Rn(this).info(`[${v}] connection ${I?"timed out":"failed"} - error; no more retries left`),Rn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Eo({retryOfRequestLogID:r,url:p,durationMs:T-N,message:A.message})),I?new kD:new dp({cause:A})}const k=`[${v}${b}] ${f.method} ${p} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${T-N}ms`;if(!A.ok){const P=await this.shouldRetry(A);if(n&&P){const U=`retrying, ${n} attempts remaining`;return await ure(A.body),Rn(this).info(`${k} - ${U}`),Rn(this).debug(`[${v}] response error (${U})`,Eo({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:T-N})),this.retryRequest(u,n,r??v,A.headers)}const I=P?"error; no more retries left":"error; not retryable";Rn(this).info(`${k} - ${I}`);const R=await A.text().catch(U=>Lv(U).message),j=tre(R),M=j?void 0:R;throw Rn(this).debug(`[${v}] response error (${I})`,Eo({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:M,durationMs:Date.now()-N})),this.makeStatusError(A.status,j,M,A.headers)}return Rn(this).info(k),Rn(this).debug(`[${v}] response start`,Eo({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:T-N})),{response:A,options:u,controller:E,requestLogID:v,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:u}=o,h=fh(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),h);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const h=i==null?void 0:i.get("retry-after");if(h&&!l){const f=parseFloat(h);Number.isNaN(f)?l=Date.parse(h)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await nre(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:u,path:h,query:f,defaultBaseURL:p}=l,m=this.buildURL(h,f,p);"timeout"in l&&ere("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:b}=this.buildBody({options:l}),N=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:N},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=Au([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),ore()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Au([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:lre(t)}:this.encoder({body:t,headers:r})}}hp.DEFAULT_TIMEOUT=6e4;class un extends hp{constructor(){super(...arguments),this.interactions=new VD(this)}}YD=un;un.GeminiNextGenAPIClient=YD;un.GeminiNextGenAPIClientError=Br;un.APIError=Bn;un.APIConnectionError=dp;un.APIConnectionTimeoutError=kD;un.APIUserAbortError=Uv;un.NotFoundError=jD;un.ConflictError=RD;un.RateLimitError=OD;un.BadRequestError=PD;un.AuthenticationError=MD;un.InternalServerError=LD;un.PermissionDeniedError=ID;un.UnprocessableEntityError=DD;un.toFile=mre;un.Interactions=VD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _re(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function kre(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Pre(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Mre(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Ire(e,t,n){const r={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&x(t,["displayName"],i),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(e,["epochCount"]);t!==void 0&&o!=null&&x(t,["tuningTask","hyperparameters","epochCount"],o);const l=y(e,["learningRateMultiplier"]);if(l!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),y(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(e,["batchSize"]);t!==void 0&&u!=null&&x(t,["tuningTask","hyperparameters","batchSize"],u);const h=y(e,["learningRate"]);if(t!==void 0&&h!=null&&x(t,["tuningTask","hyperparameters","learningRate"],h),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function jre(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec"],ek(b))}else if(i==="PREFERENCE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec"],ek(b))}const o=y(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&x(t,["tunedModelDisplayName"],o);const l=y(e,["description"]);t!==void 0&&l!=null&&x(t,["description"],l);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(h==="PREFERENCE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=y(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=y(e,["labels"]);t!==void 0&&m!=null&&x(t,["labels"],m);const v=y(e,["beta"]);return t!==void 0&&v!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function Rre(e,t){const n={},r=y(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=y(e,["trainingDataset"]);o!=null&&Vre(o);const l=y(e,["config"]);return l!=null&&Ire(l,n),n}function Dre(e,t){const n={},r=y(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=y(e,["trainingDataset"]);o!=null&&$re(o,n,t);const l=y(e,["config"]);return l!=null&&jre(l,n,t),n}function Ore(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Lre(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Ure(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=y(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=y(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Bre(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=y(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=y(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function zre(e,t){const n={},r=y(e,["config"]);return r!=null&&Ure(r,n),n}function qre(e,t){const n={},r=y(e,["config"]);return r!=null&&Bre(r,n),n}function Hre(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=y(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>KD(u))),x(n,["tuningJobs"],l)}return n}function Fre(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=y(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>qv(u))),x(n,["tuningJobs"],l)}return n}function Gre(e,t){const n={},r=y(e,["name"]);r!=null&&x(n,["model"],r);const i=y(e,["name"]);return i!=null&&x(n,["endpoint"],i),n}function Vre(e,t){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["examples","examples"],i)}return n}function $re(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=y(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=y(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=y(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=y(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function KD(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const o=y(e,["state"]);o!=null&&x(n,["state"],cD(o));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const h=y(e,["tuningTask","completeTime"]);h!=null&&x(n,["endTime"],h);const f=y(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=y(e,["description"]);p!=null&&x(n,["description"],p);const m=y(e,["baseModel"]);m!=null&&x(n,["baseModel"],m);const v=y(e,["_self"]);return v!=null&&x(n,["tunedModel"],Gre(v)),n}function qv(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const o=y(e,["state"]);o!=null&&x(n,["state"],cD(o));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(n,["startTime"],u);const h=y(e,["endTime"]);h!=null&&x(n,["endTime"],h);const f=y(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=y(e,["error"]);p!=null&&x(n,["error"],p);const m=y(e,["description"]);m!=null&&x(n,["description"],m);const v=y(e,["baseModel"]);v!=null&&x(n,["baseModel"],v);const b=y(e,["tunedModel"]);b!=null&&x(n,["tunedModel"],b);const N=y(e,["preTunedModel"]);N!=null&&x(n,["preTunedModel"],N);const E=y(e,["supervisedTuningSpec"]);E!=null&&x(n,["supervisedTuningSpec"],E);const A=y(e,["preferenceOptimizationSpec"]);A!=null&&x(n,["preferenceOptimizationSpec"],A);const T=y(e,["tuningDataStats"]);T!=null&&x(n,["tuningDataStats"],T);const k=y(e,["encryptionSpec"]);k!=null&&x(n,["encryptionSpec"],k);const P=y(e,["partnerModelTuningSpec"]);P!=null&&x(n,["partnerModelTuningSpec"],P);const I=y(e,["customBaseModel"]);I!=null&&x(n,["customBaseModel"],I);const R=y(e,["experiment"]);R!=null&&x(n,["experiment"],R);const j=y(e,["labels"]);j!=null&&x(n,["labels"],j);const M=y(e,["outputUri"]);M!=null&&x(n,["outputUri"],M);const G=y(e,["pipelineJob"]);G!=null&&x(n,["pipelineJob"],G);const U=y(e,["serviceAccount"]);U!=null&&x(n,["serviceAccount"],U);const D=y(e,["tunedModelDisplayName"]);D!=null&&x(n,["tunedModelDisplayName"],D);const O=y(e,["veoTuningSpec"]);return O!=null&&x(n,["veoTuningSpec"],O),n}function Yre(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const o=y(e,["metadata"]);o!=null&&x(n,["metadata"],o);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);return u!=null&&x(n,["error"],u),n}function ek(e,t){const n={},r=y(e,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=y(e,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kre extends ma{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Go(ra.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:kv.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Lre(t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>qv(p))}else{const f=Ore(t);return u=Ee("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>KD(p))}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=qre(t);return u=Ee("tuningJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Fre(p),v=new C2;return Object.assign(v,m),v})}else{const f=zre(t);return u=Ee("tunedModels",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Hre(p),v=new C2;return Object.assign(v,m),v})}}async cancel(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=kre(t);return u=Ee("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Mre(p),v=new T2;return Object.assign(v,m),v})}else{const f=_re(t);return u=Ee("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Pre(p),v=new T2;return Object.assign(v,m),v})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Dre(t,t);return o=Ee("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>qv(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rre(t);return o=Ee("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>Yre(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jre{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Xre=1024*1024*8,Wre=3,Qre=1e3,Zre=2,ph="x-goog-upload-status";async function eie(e,t,n){var r;const i=await JD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ph])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function tie(e,t,n){var r;const i=await JD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[ph])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=iD(o),u=new Ib;return Object.assign(u,l),u}async function JD(e,t,n){var r,i;let o=0,l=0,u=new Pv(new Response),h="upload";for(o=e.size;l<o;){const f=Math.min(Xre,o-l),p=e.slice(l,l+f);l+f>=o&&(h+=", finalize");let m=0,v=Qre;for(;m<Wre&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[ph]));)m++,await rie(v),v=v*Zre;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[ph])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function nie(e){return{size:e.size,type:e.type}}function rie(e){return new Promise(t=>setTimeout(t,e))}class iie{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await eie(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await tie(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await nie(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aie{create(t,n,r){return new oie(t,n,r)}}class oie{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tk="x-goog-api-key";class sie{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(tk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(tk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lie="gl-node/";class uie{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new un({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=rW(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new sie(this.apiKey);this.apiClient=new nne({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lie+"web",uploader:new iie,downloader:new Jre}),this.models=new wne(this.apiClient),this.live=new mne(this.apiClient,i,new aie),this.batches=new IQ(this.apiClient),this.chats=new hZ(this.models,this.apiClient),this.caches=new cZ(this.apiClient),this.files=new NZ(this.apiClient),this.operations=new Sne(this.apiClient),this.authTokens=new Une(this.apiClient),this.tunings=new Kre(this.apiClient),this.fileSearchStores=new $ne(this.apiClient)}}var cie={};const die=()=>{const e=me.getBusinessProfile(),t=me.getProducts(),n=me.getParties(),r=me.getTransactions(),i=me.getAccounts(),o=n.reduce((I,R)=>R.balance>0?I+R.balance:I,0),l=n.reduce((I,R)=>R.balance<0?I+Math.abs(R.balance):I,0),u=t.filter(I=>I.type!=="service"&&I.stock<5).map(I=>`${I.name} (${I.stock})`),h=t.reduce((I,R)=>I+R.stock*R.purchasePrice,0),f=new Map;t.forEach(I=>f.set(I.id,I));let p=0,m=0,v=0,b=0;const N={};r.forEach(I=>{var R,j;if(I.type==="SALE")p+=I.totalAmount,(R=I.items)==null||R.forEach(M=>{const G=f.get(M.productId);if(G&&G.type!=="service"){let U=M.quantity;M.unit&&G.secondaryUnit&&M.unit===G.secondaryUnit&&G.conversionRatio&&(U=M.quantity/G.conversionRatio),v+=U*G.purchasePrice}});else if(I.type==="SALE_RETURN")m+=I.totalAmount,(j=I.items)==null||j.forEach(M=>{const G=f.get(M.productId);if(G&&G.type!=="service"){let U=M.quantity;M.unit&&G.secondaryUnit&&M.unit===G.secondaryUnit&&G.conversionRatio&&(U=M.quantity/G.conversionRatio),v-=U*G.purchasePrice}});else if(I.type==="EXPENSE"){b+=I.totalAmount;const M=I.category||"Other";N[M]=(N[M]||0)+I.totalAmount}});const E=p-m,A=E-v,T=A-b,k=i.map(I=>`- ${I.name} (${I.type}): ${ne(I.balance)}`).join(`
`),P=r.slice(-20).reverse().map(I=>`- ${It(I.date)}: ${I.type} | ${I.partyName} | ${ne(I.totalAmount)}`).join(`
`);return`
    You are an expert business analyst for "${e.name}".
    Current Date: AD ${new Date().toISOString().split("T")[0]} / BS ${f6()}
    
    --- FINANCIAL OVERVIEW ---
    - Total Sales: ${ne(p)}
    - Sales Returns: ${ne(m)}
    - Net Sales: ${ne(E)}
    - Total COGS (Cost of Goods Sold): ${ne(v)}
    - Gross Profit: ${ne(A)}
    - Total Operating Expenses: ${ne(b)}
    - NET PROFIT: ${ne(T)} (Net Margin: ${E>0?(T/E*100).toFixed(1):0}%)

    --- EXPENSE BREAKDOWN ---
    ${Object.entries(N).map(([I,R])=>`- ${I}: ${ne(R)}`).join(`
`)}

    --- CASH & BANK BALANCES ---
    ${k}

    --- PARTY BALANCES ---
    - Total Receivable (To Receive): ${ne(o)}
    - Total Payable (To Give): ${ne(l)}

    --- INVENTORY STATUS ---
    - Total Stock Valuation (at Cost): ${ne(h)}
    - Critical Low Stock Items: ${u.length>0?u.join(", "):"None"}

    --- RECENT TRANSACTIONS (Last 20) ---
    ${P}
  `},fie=async e=>{try{const t=typeof process<"u"&&cie?"AIzaSyBCezRn3rCu91PsI-qI8AT5xceGw5o3xOc":null;if(!t)return"AI Assistant is not fully configured for this environment (API Key missing). Please ensure your build environment injects the API_KEY variable.";const n=new uie({apiKey:t}),r=die();return(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`
        SYSTEM CONTEXT DATA:
        ${r}

        USER QUESTION: 
        "${e}"

        AI INSTRUCTIONS:
        1. Use the provided financial data to answer the user query accurately.
        2. If asked about "Profit", refer to Net Profit unless Gross Profit is specified.
        3. If asked about "Cash", combine balances of all Cash and Wallet accounts.
        4. When the user uses Nepali names or dates, respond appropriately using the BS/Nepali format.
        5. Provide suggestions if metrics look bad (e.g., high expenses or low profit margins).
        6. Keep the tone professional but accessible.
      `,config:{systemInstruction:"You are a world-class Business Intelligence Assistant. You analyze sales, inventory, and profit data to help shop owners make better decisions."}})).text||"I was unable to analyze that data. Could you please try rephrasing your question?"}catch(t){return console.error("AI Service Error:",t),"I am currently unable to reach my analytical engine. Please ensure your internet connection is stable and the API key is valid."}};function hie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gie={};function nk(e,t){return(gie.jsx?mie:pie).test(e)}const yie=/[ \t\n\f\r]/g;function vie(e){return typeof e=="object"?e.type==="text"?rk(e.value):!1:rk(e)}function rk(e){return e.replace(yie,"")===""}class Sc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Sc.prototype.normal={};Sc.prototype.property={};Sc.prototype.space=void 0;function XD(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Sc(n,r,t)}function Hv(e){return e.toLowerCase()}class tr{constructor(t,n){this.attribute=n,this.property=t}}tr.prototype.attribute="";tr.prototype.booleanish=!1;tr.prototype.boolean=!1;tr.prototype.commaOrSpaceSeparated=!1;tr.prototype.commaSeparated=!1;tr.prototype.defined=!1;tr.prototype.mustUseProperty=!1;tr.prototype.number=!1;tr.prototype.overloadedBoolean=!1;tr.prototype.property="";tr.prototype.spaceSeparated=!1;tr.prototype.space=void 0;let xie=0;const Ve=Vo(),Ft=Vo(),Fv=Vo(),xe=Vo(),gt=Vo(),Qs=Vo(),ur=Vo();function Vo(){return 2**++xie}const Gv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ve,booleanish:Ft,commaOrSpaceSeparated:ur,commaSeparated:Qs,number:xe,overloadedBoolean:Fv,spaceSeparated:gt},Symbol.toStringTag,{value:"Module"})),m0=Object.keys(Gv);class zb extends tr{constructor(t,n,r,i){let o=-1;if(super(t,n),ik(this,"space",i),typeof r=="number")for(;++o<m0.length;){const l=m0[o];ik(this,m0[o],(r&Gv[l])===Gv[l])}}}zb.prototype.defined=!0;function ik(e,t,n){n&&(e[t]=n)}function bl(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new zb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Hv(r)]=r,n[Hv(o.attribute)]=r}return new Sc(t,n,e.space)}const WD=bl({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:gt,ariaCurrent:null,ariaDescribedBy:gt,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:gt,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:gt,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:gt,ariaLevel:xe,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:gt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:gt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:Ft,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function QD(e,t){return t in e?e[t]:t}function ZD(e,t){return QD(e,t.toLowerCase())}const bie=bl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qs,acceptCharset:gt,accessKey:gt,action:null,allow:null,allowFullScreen:Ve,allowPaymentRequest:Ve,allowUserMedia:Ve,alt:null,as:null,async:Ve,autoCapitalize:null,autoComplete:gt,autoFocus:Ve,autoPlay:Ve,blocking:gt,capture:null,charSet:null,checked:Ve,cite:null,className:gt,cols:xe,colSpan:null,content:null,contentEditable:Ft,controls:Ve,controlsList:gt,coords:xe|Qs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ve,defer:Ve,dir:null,dirName:null,disabled:Ve,download:Fv,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ve,formTarget:null,headers:gt,height:xe,hidden:Fv,high:xe,href:null,hrefLang:null,htmlFor:gt,httpEquiv:gt,id:null,imageSizes:null,imageSrcSet:null,inert:Ve,inputMode:null,integrity:null,is:null,isMap:Ve,itemId:null,itemProp:gt,itemRef:gt,itemScope:Ve,itemType:gt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ve,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Ve,muted:Ve,name:null,nonce:null,noModule:Ve,noValidate:Ve,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ve,optimum:xe,pattern:null,ping:gt,placeholder:null,playsInline:Ve,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ve,referrerPolicy:null,rel:gt,required:Ve,reversed:Ve,rows:xe,rowSpan:xe,sandbox:gt,scope:null,scoped:Ve,seamless:Ve,selected:Ve,shadowRootClonable:Ve,shadowRootDelegatesFocus:Ve,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Ve,useMap:null,value:Ft,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:gt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ve,declare:Ve,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Ve,noHref:Ve,noShade:Ve,noWrap:Ve,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ve,disableRemotePlayback:Ve,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:ZD}),wie=bl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ur,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:gt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Ve,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qs,g2:Qs,glyphName:Qs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:ur,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:gt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ur,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ur,rev:ur,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ur,requiredFeatures:ur,requiredFonts:ur,requiredFormats:ur,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:ur,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ur,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ur,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:QD}),eO=bl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),tO=bl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ZD}),nO=bl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Sie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Nie=/[A-Z]/g,ak=/-[a-z]/g,Eie=/^data[-\w.:]+$/i;function Aie(e,t){const n=Hv(t);let r=t,i=tr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Eie.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(ak,Tie);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!ak.test(o)){let l=o.replace(Nie,Cie);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=zb}return new i(r,t)}function Cie(e){return"-"+e.toLowerCase()}function Tie(e){return e.charAt(1).toUpperCase()}const _ie=XD([WD,bie,eO,tO,nO],"html"),qb=XD([WD,wie,eO,tO,nO],"svg");function kie(e){return e.join(" ").trim()}var Os={},g0,ok;function Pie(){if(ok)return g0;ok=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,f="/",p="*",m="",v="comment",b="declaration";function N(A,T){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];T=T||{};var k=1,P=1;function I(V){var z=V.match(t);z&&(k+=z.length);var B=V.lastIndexOf(h);P=~B?V.length-B:P+V.length}function R(){var V={line:k,column:P};return function(z){return z.position=new j(V),U(),z}}function j(V){this.start=V,this.end={line:k,column:P},this.source=T.source}j.prototype.content=A;function M(V){var z=new Error(T.source+":"+k+":"+P+": "+V);if(z.reason=V,z.filename=T.source,z.line=k,z.column=P,z.source=A,!T.silent)throw z}function G(V){var z=V.exec(A);if(z){var B=z[0];return I(B),A=A.slice(B.length),z}}function U(){G(n)}function D(V){var z;for(V=V||[];z=O();)z!==!1&&V.push(z);return V}function O(){var V=R();if(!(f!=A.charAt(0)||p!=A.charAt(1))){for(var z=2;m!=A.charAt(z)&&(p!=A.charAt(z)||f!=A.charAt(z+1));)++z;if(z+=2,m===A.charAt(z-1))return M("End of comment missing");var B=A.slice(2,z-2);return P+=2,I(B),A=A.slice(z),P+=2,V({type:v,comment:B})}}function $(){var V=R(),z=G(r);if(z){if(O(),!G(i))return M("property missing ':'");var B=G(o),K=V({type:b,property:E(z[0].replace(e,m)),value:B?E(B[0].replace(e,m)):m});return G(l),K}}function F(){var V=[];D(V);for(var z;z=$();)z!==!1&&(V.push(z),D(V));return V}return U(),F()}function E(A){return A?A.replace(u,m):m}return g0=N,g0}var sk;function Mie(){if(sk)return Os;sk=1;var e=Os&&Os.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Os,"__esModule",{value:!0}),Os.default=n;const t=e(Pie());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const l=(0,t.default)(r),u=typeof i=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:f,value:p}=h;u?i(f,p,h):p&&(o=o||{},o[f]=p)}),o}return Os}var Cu={},lk;function Iie(){if(lk)return Cu;lk=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},h=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return Cu.camelCase=h,Cu}var Tu,uk;function jie(){if(uk)return Tu;uk=1;var e=Tu&&Tu.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Mie()),n=Iie();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,h){u&&h&&(l[(0,n.camelCase)(u,o)]=h)}),l}return r.default=r,Tu=r,Tu}var Rie=jie();const Die=ri(Rie),rO=iO("end"),Hb=iO("start");function iO(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Oie(e){const t=Hb(e),n=rO(e);if(t&&n)return{start:t,end:n}}function Ru(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ck(e.position):"start"in e||"end"in e?ck(e):"line"in e||"column"in e?Vv(e):""}function Vv(e){return dk(e&&e.line)+":"+dk(e&&e.column)}function ck(e){return Vv(e&&e.start)+"-"+Vv(e&&e.end)}function dk(e){return e&&typeof e=="number"?e:1}class Mn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?o.ruleId=r:(o.source=r.slice(0,h),o.ruleId=r.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ru(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mn.prototype.file="";Mn.prototype.name="";Mn.prototype.reason="";Mn.prototype.message="";Mn.prototype.stack="";Mn.prototype.column=void 0;Mn.prototype.line=void 0;Mn.prototype.ancestors=void 0;Mn.prototype.cause=void 0;Mn.prototype.fatal=void 0;Mn.prototype.place=void 0;Mn.prototype.ruleId=void 0;Mn.prototype.source=void 0;const Fb={}.hasOwnProperty,Lie=new Map,Uie=/[A-Z]/g,Bie=new Set(["table","tbody","thead","tfoot","tr"]),zie=new Set(["td","th"]),aO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Jie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Kie(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?qb:_ie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=oO(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function oO(e,t,n){if(t.type==="element")return Hie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Fie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Vie(e,t,n);if(t.type==="mdxjsEsm")return Gie(e,t);if(t.type==="root")return $ie(e,t,n);if(t.type==="text")return Yie(e,t)}function Hie(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=qb,e.schema=i),e.ancestors.push(t);const o=lO(e,t.tagName,!1),l=Xie(e,t);let u=Vb(e,t);return Bie.has(t.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!vie(h):!0})),sO(e,l,o,t),Gb(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function Fie(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}tc(e,t.position)}function Gie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tc(e,t.position)}function Vie(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=qb,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:lO(e,t.name,!0),l=Wie(e,t),u=Vb(e,t);return sO(e,l,o,t),Gb(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function $ie(e,t,n){const r={};return Gb(r,Vb(e,t)),e.create(t,e.Fragment,r,n)}function Yie(e,t){return t.value}function sO(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Gb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Kie(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function Jie(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),h=Hb(r);return t(i,o,l,u,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function Xie(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Fb.call(t.properties,i)){const o=Qie(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&zie.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Wie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else tc(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else tc(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Vb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Lie;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const f=i.get(h)||0;l=h+"-"+f,i.set(h,f+1)}}const u=oO(e,o,l);u!==void 0&&n.push(u)}return n}function Qie(e,t,n){const r=Aie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hie(n):kie(n)),r.property==="style"){let i=typeof n=="object"?n:Zie(e,String(n));return e.stylePropertyNameCase==="css"&&(i=eae(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Sie[r.property]||r.property:r.attribute,n]}}function Zie(e,t){try{return Die(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Mn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=aO+"#cannot-parse-style-attribute",i}}function lO(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=nk(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=nk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Fb.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);tc(e)}function tc(e,t){const n=new Mn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=aO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eae(e){const t={};let n;for(n in e)Fb.call(e,n)&&(t[tae(n)]=e[n]);return t}function tae(e){let t=e.replace(Uie,nae);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function nae(e){return"-"+e.toLowerCase()}const y0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rae={};function iae(e,t){const n=rae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uO(e,r,i)}function uO(e,t,n){if(aae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return fk(e.children,t,n)}return Array.isArray(e)?fk(e,t,n):""}function fk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=uO(e[i],t,n);return r.join("")}function aae(e){return!!(e&&typeof e=="object")}const hk=document.createElement("i");function $b(e){const t="&"+e+";";hk.innerHTML=t;const n=hk.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Si(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function Mr(e,t){return e.length>0?(Si(e,e.length,0,t),e):t}const pk={}.hasOwnProperty;function oae(e){const t={};let n=-1;for(;++n<e.length;)sae(t,e[n]);return t}function sae(e,t){let n;for(n in t){const i=(pk.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){pk.call(i,l)||(i[l]=[]);const u=o[l];lae(i[l],Array.isArray(u)?u:u?[u]:[])}}}function lae(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Si(e,0,0,r)}function cO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Zs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pi=no(/[A-Za-z]/),hr=no(/[\dA-Za-z]/),uae=no(/[#-'*+\--9=?A-Z^-~]/);function $v(e){return e!==null&&(e<32||e===127)}const Yv=no(/\d/),cae=no(/[\dA-Fa-f]/),dae=no(/[!-/:-@[-`{-~]/);function Le(e){return e!==null&&e<-2}function Wn(e){return e!==null&&(e<0||e===32)}function ot(e){return e===-2||e===-1||e===32}const fae=no(new RegExp("\\p{P}|\\p{S}","u")),hae=no(/\s/);function no(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function wl(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&hr(e.charCodeAt(n+1))&&hr(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function yt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return ot(h)?(e.enter(n),u(h)):t(h)}function u(h){return ot(h)&&o++<i?(e.consume(h),u):(e.exit(n),t(h))}}const pae={tokenize:mae};function mae(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),yt(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Le(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const gae={tokenize:yae},mk={tokenize:vae};function yae(e){const t=this,n=[];let r=0,i,o,l;return u;function u(P){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,h,f)(P)}return f(P)}function h(P){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const I=t.events.length;let R=I,j;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){j=t.events[R][1].end;break}T(r);let M=I;for(;M<t.events.length;)t.events[M][1].end={...j},M++;return Si(t.events,R+1,0,t.events.slice(I)),t.events.length=M,f(P)}return u(P)}function f(P){if(r===n.length){if(!i)return v(P);if(i.currentConstruct&&i.currentConstruct.concrete)return N(P);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(mk,p,m)(P)}function p(P){return i&&k(),T(r),v(P)}function m(P){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,N(P)}function v(P){return t.containerState={},e.attempt(mk,b,N)(P)}function b(P){return r++,n.push([t.currentConstruct,t.containerState]),v(P)}function N(P){if(P===null){i&&k(),T(0),e.consume(P);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),E(P)}function E(P){if(P===null){A(e.exit("chunkFlow"),!0),T(0),e.consume(P);return}return Le(P)?(e.consume(P),A(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(P),E)}function A(P,I){const R=t.sliceStream(P);if(I&&R.push(null),P.previous=o,o&&(o.next=P),o=P,i.defineSkip(P.start),i.write(R),t.parser.lazy[P.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<l&&(!i.events[j][1].end||i.events[j][1].end.offset>l))return;const M=t.events.length;let G=M,U,D;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){if(U){D=t.events[G][1].end;break}U=!0}for(T(r),j=M;j<t.events.length;)t.events[j][1].end={...D},j++;Si(t.events,G+1,0,t.events.slice(M)),t.events.length=j}}function T(P){let I=n.length;for(;I-- >P;){const R=n[I];t.containerState=R[1],R[0].exit.call(t,e)}n.length=P}function k(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function vae(e,t,n){return yt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gk(e){if(e===null||Wn(e)||hae(e))return 1;if(fae(e))return 2}function Yb(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Kv={name:"attention",resolveAll:xae,tokenize:bae};function xae(e,t){let n=-1,r,i,o,l,u,h,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},v={...e[n][1].start};yk(m,-h),yk(v,h),l={type:h>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Mr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Mr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=Mr(f,Yb(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Mr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Mr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Si(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function bae(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=gk(r);let o;return l;function l(h){return o=h,e.enter("attentionSequence"),u(h)}function u(h){if(h===o)return e.consume(h),u;const f=e.exit("attentionSequence"),p=gk(h),m=!p||p===2&&i||n.includes(h),v=!i||i===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(i||!v)),f._close=!!(o===42?v:v&&(p||!m)),t(h)}}function yk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wae={name:"autolink",tokenize:Sae};function Sae(e,t,n){let r=0;return i;function i(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return pi(b)?(e.consume(b),l):b===64?n(b):f(b)}function l(b){return b===43||b===45||b===46||hr(b)?(r=1,u(b)):f(b)}function u(b){return b===58?(e.consume(b),r=0,h):(b===43||b===45||b===46||hr(b))&&r++<32?(e.consume(b),u):(r=0,f(b))}function h(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||$v(b)?n(b):(e.consume(b),h)}function f(b){return b===64?(e.consume(b),p):uae(b)?(e.consume(b),f):n(b)}function p(b){return hr(b)?m(b):n(b)}function m(b){return b===46?(e.consume(b),r=0,p):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):v(b)}function v(b){if((b===45||hr(b))&&r++<63){const N=b===45?v:m;return e.consume(b),N}return n(b)}}const pp={partial:!0,tokenize:Nae};function Nae(e,t,n){return r;function r(o){return ot(o)?yt(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Le(o)?t(o):n(o)}}const dO={continuation:{tokenize:Aae},exit:Cae,name:"blockQuote",tokenize:Eae};function Eae(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return ot(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function Aae(e,t,n){const r=this;return i;function i(l){return ot(l)?yt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(dO,t,n)(l)}}function Cae(e){e.exit("blockQuote")}const fO={name:"characterEscape",tokenize:Tae};function Tae(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return dae(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const hO={name:"characterReference",tokenize:_ae};function _ae(e,t,n){const r=this;let i=0,o,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),h}function h(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=hr,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=cae,p):(e.enter("characterReferenceValue"),o=7,l=Yv,p(m))}function p(m){if(m===59&&i){const v=e.exit("characterReferenceValue");return l===hr&&!$b(r.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&i++<o?(e.consume(m),p):n(m)}}const vk={partial:!0,tokenize:Pae},xk={concrete:!0,name:"codeFenced",tokenize:kae};function kae(e,t,n){const r=this,i={partial:!0,tokenize:R};let o=0,l=0,u;return h;function h(j){return f(j)}function f(j){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,u=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(j)}function p(j){return j===u?(l++,e.consume(j),p):l<3?n(j):(e.exit("codeFencedFenceSequence"),ot(j)?yt(e,m,"whitespace")(j):m(j))}function m(j){return j===null||Le(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(vk,E,I)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||Le(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(j)):ot(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yt(e,b,"whitespace")(j)):j===96&&j===u?n(j):(e.consume(j),v)}function b(j){return j===null||Le(j)?m(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),N(j))}function N(j){return j===null||Le(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(j)):j===96&&j===u?n(j):(e.consume(j),N)}function E(j){return e.attempt(i,I,A)(j)}function A(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),T}function T(j){return o>0&&ot(j)?yt(e,k,"linePrefix",o+1)(j):k(j)}function k(j){return j===null||Le(j)?e.check(vk,E,I)(j):(e.enter("codeFlowValue"),P(j))}function P(j){return j===null||Le(j)?(e.exit("codeFlowValue"),k(j)):(e.consume(j),P)}function I(j){return e.exit("codeFenced"),t(j)}function R(j,M,G){let U=0;return D;function D(z){return j.enter("lineEnding"),j.consume(z),j.exit("lineEnding"),O}function O(z){return j.enter("codeFencedFence"),ot(z)?yt(j,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):$(z)}function $(z){return z===u?(j.enter("codeFencedFenceSequence"),F(z)):G(z)}function F(z){return z===u?(U++,j.consume(z),F):U>=l?(j.exit("codeFencedFenceSequence"),ot(z)?yt(j,V,"whitespace")(z):V(z)):G(z)}function V(z){return z===null||Le(z)?(j.exit("codeFencedFence"),M(z)):G(z)}}}function Pae(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const v0={name:"codeIndented",tokenize:Iae},Mae={partial:!0,tokenize:jae};function Iae(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),yt(e,o,"linePrefix",5)(f)}function o(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):Le(f)?e.attempt(Mae,l,h)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Le(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function h(f){return e.exit("codeIndented"),t(f)}}function jae(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Le(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):yt(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Le(l)?i(l):n(l)}}const Rae={name:"codeText",previous:Oae,resolve:Dae,tokenize:Lae};function Dae(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Oae(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Lae(e,t,n){let r=0,i,o;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),h(m))}function h(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),h):m===96?(o=e.enter("codeTextSequence"),i=0,p(m)):Le(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Le(m)?(e.exit("codeTextData"),h(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class Uae{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_u(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_u(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_u(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_u(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_u(this.left,n.reverse())}}}function _u(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function pO(e){const t={};let n=-1,r,i,o,l,u,h,f;const p=new Uae(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Bae(p,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return Si(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function Bae(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,h=[],f={};let p,m,v=-1,b=n,N=0,E=0;const A=[E];for(;b;){for(;e.get(++i)[1]!==b;);o.push(i),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),m&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(E=v+1,A.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):A.pop(),v=A.length;v--;){const T=u.slice(A[v],A[v+1]),k=o.pop();h.push([k,k+T.length-1]),e.splice(k,2,T)}for(h.reverse(),v=-1;++v<h.length;)f[N+h[v][0]]=N+h[v][1],N+=h[v][1]-h[v][0]-1;return f}const zae={resolve:Hae,tokenize:Fae},qae={partial:!0,tokenize:Gae};function Hae(e){return pO(e),e}function Fae(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Le(u)?e.check(qae,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Gae(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),yt(e,o,"linePrefix")}function o(l){if(l===null||Le(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function mO(e,t,n,r,i,o,l,u,h){const f=h||Number.POSITIVE_INFINITY;let p=0;return m;function m(T){return T===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(T),e.exit(o),v):T===null||T===32||T===41||$v(T)?n(T):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),E(T))}function v(T){return T===62?(e.enter(o),e.consume(T),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(e.exit("chunkString"),e.exit(u),v(T)):T===null||T===60||Le(T)?n(T):(e.consume(T),T===92?N:b)}function N(T){return T===60||T===62||T===92?(e.consume(T),b):b(T)}function E(T){return!p&&(T===null||T===41||Wn(T))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(T)):p<f&&T===40?(e.consume(T),p++,E):T===41?(e.consume(T),p--,E):T===null||T===32||T===40||$v(T)?n(T):(e.consume(T),T===92?A:E)}function A(T){return T===40||T===41||T===92?(e.consume(T),E):E(T)}}function gO(e,t,n,r,i,o){const l=this;let u=0,h;return f;function f(b){return e.enter(r),e.enter(i),e.consume(b),e.exit(i),e.enter(o),p}function p(b){return u>999||b===null||b===91||b===93&&!h||b===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(b):b===93?(e.exit(o),e.enter(i),e.consume(b),e.exit(i),e.exit(r),t):Le(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Le(b)||u++>999?(e.exit("chunkString"),p(b)):(e.consume(b),h||(h=!ot(b)),b===92?v:m)}function v(b){return b===91||b===92||b===93?(e.consume(b),u++,m):m(b)}}function yO(e,t,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,h):n(v)}function h(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===l?(e.exit(o),h(l)):v===null?n(v):Le(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),yt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===l||v===null||Le(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?m:p)}function m(v){return v===l||v===92?(e.consume(v),p):p(v)}}function Du(e,t){let n;return r;function r(i){return Le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ot(i)?yt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Vae={name:"definition",tokenize:Yae},$ae={partial:!0,tokenize:Kae};function Yae(e,t,n){const r=this;let i;return o;function o(b){return e.enter("definition"),l(b)}function l(b){return gO.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function u(b){return i=Zs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),h):n(b)}function h(b){return Wn(b)?Du(e,f)(b):f(b)}function f(b){return mO(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return e.attempt($ae,m,m)(b)}function m(b){return ot(b)?yt(e,v,"whitespace")(b):v(b)}function v(b){return b===null||Le(b)?(e.exit("definition"),r.parser.defined.push(i),t(b)):n(b)}}function Kae(e,t,n){return r;function r(u){return Wn(u)?Du(e,i)(u):n(u)}function i(u){return yO(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return ot(u)?yt(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Le(u)?t(u):n(u)}}const Jae={name:"hardBreakEscape",tokenize:Xae};function Xae(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Wae={name:"headingAtx",resolve:Qae,tokenize:Zae};function Qae(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Si(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Zae(e,t,n){let r=0;return i;function i(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||Wn(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),h(p)):p===null||Le(p)?(e.exit("atxHeading"),t(p)):ot(p)?yt(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function h(p){return p===35?(e.consume(p),h):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||Wn(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const eoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bk=["pre","script","style","textarea"],toe={concrete:!0,name:"htmlFlow",resolveTo:ioe,tokenize:aoe},noe={partial:!0,tokenize:soe},roe={partial:!0,tokenize:ooe};function ioe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function aoe(e,t,n){const r=this;let i,o,l,u,h;return f;function f(H){return p(H)}function p(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),m}function m(H){return H===33?(e.consume(H),v):H===47?(e.consume(H),o=!0,E):H===63?(e.consume(H),i=3,r.interrupt?t:q):pi(H)?(e.consume(H),l=String.fromCharCode(H),A):n(H)}function v(H){return H===45?(e.consume(H),i=2,b):H===91?(e.consume(H),i=5,u=0,N):pi(H)?(e.consume(H),i=4,r.interrupt?t:q):n(H)}function b(H){return H===45?(e.consume(H),r.interrupt?t:q):n(H)}function N(H){const pe="CDATA[";return H===pe.charCodeAt(u++)?(e.consume(H),u===pe.length?r.interrupt?t:$:N):n(H)}function E(H){return pi(H)?(e.consume(H),l=String.fromCharCode(H),A):n(H)}function A(H){if(H===null||H===47||H===62||Wn(H)){const pe=H===47,Se=l.toLowerCase();return!pe&&!o&&bk.includes(Se)?(i=1,r.interrupt?t(H):$(H)):eoe.includes(l.toLowerCase())?(i=6,pe?(e.consume(H),T):r.interrupt?t(H):$(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):o?k(H):P(H))}return H===45||hr(H)?(e.consume(H),l+=String.fromCharCode(H),A):n(H)}function T(H){return H===62?(e.consume(H),r.interrupt?t:$):n(H)}function k(H){return ot(H)?(e.consume(H),k):D(H)}function P(H){return H===47?(e.consume(H),D):H===58||H===95||pi(H)?(e.consume(H),I):ot(H)?(e.consume(H),P):D(H)}function I(H){return H===45||H===46||H===58||H===95||hr(H)?(e.consume(H),I):R(H)}function R(H){return H===61?(e.consume(H),j):ot(H)?(e.consume(H),R):P(H)}function j(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),h=H,M):ot(H)?(e.consume(H),j):G(H)}function M(H){return H===h?(e.consume(H),h=null,U):H===null||Le(H)?n(H):(e.consume(H),M)}function G(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Wn(H)?R(H):(e.consume(H),G)}function U(H){return H===47||H===62||ot(H)?P(H):n(H)}function D(H){return H===62?(e.consume(H),O):n(H)}function O(H){return H===null||Le(H)?$(H):ot(H)?(e.consume(H),O):n(H)}function $(H){return H===45&&i===2?(e.consume(H),B):H===60&&i===1?(e.consume(H),K):H===62&&i===4?(e.consume(H),Y):H===63&&i===3?(e.consume(H),q):H===93&&i===5?(e.consume(H),Z):Le(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(noe,X,F)(H)):H===null||Le(H)?(e.exit("htmlFlowData"),F(H)):(e.consume(H),$)}function F(H){return e.check(roe,V,X)(H)}function V(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),z}function z(H){return H===null||Le(H)?F(H):(e.enter("htmlFlowData"),$(H))}function B(H){return H===45?(e.consume(H),q):$(H)}function K(H){return H===47?(e.consume(H),l="",ie):$(H)}function ie(H){if(H===62){const pe=l.toLowerCase();return bk.includes(pe)?(e.consume(H),Y):$(H)}return pi(H)&&l.length<8?(e.consume(H),l+=String.fromCharCode(H),ie):$(H)}function Z(H){return H===93?(e.consume(H),q):$(H)}function q(H){return H===62?(e.consume(H),Y):H===45&&i===2?(e.consume(H),q):$(H)}function Y(H){return H===null||Le(H)?(e.exit("htmlFlowData"),X(H)):(e.consume(H),Y)}function X(H){return e.exit("htmlFlow"),t(H)}}function ooe(e,t,n){const r=this;return i;function i(l){return Le(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function soe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(pp,t,n)}}const loe={name:"htmlText",tokenize:uoe};function uoe(e,t,n){const r=this;let i,o,l;return u;function u(q){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(q),h}function h(q){return q===33?(e.consume(q),f):q===47?(e.consume(q),R):q===63?(e.consume(q),P):pi(q)?(e.consume(q),G):n(q)}function f(q){return q===45?(e.consume(q),p):q===91?(e.consume(q),o=0,N):pi(q)?(e.consume(q),k):n(q)}function p(q){return q===45?(e.consume(q),b):n(q)}function m(q){return q===null?n(q):q===45?(e.consume(q),v):Le(q)?(l=m,K(q)):(e.consume(q),m)}function v(q){return q===45?(e.consume(q),b):m(q)}function b(q){return q===62?B(q):q===45?v(q):m(q)}function N(q){const Y="CDATA[";return q===Y.charCodeAt(o++)?(e.consume(q),o===Y.length?E:N):n(q)}function E(q){return q===null?n(q):q===93?(e.consume(q),A):Le(q)?(l=E,K(q)):(e.consume(q),E)}function A(q){return q===93?(e.consume(q),T):E(q)}function T(q){return q===62?B(q):q===93?(e.consume(q),T):E(q)}function k(q){return q===null||q===62?B(q):Le(q)?(l=k,K(q)):(e.consume(q),k)}function P(q){return q===null?n(q):q===63?(e.consume(q),I):Le(q)?(l=P,K(q)):(e.consume(q),P)}function I(q){return q===62?B(q):P(q)}function R(q){return pi(q)?(e.consume(q),j):n(q)}function j(q){return q===45||hr(q)?(e.consume(q),j):M(q)}function M(q){return Le(q)?(l=M,K(q)):ot(q)?(e.consume(q),M):B(q)}function G(q){return q===45||hr(q)?(e.consume(q),G):q===47||q===62||Wn(q)?U(q):n(q)}function U(q){return q===47?(e.consume(q),B):q===58||q===95||pi(q)?(e.consume(q),D):Le(q)?(l=U,K(q)):ot(q)?(e.consume(q),U):B(q)}function D(q){return q===45||q===46||q===58||q===95||hr(q)?(e.consume(q),D):O(q)}function O(q){return q===61?(e.consume(q),$):Le(q)?(l=O,K(q)):ot(q)?(e.consume(q),O):U(q)}function $(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),i=q,F):Le(q)?(l=$,K(q)):ot(q)?(e.consume(q),$):(e.consume(q),V)}function F(q){return q===i?(e.consume(q),i=void 0,z):q===null?n(q):Le(q)?(l=F,K(q)):(e.consume(q),F)}function V(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Wn(q)?U(q):(e.consume(q),V)}function z(q){return q===47||q===62||Wn(q)?U(q):n(q)}function B(q){return q===62?(e.consume(q),e.exit("htmlTextData"),e.exit("htmlText"),t):n(q)}function K(q){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),ie}function ie(q){return ot(q)?yt(e,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Z(q)}function Z(q){return e.enter("htmlTextData"),l(q)}}const Kb={name:"labelEnd",resolveAll:hoe,resolveTo:poe,tokenize:moe},coe={tokenize:goe},doe={tokenize:yoe},foe={tokenize:voe};function hoe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Si(e,0,e.length,n),e}function poe(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const h={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",h,t],["enter",f,t]],u=Mr(u,e.slice(o+1,o+r+3)),u=Mr(u,[["enter",p,t]]),u=Mr(u,Yb(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=Mr(u,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),u=Mr(u,e.slice(l+1)),u=Mr(u,[["exit",h,t]]),Si(e,o,e.length,u),e}function moe(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?m(v):(l=r.parser.defined.includes(Zs(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),h):n(v)}function h(v){return v===40?e.attempt(coe,p,l?p:m)(v):v===91?e.attempt(doe,p,l?f:m)(v):l?p(v):m(v)}function f(v){return e.attempt(foe,p,m)(v)}function p(v){return t(v)}function m(v){return o._balanced=!0,n(v)}}function goe(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return Wn(m)?Du(e,o)(m):o(m)}function o(m){return m===41?p(m):mO(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Wn(m)?Du(e,h)(m):p(m)}function u(m){return n(m)}function h(m){return m===34||m===39||m===40?yO(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Wn(m)?Du(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function yoe(e,t,n){const r=this;return i;function i(u){return gO.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(Zs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function voe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const xoe={name:"labelStartImage",resolveAll:Kb.resolveAll,tokenize:boe};function boe(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const woe={name:"labelStartLink",resolveAll:Kb.resolveAll,tokenize:Soe};function Soe(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const x0={name:"lineEnding",tokenize:Noe};function Noe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),yt(e,t,"linePrefix")}}const vf={name:"thematicBreak",tokenize:Eoe};function Eoe(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||Le(f))?(e.exit("thematicBreak"),t(f)):n(f)}function h(f){return f===i?(e.consume(f),r++,h):(e.exit("thematicBreakSequence"),ot(f)?yt(e,u,"whitespace")(f):u(f))}}const Jn={continuation:{tokenize:_oe},exit:Poe,name:"list",tokenize:Toe},Aoe={partial:!0,tokenize:Moe},Coe={partial:!0,tokenize:koe};function Toe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(b){const N=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:Yv(b)){if(r.containerState.type||(r.containerState.type=N,e.enter(N,{_container:!0})),N==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(vf,n,f)(b):f(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(b)}return n(b)}function h(b){return Yv(b)&&++l<10?(e.consume(b),h):(!r.interrupt||l<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),f(b)):n(b)}function f(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(pp,r.interrupt?n:p,e.attempt(Aoe,v,m))}function p(b){return r.containerState.initialBlankLine=!0,o++,v(b)}function m(b){return ot(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):n(b)}function v(b){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function _oe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(pp,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yt(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!ot(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Coe,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,yt(e,e.attempt(Jn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function koe(e,t,n){const r=this;return yt(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function Poe(e){e.exit(this.containerState.type)}function Moe(e,t,n){const r=this;return yt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!ot(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const wk={name:"setextUnderline",resolveTo:Ioe,tokenize:joe};function Ioe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function joe(e,t,n){const r=this;let i;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),ot(f)?yt(e,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Le(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const Roe={tokenize:Doe};function Doe(e){const t=this,n=e.attempt(pp,r,e.attempt(this.parser.constructs.flowInitial,i,yt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(zae,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ooe={resolveAll:xO()},Loe=vO("string"),Uoe=vO("text");function vO(e){return{resolveAll:xO(e==="text"?Boe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),h}function h(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),h)}function f(p){if(p===null)return!0;const m=i[p];let v=-1;if(m)for(;++v<m.length;){const b=m[v];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function xO(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Boe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,h;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)h=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const zoe={42:Jn,43:Jn,45:Jn,48:Jn,49:Jn,50:Jn,51:Jn,52:Jn,53:Jn,54:Jn,55:Jn,56:Jn,57:Jn,62:dO},qoe={91:Vae},Hoe={[-2]:v0,[-1]:v0,32:v0},Foe={35:Wae,42:vf,45:[wk,vf],60:toe,61:wk,95:vf,96:xk,126:xk},Goe={38:hO,92:fO},Voe={[-5]:x0,[-4]:x0,[-3]:x0,33:xoe,38:hO,42:Kv,60:[wae,loe],91:woe,92:[Jae,fO],93:Kb,95:Kv,96:Rae},$oe={null:[Kv,Ooe]},Yoe={null:[42,95]},Koe={null:[]},Joe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yoe,contentInitial:qoe,disable:Koe,document:zoe,flow:Foe,flowInitial:Hoe,insideSpan:$oe,string:Goe,text:Voe},Symbol.toStringTag,{value:"Module"}));function Xoe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const h={attempt:M(R),check:M(j),consume:k,enter:P,exit:I,interrupt:M(j,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:N,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:m};let p=t.tokenize.call(f,h);return t.resolveAll&&o.push(t),f;function m(O){return l=Mr(l,O),A(),l[l.length-1]!==null?[]:(G(t,0),f.events=Yb(o,f.events,f),f.events)}function v(O,$){return Qoe(b(O),$)}function b(O){return Woe(l,O)}function N(){const{_bufferIndex:O,_index:$,line:F,column:V,offset:z}=r;return{_bufferIndex:O,_index:$,line:F,column:V,offset:z}}function E(O){i[O.line]=O.column,D()}function A(){let O;for(;r._index<l.length;){const $=l[r._index];if(typeof $=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<$.length;)T($.charCodeAt(r._bufferIndex));else T($)}}function T(O){p=p(O)}function k(O){Le(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,D()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=O}function P(O,$){const F=$||{};return F.type=O,F.start=N(),f.events.push(["enter",F,f]),u.push(F),F}function I(O){const $=u.pop();return $.end=N(),f.events.push(["exit",$,f]),$}function R(O,$){G(O,$.from)}function j(O,$){$.restore()}function M(O,$){return F;function F(V,z,B){let K,ie,Z,q;return Array.isArray(V)?X(V):"tokenize"in V?X([V]):Y(V);function Y(ue){return we;function we(Ue){const ae=Ue!==null&&ue[Ue],Ne=Ue!==null&&ue.null,ke=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return X(ke)(Ue)}}function X(ue){return K=ue,ie=0,ue.length===0?B:H(ue[ie])}function H(ue){return we;function we(Ue){return q=U(),Z=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?Se():ue.tokenize.call($?Object.assign(Object.create(f),$):f,h,pe,Se)(Ue)}}function pe(ue){return O(Z,q),z}function Se(ue){return q.restore(),++ie<K.length?H(K[ie]):B}}}function G(O,$){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&Si(f.events,$,f.events.length-$,O.resolve(f.events.slice($),f)),O.resolveTo&&(f.events=O.resolveTo(f.events,f))}function U(){const O=N(),$=f.previous,F=f.currentConstruct,V=f.events.length,z=Array.from(u);return{from:V,restore:B};function B(){r=O,f.previous=$,f.currentConstruct=F,f.events.length=V,u=z,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Woe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function Qoe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function Zoe(e){const r={constructs:oae([Joe,...(e||{}).extensions||[]]),content:i(pae),defined:[],document:i(gae),flow:i(Roe),lazy:{},string:i(Loe),text:i(Uoe)};return r;function i(o){return l;function l(u){return Xoe(r,o,u)}}}function ese(e){for(;!pO(e););return e}const Sk=/[\0\t\n\r]/g;function tse(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const h=[];let f,p,m,v,b;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(Sk.lastIndex=m,f=Sk.exec(o),v=f&&f.index!==void 0?f.index:o.length,b=o.charCodeAt(v),!f){t=o.slice(m);break}if(b===10&&m===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),m<v&&(h.push(o.slice(m,v)),e+=v-m),b){case 0:{h.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,h.push(-2);e++<p;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}m=v+1}return u&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const nse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rse(e){return e.replace(nse,ise)}function ise(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return cO(n.slice(o?2:1),o?16:10)}return $b(n)||e}const bO={}.hasOwnProperty;function ase(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ose(n)(ese(Zoe(n).document().write(tse()(e,t,!0))))}function ose(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ni),autolinkProtocol:U,autolinkEmail:U,atxHeading:o(At),blockQuote:o(Ne),characterEscape:U,characterReference:U,codeFenced:o(ke),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ke,l),codeText:o(ge,l),codeTextData:U,data:U,codeFlowValue:U,definition:o(xt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o($e),hardBreakEscape:o(mt),hardBreakTrailing:o(mt),htmlFlow:o(Nn,l),htmlFlowData:U,htmlText:o(Nn,l),htmlTextData:U,image:o(Hr),label:l,link:o(Ni),listItem:o(Ei),listItemValue:v,listOrdered:o(yr,m),listUnordered:o(yr),paragraph:o(Sl),reference:H,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(At),strong:o(Nl),thematicBreak:o(El)},exit:{atxHeading:h(),atxHeadingSequence:R,autolink:h(),autolinkEmail:ae,autolinkProtocol:Ue,blockQuote:h(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:ue,characterReference:we,codeFenced:h(A),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:N,codeFlowValue:D,codeIndented:h(T),codeText:h(z),codeTextData:D,data:D,definition:h(),definitionDestinationString:I,definitionLabelString:k,definitionTitleString:P,emphasis:h(),hardBreakEscape:h($),hardBreakTrailing:h($),htmlFlow:h(F),htmlFlowData:D,htmlText:h(V),htmlTextData:D,image:h(K),label:Z,labelText:ie,lineEnding:O,link:h(B),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:pe,resourceDestinationString:q,resourceTitleString:Y,resource:X,setextHeading:h(G),setextHeadingLineSequence:M,setextHeadingText:j,strong:h(),thematicBreak:h()}};wO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(de){let be={type:"root",children:[]};const Re={stack:[be],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:p,data:n},He=[];let Ze=-1;for(;++Ze<de.length;)if(de[Ze][1].type==="listOrdered"||de[Ze][1].type==="listUnordered")if(de[Ze][0]==="enter")He.push(Ze);else{const In=He.pop();Ze=i(de,In,Ze)}for(Ze=-1;++Ze<de.length;){const In=t[de[Ze][0]];bO.call(In,de[Ze][1].type)&&In[de[Ze][1].type].call(Object.assign({sliceSerialize:de[Ze][2].sliceSerialize},Re),de[Ze][1])}if(Re.tokenStack.length>0){const In=Re.tokenStack[Re.tokenStack.length-1];(In[1]||Nk).call(Re,void 0,In[0])}for(be.position={start:Fa(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:Fa(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<t.transforms.length;)be=t.transforms[Ze](be)||be;return be}function i(de,be,Re){let He=be-1,Ze=-1,In=!1,vr,Ct,Tt,En;for(;++He<=Re;){const Ye=de[He];switch(Ye[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ye[0]==="enter"?Ze++:Ze--,En=void 0;break}case"lineEndingBlank":{Ye[0]==="enter"&&(vr&&!En&&!Ze&&!Tt&&(Tt=He),En=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:En=void 0}if(!Ze&&Ye[0]==="enter"&&Ye[1].type==="listItemPrefix"||Ze===-1&&Ye[0]==="exit"&&(Ye[1].type==="listUnordered"||Ye[1].type==="listOrdered")){if(vr){let An=He;for(Ct=void 0;An--;){const qn=de[An];if(qn[1].type==="lineEnding"||qn[1].type==="lineEndingBlank"){if(qn[0]==="exit")continue;Ct&&(de[Ct][1].type="lineEndingBlank",In=!0),qn[1].type="lineEnding",Ct=An}else if(!(qn[1].type==="linePrefix"||qn[1].type==="blockQuotePrefix"||qn[1].type==="blockQuotePrefixWhitespace"||qn[1].type==="blockQuoteMarker"||qn[1].type==="listItemIndent"))break}Tt&&(!Ct||Tt<Ct)&&(vr._spread=!0),vr.end=Object.assign({},Ct?de[Ct][1].start:Ye[1].end),de.splice(Ct||He,0,["exit",vr,Ye[2]]),He++,Re++}if(Ye[1].type==="listItemPrefix"){const An={type:"listItem",_spread:!1,start:Object.assign({},Ye[1].start),end:void 0};vr=An,de.splice(He,0,["enter",An,Ye[2]]),He++,Re++,Tt=void 0,En=!0}}}return de[be][1]._spread=In,Re}function o(de,be){return Re;function Re(He){u.call(this,de(He),He),be&&be.call(this,He)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(de,be,Re){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([be,Re||void 0]),de.position={start:Fa(be.start),end:void 0}}function h(de){return be;function be(Re){de&&de.call(this,Re),f.call(this,Re)}}function f(de,be){const Re=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==de.type&&(be?be.call(this,de,He[0]):(He[1]||Nk).call(this,de,He[0]));else throw new Error("Cannot close `"+de.type+"` ("+Ru({start:de.start,end:de.end})+"): its not open");Re.position.end=Fa(de.end)}function p(){return iae(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(de){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function b(){const de=this.resume(),be=this.stack[this.stack.length-1];be.lang=de}function N(){const de=this.resume(),be=this.stack[this.stack.length-1];be.meta=de}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de.replace(/(\r?\n|\r)$/g,"")}function k(de){const be=this.resume(),Re=this.stack[this.stack.length-1];Re.label=be,Re.identifier=Zs(this.sliceSerialize(de)).toLowerCase()}function P(){const de=this.resume(),be=this.stack[this.stack.length-1];be.title=de}function I(){const de=this.resume(),be=this.stack[this.stack.length-1];be.url=de}function R(de){const be=this.stack[this.stack.length-1];if(!be.depth){const Re=this.sliceSerialize(de).length;be.depth=Re}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(de){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function U(de){const Re=this.stack[this.stack.length-1].children;let He=Re[Re.length-1];(!He||He.type!=="text")&&(He=cn(),He.position={start:Fa(de.start),end:void 0},Re.push(He)),this.stack.push(He)}function D(de){const be=this.stack.pop();be.value+=this.sliceSerialize(de),be.position.end=Fa(de.end)}function O(de){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=be.children[be.children.length-1];Re.position.end=Fa(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&(U.call(this,de),D.call(this,de))}function $(){this.data.atHardBreak=!0}function F(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de}function V(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de}function z(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de}function B(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=be,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function K(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=be,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function ie(de){const be=this.sliceSerialize(de),Re=this.stack[this.stack.length-2];Re.label=rse(be),Re.identifier=Zs(be).toLowerCase()}function Z(){const de=this.stack[this.stack.length-1],be=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const He=de.children;Re.children=He}else Re.alt=be}function q(){const de=this.resume(),be=this.stack[this.stack.length-1];be.url=de}function Y(){const de=this.resume(),be=this.stack[this.stack.length-1];be.title=de}function X(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function pe(de){const be=this.resume(),Re=this.stack[this.stack.length-1];Re.label=be,Re.identifier=Zs(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function Se(de){this.data.characterReferenceType=de.type}function ue(de){const be=this.sliceSerialize(de),Re=this.data.characterReferenceType;let He;Re?(He=cO(be,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=$b(be);const Ze=this.stack[this.stack.length-1];Ze.value+=He}function we(de){const be=this.stack.pop();be.position.end=Fa(de.end)}function Ue(de){D.call(this,de);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(de)}function ae(de){D.call(this,de);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(de)}function Ne(){return{type:"blockquote",children:[]}}function ke(){return{type:"code",lang:null,meta:null,value:""}}function ge(){return{type:"inlineCode",value:""}}function xt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function At(){return{type:"heading",depth:0,children:[]}}function mt(){return{type:"break"}}function Nn(){return{type:"html",value:""}}function Hr(){return{type:"image",title:null,url:"",alt:null}}function Ni(){return{type:"link",title:null,url:"",children:[]}}function yr(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function Ei(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function Sl(){return{type:"paragraph",children:[]}}function Nl(){return{type:"strong",children:[]}}function cn(){return{type:"text",value:""}}function El(){return{type:"thematicBreak"}}}function Fa(e){return{line:e.line,column:e.column,offset:e.offset}}function wO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?wO(e,r):sse(e,r)}}function sse(e,t){let n;for(n in t)if(bO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Nk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ru({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ru({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ru({start:t.start,end:t.end})+") is still open")}function lse(e){const t=this;t.parser=n;function n(r){return ase(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function use(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function cse(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function dse(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function fse(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hse(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pse(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=wl(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,f),e.applyData(t,f)}function mse(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gse(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function SO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function yse(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return SO(e,t);const i={src:wl(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function vse(e,t){const n={src:wl(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function xse(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function bse(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return SO(e,t);const i={href:wl(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function wse(e,t){const n={href:wl(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Sse(e,t,n){const r=e.all(t),i=n?Nse(n):NO(t),o={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?l.push(...p.children):l.push(p)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function Nse(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=NO(n[r])}return t}function NO(e){const t=e.spread;return t??e.children.length>1}function Ese(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function Ase(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cse(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Tse(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _se(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=Hb(t.children[1]),h=rO(t.children[t.children.length-1]);u&&h&&(l.position={start:u,end:h}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function kse(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let h=-1;const f=[];for(;++h<u;){const m=t.children[h],v={},b=l?l[h]:void 0;b&&(v.align=b);let N={type:"element",tagName:o,properties:v,children:[]};m&&(N.children=e.all(m),e.patch(m,N),N=e.applyData(m,N)),f.push(N)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function Pse(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Ek=9,Ak=32;function Mse(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Ck(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Ck(t.slice(i),i>0,!1)),o.join("")}function Ck(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Ek||o===Ak;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Ek||o===Ak;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ise(e,t){const n={type:"text",value:Mse(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function jse(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Rse={blockquote:use,break:cse,code:dse,delete:fse,emphasis:hse,footnoteReference:pse,heading:mse,html:gse,imageReference:yse,image:vse,inlineCode:xse,linkReference:bse,link:wse,listItem:Sse,list:Ese,paragraph:Ase,root:Cse,strong:Tse,table:_se,tableCell:Pse,tableRow:kse,text:Ise,thematicBreak:jse,toml:af,yaml:af,definition:af,footnoteDefinition:af};function af(){}const EO=-1,mp=0,Ou=1,mh=2,Jb=3,Xb=4,Wb=5,Qb=6,AO=7,CO=8,Tk=typeof self=="object"?self:globalThis,Dse=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case mp:case EO:return n(l,i);case Ou:{const u=n([],i);for(const h of l)u.push(r(h));return u}case mh:{const u=n({},i);for(const[h,f]of l)u[r(h)]=r(f);return u}case Jb:return n(new Date(l),i);case Xb:{const{source:u,flags:h}=l;return n(new RegExp(u,h),i)}case Wb:{const u=n(new Map,i);for(const[h,f]of l)u.set(r(h),r(f));return u}case Qb:{const u=n(new Set,i);for(const h of l)u.add(r(h));return u}case AO:{const{name:u,message:h}=l;return n(new Tk[u](h),i)}case CO:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new Tk[o](l),i)};return r},_k=e=>Dse(new Map,e)(0),Ls="",{toString:Ose}={},{keys:Lse}=Object,ku=e=>{const t=typeof e;if(t!=="object"||!e)return[mp,t];const n=Ose.call(e).slice(8,-1);switch(n){case"Array":return[Ou,Ls];case"Object":return[mh,Ls];case"Date":return[Jb,Ls];case"RegExp":return[Xb,Ls];case"Map":return[Wb,Ls];case"Set":return[Qb,Ls];case"DataView":return[Ou,n]}return n.includes("Array")?[Ou,n]:n.includes("Error")?[AO,n]:[mh,n]},of=([e,t])=>e===mp&&(t==="function"||t==="symbol"),Use=(e,t,n,r)=>{const i=(l,u)=>{const h=r.push(l)-1;return n.set(u,h),h},o=l=>{if(n.has(l))return n.get(l);let[u,h]=ku(l);switch(u){case mp:{let p=l;switch(h){case"bigint":u=CO,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return i([EO],l)}return i([u,p],l)}case Ou:{if(h){let v=l;return h==="DataView"?v=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(l)),i([h,[...v]],l)}const p=[],m=i([u,p],l);for(const v of l)p.push(o(v));return m}case mh:{if(h)switch(h){case"BigInt":return i([h,l.toString()],l);case"Boolean":case"Number":case"String":return i([h,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],m=i([u,p],l);for(const v of Lse(l))(e||!of(ku(l[v])))&&p.push([o(v),o(l[v])]);return m}case Jb:return i([u,l.toISOString()],l);case Xb:{const{source:p,flags:m}=l;return i([u,{source:p,flags:m}],l)}case Wb:{const p=[],m=i([u,p],l);for(const[v,b]of l)(e||!(of(ku(v))||of(ku(b))))&&p.push([o(v),o(b)]);return m}case Qb:{const p=[],m=i([u,p],l);for(const v of l)(e||!of(ku(v)))&&p.push(o(v));return m}}const{message:f}=l;return i([u,{name:h,message:f}],l)};return o},kk=(e,{json:t,lossy:n}={})=>{const r=[];return Use(!(t||n),!!t,new Map,r)(e),r},gh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?_k(kk(e,t)):structuredClone(e):(e,t)=>_k(kk(e,t));function Bse(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function zse(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function qse(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Bse,r=e.options.footnoteBackLabel||zse,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[h]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),v=wl(m.toLowerCase());let b=0;const N=[],E=e.footnoteCounts.get(m);for(;E!==void 0&&++b<=E;){N.length>0&&N.push({type:"text",value:" "});let k=typeof n=="string"?n:n(h,b);typeof k=="string"&&(k={type:"text",value:k}),N.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,b),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const A=p[p.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const k=A.children[A.children.length-1];k&&k.type==="text"?k.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...N)}else p.push(...N);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(p,!0)};e.patch(f,T),u.push(T)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...gh(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const TO=(function(e){if(e==null)return Vse;if(typeof e=="function")return gp(e);if(typeof e=="object")return Array.isArray(e)?Hse(e):Fse(e);if(typeof e=="string")return Gse(e);throw new Error("Expected function, string, or object as test")});function Hse(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=TO(e[n]);return gp(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Fse(e){const t=e;return gp(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function Gse(e){return gp(t);function t(n){return n&&n.type===e}}function gp(e){return t;function t(n,r,i){return!!($se(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Vse(){return!0}function $se(e){return e!==null&&typeof e=="object"&&"type"in e}const _O=[],Yse=!0,Pk=!1,Kse="skip";function Jse(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=TO(i),l=r?-1:1;u(e,void 0,[])();function u(h,f,p){const m=h&&typeof h=="object"?h:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=_O,N,E,A;if((!t||o(h,f,p[p.length-1]||void 0))&&(b=Xse(n(h,p)),b[0]===Pk))return b;if("children"in h&&h.children){const T=h;if(T.children&&b[0]!==Kse)for(E=(r?T.children.length:-1)+l,A=p.concat(T);E>-1&&E<T.children.length;){const k=T.children[E];if(N=u(k,E,A)(),N[0]===Pk)return N;E=typeof N[1]=="number"?N[1]:E+l}}return b}}}function Xse(e){return Array.isArray(e)?e:typeof e=="number"?[Yse,e]:e==null?_O:[e]}function kO(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),Jse(e,o,u,i);function u(h,f){const p=f[f.length-1],m=p?p.children.indexOf(h):void 0;return l(h,m,p)}}const Jv={}.hasOwnProperty,Wse={};function Qse(e,t){const n=t||Wse,r=new Map,i=new Map,o=new Map,l={...Rse,...n.handlers},u={all:f,applyData:ele,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:n,patch:Zse,wrap:nle};return kO(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:i,v=String(p.identifier).toUpperCase();m.has(v)||m.set(v,p)}}),u;function h(p,m){const v=p.type,b=u.handlers[v];if(Jv.call(u.handlers,v)&&b)return b(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in p){const{children:E,...A}=p,T=gh(A);return T.children=u.all(p),T}return gh(p)}return(u.options.unknownHandler||tle)(u,p,m)}function f(p){const m=[];if("children"in p){const v=p.children;let b=-1;for(;++b<v.length;){const N=u.one(v[b],p);if(N){if(b&&v[b-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=Mk(N.value)),!Array.isArray(N)&&N.type==="element")){const E=N.children[0];E&&E.type==="text"&&(E.value=Mk(E.value))}Array.isArray(N)?m.push(...N):m.push(N)}}}return m}}function Zse(e,t){e.position&&(t.position=Oie(e))}function ele(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,gh(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function tle(e,t){const n=t.data||{},r="value"in t&&!(Jv.call(n,"hProperties")||Jv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Mk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ik(e,t){const n=Qse(e,t),r=n.one(e,void 0),i=qse(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function rle(e,t){return e&&"run"in e?async function(n,r){const i=Ik(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ik(n,{file:r,...e||t})}}function jk(e){if(e)throw e}var b0,Rk;function ile(){if(Rk)return b0;Rk=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return b0=function h(){var f,p,m,v,b,N,E=arguments[0],A=1,T=arguments.length,k=!1;for(typeof E=="boolean"&&(k=E,E=arguments[1]||{},A=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});A<T;++A)if(f=arguments[A],f!=null)for(p in f)m=u(E,p),v=u(f,p),E!==v&&(k&&v&&(o(v)||(b=i(v)))?(b?(b=!1,N=m&&i(m)?m:[]):N=m&&o(m)?m:{},l(E,{name:p,newValue:h(k,N,v)})):typeof v<"u"&&l(E,{name:p,newValue:v}));return E},b0}var ale=ile();const w0=ri(ale);function Xv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ole(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(h,...f){const p=e[++o];let m=-1;if(h){l(h);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,p?sle(p,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function sle(e,t){let n;return r;function r(...l){const u=e.length>l.length;let h;u&&l.push(i);try{h=e.apply(this,l)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(h&&h.then&&typeof h.then=="function"?h.then(o,i):h instanceof Error?i(h):o(h))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const fi={basename:lle,dirname:ule,extname:cle,join:dle,sep:"/"};function lle(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nc(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function ule(e){if(Nc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cle(e){Nc(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function dle(...e){let t=-1,n;for(;++t<e.length;)Nc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":fle(n)}function fle(e){Nc(e);const t=e.codePointAt(0)===47;let n=hle(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function hle(e,t){let n="",r=0,i=-1,o=0,l=-1,u,h;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function Nc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ple={cwd:mle};function mle(){return"/"}function Wv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function gle(e){if(typeof e=="string")e=new URL(e);else if(!Wv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return yle(e)}function yle(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const S0=["history","path","basename","stem","extname","dirname"];class PO{constructor(t){let n;t?Wv(t)?n={path:t}:typeof t=="string"||vle(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ple.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<S0.length;){const o=S0[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)S0.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?fi.basename(this.path):void 0}set basename(t){E0(t,"basename"),N0(t,"basename"),this.path=fi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fi.dirname(this.path):void 0}set dirname(t){Dk(this.basename,"dirname"),this.path=fi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fi.extname(this.path):void 0}set extname(t){if(N0(t,"extname"),Dk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Wv(t)&&(t=gle(t)),E0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fi.basename(this.path,this.extname):void 0}set stem(t){E0(t,"stem"),N0(t,"stem"),this.path=fi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Mn(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function N0(e,t){if(e&&e.includes(fi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fi.sep+"`")}function E0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Dk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function vle(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xle=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),ble={}.hasOwnProperty;class Zb extends xle{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ole()}copy(){const t=new Zb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(w0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(T0("data",this.frozen),this.namespace[t]=n,this):ble.call(this.namespace,t)&&this.namespace[t]||void 0:t?(T0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=sf(t),r=this.parser||this.Parser;return A0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),A0("process",this.parser||this.Parser),C0("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=sf(t),h=r.parse(u);r.run(h,u,function(p,m,v){if(p||!m||!v)return f(p);const b=m,N=r.stringify(b,v);Nle(N)?v.value=N:v.result=N,f(p,v)});function f(p,m){p||!m?l(p):o?o(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),A0("processSync",this.parser||this.Parser),C0("processSync",this.compiler||this.Compiler),this.process(t,i),Lk("processSync","process",n),r;function i(o,l){n=!0,jk(o),r=l}}run(t,n,r){Ok(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const h=sf(n);i.run(t,h,f);function f(p,m,v){const b=m||t;p?u(p):l?l(b):r(void 0,b,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),Lk("runSync","run",r),i;function o(l,u){jk(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=sf(n),i=this.compiler||this.Compiler;return C0("stringify",i),Ok(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(T0("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;h(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=w0(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,p){let m=-1,v=-1;for(;++m<r.length;)if(r[m][0]===f){v=m;break}if(v===-1)r.push([f,...p]);else if(p.length>0){let[b,...N]=p;const E=r[v][1];Xv(E)&&Xv(b)&&(b=w0(!0,E,b)),r[v]=[f,b,...N]}}}}const wle=new Zb().freeze();function A0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function C0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function T0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Ok(e){if(!Xv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Lk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function sf(e){return Sle(e)?e:new PO(e)}function Sle(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Nle(e){return typeof e=="string"||Ele(e)}function Ele(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ale="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Uk=[],Bk={allowDangerousHtml:!0},Cle=/^(https?|ircs?|mailto|xmpp)$/i,Tle=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function _le(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,l=e.disallowedElements,u=e.rehypePlugins||Uk,h=e.remarkPlugins||Uk,f=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Bk}:Bk,p=e.skipHtml,m=e.unwrapDisallowed,v=e.urlTransform||kle,b=wle().use(lse).use(h).use(rle,f).use(u),N=new PO;typeof r=="string"&&(N.value=r);for(const k of Tle)Object.hasOwn(e,k.from)&&(""+k.from+(k.to?"use `"+k.to+"` instead":"remove it")+Ale+k.id,void 0);const E=b.parse(N);let A=b.runSync(E,N);return i&&(A={type:"element",tagName:"div",properties:{className:i},children:A.type==="root"?A.children:[A]}),kO(A,T),qie(A,{Fragment:c.Fragment,components:o,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function T(k,P,I){if(k.type==="raw"&&I&&typeof P=="number")return p?I.children.splice(P,1):I.children[P]={type:"text",value:k.value},P;if(k.type==="element"){let R;for(R in y0)if(Object.hasOwn(y0,R)&&Object.hasOwn(k.properties,R)){const j=k.properties[R],M=y0[R];(M===null||M.includes(k.tagName))&&(k.properties[R]=v(String(j||""),R,k))}}if(k.type==="element"){let R=t?!t.includes(k.tagName):l?l.includes(k.tagName):!1;if(!R&&n&&typeof P=="number"&&(R=!n(k,P,I)),R&&I&&typeof P=="number")return m&&k.children?I.children.splice(P,1,...k.children):I.children.splice(P,1),P}}}function kle(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||Cle.test(e.slice(0,t))?e:""}const Ple=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(""),[i,o]=C.useState(!1),[l,u]=C.useState([{id:"welcome",role:"assistant",content:"Hello! I can analyze your business data. Ask me about stock levels, today's sales, or party balances."}]),h=C.useRef(null),f=()=>{var v;(v=h.current)==null||v.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{e&&f()},[l,e]);const p=async v=>{if(v==null||v.preventDefault(),!n.trim()||i)return;const b={id:Date.now().toString(),role:"user",content:n};u(A=>[...A,b]),r(""),o(!0);const N=await fie(b.content),E={id:(Date.now()+1).toString(),role:"assistant",content:N};u(A=>[...A,E]),o(!1)},m=["How much sales did we do today?","List items with low stock","Who are my top debtors?","Total value of inventory?"];return c.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none font-sans",children:[e&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 w-[350px] sm:w-[380px] h-[500px] flex flex-col mb-4 overflow-hidden pointer-events-auto animate-in fade-in slide-in-from-bottom-4 duration-200",children:[c.jsxs("div",{className:"bg-[#10b981] p-4 flex items-center justify-between text-white shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:c.jsx(rE,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-sm leading-tight",children:"Business Assistant"}),c.jsxs("div",{className:"flex items-center gap-1.5 opacity-90",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-300 animate-pulse"}),c.jsx("p",{className:"text-[10px] font-medium",children:"Online"})]})]})]}),c.jsx("button",{onClick:()=>t(!1),className:"p-1.5 hover:bg-white/20 rounded-full transition-colors",children:c.jsx(gi,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 scroll-smooth",children:[l.map(v=>c.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"flex-row-reverse":"flex-row"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 shadow-sm ${v.role==="user"?"bg-gray-800 text-white":"bg-[#10b981] text-white"}`,children:v.role==="user"?c.jsx(l3,{className:"w-4 h-4"}):c.jsx(Lu,{className:"w-4 h-4"})}),c.jsx("div",{className:`rounded-2xl px-4 py-3 text-sm max-w-[85%] shadow-sm leading-relaxed ${v.role==="user"?"bg-gray-800 text-white rounded-tr-sm":"bg-white text-gray-800 border border-gray-100 rounded-tl-sm markdown-body"}`,children:c.jsx(_le,{components:{ul:({node:b,...N})=>c.jsx("ul",{className:"list-disc pl-4 my-1 space-y-1",...N}),li:({node:b,...N})=>c.jsx("li",{className:"marker:text-gray-400",...N}),p:({node:b,...N})=>c.jsx("p",{className:"mb-2 last:mb-0",...N}),strong:({node:b,...N})=>c.jsx("span",{className:"font-bold text-[#10b981]",...N})},children:v.content})})]},v.id)),i&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-[#10b981] text-white flex items-center justify-center shrink-0 opacity-50",children:c.jsx(rE,{className:"w-5 h-5"})}),c.jsxs("div",{className:"bg-white border border-gray-100 px-4 py-3 rounded-2xl rounded-tl-sm shadow-sm flex items-center gap-2",children:[c.jsx($s,{className:"w-4 h-4 animate-spin text-[#10b981]"}),c.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Analyzing data..."})]})]}),c.jsx("div",{ref:h})]}),l.length<3&&!i&&c.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 flex gap-2 overflow-x-auto scrollbar-hide",children:m.map((v,b)=>c.jsx("button",{onClick:()=>{r(v),p()},className:"whitespace-nowrap px-3 py-1.5 bg-white border border-gray-200 text-gray-600 rounded-full text-xs font-medium hover:border-[#10b981] hover:text-[#10b981] transition-colors shadow-sm",children:v},b))}),c.jsx("div",{className:"p-3 bg-white border-t border-gray-100",children:c.jsxs("form",{onSubmit:p,className:"relative flex items-center gap-2",children:[c.jsx("input",{type:"text",value:n,onChange:v=>r(v.target.value),placeholder:"Ask about inventory, sales...",className:"flex-1 pl-4 pr-10 py-2.5 bg-gray-100 border-transparent rounded-xl text-sm focus:outline-none focus:bg-white focus:ring-2 focus:ring-[#10b981] transition-all placeholder-gray-400 text-gray-800",disabled:i}),c.jsx("button",{type:"submit",disabled:!n.trim()||i,className:"p-2.5 bg-[#10b981] text-white rounded-xl hover:bg-emerald-600 disabled:opacity-50 disabled:hover:bg-[#10b981] transition-all shadow-md shadow-emerald-500/20 active:scale-95",children:c.jsx(Qk,{className:"w-4 h-4"})})]})})]}),c.jsxs("button",{onClick:()=>t(!e),className:`group relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-300 pointer-events-auto hover:scale-105 active:scale-95 ${e?"bg-gray-800 rotate-90":"bg-[#10b981] hover:bg-emerald-600 shadow-emerald-500/40"}`,children:[e?c.jsx(Nt,{className:"w-6 h-6 text-white"}):c.jsxs(c.Fragment,{children:[c.jsx(Lu,{className:"w-6 h-6 text-white animate-pulse"}),c.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500 border-2 border-white"})]})]}),!e&&c.jsxs("span",{className:"absolute right-full mr-4 top-1/2 -translate-y-1/2 bg-gray-900 text-white text-xs font-bold px-3 py-1.5 rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity shadow-xl translate-x-2 group-hover:translate-x-0",children:["Ask AI Assistant",c.jsx("div",{className:"absolute top-1/2 -right-1 -translate-y-1/2 border-4 border-transparent border-l-gray-900"})]})]})]})},Mle=({onSelect:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,l]=C.useState(!1),[u,h]=C.useState(""),[f,p]=C.useState(!1),[m,v]=C.useState(null);C.useEffect(()=>{b()},[]);const b=async()=>{try{const A=await me.getCompanies();n(A)}catch(A){console.error("Failed to load companies",A)}finally{i(!1)}},N=async A=>{try{v(A),await me.switchCompany(A),e()}catch(T){console.error("Failed to switch company",T),v(null)}},E=async A=>{if(A.preventDefault(),!!u.trim()){p(!0);try{const T=await me.createCompany(u);await N(T.id)}catch(T){console.error("Failed to create company",T),p(!1)}}};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:c.jsx($s,{className:"w-8 h-8 animate-spin text-brand-500"})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"bg-brand-500 p-8 text-center text-white",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:c.jsx(yh,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Welcome to AA Pro"}),c.jsx("p",{className:"text-brand-100 text-sm",children:"Select a company to manage"})]}),c.jsx("div",{className:"p-6",children:o?c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),c.jsx("input",{autoFocus:!0,type:"text",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g. My Business Pvt Ltd",value:u,onChange:A=>h(A.target.value)})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:f||!u.trim(),className:"flex-1 py-3 bg-brand-500 text-white rounded-xl font-medium hover:bg-brand-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:f?c.jsx($s,{className:"w-5 h-5 animate-spin"}):"Create Company"})]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-1",children:t.map(A=>c.jsx("button",{onClick:()=>N(A.id),disabled:m!==null,className:"w-full text-left p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-brand-500 dark:hover:border-brand-500 hover:shadow-md transition-all group bg-white dark:bg-gray-800 disabled:opacity-50 disabled:cursor-wait",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors",children:A.name}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["ID: ",A.id.substring(0,8)]})]}),m===A.id?c.jsx($s,{className:"w-5 h-5 text-brand-500 animate-spin"}):c.jsx(xf,{className:"w-5 h-5 text-gray-300 group-hover:text-brand-500 transition-colors"})]})},A.id))}),c.jsxs("button",{onClick:()=>l(!0),disabled:m!==null,className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 rounded-xl font-medium hover:border-brand-500 hover:text-brand-500 dark:hover:text-brand-400 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(Zr,{className:"w-5 h-5"}),"Create New Company"]})]})})]})})},Ile={PENDING:"bg-yellow-50 text-yellow-700 border-yellow-200",IN_PROGRESS:"bg-blue-50 text-blue-700 border-blue-200",COMPLETED:"bg-emerald-50 text-emerald-700 border-emerald-200",DELIVERED:"bg-gray-100 text-gray-700 border-gray-200",CANCELLED:"bg-red-50 text-red-700 border-red-200"},jle=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,o]=C.useState("ALL"),[l,u]=C.useState(""),[h,f]=C.useState(!1),[p,m]=C.useState({}),[v,b]=C.useState(!1),[N,E]=C.useState(null),{addToast:A}=qr();C.useEffect(()=>{T()},[]),C.useEffect(()=>{k()},[e,i,l]);const T=()=>{t(me.getServiceJobs())},k=()=>{let M=e;if(i!=="ALL"&&(M=M.filter(G=>G.status===i)),l){const G=l.toLowerCase();M=M.filter(U=>U.ticketNumber.toLowerCase().includes(G)||U.customerName.toLowerCase().includes(G)||U.customerPhone.includes(G)||U.deviceModel&&U.deviceModel.toLowerCase().includes(G))}r(M.sort((G,U)=>new Date(U.date).getTime()-new Date(G.date).getTime()))},P=()=>{const M=`JOB-${new Date().getFullYear()}-${(e.length+1).toString().padStart(4,"0")}`;m({ticketNumber:M,date:new Date().toISOString(),status:"PENDING",customerName:"",customerPhone:"",deviceModel:"",devicePassword:"",problemDescription:"",estimatedCost:0,advanceAmount:0,laborCharge:0,usedParts:[],finalAmount:0}),b(!1),f(!0)},I=M=>{m({...M}),b(!0),f(!0)},R=M=>{window.confirm("Are you sure you want to delete this job record?")&&(me.deleteServiceJob(M),T(),A("Job deleted successfully","success"))},j=M=>{try{v?(me.updateServiceJob(M),A("Job updated successfully","success")):(me.addServiceJob(M),A("New Job Created","success")),f(!1),T()}catch(G){console.error(G),A("Failed to save job","error")}};return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto h-full flex flex-col",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(wf,{className:"w-6 h-6 text-brand-500"}),"Service Center"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage repairs, job sheets, and billing"})]}),c.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-medium",children:[c.jsx(Zr,{className:"w-4 h-4"}),"Create New Job"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-600 text-xs font-bold uppercase mb-1",children:[c.jsx($k,{className:"w-3 h-3"})," Pending"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(M=>M.status==="PENDING").length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600 text-xs font-bold uppercase mb-1",children:[c.jsx(wf,{className:"w-3 h-3"})," In Progress"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(M=>M.status==="IN_PROGRESS").length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600 text-xs font-bold uppercase mb-1",children:[c.jsx(xh,{className:"w-3 h-3"})," Completed"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(M=>M.status==="COMPLETED").length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 text-xs font-bold uppercase mb-1",children:[c.jsx(V3,{className:"w-3 h-3"})," Delivered"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(M=>M.status==="DELIVERED").length})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-lg px-3 py-2 flex-1 max-w-md shadow-sm",children:[c.jsx($t,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search Ticket, Phone or Model...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:l,onChange:M=>u(M.target.value)})]}),c.jsx("div",{className:"flex overflow-x-auto pb-1 gap-2 scrollbar-hide",children:["ALL","PENDING","IN_PROGRESS","COMPLETED","DELIVERED","CANCELLED"].map(M=>c.jsx("button",{onClick:()=>o(M),className:`px-4 py-2 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${i===M?"bg-gray-800 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:M.replace("_"," ")},M))})]}),c.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm flex flex-col",children:c.jsx("div",{className:"overflow-x-auto flex-1",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Ticket"}),c.jsx("th",{className:"px-6 py-3",children:"Date"}),c.jsx("th",{className:"px-6 py-3",children:"Customer Info"}),c.jsx("th",{className:"px-6 py-3",children:"Device & Issue"}),c.jsx("th",{className:"px-6 py-3",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Est. Cost"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.map(M=>c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsx("td",{className:"px-6 py-4 font-mono font-medium text-gray-900",children:M.ticketNumber}),c.jsx("td",{className:"px-6 py-4 text-gray-500",children:It(M.date)}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-bold text-gray-800",children:M.customerName}),c.jsx("div",{className:"text-xs text-gray-500",children:M.customerPhone})]}),c.jsxs("td",{className:"px-6 py-4 max-w-xs",children:[c.jsx("div",{className:"font-medium text-gray-800",children:M.deviceModel||"N/A"}),c.jsx("div",{className:"text-xs text-gray-500 truncate",title:M.problemDescription,children:M.problemDescription})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${Ile[M.status]}`,children:M.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:ne(M.estimatedCost)}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>I(M),className:"p-1.5 text-gray-500 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",title:"Edit Job",children:c.jsx(h3,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>E(M),className:"p-1.5 text-gray-500 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors",title:"Print Receipt",children:c.jsx(Ln,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(M.id),className:"p-1.5 text-gray-500 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",title:"Delete",children:c.jsx(aa,{className:"w-4 h-4"})})]})})]},M.id)),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-400",children:"No jobs found matching your criteria."})})]})]})})}),h&&c.jsx(Rle,{jobData:p,isEdit:v,onClose:()=>f(!1),onSave:j}),N&&c.jsx(Dle,{job:N,onClose:()=>E(null)})]})},Rle=({jobData:e,isEdit:t,onClose:n,onSave:r})=>{var M,G,U;const[i,o]=C.useState(e),[l,u]=C.useState([]),[h,f]=C.useState(""),[p,m]=C.useState(!1),{addToast:v}=qr();C.useEffect(()=>{u(me.getProducts())},[]);const b=((M=i.usedParts)==null?void 0:M.reduce((D,O)=>D+O.amount,0))||0,N=Number(i.laborCharge)||0,E=Number(i.advanceAmount)||0,A=b+N,T=A-E,k=D=>{const O=i.usedParts||[],$=O.find(V=>V.productId===D.id);let F;$?F=O.map(V=>V.productId===D.id?{...V,quantity:Math.floor(V.quantity+1),amount:Math.floor(V.quantity+1)*V.rate-(V.discount||0)}:V):F=[...O,{productId:D.id,productName:D.name,quantity:1,rate:D.salePrice,discount:0,amount:D.salePrice,unit:D.unit}],o({...i,usedParts:F}),f(""),m(!1)},P=(D,O,$)=>{const F=[...i.usedParts||[]],V={...F[D]};O==="quantity"?$=Math.max(1,parseInt($)||1):V[O]=$,V[O]=$;const z=Number(V.quantity)||0,B=Number(V.rate)||0,K=Number(V.discount)||0;V.amount=z*B-K,F[D]=V,o({...i,usedParts:F})},I=D=>{const O=[...i.usedParts||[]];O.splice(D,1),o({...i,usedParts:O})},R=D=>{if(D.preventDefault(),!i.customerName){v("Please fill Customer Name","error");return}const O={id:i.id||Date.now().toString(),ticketNumber:i.ticketNumber||`JOB-${Date.now()}`,date:i.date||new Date().toISOString(),customerId:i.customerId,customerName:i.customerName,customerPhone:i.customerPhone||"",customerAddress:i.customerAddress||"",deviceModel:i.deviceModel||"",deviceImei:i.deviceImei||"",devicePassword:i.devicePassword||"",problemDescription:i.problemDescription||"",status:i.status||"PENDING",estimatedDelivery:i.estimatedDelivery,estimatedCost:Number(i.estimatedCost)||0,advanceAmount:Number(i.advanceAmount)||0,technicianNotes:i.technicianNotes||"",usedParts:i.usedParts||[],laborCharge:Number(i.laborCharge)||0,finalAmount:A};r(O)},j=l.filter(D=>D.name.toLowerCase().includes(h.toLowerCase())).slice(0,10);return c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-5xl shadow-2xl flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t?"Update Job Card":"Create New Job"}),c.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["Ticket: ",i.ticketNumber]})]}),c.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:c.jsx(Nt,{className:"w-5 h-5"})})]}),c.jsx("form",{id:"job-form",onSubmit:R,className:"flex-1 overflow-y-auto p-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[c.jsxs("h3",{className:"font-bold text-gray-800 border-b pb-2 mb-3 flex items-center gap-2",children:[c.jsx(J3,{className:"w-4 h-4"})," Customer Info"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:["Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",value:i.customerName,onChange:D=>o({...i,customerName:D.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Phone"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",value:i.customerPhone,onChange:D=>o({...i,customerPhone:D.target.value})})]}),c.jsxs("h3",{className:"font-bold text-gray-800 border-b pb-2 mb-3 mt-6 flex items-center gap-2",children:[c.jsx(R3,{className:"w-4 h-4"})," Device Details"]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Model Name"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"e.g. iPhone 15",value:i.deviceModel,onChange:D=>o({...i,deviceModel:D.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"IMEI / Serial"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",value:i.deviceImei,onChange:D=>o({...i,deviceImei:D.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Password"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"e.g. 1234",value:i.devicePassword,onChange:D=>o({...i,devicePassword:D.target.value})})]})]}),c.jsxs("div",{className:"pt-4",children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Problem Description"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500 min-h-[60px]",value:i.problemDescription,onChange:D=>o({...i,problemDescription:D.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Intake Date"}),c.jsx(Jt,{value:i.date||"",onChange:D=>o({...i,date:D})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Est. Delivery"}),c.jsx(Jt,{value:i.estimatedDelivery||"",onChange:D=>o({...i,estimatedDelivery:D})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Current Status"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500 bg-white",value:i.status,onChange:D=>o({...i,status:D.target.value}),children:[c.jsx("option",{value:"PENDING",children:"Pending"}),c.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),c.jsx("option",{value:"COMPLETED",children:"Completed"}),c.jsx("option",{value:"DELIVERED",children:"Delivered"}),c.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),c.jsx("div",{className:"lg:col-span-8 flex flex-col",children:c.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 flex flex-col h-full",children:[c.jsxs("h3",{className:"font-bold text-gray-800 border-b pb-2 mb-4 flex justify-between items-center",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Zk,{className:"w-4 h-4"})," Spare Parts & Billing"]}),c.jsxs("span",{className:"text-xs text-brand-600",children:["Total Parts: ",ne(b)]})]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2.5 pl-9 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Search products to add as spare parts...",value:h,onChange:D=>{f(D.target.value),m(!0)},onFocus:()=>m(!0)}),c.jsx($t,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"})]}),p&&h&&c.jsxs("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 mt-1 max-h-60 overflow-y-auto",children:[j.map(D=>c.jsxs("div",{className:"p-3 text-sm hover:bg-gray-50 cursor-pointer flex justify-between items-center border-b last:border-0",onClick:()=>k(D),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800",children:D.name}),c.jsxs("div",{className:"text-[10px] text-gray-500",children:["Stock: ",D.stock," ",D.unit]})]}),c.jsx("span",{className:"font-bold text-brand-600",children:ne(D.salePrice)})]},D.id)),j.length===0&&c.jsx("div",{className:"p-3 text-center text-gray-400 text-xs italic",children:"No items found"})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg flex-1 overflow-hidden flex flex-col min-h-[250px]",children:[c.jsxs("div",{className:"grid grid-cols-[1fr_60px_60px_100px_80px_100px_40px] gap-2 bg-gray-100 px-3 py-2 text-[10px] font-bold text-gray-500 uppercase",children:[c.jsx("div",{children:"Part Name"}),c.jsx("div",{className:"text-center",children:"Qty"}),c.jsx("div",{children:"Unit"}),c.jsx("div",{className:"text-right",children:"Rate"}),c.jsx("div",{className:"text-right",children:"Dis."}),c.jsx("div",{className:"text-right",children:"Amount"}),c.jsx("div",{})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[((G=i.usedParts)==null?void 0:G.length)===0&&c.jsx("div",{className:"text-sm text-center text-gray-400 py-10",children:"No spare parts added yet."}),(U=i.usedParts)==null?void 0:U.map((D,O)=>c.jsxs("div",{className:"grid grid-cols-[1fr_60px_60px_100px_80px_100px_40px] gap-2 items-center text-xs bg-white border border-transparent hover:border-gray-200 p-1.5 rounded transition-all",children:[c.jsx("div",{className:"font-medium text-gray-800 truncate",title:D.productName,children:D.productName}),c.jsx("div",{children:c.jsx("input",{type:"number",min:"1",step:"1",className:"w-full border rounded p-1 text-center",value:D.quantity,onChange:$=>P(O,"quantity",$.target.value)})}),c.jsx("div",{children:c.jsx("input",{className:"w-full border rounded p-1 text-center uppercase text-[10px]",value:D.unit,onChange:$=>P(O,"unit",$.target.value)})}),c.jsx("div",{children:c.jsx("input",{type:"number",className:"w-full border rounded p-1 text-right",value:D.rate,onChange:$=>P(O,"rate",Number($.target.value))})}),c.jsx("div",{children:c.jsx("input",{type:"number",className:"w-full border rounded p-1 text-right",value:D.discount||0,onChange:$=>P(O,"discount",Number($.target.value))})}),c.jsx("div",{className:"text-right font-bold text-gray-700",children:ne(D.amount)}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:()=>I(O),className:"text-red-400 hover:text-red-600 p-1",children:c.jsx(aa,{className:"w-3.5 h-3.5"})})})]},O))]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Internal Technician Notes"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500 min-h-[80px]",placeholder:"Add repair status updates...",value:i.technicianNotes,onChange:D=>o({...i,technicianNotes:D.target.value})})]}),c.jsxs("div",{className:"space-y-2 bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Subtotal Parts:"}),c.jsx("span",{className:"font-medium text-gray-900",children:ne(b)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Labor Charge:"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-[10px]",children:"Rs."}),c.jsx("input",{type:"number",className:"w-24 border border-gray-300 rounded p-1.5 pl-7 text-right text-sm focus:ring-1 focus:ring-brand-500 outline-none font-bold",value:i.laborCharge,onChange:D=>o({...i,laborCharge:Number(D.target.value)})})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-dashed",children:[c.jsx("span",{className:"text-gray-500",children:"Service Estimate:"}),c.jsx("input",{type:"number",className:"w-24 border border-gray-300 rounded p-1 text-right text-sm",value:i.estimatedCost,onChange:D=>o({...i,estimatedCost:Number(D.target.value)})})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[c.jsx("span",{className:"font-bold text-gray-800",children:"Grand Total:"}),c.jsx("span",{className:"font-bold text-gray-900 text-lg",children:ne(A)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm text-red-600 font-medium",children:[c.jsx("span",{children:"Advance Paid:"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-red-300 text-[10px]",children:"Rs."}),c.jsx("input",{type:"number",className:"w-24 border border-red-200 bg-red-50/30 rounded p-1.5 pl-7 text-right text-sm focus:ring-1 focus:ring-red-400 outline-none",value:i.advanceAmount,onChange:D=>o({...i,advanceAmount:Number(D.target.value)})})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-base border-t-2 border-brand-500 pt-2 mt-2 bg-brand-50 p-2 rounded",children:[c.jsx("span",{className:"font-bold text-brand-900",children:"Balance Payable:"}),c.jsx("span",{className:"font-black text-brand-700 text-xl",children:ne(T)})]})]})]})]})})]})}),c.jsxs("div",{className:"p-4 border-t border-gray-100 flex justify-between bg-gray-50 rounded-b-xl",children:[c.jsx("div",{className:"text-[10px] text-gray-400 self-center italic",children:"* Parts stock will be updated if status is set to Delivered or Completed."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",form:"job-form",className:"px-8 py-2.5 bg-brand-500 text-white font-bold rounded-lg hover:bg-brand-600 transition-colors shadow-lg shadow-brand-500/20 flex items-center gap-2",children:[c.jsx(sl,{className:"w-4 h-4"})," ",t?"Update Record":"Save Job Card"]})]})]})]})})},Dle=({job:e,onClose:t})=>{const n=me.getBusinessProfile();C.useEffect(()=>{},[]);const r=({title:i})=>c.jsxs("div",{className:"border border-gray-800 p-6 mb-8 bg-white text-black min-h-[400px]",children:[c.jsxs("div",{className:"flex justify-between border-b-2 border-gray-800 pb-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold uppercase",children:n.name}),c.jsx("p",{className:"text-sm",children:n.address}),c.jsx("p",{className:"text-sm",children:n.phone})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-xl font-bold uppercase",children:i}),c.jsx("p",{className:"font-mono text-lg font-bold",children:e.ticketNumber}),c.jsxs("p",{className:"text-sm",children:["Date: ",It(e.date)]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Customer Details"}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Name:"})," ",e.customerName]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.customerPhone]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Device Details"}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Model:"})," ",e.deviceModel||"N/A"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"IMEI:"})," ",e.deviceImei||"N/A"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Password:"})," ",e.devicePassword||"N/A"]})]})]}),c.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-4",children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Problem / Issue"}),c.jsx("p",{className:"italic mb-4",children:e.problemDescription}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Technician Notes"}),c.jsx("p",{className:"italic min-h-[40px] font-mono text-sm",children:e.technicianNotes||"_________________________________________________"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-auto pt-4",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-bold",children:"Terms & Conditions:"}),c.jsxs("ul",{className:"list-disc pl-4 text-xs",children:[c.jsx("li",{children:"Goods once sold or repaired are not returnable."}),c.jsx("li",{children:"We are not responsible for data loss during repair."}),c.jsx("li",{children:"Device must be collected within 30 days."})]})]}),c.jsxs("div",{className:"text-right space-y-1",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Est. Cost:"})," ",ne(e.estimatedCost)]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Advance:"})," ",ne(e.advanceAmount)]}),c.jsx("div",{className:"mt-8 pt-4 border-t border-gray-800 inline-block w-32 text-center text-xs",children:"Authorized Signature"})]})]})]});return c.jsxs("div",{className:"fixed inset-0 z-[100] bg-gray-900/80 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 print:hidden",children:[c.jsx("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white p-2 rounded-full shadow hover:bg-blue-700",children:c.jsx(Ln,{className:"w-6 h-6"})}),c.jsx("button",{onClick:t,className:"bg-gray-600 text-white p-2 rounded-full shadow hover:bg-gray-700",children:c.jsx(Nt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"bg-white w-[210mm] min-h-[297mm] p-8 overflow-y-auto print:p-0 print:w-full print:h-full print:absolute print:inset-0",children:[c.jsx(r,{title:"Job Sheet (Customer Copy)"}),c.jsx("div",{className:"border-t-2 border-dashed border-gray-400 my-8 relative",children:c.jsx("span",{className:"absolute left-1/2 -top-3 bg-white px-2 text-xs text-gray-500 -translate-x-1/2",children:"Cut Here"})}),c.jsx(r,{title:"Job Sheet (Shop Copy)"})]})]})},Ole=()=>{const[e,t]=C.useState(null),[n,r]=C.useState(!1),{addToast:i}=qr();C.useEffect(()=>{t(me.getCashDrawer())},[]);const o=(h,f)=>{if(!e)return;const p=e.notes.map(m=>m.denomination===h?{...m,count:Math.max(0,f)}:m);t({...e,notes:p})},l=()=>{e&&(me.updateCashDrawer({...e,lastUpdated:new Date().toISOString()}),r(!1),i("Cash drawer reconciled successfully","success"))};if(!e)return null;const u=e.notes.reduce((h,f)=>h+f.denomination*f.count,0);return c.jsxs("div",{className:"p-4 lg:p-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(Dr,{className:"w-6 h-6 text-brand-500"}),"Cash Drawer"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage physical note counts and reconciliation"})]}),c.jsx("div",{className:"flex gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{t(me.getCashDrawer()),r(!1)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors text-sm font-medium",children:"Cancel"}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-medium",children:[c.jsx(sl,{className:"w-4 h-4"}),"Save Reconciliation"]})]}):c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors shadow-sm font-medium",children:[c.jsx(Xk,{className:"w-4 h-4"}),"Reconcile Drawer"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm text-center",children:[c.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-wider mb-2",children:"Total Physical Cash"}),c.jsx("p",{className:"text-3xl font-black text-brand-600",children:ne(u)}),c.jsxs("p",{className:"text-[10px] text-gray-400 mt-4 uppercase",children:["Last Updated: ",new Date(e.lastUpdated).toLocaleString()]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 text-sm text-blue-800 flex gap-3",children:[c.jsx(Kk,{className:"w-5 h-5 shrink-0 text-blue-600"}),c.jsx("p",{children:'This count represents physical cash inside the register. It should match your "Cash In Hand" account balance.'})]})]}),c.jsxs("div",{className:"md:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[c.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase",children:"Physical Denominations"}),c.jsxs("span",{className:"text-xs text-gray-500",children:[e.notes.filter(h=>h.count>0).length," note types present"]})]}),c.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.notes.map(h=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${h.count>0?"bg-brand-50/30 border-brand-100":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-12 h-8 rounded flex items-center justify-center font-bold text-sm shadow-sm ${h.denomination>=500?"bg-red-100 text-red-700 border border-red-200":h.denomination>=50?"bg-green-100 text-green-700 border border-green-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:h.denomination}),c.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"X"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[n?c.jsx("input",{type:"number",min:"0",className:"w-20 p-2 border border-gray-300 rounded-lg text-center font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:h.count,onChange:f=>o(h.denomination,parseInt(f.target.value)||0)}):c.jsx("span",{className:"text-xl font-black text-gray-800",children:h.count}),c.jsxs("div",{className:"w-24 text-right",children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Subtotal"}),c.jsx("p",{className:"text-sm font-bold text-gray-700",children:ne(h.denomination*h.count)})]})]})]},h.denomination))})]})]})]})},Lle=({onLoginSuccess:e})=>{const[t,n]=C.useState(""),[r,i]=C.useState(""),[o,l]=C.useState(!1),[u,h]=C.useState(""),f=async p=>{p.preventDefault(),l(!0),h(""),setTimeout(()=>{Uu.login(t,r)?e():(h("Invalid email or password. Please try again."),l(!1))},800)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 font-sans transition-colors duration-200",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-brand-500 rounded-3xl shadow-xl shadow-brand-500/20 mb-6 transform hover:rotate-12 transition-transform duration-300",children:c.jsx(Ro,{className:"w-10 h-10 text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter",children:"AA Pro"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-medium",children:"Business Management & POS System"})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"p-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"Sign In"}),c.jsxs("form",{onSubmit:f,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-2 tracking-widest",children:"Email Address"}),c.jsxs("div",{className:"relative group",children:[c.jsx(i3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-brand-500 transition-colors"}),c.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none text-gray-800 dark:text-white font-medium transition-all",placeholder:"name@business.com",value:t,onChange:p=>n(p.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-2 tracking-widest",children:"Password"}),c.jsxs("div",{className:"relative group",children:[c.jsx(Jk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-brand-500 transition-colors"}),c.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none text-gray-800 dark:text-white font-medium transition-all",placeholder:"",value:r,onChange:p=>i(p.target.value)})]})]}),u&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 p-3 rounded-xl flex items-center gap-3 text-red-600 dark:text-red-400 text-sm animate-shake",children:[c.jsx(Vs,{className:"w-4 h-4 shrink-0"}),u]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 bg-brand-500 hover:bg-brand-600 text-white rounded-xl font-bold shadow-lg shadow-brand-500/30 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2",children:o?c.jsx($s,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(e3,{className:"w-5 h-5"}),"Access Dashboard"]})})]})]}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 border-t border-gray-100 dark:border-gray-600 text-center",children:c.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Authorized Personnel Only  IP: 127.0.0.1"})})]}),c.jsx("p",{className:"text-center mt-8 text-gray-400 dark:text-gray-600 text-xs uppercase font-bold tracking-widest",children:"Powered by AA Pro Enterprise"})]})})},Ule=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[i,o]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState("dashboard"),[p,m]=C.useState(null),[v,b]=C.useState(null),[N,E]=C.useState(null),[A,T]=C.useState(null),[k,P]=C.useState(0),[I,R]=C.useState(0),[j,M]=C.useState(0),[G,U]=C.useState(null);C.useEffect(()=>{r(Uu.isAuthenticated()),(async()=>{const X=localStorage.getItem("active_company_id");X?(await me.init(X),me.getActiveCompanyId()?(o(!0),t(!0)):(localStorage.removeItem("active_company_id"),t(!0))):t(!0)})();const q=()=>P(X=>X+1),Y=()=>{o(!1),f("dashboard")};return window.addEventListener("db-updated",q),window.addEventListener("db-logout",Y),()=>{window.removeEventListener("db-updated",q),window.removeEventListener("db-logout",Y)}},[]),C.useEffect(()=>{const Z=q=>{if(n&&q.altKey)switch(q.key.toLowerCase()){case"s":q.preventDefault(),m("SALE"),E(null);break;case"p":q.preventDefault(),m("PURCHASE"),E(null);break;case"i":q.preventDefault(),b("PAYMENT_IN"),T(null);break;case"o":q.preventDefault(),b("PAYMENT_OUT"),T(null);break;case"c":q.preventDefault(),m("SALE_RETURN"),E(null);break;case"d":q.preventDefault(),m("PURCHASE_RETURN"),E(null);break;case"q":q.preventDefault(),m("QUOTATION"),E(null);break;case"e":q.preventDefault(),b("EXPENSE"),T(null);break;case"m":q.preventDefault(),f("inventory"),R(X=>X+1);break;case"n":q.preventDefault(),f("parties"),M(X=>X+1);break;case"l":q.preventDefault(),f("reports"),U("PARTY_STATEMENT");break}};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[n]);const D=()=>{m(null),E(null),P(Z=>Z+1)},O=()=>{b(null),T(null),P(Z=>Z+1)},$=Z=>{["PAYMENT_IN","PAYMENT_OUT","EXPENSE"].includes(Z.type)?(T(Z),b(Z.type)):(E(Z),m(Z.type))},F=(Z,q)=>{const Y={...Z,type:q,id:"",date:new Date().toISOString()};E(Y),m(q)},V=Z=>{const q={id:"",date:new Date().toISOString(),type:"PURCHASE",partyId:"",partyName:"",items:Z,totalAmount:Z.reduce((Y,X)=>Y+X.amount,0)};E(q),m("PURCHASE")},z=()=>{m(null),E(null)},B=()=>{b(null),T(null)},K=()=>{f("reports"),U("OUT_OF_STOCK")},ie=()=>{switch(h){case"dashboard":return c.jsx(x_,{onNavigate:f});case"parties":return c.jsx(jX,{triggerAdd:j});case"inventory":return c.jsx(RX,{triggerAdd:I,refreshKey:k,onNavigateToRestock:K});case"pricelist":return c.jsx(DX,{});case"service-center":return c.jsx(jle,{});case"cash-drawer":return c.jsx(Ole,{});case"sales-invoices":return c.jsx(qa,{type:"SALE",onNew:()=>{E(null),m("SALE")},refreshKey:k,onEdit:$},"sales");case"sales-payment-in":return c.jsx(qa,{type:"PAYMENT_IN",onNew:()=>{T(null),b("PAYMENT_IN")},refreshKey:k,onEdit:$},"payment-in");case"sales-quotations":return c.jsx(qa,{type:"QUOTATION",onNew:()=>{E(null),m("QUOTATION")},refreshKey:k,onEdit:$,onConvert:Z=>F(Z,"SALE")},"quotations");case"sales-return":return c.jsx(qa,{type:"SALE_RETURN",onNew:()=>{E(null),m("SALE_RETURN")},refreshKey:k,onEdit:$},"sales-return");case"purchase-bills":return c.jsx(qa,{type:"PURCHASE",onNew:()=>{E(null),m("PURCHASE")},refreshKey:k,onEdit:$},"purchase");case"purchase-payment-out":return c.jsx(qa,{type:"PAYMENT_OUT",onNew:()=>{T(null),b("PAYMENT_OUT")},refreshKey:k,onEdit:$},"payment-out");case"purchase-auto-order":return c.jsx(b_,{targetReport:"OUT_OF_STOCK",onConsumeTarget:()=>U(null),onConvertToPurchase:V});case"purchase-orders":return c.jsx(qa,{type:"PURCHASE_ORDER",onNew:()=>{E(null),m("PURCHASE_ORDER")},refreshKey:k,onEdit:$,onConvert:Z=>F(Z,"PURCHASE")},"purchase-orders");case"purchase-return":return c.jsx(qa,{type:"PURCHASE_RETURN",onNew:()=>{E(null),m("PURCHASE_RETURN")},refreshKey:k,onEdit:$},"purchase-return");case"expense":return c.jsx(FX,{onNew:()=>{T(null),b("EXPENSE")},refreshKey:k,onEdit:$});case"reports":return c.jsx(b_,{targetReport:G,onConsumeTarget:()=>U(null),onConvertToPurchase:V});case"manage-accounts":return c.jsx(QX,{});case"settings":return c.jsx(HX,{});default:return c.jsx(x_,{onNavigate:f})}};return n?e?i?c.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 overflow-hidden transition-colors duration-200",children:[c.jsx(t6,{isOpen:l,activeTab:h,setActiveTab:f,onClose:()=>u(!1)}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[c.jsx(s6,{onMenuClick:()=>u(!l)}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:ie()}),c.jsx(Ple,{})]}),p&&c.jsx(UX,{type:p,initialData:N,onClose:z,onSave:D}),v&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:[(v==="PAYMENT_IN"||v==="PAYMENT_OUT")&&c.jsx(BX,{type:v,initialData:A,onClose:B,onSave:O}),v==="EXPENSE"&&c.jsx(VX,{initialData:A,onClose:B,onSave:O})]})]},k):c.jsx(Mle,{onSelect:()=>o(!0)}):c.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50 dark:bg-gray-900",children:c.jsx($s,{className:"w-10 h-10 animate-spin text-brand-500"})}):c.jsx(Lle,{onLoginSuccess:()=>r(!0)})},MO=document.getElementById("root");if(!MO)throw new Error("Could not find root element to mount to");const Ble=nL.createRoot(MO);Ble.render(c.jsx(zk.StrictMode,{children:c.jsx(a6,{children:c.jsx(IX,{children:c.jsx(Ule,{})})})}));

  </script>
</head>
  <body class="bg-gray-50 dark:bg-gray-900 text-slate-800 dark:text-gray-100 antialiased transition-colors duration-200">
    <div id="root"></div>
</body>
</html>
