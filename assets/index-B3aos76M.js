var G5=Object.defineProperty;var V5=(e,t,n)=>t in e?G5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pg=(e,t,n)=>V5(e,typeof t!="symbol"?t+"":t,n);function $5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ii(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mg={exports:{}},gu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN;function Y5(){if(JN)return gu;JN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return gu.Fragment=t,gu.jsx=n,gu.jsxs=n,gu}var XN;function K5(){return XN||(XN=1,Mg.exports=Y5()),Mg.exports}var c=K5(),jg={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WN;function J5(){if(WN)return qe;WN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=v&&Y[v]||Y["@@iterator"],typeof Y=="function"?Y:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function T(Y,X,H){this.props=Y,this.context=X,this.refs=E,this.updater=H||N}T.prototype.isReactComponent={},T.prototype.setState=function(Y,X){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,X,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function P(){}P.prototype=T.prototype;function M(Y,X,H){this.props=Y,this.context=X,this.refs=E,this.updater=H||N}var k=M.prototype=new P;k.constructor=M,A(k,T.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function I(){}var j={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(Y,X,H){var me=H.ref;return{$$typeof:e,type:Y,key:X,ref:me!==void 0?me:null,props:H}}function D(Y,X){return U(Y.type,X,Y.props)}function O(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function $(Y){var X={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(H){return X[H]})}var F=/\/+/g;function V(Y,X){return typeof Y=="object"&&Y!==null&&Y.key!=null?$(""+Y.key):X.toString(36)}function z(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(I,I):(Y.status="pending",Y.then(function(X){Y.status==="pending"&&(Y.status="fulfilled",Y.value=X)},function(X){Y.status==="pending"&&(Y.status="rejected",Y.reason=X)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function B(Y,X,H,me,Ne){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var we=!1;if(Y===null)we=!0;else switch(ue){case"bigint":case"string":case"number":we=!0;break;case"object":switch(Y.$$typeof){case e:case t:we=!0;break;case p:return we=Y._init,B(we(Y._payload),X,H,me,Ne)}}if(we)return Ne=Ne(Y),we=me===""?"."+V(Y,0):me,R(Ne)?(H="",we!=null&&(H=we.replace(F,"$&/")+"/"),B(Ne,X,H,"",function(Ee){return Ee})):Ne!=null&&(O(Ne)&&(Ne=D(Ne,H+(Ne.key==null||Y&&Y.key===Ne.key?"":(""+Ne.key).replace(F,"$&/")+"/")+we)),X.push(Ne)),1;we=0;var Ue=me===""?".":me+":";if(R(Y))for(var ae=0;ae<Y.length;ae++)me=Y[ae],ue=Ue+V(me,ae),we+=B(me,X,H,ue,Ne);else if(ae=b(Y),typeof ae=="function")for(Y=ae.call(Y),ae=0;!(me=Y.next()).done;)me=me.value,ue=Ue+V(me,ae++),we+=B(me,X,H,ue,Ne);else if(ue==="object"){if(typeof Y.then=="function")return B(z(Y),X,H,me,Ne);throw X=String(Y),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(Y,X,H){if(Y==null)return Y;var me=[],Ne=0;return B(Y,me,"","",function(ue){return X.call(H,ue,Ne++)}),me}function ie(Y){if(Y._status===-1){var X=Y._result;X=X(),X.then(function(H){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=H)},function(H){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=H)}),Y._status===-1&&(Y._status=0,Y._result=X)}if(Y._status===1)return Y._result.default;throw Y._result}var Z=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},q={map:K,forEach:function(Y,X,H){K(Y,function(){X.apply(this,arguments)},H)},count:function(Y){var X=0;return K(Y,function(){X++}),X},toArray:function(Y){return K(Y,function(X){return X})||[]},only:function(Y){if(!O(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return qe.Activity=m,qe.Children=q,qe.Component=T,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=M,qe.StrictMode=r,qe.Suspense=h,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,qe.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return j.H.useMemoCache(Y)}},qe.cache=function(Y){return function(){return Y.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(Y,X,H){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var me=A({},Y.props),Ne=Y.key;if(X!=null)for(ue in X.key!==void 0&&(Ne=""+X.key),X)!G.call(X,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&X.ref===void 0||(me[ue]=X[ue]);var ue=arguments.length-2;if(ue===1)me.children=H;else if(1<ue){for(var we=Array(ue),Ue=0;Ue<ue;Ue++)we[Ue]=arguments[Ue+2];me.children=we}return U(Y.type,Ne,me)},qe.createContext=function(Y){return Y={$$typeof:l,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},qe.createElement=function(Y,X,H){var me,Ne={},ue=null;if(X!=null)for(me in X.key!==void 0&&(ue=""+X.key),X)G.call(X,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ne[me]=X[me]);var we=arguments.length-2;if(we===1)Ne.children=H;else if(1<we){for(var Ue=Array(we),ae=0;ae<we;ae++)Ue[ae]=arguments[ae+2];Ne.children=Ue}if(Y&&Y.defaultProps)for(me in we=Y.defaultProps,we)Ne[me]===void 0&&(Ne[me]=we[me]);return U(Y,ue,Ne)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(Y){return{$$typeof:u,render:Y}},qe.isValidElement=O,qe.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:ie}},qe.memo=function(Y,X){return{$$typeof:f,type:Y,compare:X===void 0?null:X}},qe.startTransition=function(Y){var X=j.T,H={};j.T=H;try{var me=Y(),Ne=j.S;Ne!==null&&Ne(H,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(I,Z)}catch(ue){Z(ue)}finally{X!==null&&H.types!==null&&(X.types=H.types),j.T=X}},qe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},qe.use=function(Y){return j.H.use(Y)},qe.useActionState=function(Y,X,H){return j.H.useActionState(Y,X,H)},qe.useCallback=function(Y,X){return j.H.useCallback(Y,X)},qe.useContext=function(Y){return j.H.useContext(Y)},qe.useDebugValue=function(){},qe.useDeferredValue=function(Y,X){return j.H.useDeferredValue(Y,X)},qe.useEffect=function(Y,X){return j.H.useEffect(Y,X)},qe.useEffectEvent=function(Y){return j.H.useEffectEvent(Y)},qe.useId=function(){return j.H.useId()},qe.useImperativeHandle=function(Y,X,H){return j.H.useImperativeHandle(Y,X,H)},qe.useInsertionEffect=function(Y,X){return j.H.useInsertionEffect(Y,X)},qe.useLayoutEffect=function(Y,X){return j.H.useLayoutEffect(Y,X)},qe.useMemo=function(Y,X){return j.H.useMemo(Y,X)},qe.useOptimistic=function(Y,X){return j.H.useOptimistic(Y,X)},qe.useReducer=function(Y,X,H){return j.H.useReducer(Y,X,H)},qe.useRef=function(Y){return j.H.useRef(Y)},qe.useState=function(Y){return j.H.useState(Y)},qe.useSyncExternalStore=function(Y,X,H){return j.H.useSyncExternalStore(Y,X,H)},qe.useTransition=function(){return j.H.useTransition()},qe.version="19.2.3",qe}var QN;function ul(){return QN||(QN=1,jg.exports=J5()),jg.exports}var C=ul();const Fk=ii(C),X5=$5({__proto__:null,default:Fk},[C]);var Ig={exports:{}},yu={},Rg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function W5(){return ZN||(ZN=1,(function(e){function t(B,K){var ie=B.length;B.push(K);e:for(;0<ie;){var Z=ie-1>>>1,q=B[Z];if(0<i(q,K))B[Z]=K,B[ie]=q,ie=Z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],ie=B.pop();if(ie!==K){B[0]=ie;e:for(var Z=0,q=B.length,Y=q>>>1;Z<Y;){var X=2*(Z+1)-1,H=B[X],me=X+1,Ne=B[me];if(0>i(H,ie))me<q&&0>i(Ne,H)?(B[Z]=Ne,B[me]=ie,Z=me):(B[Z]=H,B[X]=ie,Z=X);else if(me<q&&0>i(Ne,ie))B[Z]=Ne,B[me]=ie,Z=me;else break e}}return K}function i(B,K){var ie=B.sortIndex-K.sortIndex;return ie!==0?ie:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var h=[],f=[],p=1,m=null,v=3,b=!1,N=!1,A=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function k(B){for(var K=n(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=B)r(f),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(f)}}function R(B){if(A=!1,k(B),!N)if(n(h)!==null)N=!0,I||(I=!0,$());else{var K=n(f);K!==null&&z(R,K.startTime-B)}}var I=!1,j=-1,G=5,U=-1;function D(){return E?!0:!(e.unstable_now()-U<G)}function O(){if(E=!1,I){var B=e.unstable_now();U=B;var K=!0;try{e:{N=!1,A&&(A=!1,P(j),j=-1),b=!0;var ie=v;try{t:{for(k(B),m=n(h);m!==null&&!(m.expirationTime>B&&D());){var Z=m.callback;if(typeof Z=="function"){m.callback=null,v=m.priorityLevel;var q=Z(m.expirationTime<=B);if(B=e.unstable_now(),typeof q=="function"){m.callback=q,k(B),K=!0;break t}m===n(h)&&r(h),k(B)}else r(h);m=n(h)}if(m!==null)K=!0;else{var Y=n(f);Y!==null&&z(R,Y.startTime-B),K=!1}}break e}finally{m=null,v=ie,b=!1}K=void 0}}finally{K?$():I=!1}}}var $;if(typeof M=="function")$=function(){M(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,V=F.port2;F.port1.onmessage=O,$=function(){V.postMessage(null)}}else $=function(){T(O,0)};function z(B,K){j=T(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ie=v;v=K;try{return B()}finally{v=ie}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=v;v=B;try{return K()}finally{v=ie}},e.unstable_scheduleCallback=function(B,K,ie){var Z=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Z+ie:Z):ie=Z,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,B={id:p++,callback:K,priorityLevel:B,startTime:ie,expirationTime:q,sortIndex:-1},ie>Z?(B.sortIndex=ie,t(f,B),n(h)===null&&B===n(f)&&(A?(P(j),j=-1):A=!0,z(R,ie-Z))):(B.sortIndex=q,t(h,B),N||b||(N=!0,I||(I=!0,$()))),B},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(B){var K=v;return function(){var ie=v;v=K;try{return B.apply(this,arguments)}finally{v=ie}}}})(Dg)),Dg}var eE;function Q5(){return eE||(eE=1,Rg.exports=W5()),Rg.exports}var Og={exports:{}},kn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function Z5(){if(tE)return kn;tE=1;var e=ul();function t(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:h,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return kn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kn.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(h,f,null,p)},kn.flushSync=function(h){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,h)return h()}finally{l.T=f,r.p=p,r.d.f()}},kn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},kn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},kn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(h,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},kn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},kn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);r.d.L(h,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},kn.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},kn.requestFormReset=function(h){r.d.r(h)},kn.unstable_batchedUpdates=function(h,f){return h(f)},kn.useFormState=function(h,f,p){return l.H.useFormState(h,f,p)},kn.useFormStatus=function(){return l.H.useHostTransitionStatus()},kn.version="19.2.3",kn}var nE;function Gk(){if(nE)return Og.exports;nE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Og.exports=Z5(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function e3(){if(rE)return yu;rE=1;var e=Q5(),t=ul(),n=Gk();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var d=a,g=s;;){var w=d.return;if(w===null)break;var S=w.alternate;if(S===null){if(g=w.return,g!==null){d=g;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===d)return h(w),a;if(S===g)return h(w),s;S=S.sibling}throw Error(r(188))}if(d.return!==g.return)d=w,g=S;else{for(var _=!1,L=w.child;L;){if(L===d){_=!0,d=w,g=S;break}if(L===g){_=!0,g=w,d=S;break}L=L.sibling}if(!_){for(L=S.child;L;){if(L===d){_=!0,d=S,g=w;break}if(L===g){_=!0,g=S,d=w;break}L=L.sibling}if(!_)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),M=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function V(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case U:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case M:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case k:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return s=a.displayName||null,s!==null?s:V(a.type)||"Memo";case G:s=a._payload,a=a._init;try{return V(a(s))}catch{}}return null}var z=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Z=[],q=-1;function Y(a){return{current:a}}function X(a){0>q||(a.current=Z[q],Z[q]=null,q--)}function H(a,s){q++,Z[q]=a.current,a.current=s}var me=Y(null),Ne=Y(null),ue=Y(null),we=Y(null);function Ue(a,s){switch(H(ue,s),H(Ne,a),H(me,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?vN(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=vN(s),a=xN(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(me),H(me,a)}function ae(){X(me),X(Ne),X(ue)}function Ee(a){a.memoizedState!==null&&H(we,a);var s=me.current,d=xN(s,a.type);s!==d&&(H(Ne,a),H(me,d))}function Pe(a){Ne.current===a&&(X(me),X(Ne)),we.current===a&&(X(we),fu._currentValue=ie)}var ge,wt;function $e(a){if(ge===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);ge=s&&s[1]||"",wt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+wt}var Ct=!1;function gt(a,s){if(!a||Ct)return"";Ct=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var re=se}Reflect.construct(a,[],he)}else{try{he.call()}catch(se){re=se}a.call(he.prototype)}}else{try{throw Error()}catch(se){re=se}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),_=S[0],L=S[1];if(_&&L){var J=_.split(`
`),te=L.split(`
`);for(w=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;w<te.length&&!te[w].includes("DetermineComponentFrameRoot");)w++;if(g===J.length||w===te.length)for(g=J.length-1,w=te.length-1;1<=g&&0<=w&&J[g]!==te[w];)w--;for(;1<=g&&0<=w;g--,w--)if(J[g]!==te[w]){if(g!==1||w!==1)do if(g--,w--,0>w||J[g]!==te[w]){var ce=`
`+J[g].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=g&&0<=w);break}}}finally{Ct=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?$e(d):""}function Cn(a,s){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==s&&s!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return gt(a.type,!1);case 11:return gt(a.type.render,!1);case 1:return gt(a.type,!0);case 31:return $e("Activity");default:return""}}function qr(a){try{var s="",d=null;do s+=Cn(a,d),d=a,a=a.return;while(a);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Si=Object.prototype.hasOwnProperty,tr=e.unstable_scheduleCallback,Ni=e.unstable_cancelCallback,Al=e.unstable_shouldYield,ro=e.unstable_requestPaint,hn=e.unstable_now,Cl=e.unstable_getCurrentPriorityLevel,de=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,De=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,We=e.unstable_IdlePriority,Tn=e.log,Hr=e.unstable_setDisableYieldValue,nn=null,ct=null;function $t(a){if(typeof Tn=="function"&&Hr(a),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(nn,a)}catch{}}var ot=Math.clz32?Math.clz32:Cc,rn=Math.log,Yt=Math.LN2;function Cc(a){return a>>>=0,a===0?32:31-(rn(a)/Yt|0)|0}var io=256,Jo=262144,Xo=4194304;function Ei(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ao(a,s,d){var g=a.pendingLanes;if(g===0)return 0;var w=0,S=a.suspendedLanes,_=a.pingedLanes;a=a.warmLanes;var L=g&134217727;return L!==0?(g=L&~S,g!==0?w=Ei(g):(_&=L,_!==0?w=Ei(_):d||(d=L&~a,d!==0&&(w=Ei(d))))):(L=g&~S,L!==0?w=Ei(L):_!==0?w=Ei(_):d||(d=g&~a,d!==0&&(w=Ei(d)))),w===0?0:s!==0&&s!==w&&(s&S)===0&&(S=w&-w,d=s&-s,S>=d||S===32&&(d&4194048)!==0)?s:w}function oe(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ve(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ye(){var a=Xo;return Xo<<=1,(Xo&62914560)===0&&(Xo=4194304),a}function je(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function _e(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Be(a,s,d,g,w,S){var _=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var L=a.entanglements,J=a.expirationTimes,te=a.hiddenUpdates;for(d=_&~d;0<d;){var ce=31-ot(d),he=1<<ce;L[ce]=0,J[ce]=-1;var re=te[ce];if(re!==null)for(te[ce]=null,ce=0;ce<re.length;ce++){var se=re[ce];se!==null&&(se.lane&=-536870913)}d&=~he}g!==0&&Kt(a,g,0),S!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=S&~(_&~s))}function Kt(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var g=31-ot(s);a.entangledLanes|=s,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function bp(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var g=31-ot(d),w=1<<g;w&s|a[g]&s&&(a[g]|=s),d&=~w}}function rt(a,s){var d=s&-s;return d=(d&42)!==0?1:nr(d),(d&(a.suspendedLanes|s))!==0?0:d}function nr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function _n(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ga(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:HN(a.type))}function iw(a,s){var d=K.p;try{return K.p=a,s()}finally{K.p=d}}var ya=Math.random().toString(36).slice(2),pn="__reactFiber$"+ya,Hn="__reactProps$"+ya,Wo="__reactContainer$"+ya,wp="__reactEvents$"+ya,IO="__reactListeners$"+ya,RO="__reactHandles$"+ya,aw="__reactResources$"+ya,Tl="__reactMarker$"+ya;function Sp(a){delete a[pn],delete a[Hn],delete a[wp],delete a[IO],delete a[RO]}function Qo(a){var s=a[pn];if(s)return s;for(var d=a.parentNode;d;){if(s=d[Wo]||d[pn]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=CN(a);a!==null;){if(d=a[pn])return d;a=CN(a)}return s}a=d,d=a.parentNode}return null}function Zo(a){if(a=a[pn]||a[Wo]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function _l(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function es(a){var s=a[aw];return s||(s=a[aw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function an(a){a[Tl]=!0}var ow=new Set,sw={};function oo(a,s){ts(a,s),ts(a+"Capture",s)}function ts(a,s){for(sw[a]=s,a=0;a<s.length;a++)ow.add(s[a])}var DO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lw={},uw={};function OO(a){return Si.call(uw,a)?!0:Si.call(lw,a)?!1:DO.test(a)?uw[a]=!0:(lw[a]=!0,!1)}function Tc(a,s,d){if(OO(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function _c(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function Ai(a,s,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+g)}}function vr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function cw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function LO(a,s,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,S=g.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return w.call(this)},set:function(_){d=""+_,S.call(this,_)}}),Object.defineProperty(a,s,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(_){d=""+_},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Np(a){if(!a._valueTracker){var s=cw(a)?"checked":"value";a._valueTracker=LO(a,s,""+a[s])}}function dw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),g="";return a&&(g=cw(a)?a.checked?"true":"false":a.value),a=g,a!==d?(s.setValue(a),!0):!1}function kc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var UO=/[\n"\\]/g;function xr(a){return a.replace(UO,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ep(a,s,d,g,w,S,_,L){a.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?a.type=_:a.removeAttribute("type"),s!=null?_==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+vr(s)):a.value!==""+vr(s)&&(a.value=""+vr(s)):_!=="submit"&&_!=="reset"||a.removeAttribute("value"),s!=null?Ap(a,_,vr(s)):d!=null?Ap(a,_,vr(d)):g!=null&&a.removeAttribute("value"),w==null&&S!=null&&(a.defaultChecked=!!S),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+vr(L):a.removeAttribute("name")}function fw(a,s,d,g,w,S,_,L){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),s!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Np(a);return}d=d!=null?""+vr(d):"",s=s!=null?""+vr(s):d,L||s===a.value||(a.value=s),a.defaultValue=s}g=g??w,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=L?a.checked:!!g,a.defaultChecked=!!g,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.name=_),Np(a)}function Ap(a,s,d){s==="number"&&kc(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ns(a,s,d,g){if(a=a.options,s){s={};for(var w=0;w<d.length;w++)s["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=s.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&g&&(a[d].defaultSelected=!0)}else{for(d=""+vr(d),s=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,g&&(a[w].defaultSelected=!0);return}s!==null||a[w].disabled||(s=a[w])}s!==null&&(s.selected=!0)}}function hw(a,s,d){if(s!=null&&(s=""+vr(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+vr(d):""}function pw(a,s,d,g){if(s==null){if(g!=null){if(d!=null)throw Error(r(92));if(z(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),s=d}d=vr(s),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),Np(a)}function rs(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var BO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mw(a,s,d){var g=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":g?a.setProperty(s,d):typeof d!="number"||d===0||BO.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function gw(a,s,d){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var w in s)g=s[w],s.hasOwnProperty(w)&&d[w]!==g&&mw(a,w,g)}else for(var S in s)s.hasOwnProperty(S)&&mw(a,S,s[S])}function Cp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(a){return qO.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ci(){}var Tp=null;function _p(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var is=null,as=null;function yw(a){var s=Zo(a);if(s&&(a=s.stateNode)){var d=a[Hn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Ep(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+xr(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var g=d[s];if(g!==a&&g.form===a.form){var w=g[Hn]||null;if(!w)throw Error(r(90));Ep(g,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<d.length;s++)g=d[s],g.form===a.form&&dw(g)}break e;case"textarea":hw(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&ns(a,!!d.multiple,s,!1)}}}var kp=!1;function vw(a,s,d){if(kp)return a(s,d);kp=!0;try{var g=a(s);return g}finally{if(kp=!1,(is!==null||as!==null)&&(yd(),is&&(s=is,a=as,as=is=null,yw(s),a)))for(s=0;s<a.length;s++)yw(a[s])}}function kl(a,s){var d=a.stateNode;if(d===null)return null;var g=d[Hn]||null;if(g===null)return null;d=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,s,typeof d));return d}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=!1;if(Ti)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Pp=!1}var va=null,Mp=null,Mc=null;function xw(){if(Mc)return Mc;var a,s=Mp,d=s.length,g,w="value"in va?va.value:va.textContent,S=w.length;for(a=0;a<d&&s[a]===w[a];a++);var _=d-a;for(g=1;g<=_&&s[d-g]===w[S-g];g++);return Mc=w.slice(a,1<g?1-g:void 0)}function jc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ic(){return!0}function bw(){return!1}function Fn(a){function s(d,g,w,S,_){this._reactName=d,this._targetInst=w,this.type=g,this.nativeEvent=S,this.target=_,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(d=a[L],this[L]=d?d(S):S[L]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ic:bw,this.isPropagationStopped=bw,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),s}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=Fn(so),Ml=m({},so,{view:0,detail:0}),HO=Fn(Ml),jp,Ip,jl,Dc=m({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jl&&(jl&&a.type==="mousemove"?(jp=a.screenX-jl.screenX,Ip=a.screenY-jl.screenY):Ip=jp=0,jl=a),jp)},movementY:function(a){return"movementY"in a?a.movementY:Ip}}),ww=Fn(Dc),FO=m({},Dc,{dataTransfer:0}),GO=Fn(FO),VO=m({},Ml,{relatedTarget:0}),Rp=Fn(VO),$O=m({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),YO=Fn($O),KO=m({},so,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),JO=Fn(KO),XO=m({},so,{data:0}),Sw=Fn(XO),WO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e4(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=ZO[a])?!!s[a]:!1}function Dp(){return e4}var t4=m({},Ml,{key:function(a){if(a.key){var s=WO[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=jc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?QO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(a){return a.type==="keypress"?jc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?jc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),n4=Fn(t4),r4=m({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=Fn(r4),i4=m({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),a4=Fn(i4),o4=m({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),s4=Fn(o4),l4=m({},Dc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),u4=Fn(l4),c4=m({},so,{newState:0,oldState:0}),d4=Fn(c4),f4=[9,13,27,32],Op=Ti&&"CompositionEvent"in window,Il=null;Ti&&"documentMode"in document&&(Il=document.documentMode);var h4=Ti&&"TextEvent"in window&&!Il,Ew=Ti&&(!Op||Il&&8<Il&&11>=Il),Aw=" ",Cw=!1;function Tw(a,s){switch(a){case"keyup":return f4.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _w(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var os=!1;function p4(a,s){switch(a){case"compositionend":return _w(s);case"keypress":return s.which!==32?null:(Cw=!0,Aw);case"textInput":return a=s.data,a===Aw&&Cw?null:a;default:return null}}function m4(a,s){if(os)return a==="compositionend"||!Op&&Tw(a,s)?(a=xw(),Mc=Mp=va=null,os=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ew&&s.locale!=="ko"?null:s.data;default:return null}}var g4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!g4[a.type]:s==="textarea"}function Pw(a,s,d,g){is?as?as.push(g):as=[g]:is=g,s=Ed(s,"onChange"),0<s.length&&(d=new Rc("onChange","change",null,d,g),a.push({event:d,listeners:s}))}var Rl=null,Dl=null;function y4(a){fN(a,0)}function Oc(a){var s=_l(a);if(dw(s))return a}function Mw(a,s){if(a==="change")return s}var jw=!1;if(Ti){var Lp;if(Ti){var Up="oninput"in document;if(!Up){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),Up=typeof Iw.oninput=="function"}Lp=Up}else Lp=!1;jw=Lp&&(!document.documentMode||9<document.documentMode)}function Rw(){Rl&&(Rl.detachEvent("onpropertychange",Dw),Dl=Rl=null)}function Dw(a){if(a.propertyName==="value"&&Oc(Dl)){var s=[];Pw(s,Dl,a,_p(a)),vw(y4,s)}}function v4(a,s,d){a==="focusin"?(Rw(),Rl=s,Dl=d,Rl.attachEvent("onpropertychange",Dw)):a==="focusout"&&Rw()}function x4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Oc(Dl)}function b4(a,s){if(a==="click")return Oc(s)}function w4(a,s){if(a==="input"||a==="change")return Oc(s)}function S4(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var rr=typeof Object.is=="function"?Object.is:S4;function Ol(a,s){if(rr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),g=Object.keys(s);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var w=d[g];if(!Si.call(s,w)||!rr(a[w],s[w]))return!1}return!0}function Ow(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Lw(a,s){var d=Ow(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=s&&g>=s)return{node:d,offset:s-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ow(d)}}function Uw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Uw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Bw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=kc(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=kc(a.document)}return s}function Bp(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var N4=Ti&&"documentMode"in document&&11>=document.documentMode,ss=null,zp=null,Ll=null,qp=!1;function zw(a,s,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;qp||ss==null||ss!==kc(g)||(g=ss,"selectionStart"in g&&Bp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ll&&Ol(Ll,g)||(Ll=g,g=Ed(zp,"onSelect"),0<g.length&&(s=new Rc("onSelect","select",null,s,d),a.push({event:s,listeners:g}),s.target=ss)))}function lo(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var ls={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},Hp={},qw={};Ti&&(qw=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function uo(a){if(Hp[a])return Hp[a];if(!ls[a])return a;var s=ls[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in qw)return Hp[a]=s[d];return a}var Hw=uo("animationend"),Fw=uo("animationiteration"),Gw=uo("animationstart"),E4=uo("transitionrun"),A4=uo("transitionstart"),C4=uo("transitioncancel"),Vw=uo("transitionend"),$w=new Map,Fp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fp.push("scrollEnd");function Fr(a,s){$w.set(a,s),oo(s,[a])}var Lc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},br=[],us=0,Gp=0;function Uc(){for(var a=us,s=Gp=us=0;s<a;){var d=br[s];br[s++]=null;var g=br[s];br[s++]=null;var w=br[s];br[s++]=null;var S=br[s];if(br[s++]=null,g!==null&&w!==null){var _=g.pending;_===null?w.next=w:(w.next=_.next,_.next=w),g.pending=w}S!==0&&Yw(d,w,S)}}function Bc(a,s,d,g){br[us++]=a,br[us++]=s,br[us++]=d,br[us++]=g,Gp|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Vp(a,s,d,g){return Bc(a,s,d,g),zc(a)}function co(a,s){return Bc(a,null,null,s),zc(a)}function Yw(a,s,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var w=!1,S=a.return;S!==null;)S.childLanes|=d,g=S.alternate,g!==null&&(g.childLanes|=d),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(w=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,w&&s!==null&&(w=31-ot(d),a=S.hiddenUpdates,g=a[w],g===null?a[w]=[s]:g.push(s),s.lane=d|536870912),S):null}function zc(a){if(50<au)throw au=0,eg=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var cs={};function T4(a,s,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(a,s,d,g){return new T4(a,s,d,g)}function $p(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _i(a,s){var d=a.alternate;return d===null?(d=ir(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Kw(a,s){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function qc(a,s,d,g,w,S){var _=0;if(g=a,typeof a=="function")$p(a)&&(_=1);else if(typeof a=="string")_=j5(a,d,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case U:return a=ir(31,d,s,w),a.elementType=U,a.lanes=S,a;case A:return fo(d.children,w,S,s);case E:_=8,w|=24;break;case T:return a=ir(12,d,s,w|2),a.elementType=T,a.lanes=S,a;case R:return a=ir(13,d,s,w),a.elementType=R,a.lanes=S,a;case I:return a=ir(19,d,s,w),a.elementType=I,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:_=10;break e;case P:_=9;break e;case k:_=11;break e;case j:_=14;break e;case G:_=16,g=null;break e}_=29,d=Error(r(130,a===null?"null":typeof a,"")),g=null}return s=ir(_,d,s,w),s.elementType=a,s.type=g,s.lanes=S,s}function fo(a,s,d,g){return a=ir(7,a,g,s),a.lanes=d,a}function Yp(a,s,d){return a=ir(6,a,null,s),a.lanes=d,a}function Jw(a){var s=ir(18,null,null,0);return s.stateNode=a,s}function Kp(a,s,d){return s=ir(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Xw=new WeakMap;function wr(a,s){if(typeof a=="object"&&a!==null){var d=Xw.get(a);return d!==void 0?d:(s={value:a,source:s,stack:qr(s)},Xw.set(a,s),s)}return{value:a,source:s,stack:qr(s)}}var ds=[],fs=0,Hc=null,Ul=0,Sr=[],Nr=0,xa=null,si=1,li="";function ki(a,s){ds[fs++]=Ul,ds[fs++]=Hc,Hc=a,Ul=s}function Ww(a,s,d){Sr[Nr++]=si,Sr[Nr++]=li,Sr[Nr++]=xa,xa=a;var g=si;a=li;var w=32-ot(g)-1;g&=~(1<<w),d+=1;var S=32-ot(s)+w;if(30<S){var _=w-w%5;S=(g&(1<<_)-1).toString(32),g>>=_,w-=_,si=1<<32-ot(s)+w|d<<w|g,li=S+a}else si=1<<S|d<<w|g,li=a}function Jp(a){a.return!==null&&(ki(a,1),Ww(a,1,0))}function Xp(a){for(;a===Hc;)Hc=ds[--fs],ds[fs]=null,Ul=ds[--fs],ds[fs]=null;for(;a===xa;)xa=Sr[--Nr],Sr[Nr]=null,li=Sr[--Nr],Sr[Nr]=null,si=Sr[--Nr],Sr[Nr]=null}function Qw(a,s){Sr[Nr++]=si,Sr[Nr++]=li,Sr[Nr++]=xa,si=s.id,li=s.overflow,xa=a}var mn=null,St=null,Qe=!1,ba=null,Er=!1,Wp=Error(r(519));function wa(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(wr(s,a)),Wp}function Zw(a){var s=a.stateNode,d=a.type,g=a.memoizedProps;switch(s[pn]=a,s[Hn]=g,d){case"dialog":Ke("cancel",s),Ke("close",s);break;case"iframe":case"object":case"embed":Ke("load",s);break;case"video":case"audio":for(d=0;d<su.length;d++)Ke(su[d],s);break;case"source":Ke("error",s);break;case"img":case"image":case"link":Ke("error",s),Ke("load",s);break;case"details":Ke("toggle",s);break;case"input":Ke("invalid",s),fw(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ke("invalid",s);break;case"textarea":Ke("invalid",s),pw(s,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||g.suppressHydrationWarning===!0||gN(s.textContent,d)?(g.popover!=null&&(Ke("beforetoggle",s),Ke("toggle",s)),g.onScroll!=null&&Ke("scroll",s),g.onScrollEnd!=null&&Ke("scrollend",s),g.onClick!=null&&(s.onclick=Ci),s=!0):s=!1,s||wa(a,!0)}function e1(a){for(mn=a.return;mn;)switch(mn.tag){case 5:case 31:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:mn=mn.return}}function hs(a){if(a!==mn)return!1;if(!Qe)return e1(a),Qe=!0,!1;var s=a.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||mg(a.type,a.memoizedProps)),d=!d),d&&St&&wa(a),e1(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));St=AN(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));St=AN(a)}else s===27?(s=St,Da(a.type)?(a=bg,bg=null,St=a):St=s):St=mn?Cr(a.stateNode.nextSibling):null;return!0}function ho(){St=mn=null,Qe=!1}function Qp(){var a=ba;return a!==null&&(Yn===null?Yn=a:Yn.push.apply(Yn,a),ba=null),a}function Bl(a){ba===null?ba=[a]:ba.push(a)}var Zp=Y(null),po=null,Pi=null;function Sa(a,s,d){H(Zp,s._currentValue),s._currentValue=d}function Mi(a){a._currentValue=Zp.current,X(Zp)}function em(a,s,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===d)break;a=a.return}}function tm(a,s,d,g){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var S=w.dependencies;if(S!==null){var _=w.child;S=S.firstContext;e:for(;S!==null;){var L=S;S=w;for(var J=0;J<s.length;J++)if(L.context===s[J]){S.lanes|=d,L=S.alternate,L!==null&&(L.lanes|=d),em(S.return,d,a),g||(_=null);break e}S=L.next}}else if(w.tag===18){if(_=w.return,_===null)throw Error(r(341));_.lanes|=d,S=_.alternate,S!==null&&(S.lanes|=d),em(_,d,a),_=null}else _=w.child;if(_!==null)_.return=w;else for(_=w;_!==null;){if(_===a){_=null;break}if(w=_.sibling,w!==null){w.return=_.return,_=w;break}_=_.return}w=_}}function ps(a,s,d,g){a=null;for(var w=s,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var _=w.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var L=w.type;rr(w.pendingProps.value,_.value)||(a!==null?a.push(L):a=[L])}}else if(w===we.current){if(_=w.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(fu):a=[fu])}w=w.return}a!==null&&tm(s,a,d,g),s.flags|=262144}function Fc(a){for(a=a.firstContext;a!==null;){if(!rr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function mo(a){po=a,Pi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gn(a){return t1(po,a)}function Gc(a,s){return po===null&&mo(a),t1(a,s)}function t1(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Pi===null){if(a===null)throw Error(r(308));Pi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Pi=Pi.next=s;return d}var _4=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},k4=e.unstable_scheduleCallback,P4=e.unstable_NormalPriority,Bt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new _4,data:new Map,refCount:0}}function zl(a){a.refCount--,a.refCount===0&&k4(P4,function(){a.controller.abort()})}var ql=null,rm=0,ms=0,gs=null;function M4(a,s){if(ql===null){var d=ql=[];rm=0,ms=og(),gs={status:"pending",value:void 0,then:function(g){d.push(g)}}}return rm++,s.then(n1,n1),s}function n1(){if(--rm===0&&ql!==null){gs!==null&&(gs.status="fulfilled");var a=ql;ql=null,ms=0,gs=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function j4(a,s){var d=[],g={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){g.status="fulfilled",g.value=s;for(var w=0;w<d.length;w++)(0,d[w])(s)},function(w){for(g.status="rejected",g.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),g}var r1=B.S;B.S=function(a,s){zS=hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&M4(a,s),r1!==null&&r1(a,s)};var go=Y(null);function im(){var a=go.current;return a!==null?a:pt.pooledCache}function Vc(a,s){s===null?H(go,go.current):H(go,s.pool)}function i1(){var a=im();return a===null?null:{parent:Bt._currentValue,pool:a}}var ys=Error(r(460)),am=Error(r(474)),$c=Error(r(542)),Yc={then:function(){}};function a1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function o1(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(Ci,Ci),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,l1(a),a;default:if(typeof s.status=="string")s.then(Ci,Ci);else{if(a=pt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(g){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=g}},function(g){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,l1(a),a}throw vo=s,ys}}function yo(a){try{var s=a._init;return s(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(vo=d,ys):d}}var vo=null;function s1(){if(vo===null)throw Error(r(459));var a=vo;return vo=null,a}function l1(a){if(a===ys||a===$c)throw Error(r(483))}var vs=null,Hl=0;function Kc(a){var s=Hl;return Hl+=1,vs===null&&(vs=[]),o1(vs,a,s)}function Fl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Jc(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function u1(a){function s(Q,W){if(a){var ee=Q.deletions;ee===null?(Q.deletions=[W],Q.flags|=16):ee.push(W)}}function d(Q,W){if(!a)return null;for(;W!==null;)s(Q,W),W=W.sibling;return null}function g(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function w(Q,W){return Q=_i(Q,W),Q.index=0,Q.sibling=null,Q}function S(Q,W,ee){return Q.index=ee,a?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<W?(Q.flags|=67108866,W):ee):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function _(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,W,ee,fe){return W===null||W.tag!==6?(W=Yp(ee,Q.mode,fe),W.return=Q,W):(W=w(W,ee),W.return=Q,W)}function J(Q,W,ee,fe){var Ie=ee.type;return Ie===A?ce(Q,W,ee.props.children,fe,ee.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===G&&yo(Ie)===W.type)?(W=w(W,ee.props),Fl(W,ee),W.return=Q,W):(W=qc(ee.type,ee.key,ee.props,null,Q.mode,fe),Fl(W,ee),W.return=Q,W)}function te(Q,W,ee,fe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ee.containerInfo||W.stateNode.implementation!==ee.implementation?(W=Kp(ee,Q.mode,fe),W.return=Q,W):(W=w(W,ee.children||[]),W.return=Q,W)}function ce(Q,W,ee,fe,Ie){return W===null||W.tag!==7?(W=fo(ee,Q.mode,fe,Ie),W.return=Q,W):(W=w(W,ee),W.return=Q,W)}function he(Q,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Yp(""+W,Q.mode,ee),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return ee=qc(W.type,W.key,W.props,null,Q.mode,ee),Fl(ee,W),ee.return=Q,ee;case N:return W=Kp(W,Q.mode,ee),W.return=Q,W;case G:return W=yo(W),he(Q,W,ee)}if(z(W)||$(W))return W=fo(W,Q.mode,ee,null),W.return=Q,W;if(typeof W.then=="function")return he(Q,Kc(W),ee);if(W.$$typeof===M)return he(Q,Gc(Q,W),ee);Jc(Q,W)}return null}function re(Q,W,ee,fe){var Ie=W!==null?W.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ie!==null?null:L(Q,W,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return ee.key===Ie?J(Q,W,ee,fe):null;case N:return ee.key===Ie?te(Q,W,ee,fe):null;case G:return ee=yo(ee),re(Q,W,ee,fe)}if(z(ee)||$(ee))return Ie!==null?null:ce(Q,W,ee,fe,null);if(typeof ee.then=="function")return re(Q,W,Kc(ee),fe);if(ee.$$typeof===M)return re(Q,W,Gc(Q,ee),fe);Jc(Q,ee)}return null}function se(Q,W,ee,fe,Ie){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(ee)||null,L(W,Q,""+fe,Ie);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return Q=Q.get(fe.key===null?ee:fe.key)||null,J(W,Q,fe,Ie);case N:return Q=Q.get(fe.key===null?ee:fe.key)||null,te(W,Q,fe,Ie);case G:return fe=yo(fe),se(Q,W,ee,fe,Ie)}if(z(fe)||$(fe))return Q=Q.get(ee)||null,ce(W,Q,fe,Ie,null);if(typeof fe.then=="function")return se(Q,W,ee,Kc(fe),Ie);if(fe.$$typeof===M)return se(Q,W,ee,Gc(W,fe),Ie);Jc(W,fe)}return null}function Te(Q,W,ee,fe){for(var Ie=null,Ze=null,ke=W,Fe=W=0,Xe=null;ke!==null&&Fe<ee.length;Fe++){ke.index>Fe?(Xe=ke,ke=null):Xe=ke.sibling;var et=re(Q,ke,ee[Fe],fe);if(et===null){ke===null&&(ke=Xe);break}a&&ke&&et.alternate===null&&s(Q,ke),W=S(et,W,Fe),Ze===null?Ie=et:Ze.sibling=et,Ze=et,ke=Xe}if(Fe===ee.length)return d(Q,ke),Qe&&ki(Q,Fe),Ie;if(ke===null){for(;Fe<ee.length;Fe++)ke=he(Q,ee[Fe],fe),ke!==null&&(W=S(ke,W,Fe),Ze===null?Ie=ke:Ze.sibling=ke,Ze=ke);return Qe&&ki(Q,Fe),Ie}for(ke=g(ke);Fe<ee.length;Fe++)Xe=se(ke,Q,Fe,ee[Fe],fe),Xe!==null&&(a&&Xe.alternate!==null&&ke.delete(Xe.key===null?Fe:Xe.key),W=S(Xe,W,Fe),Ze===null?Ie=Xe:Ze.sibling=Xe,Ze=Xe);return a&&ke.forEach(function(za){return s(Q,za)}),Qe&&ki(Q,Fe),Ie}function Oe(Q,W,ee,fe){if(ee==null)throw Error(r(151));for(var Ie=null,Ze=null,ke=W,Fe=W=0,Xe=null,et=ee.next();ke!==null&&!et.done;Fe++,et=ee.next()){ke.index>Fe?(Xe=ke,ke=null):Xe=ke.sibling;var za=re(Q,ke,et.value,fe);if(za===null){ke===null&&(ke=Xe);break}a&&ke&&za.alternate===null&&s(Q,ke),W=S(za,W,Fe),Ze===null?Ie=za:Ze.sibling=za,Ze=za,ke=Xe}if(et.done)return d(Q,ke),Qe&&ki(Q,Fe),Ie;if(ke===null){for(;!et.done;Fe++,et=ee.next())et=he(Q,et.value,fe),et!==null&&(W=S(et,W,Fe),Ze===null?Ie=et:Ze.sibling=et,Ze=et);return Qe&&ki(Q,Fe),Ie}for(ke=g(ke);!et.done;Fe++,et=ee.next())et=se(ke,Q,Fe,et.value,fe),et!==null&&(a&&et.alternate!==null&&ke.delete(et.key===null?Fe:et.key),W=S(et,W,Fe),Ze===null?Ie=et:Ze.sibling=et,Ze=et);return a&&ke.forEach(function(F5){return s(Q,F5)}),Qe&&ki(Q,Fe),Ie}function ht(Q,W,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===A&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:e:{for(var Ie=ee.key;W!==null;){if(W.key===Ie){if(Ie=ee.type,Ie===A){if(W.tag===7){d(Q,W.sibling),fe=w(W,ee.props.children),fe.return=Q,Q=fe;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===G&&yo(Ie)===W.type){d(Q,W.sibling),fe=w(W,ee.props),Fl(fe,ee),fe.return=Q,Q=fe;break e}d(Q,W);break}else s(Q,W);W=W.sibling}ee.type===A?(fe=fo(ee.props.children,Q.mode,fe,ee.key),fe.return=Q,Q=fe):(fe=qc(ee.type,ee.key,ee.props,null,Q.mode,fe),Fl(fe,ee),fe.return=Q,Q=fe)}return _(Q);case N:e:{for(Ie=ee.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===ee.containerInfo&&W.stateNode.implementation===ee.implementation){d(Q,W.sibling),fe=w(W,ee.children||[]),fe.return=Q,Q=fe;break e}else{d(Q,W);break}else s(Q,W);W=W.sibling}fe=Kp(ee,Q.mode,fe),fe.return=Q,Q=fe}return _(Q);case G:return ee=yo(ee),ht(Q,W,ee,fe)}if(z(ee))return Te(Q,W,ee,fe);if($(ee)){if(Ie=$(ee),typeof Ie!="function")throw Error(r(150));return ee=Ie.call(ee),Oe(Q,W,ee,fe)}if(typeof ee.then=="function")return ht(Q,W,Kc(ee),fe);if(ee.$$typeof===M)return ht(Q,W,Gc(Q,ee),fe);Jc(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,W!==null&&W.tag===6?(d(Q,W.sibling),fe=w(W,ee),fe.return=Q,Q=fe):(d(Q,W),fe=Yp(ee,Q.mode,fe),fe.return=Q,Q=fe),_(Q)):d(Q,W)}return function(Q,W,ee,fe){try{Hl=0;var Ie=ht(Q,W,ee,fe);return vs=null,Ie}catch(ke){if(ke===ys||ke===$c)throw ke;var Ze=ir(29,ke,null,Q.mode);return Ze.lanes=fe,Ze.return=Q,Ze}finally{}}}var xo=u1(!0),c1=u1(!1),Na=!1;function om(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ea(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Aa(a,s,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(it&2)!==0){var w=g.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),g.pending=s,s=zc(a),Yw(a,null,d),s}return Bc(a,g,s,d),zc(a)}function Gl(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,bp(a,d)}}function lm(a,s){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var w=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var _={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?w=S=_:S=S.next=_,d=d.next}while(d!==null);S===null?w=S=s:S=S.next=s}else w=S=s;d={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var um=!1;function Vl(){if(um){var a=gs;if(a!==null)throw a}}function $l(a,s,d,g){um=!1;var w=a.updateQueue;Na=!1;var S=w.firstBaseUpdate,_=w.lastBaseUpdate,L=w.shared.pending;if(L!==null){w.shared.pending=null;var J=L,te=J.next;J.next=null,_===null?S=te:_.next=te,_=J;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,L=ce.lastBaseUpdate,L!==_&&(L===null?ce.firstBaseUpdate=te:L.next=te,ce.lastBaseUpdate=J))}if(S!==null){var he=w.baseState;_=0,ce=te=J=null,L=S;do{var re=L.lane&-536870913,se=re!==L.lane;if(se?(Je&re)===re:(g&re)===re){re!==0&&re===ms&&(um=!0),ce!==null&&(ce=ce.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Te=a,Oe=L;re=s;var ht=d;switch(Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){he=Te.call(ht,he,re);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,re=typeof Te=="function"?Te.call(ht,he,re):Te,re==null)break e;he=m({},he,re);break e;case 2:Na=!0}}re=L.callback,re!==null&&(a.flags|=64,se&&(a.flags|=8192),se=w.callbacks,se===null?w.callbacks=[re]:se.push(re))}else se={lane:re,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ce===null?(te=ce=se,J=he):ce=ce.next=se,_|=re;if(L=L.next,L===null){if(L=w.shared.pending,L===null)break;se=L,L=se.next,se.next=null,w.lastBaseUpdate=se,w.shared.pending=null}}while(!0);ce===null&&(J=he),w.baseState=J,w.firstBaseUpdate=te,w.lastBaseUpdate=ce,S===null&&(w.shared.lanes=0),Pa|=_,a.lanes=_,a.memoizedState=he}}function d1(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function f1(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)d1(d[a],s)}var xs=Y(null),Xc=Y(0);function h1(a,s){a=zi,H(Xc,a),H(xs,s),zi=a|s.baseLanes}function cm(){H(Xc,zi),H(xs,xs.current)}function dm(){zi=Xc.current,X(xs),X(Xc)}var ar=Y(null),Ar=null;function Ca(a){var s=a.alternate;H(Ot,Ot.current&1),H(ar,a),Ar===null&&(s===null||xs.current!==null||s.memoizedState!==null)&&(Ar=a)}function fm(a){H(Ot,Ot.current),H(ar,a),Ar===null&&(Ar=a)}function p1(a){a.tag===22?(H(Ot,Ot.current),H(ar,a),Ar===null&&(Ar=a)):Ta()}function Ta(){H(Ot,Ot.current),H(ar,ar.current)}function or(a){X(ar),Ar===a&&(Ar=null),X(Ot)}var Ot=Y(0);function Wc(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||vg(d)||xg(d)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ji=0,He=null,dt=null,zt=null,Qc=!1,bs=!1,bo=!1,Zc=0,Yl=0,ws=null,I4=0;function jt(){throw Error(r(321))}function hm(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!rr(a[d],s[d]))return!1;return!0}function pm(a,s,d,g,w,S){return ji=S,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?W1:km,bo=!1,S=d(g,w),bo=!1,bs&&(S=g1(s,d,g,w)),m1(a),S}function m1(a){B.H=Xl;var s=dt!==null&&dt.next!==null;if(ji=0,zt=dt=He=null,Qc=!1,Yl=0,ws=null,s)throw Error(r(300));a===null||qt||(a=a.dependencies,a!==null&&Fc(a)&&(qt=!0))}function g1(a,s,d,g){He=a;var w=0;do{if(bs&&(ws=null),Yl=0,bs=!1,25<=w)throw Error(r(301));if(w+=1,zt=dt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=Q1,S=s(d,g)}while(bs);return S}function R4(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?Kl(s):s,a=a.useState()[0],(dt!==null?dt.memoizedState:null)!==a&&(He.flags|=1024),s}function mm(){var a=Zc!==0;return Zc=0,a}function gm(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function ym(a){if(Qc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Qc=!1}ji=0,zt=dt=He=null,bs=!1,Yl=Zc=0,ws=null}function Rn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?He.memoizedState=zt=a:zt=zt.next=a,zt}function Lt(){if(dt===null){var a=He.alternate;a=a!==null?a.memoizedState:null}else a=dt.next;var s=zt===null?He.memoizedState:zt.next;if(s!==null)zt=s,dt=a;else{if(a===null)throw He.alternate===null?Error(r(467)):Error(r(310));dt=a,a={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?He.memoizedState=zt=a:zt=zt.next=a}return zt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(a){var s=Yl;return Yl+=1,ws===null&&(ws=[]),a=o1(ws,a,s),s=He,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?W1:km),a}function td(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Kl(a);if(a.$$typeof===M)return gn(a)}throw Error(r(438,String(a)))}function vm(a){var s=null,d=He.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var g=He.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=ed(),He.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),g=0;g<a;g++)d[g]=D;return s.index++,d}function Ii(a,s){return typeof s=="function"?s(a):s}function nd(a){var s=Lt();return xm(s,dt,a)}function xm(a,s,d){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var w=a.baseQueue,S=g.pending;if(S!==null){if(w!==null){var _=w.next;w.next=S.next,S.next=_}s.baseQueue=w=S,g.pending=null}if(S=a.baseState,w===null)a.memoizedState=S;else{s=w.next;var L=_=null,J=null,te=s,ce=!1;do{var he=te.lane&-536870913;if(he!==te.lane?(Je&he)===he:(ji&he)===he){var re=te.revertLane;if(re===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),he===ms&&(ce=!0);else if((ji&re)===re){te=te.next,re===ms&&(ce=!0);continue}else he={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},J===null?(L=J=he,_=S):J=J.next=he,He.lanes|=re,Pa|=re;he=te.action,bo&&d(S,he),S=te.hasEagerState?te.eagerState:d(S,he)}else re={lane:he,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},J===null?(L=J=re,_=S):J=J.next=re,He.lanes|=he,Pa|=he;te=te.next}while(te!==null&&te!==s);if(J===null?_=S:J.next=L,!rr(S,a.memoizedState)&&(qt=!0,ce&&(d=gs,d!==null)))throw d;a.memoizedState=S,a.baseState=_,a.baseQueue=J,g.lastRenderedState=S}return w===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function bm(a){var s=Lt(),d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var g=d.dispatch,w=d.pending,S=s.memoizedState;if(w!==null){d.pending=null;var _=w=w.next;do S=a(S,_.action),_=_.next;while(_!==w);rr(S,s.memoizedState)||(qt=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),d.lastRenderedState=S}return[S,g]}function y1(a,s,d){var g=He,w=Lt(),S=Qe;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=s();var _=!rr((dt||w).memoizedState,d);if(_&&(w.memoizedState=d,qt=!0),w=w.queue,Nm(b1.bind(null,g,w,a),[a]),w.getSnapshot!==s||_||zt!==null&&zt.memoizedState.tag&1){if(g.flags|=2048,Ss(9,{destroy:void 0},x1.bind(null,g,w,d,s),null),pt===null)throw Error(r(349));S||(ji&127)!==0||v1(g,s,d)}return d}function v1(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=He.updateQueue,s===null?(s=ed(),He.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function x1(a,s,d,g){s.value=d,s.getSnapshot=g,w1(s)&&S1(a)}function b1(a,s,d){return d(function(){w1(s)&&S1(a)})}function w1(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!rr(a,d)}catch{return!0}}function S1(a){var s=co(a,2);s!==null&&Kn(s,a,2)}function wm(a){var s=Rn();if(typeof a=="function"){var d=a;if(a=d(),bo){$t(!0);try{d()}finally{$t(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},s}function N1(a,s,d,g){return a.baseState=d,xm(a,dt,typeof g=="function"?g:Ii)}function D4(a,s,d,g,w){if(ad(a))throw Error(r(485));if(a=s.action,a!==null){var S={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){S.listeners.push(_)}};B.T!==null?d(!0):S.isTransition=!1,g(S),d=s.pending,d===null?(S.next=s.pending=S,E1(s,S)):(S.next=d.next,s.pending=d.next=S)}}function E1(a,s){var d=s.action,g=s.payload,w=a.state;if(s.isTransition){var S=B.T,_={};B.T=_;try{var L=d(w,g),J=B.S;J!==null&&J(_,L),A1(a,s,L)}catch(te){Sm(a,s,te)}finally{S!==null&&_.types!==null&&(S.types=_.types),B.T=S}}else try{S=d(w,g),A1(a,s,S)}catch(te){Sm(a,s,te)}}function A1(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){C1(a,s,g)},function(g){return Sm(a,s,g)}):C1(a,s,d)}function C1(a,s,d){s.status="fulfilled",s.value=d,T1(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,E1(a,d)))}function Sm(a,s,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=d,T1(s),s=s.next;while(s!==g)}a.action=null}function T1(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function _1(a,s){return s}function k1(a,s){if(Qe){var d=pt.formState;if(d!==null){e:{var g=He;if(Qe){if(St){t:{for(var w=St,S=Er;w.nodeType!==8;){if(!S){w=null;break t}if(w=Cr(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){St=Cr(w.nextSibling),g=w.data==="F!";break e}}wa(g)}g=!1}g&&(s=d[0])}}return d=Rn(),d.memoizedState=d.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_1,lastRenderedState:s},d.queue=g,d=K1.bind(null,He,g),g.dispatch=d,g=wm(!1),S=_m.bind(null,He,!1,g.queue),g=Rn(),w={state:s,dispatch:null,action:a,pending:null},g.queue=w,d=D4.bind(null,He,w,S,d),w.dispatch=d,g.memoizedState=a,[s,d,!1]}function P1(a){var s=Lt();return M1(s,dt,a)}function M1(a,s,d){if(s=xm(a,s,_1)[0],a=nd(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=Kl(s)}catch(_){throw _===ys?$c:_}else g=s;s=Lt();var w=s.queue,S=w.dispatch;return d!==s.memoizedState&&(He.flags|=2048,Ss(9,{destroy:void 0},O4.bind(null,w,d),null)),[g,S,a]}function O4(a,s){a.action=s}function j1(a){var s=Lt(),d=dt;if(d!==null)return M1(s,d,a);Lt(),s=s.memoizedState,d=Lt();var g=d.queue.dispatch;return d.memoizedState=a,[s,g,!1]}function Ss(a,s,d,g){return a={tag:a,create:d,deps:g,inst:s,next:null},s=He.updateQueue,s===null&&(s=ed(),He.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,s.lastEffect=a),a}function I1(){return Lt().memoizedState}function rd(a,s,d,g){var w=Rn();He.flags|=a,w.memoizedState=Ss(1|s,{destroy:void 0},d,g===void 0?null:g)}function id(a,s,d,g){var w=Lt();g=g===void 0?null:g;var S=w.memoizedState.inst;dt!==null&&g!==null&&hm(g,dt.memoizedState.deps)?w.memoizedState=Ss(s,S,d,g):(He.flags|=a,w.memoizedState=Ss(1|s,S,d,g))}function R1(a,s){rd(8390656,8,a,s)}function Nm(a,s){id(2048,8,a,s)}function L4(a){He.flags|=4;var s=He.updateQueue;if(s===null)s=ed(),He.updateQueue=s,s.events=[a];else{var d=s.events;d===null?s.events=[a]:d.push(a)}}function D1(a){var s=Lt().memoizedState;return L4({ref:s,nextImpl:a}),function(){if((it&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function O1(a,s){return id(4,2,a,s)}function L1(a,s){return id(4,4,a,s)}function U1(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function B1(a,s,d){d=d!=null?d.concat([a]):null,id(4,4,U1.bind(null,s,a),d)}function Em(){}function z1(a,s){var d=Lt();s=s===void 0?null:s;var g=d.memoizedState;return s!==null&&hm(s,g[1])?g[0]:(d.memoizedState=[a,s],a)}function q1(a,s){var d=Lt();s=s===void 0?null:s;var g=d.memoizedState;if(s!==null&&hm(s,g[1]))return g[0];if(g=a(),bo){$t(!0);try{a()}finally{$t(!1)}}return d.memoizedState=[g,s],g}function Am(a,s,d){return d===void 0||(ji&1073741824)!==0&&(Je&261930)===0?a.memoizedState=s:(a.memoizedState=d,a=HS(),He.lanes|=a,Pa|=a,d)}function H1(a,s,d,g){return rr(d,s)?d:xs.current!==null?(a=Am(a,d,g),rr(a,s)||(qt=!0),a):(ji&42)===0||(ji&1073741824)!==0&&(Je&261930)===0?(qt=!0,a.memoizedState=d):(a=HS(),He.lanes|=a,Pa|=a,s)}function F1(a,s,d,g,w){var S=K.p;K.p=S!==0&&8>S?S:8;var _=B.T,L={};B.T=L,_m(a,!1,s,d);try{var J=w(),te=B.S;if(te!==null&&te(L,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var ce=j4(J,g);Jl(a,s,ce,ur(a))}else Jl(a,s,g,ur(a))}catch(he){Jl(a,s,{then:function(){},status:"rejected",reason:he},ur())}finally{K.p=S,_!==null&&L.types!==null&&(_.types=L.types),B.T=_}}function U4(){}function Cm(a,s,d,g){if(a.tag!==5)throw Error(r(476));var w=G1(a).queue;F1(a,w,s,ie,d===null?U4:function(){return V1(a),d(g)})}function G1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ie},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function V1(a){var s=G1(a);s.next===null&&(s=a.alternate.memoizedState),Jl(a,s.next.queue,{},ur())}function Tm(){return gn(fu)}function $1(){return Lt().memoizedState}function Y1(){return Lt().memoizedState}function B4(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=ur();a=Ea(d);var g=Aa(s,a,d);g!==null&&(Kn(g,s,d),Gl(g,s,d)),s={cache:nm()},a.payload=s;return}s=s.return}}function z4(a,s,d){var g=ur();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ad(a)?J1(s,d):(d=Vp(a,s,d,g),d!==null&&(Kn(d,a,g),X1(d,s,g)))}function K1(a,s,d){var g=ur();Jl(a,s,d,g)}function Jl(a,s,d,g){var w={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ad(a))J1(s,w);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var _=s.lastRenderedState,L=S(_,d);if(w.hasEagerState=!0,w.eagerState=L,rr(L,_))return Bc(a,s,w,0),pt===null&&Uc(),!1}catch{}finally{}if(d=Vp(a,s,w,g),d!==null)return Kn(d,a,g),X1(d,s,g),!0}return!1}function _m(a,s,d,g){if(g={lane:2,revertLane:og(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ad(a)){if(s)throw Error(r(479))}else s=Vp(a,d,g,2),s!==null&&Kn(s,a,2)}function ad(a){var s=a.alternate;return a===He||s!==null&&s===He}function J1(a,s){bs=Qc=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function X1(a,s,d){if((d&4194048)!==0){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,bp(a,d)}}var Xl={readContext:gn,use:td,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Xl.useEffectEvent=jt;var W1={readContext:gn,use:td,useCallback:function(a,s){return Rn().memoizedState=[a,s===void 0?null:s],a},useContext:gn,useEffect:R1,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,rd(4194308,4,U1.bind(null,s,a),d)},useLayoutEffect:function(a,s){return rd(4194308,4,a,s)},useInsertionEffect:function(a,s){rd(4,2,a,s)},useMemo:function(a,s){var d=Rn();s=s===void 0?null:s;var g=a();if(bo){$t(!0);try{a()}finally{$t(!1)}}return d.memoizedState=[g,s],g},useReducer:function(a,s,d){var g=Rn();if(d!==void 0){var w=d(s);if(bo){$t(!0);try{d(s)}finally{$t(!1)}}}else w=s;return g.memoizedState=g.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},g.queue=a,a=a.dispatch=z4.bind(null,He,a),[g.memoizedState,a]},useRef:function(a){var s=Rn();return a={current:a},s.memoizedState=a},useState:function(a){a=wm(a);var s=a.queue,d=K1.bind(null,He,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:Em,useDeferredValue:function(a,s){var d=Rn();return Am(d,a,s)},useTransition:function(){var a=wm(!1);return a=F1.bind(null,He,a.queue,!0,!1),Rn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var g=He,w=Rn();if(Qe){if(d===void 0)throw Error(r(407));d=d()}else{if(d=s(),pt===null)throw Error(r(349));(Je&127)!==0||v1(g,s,d)}w.memoizedState=d;var S={value:d,getSnapshot:s};return w.queue=S,R1(b1.bind(null,g,S,a),[a]),g.flags|=2048,Ss(9,{destroy:void 0},x1.bind(null,g,S,d,s),null),d},useId:function(){var a=Rn(),s=pt.identifierPrefix;if(Qe){var d=li,g=si;d=(g&~(1<<32-ot(g)-1)).toString(32)+d,s="_"+s+"R_"+d,d=Zc++,0<d&&(s+="H"+d.toString(32)),s+="_"}else d=I4++,s="_"+s+"r_"+d.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Tm,useFormState:k1,useActionState:k1,useOptimistic:function(a){var s=Rn();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=_m.bind(null,He,!0,d),d.dispatch=s,[a,s]},useMemoCache:vm,useCacheRefresh:function(){return Rn().memoizedState=B4.bind(null,He)},useEffectEvent:function(a){var s=Rn(),d={impl:a};return s.memoizedState=d,function(){if((it&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},km={readContext:gn,use:td,useCallback:z1,useContext:gn,useEffect:Nm,useImperativeHandle:B1,useInsertionEffect:O1,useLayoutEffect:L1,useMemo:q1,useReducer:nd,useRef:I1,useState:function(){return nd(Ii)},useDebugValue:Em,useDeferredValue:function(a,s){var d=Lt();return H1(d,dt.memoizedState,a,s)},useTransition:function(){var a=nd(Ii)[0],s=Lt().memoizedState;return[typeof a=="boolean"?a:Kl(a),s]},useSyncExternalStore:y1,useId:$1,useHostTransitionStatus:Tm,useFormState:P1,useActionState:P1,useOptimistic:function(a,s){var d=Lt();return N1(d,dt,a,s)},useMemoCache:vm,useCacheRefresh:Y1};km.useEffectEvent=D1;var Q1={readContext:gn,use:td,useCallback:z1,useContext:gn,useEffect:Nm,useImperativeHandle:B1,useInsertionEffect:O1,useLayoutEffect:L1,useMemo:q1,useReducer:bm,useRef:I1,useState:function(){return bm(Ii)},useDebugValue:Em,useDeferredValue:function(a,s){var d=Lt();return dt===null?Am(d,a,s):H1(d,dt.memoizedState,a,s)},useTransition:function(){var a=bm(Ii)[0],s=Lt().memoizedState;return[typeof a=="boolean"?a:Kl(a),s]},useSyncExternalStore:y1,useId:$1,useHostTransitionStatus:Tm,useFormState:j1,useActionState:j1,useOptimistic:function(a,s){var d=Lt();return dt!==null?N1(d,dt,a,s):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:vm,useCacheRefresh:Y1};Q1.useEffectEvent=D1;function Pm(a,s,d,g){s=a.memoizedState,d=d(g,s),d=d==null?s:m({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Mm={enqueueSetState:function(a,s,d){a=a._reactInternals;var g=ur(),w=Ea(g);w.payload=s,d!=null&&(w.callback=d),s=Aa(a,w,g),s!==null&&(Kn(s,a,g),Gl(s,a,g))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var g=ur(),w=Ea(g);w.tag=1,w.payload=s,d!=null&&(w.callback=d),s=Aa(a,w,g),s!==null&&(Kn(s,a,g),Gl(s,a,g))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=ur(),g=Ea(d);g.tag=2,s!=null&&(g.callback=s),s=Aa(a,g,d),s!==null&&(Kn(s,a,d),Gl(s,a,d))}};function Z1(a,s,d,g,w,S,_){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,_):s.prototype&&s.prototype.isPureReactComponent?!Ol(d,g)||!Ol(w,S):!0}function eS(a,s,d,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,g),s.state!==a&&Mm.enqueueReplaceState(s,s.state,null)}function wo(a,s){var d=s;if("ref"in s){d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}if(a=a.defaultProps){d===s&&(d=m({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}function tS(a){Lc(a)}function nS(a){console.error(a)}function rS(a){Lc(a)}function od(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function iS(a,s,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function jm(a,s,d){return d=Ea(d),d.tag=3,d.payload={element:null},d.callback=function(){od(a,s)},d}function aS(a){return a=Ea(a),a.tag=3,a}function oS(a,s,d,g){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var S=g.value;a.payload=function(){return w(S)},a.callback=function(){iS(s,d,g)}}var _=d.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(a.callback=function(){iS(s,d,g),typeof w!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var L=g.stack;this.componentDidCatch(g.value,{componentStack:L!==null?L:""})})}function q4(a,s,d,g,w){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=d.alternate,s!==null&&ps(s,d,w,!0),d=ar.current,d!==null){switch(d.tag){case 31:case 13:return Ar===null?vd():d.alternate===null&&It===0&&(It=3),d.flags&=-257,d.flags|=65536,d.lanes=w,g===Yc?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([g]):s.add(g),rg(a,g,w)),!1;case 22:return d.flags|=65536,g===Yc?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([g]):d.add(g)),rg(a,g,w)),!1}throw Error(r(435,d.tag))}return rg(a,g,w),vd(),!1}if(Qe)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,g!==Wp&&(a=Error(r(422),{cause:g}),Bl(wr(a,d)))):(g!==Wp&&(s=Error(r(423),{cause:g}),Bl(wr(s,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,g=wr(g,d),w=jm(a.stateNode,g,w),lm(a,w),It!==4&&(It=2)),!1;var S=Error(r(520),{cause:g});if(S=wr(S,d),iu===null?iu=[S]:iu.push(S),It!==4&&(It=2),s===null)return!0;g=wr(g,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=jm(d.stateNode,g,a),lm(d,a),!1;case 1:if(s=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ma===null||!Ma.has(S))))return d.flags|=65536,w&=-w,d.lanes|=w,w=aS(w),oS(w,a,d,g),lm(d,w),!1}d=d.return}while(d!==null);return!1}var Im=Error(r(461)),qt=!1;function yn(a,s,d,g){s.child=a===null?c1(s,null,d,g):xo(s,a.child,d,g)}function sS(a,s,d,g,w){d=d.render;var S=s.ref;if("ref"in g){var _={};for(var L in g)L!=="ref"&&(_[L]=g[L])}else _=g;return mo(s),g=pm(a,s,d,_,S,w),L=mm(),a!==null&&!qt?(gm(a,s,w),Ri(a,s,w)):(Qe&&L&&Jp(s),s.flags|=1,yn(a,s,g,w),s.child)}function lS(a,s,d,g,w){if(a===null){var S=d.type;return typeof S=="function"&&!$p(S)&&S.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=S,uS(a,s,S,g,w)):(a=qc(d.type,null,g,s,s.mode,w),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,!qm(a,w)){var _=S.memoizedProps;if(d=d.compare,d=d!==null?d:Ol,d(_,g)&&a.ref===s.ref)return Ri(a,s,w)}return s.flags|=1,a=_i(S,g),a.ref=s.ref,a.return=s,s.child=a}function uS(a,s,d,g,w){if(a!==null){var S=a.memoizedProps;if(Ol(S,g)&&a.ref===s.ref)if(qt=!1,s.pendingProps=g=S,qm(a,w))(a.flags&131072)!==0&&(qt=!0);else return s.lanes=a.lanes,Ri(a,s,w)}return Rm(a,s,d,g,w)}function cS(a,s,d,g){var w=g.children,S=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,a!==null){for(g=s.child=a.child,w=0;g!==null;)w=w|g.lanes|g.childLanes,g=g.sibling;g=w&~S}else g=0,s.child=null;return dS(a,s,S,d,g)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Vc(s,S!==null?S.cachePool:null),S!==null?h1(s,S):cm(),p1(s);else return g=s.lanes=536870912,dS(a,s,S!==null?S.baseLanes|d:d,d,g)}else S!==null?(Vc(s,S.cachePool),h1(s,S),Ta(),s.memoizedState=null):(a!==null&&Vc(s,null),cm(),Ta());return yn(a,s,w,d),s.child}function Wl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dS(a,s,d,g,w){var S=im();return S=S===null?null:{parent:Bt._currentValue,pool:S},s.memoizedState={baseLanes:d,cachePool:S},a!==null&&Vc(s,null),cm(),p1(s),a!==null&&ps(a,s,g,!0),s.childLanes=w,null}function sd(a,s){return s=ud({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function fS(a,s,d){return xo(s,a.child,null,d),a=sd(s,s.pendingProps),a.flags|=2,or(s),s.memoizedState=null,a}function H4(a,s,d){var g=s.pendingProps,w=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Qe){if(g.mode==="hidden")return a=sd(s,g),s.lanes=536870912,Wl(null,a);if(fm(s),(a=St)?(a=EN(a,Er),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xa!==null?{id:si,overflow:li}:null,retryLane:536870912,hydrationErrors:null},d=Jw(a),d.return=s,s.child=d,mn=s,St=null)):a=null,a===null)throw wa(s);return s.lanes=536870912,null}return sd(s,g)}var S=a.memoizedState;if(S!==null){var _=S.dehydrated;if(fm(s),w)if(s.flags&256)s.flags&=-257,s=fS(a,s,d);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(qt||ps(a,s,d,!1),w=(d&a.childLanes)!==0,qt||w){if(g=pt,g!==null&&(_=rt(g,d),_!==0&&_!==S.retryLane))throw S.retryLane=_,co(a,_),Kn(g,a,_),Im;vd(),s=fS(a,s,d)}else a=S.treeContext,St=Cr(_.nextSibling),mn=s,Qe=!0,ba=null,Er=!1,a!==null&&Qw(s,a),s=sd(s,g),s.flags|=4096;return s}return a=_i(a.child,{mode:g.mode,children:g.children}),a.ref=s.ref,s.child=a,a.return=s,a}function ld(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(s.flags|=4194816)}}function Rm(a,s,d,g,w){return mo(s),d=pm(a,s,d,g,void 0,w),g=mm(),a!==null&&!qt?(gm(a,s,w),Ri(a,s,w)):(Qe&&g&&Jp(s),s.flags|=1,yn(a,s,d,w),s.child)}function hS(a,s,d,g,w,S){return mo(s),s.updateQueue=null,d=g1(s,g,d,w),m1(a),g=mm(),a!==null&&!qt?(gm(a,s,S),Ri(a,s,S)):(Qe&&g&&Jp(s),s.flags|=1,yn(a,s,d,S),s.child)}function pS(a,s,d,g,w){if(mo(s),s.stateNode===null){var S=cs,_=d.contextType;typeof _=="object"&&_!==null&&(S=gn(_)),S=new d(g,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Mm,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=g,S.state=s.memoizedState,S.refs={},om(s),_=d.contextType,S.context=typeof _=="object"&&_!==null?gn(_):cs,S.state=s.memoizedState,_=d.getDerivedStateFromProps,typeof _=="function"&&(Pm(s,d,_,g),S.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(_=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),_!==S.state&&Mm.enqueueReplaceState(S,S.state,null),$l(s,g,S,w),Vl(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(a===null){S=s.stateNode;var L=s.memoizedProps,J=wo(d,L);S.props=J;var te=S.context,ce=d.contextType;_=cs,typeof ce=="object"&&ce!==null&&(_=gn(ce));var he=d.getDerivedStateFromProps;ce=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L||te!==_)&&eS(s,S,g,_),Na=!1;var re=s.memoizedState;S.state=re,$l(s,g,S,w),Vl(),te=s.memoizedState,L||re!==te||Na?(typeof he=="function"&&(Pm(s,d,he,g),te=s.memoizedState),(J=Na||Z1(s,d,J,g,re,te,_))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=te),S.props=g,S.state=te,S.context=_,g=J):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{S=s.stateNode,sm(a,s),_=s.memoizedProps,ce=wo(d,_),S.props=ce,he=s.pendingProps,re=S.context,te=d.contextType,J=cs,typeof te=="object"&&te!==null&&(J=gn(te)),L=d.getDerivedStateFromProps,(te=typeof L=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(_!==he||re!==J)&&eS(s,S,g,J),Na=!1,re=s.memoizedState,S.state=re,$l(s,g,S,w),Vl();var se=s.memoizedState;_!==he||re!==se||Na||a!==null&&a.dependencies!==null&&Fc(a.dependencies)?(typeof L=="function"&&(Pm(s,d,L,g),se=s.memoizedState),(ce=Na||Z1(s,d,ce,g,re,se,J)||a!==null&&a.dependencies!==null&&Fc(a.dependencies))?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,se,J),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,se,J)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=se),S.props=g,S.state=se,S.context=J,g=ce):(typeof S.componentDidUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||_===a.memoizedProps&&re===a.memoizedState||(s.flags|=1024),g=!1)}return S=g,ld(a,s),g=(s.flags&128)!==0,S||g?(S=s.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,a!==null&&g?(s.child=xo(s,a.child,null,w),s.child=xo(s,null,d,w)):yn(a,s,d,w),s.memoizedState=S.state,a=s.child):a=Ri(a,s,w),a}function mS(a,s,d,g){return ho(),s.flags|=256,yn(a,s,d,g),s.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(a){return{baseLanes:a,cachePool:i1()}}function Lm(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=lr),a}function gS(a,s,d){var g=s.pendingProps,w=!1,S=(s.flags&128)!==0,_;if((_=S)||(_=a!==null&&a.memoizedState===null?!1:(Ot.current&2)!==0),_&&(w=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,a===null){if(Qe){if(w?Ca(s):Ta(),(a=St)?(a=EN(a,Er),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:xa!==null?{id:si,overflow:li}:null,retryLane:536870912,hydrationErrors:null},d=Jw(a),d.return=s,s.child=d,mn=s,St=null)):a=null,a===null)throw wa(s);return xg(a)?s.lanes=32:s.lanes=536870912,null}var L=g.children;return g=g.fallback,w?(Ta(),w=s.mode,L=ud({mode:"hidden",children:L},w),g=fo(g,w,d,null),L.return=s,g.return=s,L.sibling=g,s.child=L,g=s.child,g.memoizedState=Om(d),g.childLanes=Lm(a,_,d),s.memoizedState=Dm,Wl(null,g)):(Ca(s),Um(s,L))}var J=a.memoizedState;if(J!==null&&(L=J.dehydrated,L!==null)){if(S)s.flags&256?(Ca(s),s.flags&=-257,s=Bm(a,s,d)):s.memoizedState!==null?(Ta(),s.child=a.child,s.flags|=128,s=null):(Ta(),L=g.fallback,w=s.mode,g=ud({mode:"visible",children:g.children},w),L=fo(L,w,d,null),L.flags|=2,g.return=s,L.return=s,g.sibling=L,s.child=g,xo(s,a.child,null,d),g=s.child,g.memoizedState=Om(d),g.childLanes=Lm(a,_,d),s.memoizedState=Dm,s=Wl(null,g));else if(Ca(s),xg(L)){if(_=L.nextSibling&&L.nextSibling.dataset,_)var te=_.dgst;_=te,g=Error(r(419)),g.stack="",g.digest=_,Bl({value:g,source:null,stack:null}),s=Bm(a,s,d)}else if(qt||ps(a,s,d,!1),_=(d&a.childLanes)!==0,qt||_){if(_=pt,_!==null&&(g=rt(_,d),g!==0&&g!==J.retryLane))throw J.retryLane=g,co(a,g),Kn(_,a,g),Im;vg(L)||vd(),s=Bm(a,s,d)}else vg(L)?(s.flags|=192,s.child=a.child,s=null):(a=J.treeContext,St=Cr(L.nextSibling),mn=s,Qe=!0,ba=null,Er=!1,a!==null&&Qw(s,a),s=Um(s,g.children),s.flags|=4096);return s}return w?(Ta(),L=g.fallback,w=s.mode,J=a.child,te=J.sibling,g=_i(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,te!==null?L=_i(te,L):(L=fo(L,w,d,null),L.flags|=2),L.return=s,g.return=s,g.sibling=L,s.child=g,Wl(null,g),g=s.child,L=a.child.memoizedState,L===null?L=Om(d):(w=L.cachePool,w!==null?(J=Bt._currentValue,w=w.parent!==J?{parent:J,pool:J}:w):w=i1(),L={baseLanes:L.baseLanes|d,cachePool:w}),g.memoizedState=L,g.childLanes=Lm(a,_,d),s.memoizedState=Dm,Wl(a.child,g)):(Ca(s),d=a.child,a=d.sibling,d=_i(d,{mode:"visible",children:g.children}),d.return=s,d.sibling=null,a!==null&&(_=s.deletions,_===null?(s.deletions=[a],s.flags|=16):_.push(a)),s.child=d,s.memoizedState=null,d)}function Um(a,s){return s=ud({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function ud(a,s){return a=ir(22,a,null,s),a.lanes=0,a}function Bm(a,s,d){return xo(s,a.child,null,d),a=Um(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function yS(a,s,d){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),em(a.return,s,d)}function zm(a,s,d,g,w,S){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:w,treeForkCount:S}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=d,_.tailMode=w,_.treeForkCount=S)}function vS(a,s,d){var g=s.pendingProps,w=g.revealOrder,S=g.tail;g=g.children;var _=Ot.current,L=(_&2)!==0;if(L?(_=_&1|2,s.flags|=128):_&=1,H(Ot,_),yn(a,s,g,d),g=Qe?Ul:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yS(a,d,s);else if(a.tag===19)yS(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(d=s.child,w=null;d!==null;)a=d.alternate,a!==null&&Wc(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=s.child,s.child=null):(w=d.sibling,d.sibling=null),zm(s,!1,w,d,S,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=s.child,s.child=null;w!==null;){if(a=w.alternate,a!==null&&Wc(a)===null){s.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}zm(s,!0,d,null,S,g);break;case"together":zm(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function Ri(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),Pa|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(ps(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,d=_i(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=_i(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function qm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Fc(a)))}function F4(a,s,d){switch(s.tag){case 3:Ue(s,s.stateNode.containerInfo),Sa(s,Bt,a.memoizedState.cache),ho();break;case 27:case 5:Ee(s);break;case 4:Ue(s,s.stateNode.containerInfo);break;case 10:Sa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fm(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Ca(s),s.flags|=128,null):(d&s.child.childLanes)!==0?gS(a,s,d):(Ca(s),a=Ri(a,s,d),a!==null?a.sibling:null);Ca(s);break;case 19:var w=(a.flags&128)!==0;if(g=(d&s.childLanes)!==0,g||(ps(a,s,d,!1),g=(d&s.childLanes)!==0),w){if(g)return vS(a,s,d);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),H(Ot,Ot.current),g)break;return null;case 22:return s.lanes=0,cS(a,s,d,s.pendingProps);case 24:Sa(s,Bt,a.memoizedState.cache)}return Ri(a,s,d)}function xS(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)qt=!0;else{if(!qm(a,d)&&(s.flags&128)===0)return qt=!1,F4(a,s,d);qt=(a.flags&131072)!==0}else qt=!1,Qe&&(s.flags&1048576)!==0&&Ww(s,Ul,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(a=yo(s.elementType),s.type=a,typeof a=="function")$p(a)?(g=wo(a,g),s.tag=1,s=pS(null,s,a,g,d)):(s.tag=0,s=Rm(null,s,a,g,d));else{if(a!=null){var w=a.$$typeof;if(w===k){s.tag=11,s=sS(null,s,a,g,d);break e}else if(w===j){s.tag=14,s=lS(null,s,a,g,d);break e}}throw s=V(a)||a,Error(r(306,s,""))}}return s;case 0:return Rm(a,s,s.type,s.pendingProps,d);case 1:return g=s.type,w=wo(g,s.pendingProps),pS(a,s,g,w,d);case 3:e:{if(Ue(s,s.stateNode.containerInfo),a===null)throw Error(r(387));g=s.pendingProps;var S=s.memoizedState;w=S.element,sm(a,s),$l(s,g,null,d);var _=s.memoizedState;if(g=_.cache,Sa(s,Bt,g),g!==S.cache&&tm(s,[Bt],d,!0),Vl(),g=_.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=mS(a,s,g,d);break e}else if(g!==w){w=wr(Error(r(424)),s),Bl(w),s=mS(a,s,g,d);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(St=Cr(a.firstChild),mn=s,Qe=!0,ba=null,Er=!0,d=c1(s,null,g,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ho(),g===w){s=Ri(a,s,d);break e}yn(a,s,g,d)}s=s.child}return s;case 26:return ld(a,s),a===null?(d=PN(s.type,null,s.pendingProps,null))?s.memoizedState=d:Qe||(d=s.type,a=s.pendingProps,g=Ad(ue.current).createElement(d),g[pn]=s,g[Hn]=a,vn(g,d,a),an(g),s.stateNode=g):s.memoizedState=PN(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ee(s),a===null&&Qe&&(g=s.stateNode=TN(s.type,s.pendingProps,ue.current),mn=s,Er=!0,w=St,Da(s.type)?(bg=w,St=Cr(g.firstChild)):St=w),yn(a,s,s.pendingProps.children,d),ld(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Qe&&((w=g=St)&&(g=x5(g,s.type,s.pendingProps,Er),g!==null?(s.stateNode=g,mn=s,St=Cr(g.firstChild),Er=!1,w=!0):w=!1),w||wa(s)),Ee(s),w=s.type,S=s.pendingProps,_=a!==null?a.memoizedProps:null,g=S.children,mg(w,S)?g=null:_!==null&&mg(w,_)&&(s.flags|=32),s.memoizedState!==null&&(w=pm(a,s,R4,null,null,d),fu._currentValue=w),ld(a,s),yn(a,s,g,d),s.child;case 6:return a===null&&Qe&&((a=d=St)&&(d=b5(d,s.pendingProps,Er),d!==null?(s.stateNode=d,mn=s,St=null,a=!0):a=!1),a||wa(s)),null;case 13:return gS(a,s,d);case 4:return Ue(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=xo(s,null,g,d):yn(a,s,g,d),s.child;case 11:return sS(a,s,s.type,s.pendingProps,d);case 7:return yn(a,s,s.pendingProps,d),s.child;case 8:return yn(a,s,s.pendingProps.children,d),s.child;case 12:return yn(a,s,s.pendingProps.children,d),s.child;case 10:return g=s.pendingProps,Sa(s,s.type,g.value),yn(a,s,g.children,d),s.child;case 9:return w=s.type._context,g=s.pendingProps.children,mo(s),w=gn(w),g=g(w),s.flags|=1,yn(a,s,g,d),s.child;case 14:return lS(a,s,s.type,s.pendingProps,d);case 15:return uS(a,s,s.type,s.pendingProps,d);case 19:return vS(a,s,d);case 31:return H4(a,s,d);case 22:return cS(a,s,d,s.pendingProps);case 24:return mo(s),g=gn(Bt),a===null?(w=im(),w===null&&(w=pt,S=nm(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=d),w=S),s.memoizedState={parent:g,cache:w},om(s),Sa(s,Bt,w)):((a.lanes&d)!==0&&(sm(a,s),$l(s,null,null,d),Vl()),w=a.memoizedState,S=s.memoizedState,w.parent!==g?(w={parent:g,cache:g},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),Sa(s,Bt,g)):(g=S.cache,Sa(s,Bt,g),g!==w.cache&&tm(s,[Bt],d,!0))),yn(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Di(a){a.flags|=4}function Hm(a,s,d,g,w){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if($S())a.flags|=8192;else throw vo=Yc,am}else a.flags&=-16777217}function bS(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DN(s))if($S())a.flags|=8192;else throw vo=Yc,am}function cd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?ye():536870912,a.lanes|=s,Cs|=s)}function Ql(a,s){if(!Qe)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Nt(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(s)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags&65011712,g|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=g,a.childLanes=d,s}function G4(a,s,d){var g=s.pendingProps;switch(Xp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return d=s.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Mi(Bt),ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(hs(s)?Di(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qp())),Nt(s),null;case 26:var w=s.type,S=s.memoizedState;return a===null?(Di(s),S!==null?(Nt(s),bS(s,S)):(Nt(s),Hm(s,w,null,g,d))):S?S!==a.memoizedState?(Di(s),Nt(s),bS(s,S)):(Nt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==g&&Di(s),Nt(s),Hm(s,w,a,g,d)),null;case 27:if(Pe(s),d=ue.current,w=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&Di(s);else{if(!g){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}a=me.current,hs(s)?Zw(s):(a=TN(w,g,d),s.stateNode=a,Di(s))}return Nt(s),null;case 5:if(Pe(s),w=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&Di(s);else{if(!g){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}if(S=me.current,hs(s))Zw(s);else{var _=Ad(ue.current);switch(S){case 1:S=_.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=_.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=_.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=_.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=_.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof g.is=="string"?_.createElement("select",{is:g.is}):_.createElement("select"),g.multiple?S.multiple=!0:g.size&&(S.size=g.size);break;default:S=typeof g.is=="string"?_.createElement(w,{is:g.is}):_.createElement(w)}}S[pn]=s,S[Hn]=g;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)S.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=S;e:switch(vn(S,w,g),w){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Di(s)}}return Nt(s),Hm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,d),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==g&&Di(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(r(166));if(a=ue.current,hs(s)){if(a=s.stateNode,d=s.memoizedProps,g=null,w=mn,w!==null)switch(w.tag){case 27:case 5:g=w.memoizedProps}a[pn]=s,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||gN(a.nodeValue,d)),a||wa(s,!0)}else a=Ad(a).createTextNode(g),a[pn]=s,s.stateNode=a}return Nt(s),null;case 31:if(d=s.memoizedState,a===null||a.memoizedState!==null){if(g=hs(s),d!==null){if(a===null){if(!g)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[pn]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),a=!1}else d=Qp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return s.flags&256?(or(s),s):(or(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Nt(s),null;case 13:if(g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=hs(s),g!==null&&g.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[pn]=s}else ho(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),w=!1}else w=Qp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(or(s),s):(or(s),null)}return or(s),(s.flags&128)!==0?(s.lanes=d,s):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=s.child,w=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(w=g.alternate.memoizedState.cachePool.pool),S=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==w&&(g.flags|=2048)),d!==a&&d&&(s.child.flags|=8192),cd(s,s.updateQueue),Nt(s),null);case 4:return ae(),a===null&&cg(s.stateNode.containerInfo),Nt(s),null;case 10:return Mi(s.type),Nt(s),null;case 19:if(X(Ot),g=s.memoizedState,g===null)return Nt(s),null;if(w=(s.flags&128)!==0,S=g.rendering,S===null)if(w)Ql(g,!1);else{if(It!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(S=Wc(a),S!==null){for(s.flags|=128,Ql(g,!1),a=S.updateQueue,s.updateQueue=a,cd(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)Kw(d,a),d=d.sibling;return H(Ot,Ot.current&1|2),Qe&&ki(s,g.treeForkCount),s.child}a=a.sibling}g.tail!==null&&hn()>md&&(s.flags|=128,w=!0,Ql(g,!1),s.lanes=4194304)}else{if(!w)if(a=Wc(S),a!==null){if(s.flags|=128,w=!0,a=a.updateQueue,s.updateQueue=a,cd(s,a),Ql(g,!0),g.tail===null&&g.tailMode==="hidden"&&!S.alternate&&!Qe)return Nt(s),null}else 2*hn()-g.renderingStartTime>md&&d!==536870912&&(s.flags|=128,w=!0,Ql(g,!1),s.lanes=4194304);g.isBackwards?(S.sibling=s.child,s.child=S):(a=g.last,a!==null?a.sibling=S:s.child=S,g.last=S)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=hn(),a.sibling=null,d=Ot.current,H(Ot,w?d&1|2:d&1),Qe&&ki(s,g.treeForkCount),a):(Nt(s),null);case 22:case 23:return or(s),dm(),g=s.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(d&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),d=s.updateQueue,d!==null&&cd(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==d&&(s.flags|=2048),a!==null&&X(go),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Mi(Bt),Nt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function V4(a,s){switch(Xp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Mi(Bt),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Pe(s),null;case 31:if(s.memoizedState!==null){if(or(s),s.alternate===null)throw Error(r(340));ho()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(or(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ho()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return X(Ot),null;case 4:return ae(),null;case 10:return Mi(s.type),null;case 22:case 23:return or(s),dm(),a!==null&&X(go),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Mi(Bt),null;case 25:return null;default:return null}}function wS(a,s){switch(Xp(s),s.tag){case 3:Mi(Bt),ae();break;case 26:case 27:case 5:Pe(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&or(s);break;case 13:or(s);break;case 19:X(Ot);break;case 10:Mi(s.type);break;case 22:case 23:or(s),dm(),a!==null&&X(go);break;case 24:Mi(Bt)}}function Zl(a,s){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var w=g.next;d=w;do{if((d.tag&a)===a){g=void 0;var S=d.create,_=d.inst;g=S(),_.destroy=g}d=d.next}while(d!==w)}}catch(L){lt(s,s.return,L)}}function _a(a,s,d){try{var g=s.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var S=w.next;g=S;do{if((g.tag&a)===a){var _=g.inst,L=_.destroy;if(L!==void 0){_.destroy=void 0,w=s;var J=d,te=L;try{te()}catch(ce){lt(w,J,ce)}}}g=g.next}while(g!==S)}}catch(ce){lt(s,s.return,ce)}}function SS(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{f1(s,d)}catch(g){lt(a,a.return,g)}}}function NS(a,s,d){d.props=wo(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){lt(a,s,g)}}function eu(a,s){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(w){lt(a,s,w)}}function ui(a,s){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(w){lt(a,s,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){lt(a,s,w)}else d.current=null}function ES(a){var s=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(w){lt(a,a.return,w)}}function Fm(a,s,d){try{var g=a.stateNode;h5(g,a.type,d,s),g[Hn]=s}catch(w){lt(a,a.return,w)}}function AS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Da(a.type)||a.tag===4}function Gm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||AS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Da(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Vm(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(a),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=Ci));else if(g!==4&&(g===27&&Da(a.type)&&(d=a.stateNode,s=null),a=a.child,a!==null))for(Vm(a,s,d),a=a.sibling;a!==null;)Vm(a,s,d),a=a.sibling}function dd(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(g!==4&&(g===27&&Da(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(dd(a,s,d),a=a.sibling;a!==null;)dd(a,s,d),a=a.sibling}function CS(a){var s=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);vn(s,g,d),s[pn]=a,s[Hn]=d}catch(S){lt(a,a.return,S)}}var Oi=!1,Ht=!1,$m=!1,TS=typeof WeakSet=="function"?WeakSet:Set,on=null;function $4(a,s){if(a=a.containerInfo,hg=jd,a=Bw(a),Bp(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var w=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var _=0,L=-1,J=-1,te=0,ce=0,he=a,re=null;t:for(;;){for(var se;he!==d||w!==0&&he.nodeType!==3||(L=_+w),he!==S||g!==0&&he.nodeType!==3||(J=_+g),he.nodeType===3&&(_+=he.nodeValue.length),(se=he.firstChild)!==null;)re=he,he=se;for(;;){if(he===a)break t;if(re===d&&++te===w&&(L=_),re===S&&++ce===g&&(J=_),(se=he.nextSibling)!==null)break;he=re,re=he.parentNode}he=se}d=L===-1||J===-1?null:{start:L,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(pg={focusedElem:a,selectionRange:d},jd=!1,on=s;on!==null;)if(s=on,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,on=a;else for(;on!==null;){switch(s=on,S=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)w=a[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,d=s,w=S.memoizedProps,S=S.memoizedState,g=d.stateNode;try{var Te=wo(d.type,w);a=g.getSnapshotBeforeUpdate(Te,S),g.__reactInternalSnapshotBeforeUpdate=a}catch(Oe){lt(d,d.return,Oe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)yg(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":yg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,on=a;break}on=s.return}}function _S(a,s,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Ui(a,d),g&4&&Zl(5,d);break;case 1:if(Ui(a,d),g&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(_){lt(d,d.return,_)}else{var w=wo(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(w,s,a.__reactInternalSnapshotBeforeUpdate)}catch(_){lt(d,d.return,_)}}g&64&&SS(d),g&512&&eu(d,d.return);break;case 3:if(Ui(a,d),g&64&&(a=d.updateQueue,a!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{f1(a,s)}catch(_){lt(d,d.return,_)}}break;case 27:s===null&&g&4&&CS(d);case 26:case 5:Ui(a,d),s===null&&g&4&&ES(d),g&512&&eu(d,d.return);break;case 12:Ui(a,d);break;case 31:Ui(a,d),g&4&&MS(a,d);break;case 13:Ui(a,d),g&4&&jS(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=t5.bind(null,d),w5(a,d))));break;case 22:if(g=d.memoizedState!==null||Oi,!g){s=s!==null&&s.memoizedState!==null||Ht,w=Oi;var S=Ht;Oi=g,(Ht=s)&&!S?Bi(a,d,(d.subtreeFlags&8772)!==0):Ui(a,d),Oi=w,Ht=S}break;case 30:break;default:Ui(a,d)}}function kS(a){var s=a.alternate;s!==null&&(a.alternate=null,kS(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Sp(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Tt=null,Gn=!1;function Li(a,s,d){for(d=d.child;d!==null;)PS(a,s,d),d=d.sibling}function PS(a,s,d){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(nn,d)}catch{}switch(d.tag){case 26:Ht||ui(d,s),Li(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Ht||ui(d,s);var g=Tt,w=Gn;Da(d.type)&&(Tt=d.stateNode,Gn=!1),Li(a,s,d),uu(d.stateNode),Tt=g,Gn=w;break;case 5:Ht||ui(d,s);case 6:if(g=Tt,w=Gn,Tt=null,Li(a,s,d),Tt=g,Gn=w,Tt!==null)if(Gn)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(d.stateNode)}catch(S){lt(d,s,S)}else try{Tt.removeChild(d.stateNode)}catch(S){lt(d,s,S)}break;case 18:Tt!==null&&(Gn?(a=Tt,SN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Rs(a)):SN(Tt,d.stateNode));break;case 4:g=Tt,w=Gn,Tt=d.stateNode.containerInfo,Gn=!0,Li(a,s,d),Tt=g,Gn=w;break;case 0:case 11:case 14:case 15:_a(2,d,s),Ht||_a(4,d,s),Li(a,s,d);break;case 1:Ht||(ui(d,s),g=d.stateNode,typeof g.componentWillUnmount=="function"&&NS(d,s,g)),Li(a,s,d);break;case 21:Li(a,s,d);break;case 22:Ht=(g=Ht)||d.memoizedState!==null,Li(a,s,d),Ht=g;break;default:Li(a,s,d)}}function MS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Rs(a)}catch(d){lt(s,s.return,d)}}}function jS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Rs(a)}catch(d){lt(s,s.return,d)}}function Y4(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new TS),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new TS),s;default:throw Error(r(435,a.tag))}}function fd(a,s){var d=Y4(a);s.forEach(function(g){if(!d.has(g)){d.add(g);var w=n5.bind(null,a,g);g.then(w,w)}})}function Vn(a,s){var d=s.deletions;if(d!==null)for(var g=0;g<d.length;g++){var w=d[g],S=a,_=s,L=_;e:for(;L!==null;){switch(L.tag){case 27:if(Da(L.type)){Tt=L.stateNode,Gn=!1;break e}break;case 5:Tt=L.stateNode,Gn=!1;break e;case 3:case 4:Tt=L.stateNode.containerInfo,Gn=!0;break e}L=L.return}if(Tt===null)throw Error(r(160));PS(S,_,w),Tt=null,Gn=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)IS(s,a),s=s.sibling}var Gr=null;function IS(a,s){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vn(s,a),$n(a),g&4&&(_a(3,a,a.return),Zl(3,a),_a(5,a,a.return));break;case 1:Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),g&64&&Oi&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var w=Gr;if(Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),g&4){var S=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(g){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Tl]||S[pn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(g),w.head.insertBefore(S,w.querySelector("head > title"))),vn(S,g,d),S[pn]=a,an(S),g=S;break e;case"link":var _=IN("link","href",w).get(g+(d.href||""));if(_){for(var L=0;L<_.length;L++)if(S=_[L],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){_.splice(L,1);break t}}S=w.createElement(g),vn(S,g,d),w.head.appendChild(S);break;case"meta":if(_=IN("meta","content",w).get(g+(d.content||""))){for(L=0;L<_.length;L++)if(S=_[L],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){_.splice(L,1);break t}}S=w.createElement(g),vn(S,g,d),w.head.appendChild(S);break;default:throw Error(r(468,g))}S[pn]=a,an(S),g=S}a.stateNode=g}else RN(w,a.type,a.stateNode);else a.stateNode=jN(w,g,a.memoizedProps);else S!==g?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,g===null?RN(w,a.type,a.stateNode):jN(w,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Fm(a,a.memoizedProps,d.memoizedProps)}break;case 27:Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),d!==null&&g&4&&Fm(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Vn(s,a),$n(a),g&512&&(Ht||d===null||ui(d,d.return)),a.flags&32){w=a.stateNode;try{rs(w,"")}catch(Te){lt(a,a.return,Te)}}g&4&&a.stateNode!=null&&(w=a.memoizedProps,Fm(a,w,d!==null?d.memoizedProps:w)),g&1024&&($m=!0);break;case 6:if(Vn(s,a),$n(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Te){lt(a,a.return,Te)}}break;case 3:if(_d=null,w=Gr,Gr=Cd(s.containerInfo),Vn(s,a),Gr=w,$n(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Rs(s.containerInfo)}catch(Te){lt(a,a.return,Te)}$m&&($m=!1,RS(a));break;case 4:g=Gr,Gr=Cd(a.stateNode.containerInfo),Vn(s,a),$n(a),Gr=g;break;case 12:Vn(s,a),$n(a);break;case 31:Vn(s,a),$n(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,fd(a,g)));break;case 13:Vn(s,a),$n(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pd=hn()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,fd(a,g)));break;case 22:w=a.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,te=Oi,ce=Ht;if(Oi=te||w,Ht=ce||J,Vn(s,a),Ht=ce,Oi=te,$n(a),g&8192)e:for(s=a.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(d===null||J||Oi||Ht||So(a)),d=null,s=a;;){if(s.tag===5||s.tag===26){if(d===null){J=d=s;try{if(S=J.stateNode,w)_=S.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{L=J.stateNode;var he=J.memoizedProps.style,re=he!=null&&he.hasOwnProperty("display")?he.display:null;L.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Te){lt(J,J.return,Te)}}}else if(s.tag===6){if(d===null){J=s;try{J.stateNode.nodeValue=w?"":J.memoizedProps}catch(Te){lt(J,J.return,Te)}}}else if(s.tag===18){if(d===null){J=s;try{var se=J.stateNode;w?NN(se,!0):NN(J.stateNode,!1)}catch(Te){lt(J,J.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,fd(a,d))));break;case 19:Vn(s,a),$n(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,fd(a,g)));break;case 30:break;case 21:break;default:Vn(s,a),$n(a)}}function $n(a){var s=a.flags;if(s&2){try{for(var d,g=a.return;g!==null;){if(AS(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,S=Gm(a);dd(a,S,w);break;case 5:var _=d.stateNode;d.flags&32&&(rs(_,""),d.flags&=-33);var L=Gm(a);dd(a,L,_);break;case 3:case 4:var J=d.stateNode.containerInfo,te=Gm(a);Vm(a,te,J);break;default:throw Error(r(161))}}catch(ce){lt(a,a.return,ce)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function RS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;RS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ui(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_S(a,s.alternate,s),s=s.sibling}function So(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:_a(4,s,s.return),So(s);break;case 1:ui(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&NS(s,s.return,d),So(s);break;case 27:uu(s.stateNode);case 26:case 5:ui(s,s.return),So(s);break;case 22:s.memoizedState===null&&So(s);break;case 30:So(s);break;default:So(s)}a=a.sibling}}function Bi(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,w=a,S=s,_=S.flags;switch(S.tag){case 0:case 11:case 15:Bi(w,S,d),Zl(4,S);break;case 1:if(Bi(w,S,d),g=S,w=g.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(te){lt(g,g.return,te)}if(g=S,w=g.updateQueue,w!==null){var L=g.stateNode;try{var J=w.shared.hiddenCallbacks;if(J!==null)for(w.shared.hiddenCallbacks=null,w=0;w<J.length;w++)d1(J[w],L)}catch(te){lt(g,g.return,te)}}d&&_&64&&SS(S),eu(S,S.return);break;case 27:CS(S);case 26:case 5:Bi(w,S,d),d&&g===null&&_&4&&ES(S),eu(S,S.return);break;case 12:Bi(w,S,d);break;case 31:Bi(w,S,d),d&&_&4&&MS(w,S);break;case 13:Bi(w,S,d),d&&_&4&&jS(w,S);break;case 22:S.memoizedState===null&&Bi(w,S,d),eu(S,S.return);break;case 30:break;default:Bi(w,S,d)}s=s.sibling}}function Ym(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&zl(d))}function Km(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&zl(a))}function Vr(a,s,d,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)DS(a,s,d,g),s=s.sibling}function DS(a,s,d,g){var w=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(a,s,d,g),w&2048&&Zl(9,s);break;case 1:Vr(a,s,d,g);break;case 3:Vr(a,s,d,g),w&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&zl(a)));break;case 12:if(w&2048){Vr(a,s,d,g),a=s.stateNode;try{var S=s.memoizedProps,_=S.id,L=S.onPostCommit;typeof L=="function"&&L(_,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){lt(s,s.return,J)}}else Vr(a,s,d,g);break;case 31:Vr(a,s,d,g);break;case 13:Vr(a,s,d,g);break;case 23:break;case 22:S=s.stateNode,_=s.alternate,s.memoizedState!==null?S._visibility&2?Vr(a,s,d,g):tu(a,s):S._visibility&2?Vr(a,s,d,g):(S._visibility|=2,Ns(a,s,d,g,(s.subtreeFlags&10256)!==0||!1)),w&2048&&Ym(_,s);break;case 24:Vr(a,s,d,g),w&2048&&Km(s.alternate,s);break;default:Vr(a,s,d,g)}}function Ns(a,s,d,g,w){for(w=w&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=a,_=s,L=d,J=g,te=_.flags;switch(_.tag){case 0:case 11:case 15:Ns(S,_,L,J,w),Zl(8,_);break;case 23:break;case 22:var ce=_.stateNode;_.memoizedState!==null?ce._visibility&2?Ns(S,_,L,J,w):tu(S,_):(ce._visibility|=2,Ns(S,_,L,J,w)),w&&te&2048&&Ym(_.alternate,_);break;case 24:Ns(S,_,L,J,w),w&&te&2048&&Km(_.alternate,_);break;default:Ns(S,_,L,J,w)}s=s.sibling}}function tu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,g=s,w=g.flags;switch(g.tag){case 22:tu(d,g),w&2048&&Ym(g.alternate,g);break;case 24:tu(d,g),w&2048&&Km(g.alternate,g);break;default:tu(d,g)}s=s.sibling}}var nu=8192;function Es(a,s,d){if(a.subtreeFlags&nu)for(a=a.child;a!==null;)OS(a,s,d),a=a.sibling}function OS(a,s,d){switch(a.tag){case 26:Es(a,s,d),a.flags&nu&&a.memoizedState!==null&&I5(d,Gr,a.memoizedState,a.memoizedProps);break;case 5:Es(a,s,d);break;case 3:case 4:var g=Gr;Gr=Cd(a.stateNode.containerInfo),Es(a,s,d),Gr=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=nu,nu=16777216,Es(a,s,d),nu=g):Es(a,s,d));break;default:Es(a,s,d)}}function LS(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ru(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];on=g,BS(g,a)}LS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)US(a),a=a.sibling}function US(a){switch(a.tag){case 0:case 11:case 15:ru(a),a.flags&2048&&_a(9,a,a.return);break;case 3:ru(a);break;case 12:ru(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,hd(a)):ru(a);break;default:ru(a)}}function hd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];on=g,BS(g,a)}LS(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:_a(8,s,s.return),hd(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,hd(s));break;default:hd(s)}a=a.sibling}}function BS(a,s){for(;on!==null;){var d=on;switch(d.tag){case 0:case 11:case 15:_a(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:zl(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,on=g;else e:for(d=a;on!==null;){g=on;var w=g.sibling,S=g.return;if(kS(g),g===d){on=null;break e}if(w!==null){w.return=S,on=w;break e}on=S}}}var K4={getCacheForType:function(a){var s=gn(Bt),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d},cacheSignal:function(){return gn(Bt).controller.signal}},J4=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Ye=null,Je=0,st=0,sr=null,ka=!1,As=!1,Jm=!1,zi=0,It=0,Pa=0,No=0,Xm=0,lr=0,Cs=0,iu=null,Yn=null,Wm=!1,pd=0,zS=0,md=1/0,gd=null,Ma=null,Jt=0,ja=null,Ts=null,qi=0,Qm=0,Zm=null,qS=null,au=0,eg=null;function ur(){return(it&2)!==0&&Je!==0?Je&-Je:B.T!==null?og():ga()}function HS(){if(lr===0)if((Je&536870912)===0||Qe){var a=Jo;Jo<<=1,(Jo&3932160)===0&&(Jo=262144),lr=a}else lr=536870912;return a=ar.current,a!==null&&(a.flags|=32),lr}function Kn(a,s,d){(a===pt&&(st===2||st===9)||a.cancelPendingCommit!==null)&&(_s(a,0),Ia(a,Je,lr,!1)),_e(a,d),((it&2)===0||a!==pt)&&(a===pt&&((it&2)===0&&(No|=d),It===4&&Ia(a,Je,lr,!1)),ci(a))}function FS(a,s,d){if((it&6)!==0)throw Error(r(327));var g=!d&&(s&127)===0&&(s&a.expiredLanes)===0||oe(a,s),w=g?Q4(a,s):ng(a,s,!0),S=g;do{if(w===0){As&&!g&&Ia(a,s,0,!1);break}else{if(d=a.current.alternate,S&&!X4(d)){w=ng(a,s,!1),S=!1;continue}if(w===2){if(S=s,a.errorRecoveryDisabledLanes&S)var _=0;else _=a.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var L=a;w=iu;var J=L.current.memoizedState.isDehydrated;if(J&&(_s(L,_).flags|=256),_=ng(L,_,!1),_!==2){if(Jm&&!J){L.errorRecoveryDisabledLanes|=S,No|=S,w=4;break e}S=Yn,Yn=w,S!==null&&(Yn===null?Yn=S:Yn.push.apply(Yn,S))}w=_}if(S=!1,w!==2)continue}}if(w===1){_s(a,0),Ia(a,s,0,!0);break}e:{switch(g=a,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ia(g,s,lr,!ka);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(w=pd+300-hn(),10<w)){if(Ia(g,s,lr,!ka),ao(g,0,!0)!==0)break e;qi=s,g.timeoutHandle=bN(GS.bind(null,g,d,Yn,gd,Wm,s,lr,No,Cs,ka,S,"Throttled",-0,0),w);break e}GS(g,d,Yn,gd,Wm,s,lr,No,Cs,ka,S,null,-0,0)}}break}while(!0);ci(a)}function GS(a,s,d,g,w,S,_,L,J,te,ce,he,re,se){if(a.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},OS(s,S,he);var Te=(S&62914560)===S?pd-hn():(S&4194048)===S?zS-hn():0;if(Te=R5(he,Te),Te!==null){qi=S,a.cancelPendingCommit=Te(QS.bind(null,a,s,S,d,g,w,_,L,J,ce,he,null,re,se)),Ia(a,S,_,!te);return}}QS(a,s,S,d,g,w,_,L,J)}function X4(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var w=d[g],S=w.getSnapshot;w=w.value;try{if(!rr(S(),w))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ia(a,s,d,g){s&=~Xm,s&=~No,a.suspendedLanes|=s,a.pingedLanes&=~s,g&&(a.warmLanes|=s),g=a.expirationTimes;for(var w=s;0<w;){var S=31-ot(w),_=1<<S;g[S]=-1,w&=~_}d!==0&&Kt(a,d,s)}function yd(){return(it&6)===0?(ou(0),!1):!0}function tg(){if(Ye!==null){if(st===0)var a=Ye.return;else a=Ye,Pi=po=null,ym(a),vs=null,Hl=0,a=Ye;for(;a!==null;)wS(a.alternate,a),a=a.return;Ye=null}}function _s(a,s){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,g5(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),qi=0,tg(),pt=a,Ye=d=_i(a.current,null),Je=s,st=0,sr=null,ka=!1,As=oe(a,s),Jm=!1,Cs=lr=Xm=No=Pa=It=0,Yn=iu=null,Wm=!1,(s&8)!==0&&(s|=s&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=s;0<g;){var w=31-ot(g),S=1<<w;s|=a[w],g&=~S}return zi=s,Uc(),d}function VS(a,s){He=null,B.H=Xl,s===ys||s===$c?(s=s1(),st=3):s===am?(s=s1(),st=4):st=s===Im?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,sr=s,Ye===null&&(It=1,od(a,wr(s,a.current)))}function $S(){var a=ar.current;return a===null?!0:(Je&4194048)===Je?Ar===null:(Je&62914560)===Je||(Je&536870912)!==0?a===Ar:!1}function YS(){var a=B.H;return B.H=Xl,a===null?Xl:a}function KS(){var a=B.A;return B.A=K4,a}function vd(){It=4,ka||(Je&4194048)!==Je&&ar.current!==null||(As=!0),(Pa&134217727)===0&&(No&134217727)===0||pt===null||Ia(pt,Je,lr,!1)}function ng(a,s,d){var g=it;it|=2;var w=YS(),S=KS();(pt!==a||Je!==s)&&(gd=null,_s(a,s)),s=!1;var _=It;e:do try{if(st!==0&&Ye!==null){var L=Ye,J=sr;switch(st){case 8:tg(),_=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var te=st;if(st=0,sr=null,ks(a,L,J,te),d&&As){_=0;break e}break;default:te=st,st=0,sr=null,ks(a,L,J,te)}}W4(),_=It;break}catch(ce){VS(a,ce)}while(!0);return s&&a.shellSuspendCounter++,Pi=po=null,it=g,B.H=w,B.A=S,Ye===null&&(pt=null,Je=0,Uc()),_}function W4(){for(;Ye!==null;)JS(Ye)}function Q4(a,s){var d=it;it|=2;var g=YS(),w=KS();pt!==a||Je!==s?(gd=null,md=hn()+500,_s(a,s)):As=oe(a,s);e:do try{if(st!==0&&Ye!==null){s=Ye;var S=sr;t:switch(st){case 1:st=0,sr=null,ks(a,s,S,1);break;case 2:case 9:if(a1(S)){st=0,sr=null,XS(s);break}s=function(){st!==2&&st!==9||pt!==a||(st=7),ci(a)},S.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:a1(S)?(st=0,sr=null,XS(s)):(st=0,sr=null,ks(a,s,S,7));break;case 5:var _=null;switch(Ye.tag){case 26:_=Ye.memoizedState;case 5:case 27:var L=Ye;if(_?DN(_):L.stateNode.complete){st=0,sr=null;var J=L.sibling;if(J!==null)Ye=J;else{var te=L.return;te!==null?(Ye=te,xd(te)):Ye=null}break t}}st=0,sr=null,ks(a,s,S,5);break;case 6:st=0,sr=null,ks(a,s,S,6);break;case 8:tg(),It=6;break e;default:throw Error(r(462))}}Z4();break}catch(ce){VS(a,ce)}while(!0);return Pi=po=null,B.H=g,B.A=w,it=d,Ye!==null?0:(pt=null,Je=0,Uc(),It)}function Z4(){for(;Ye!==null&&!Al();)JS(Ye)}function JS(a){var s=xS(a.alternate,a,zi);a.memoizedProps=a.pendingProps,s===null?xd(a):Ye=s}function XS(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=hS(d,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=hS(d,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:ym(s);default:wS(d,s),s=Ye=Kw(s,zi),s=xS(d,s,zi)}a.memoizedProps=a.pendingProps,s===null?xd(a):Ye=s}function ks(a,s,d,g){Pi=po=null,ym(s),vs=null,Hl=0;var w=s.return;try{if(q4(a,w,s,d,Je)){It=1,od(a,wr(d,a.current)),Ye=null;return}}catch(S){if(w!==null)throw Ye=w,S;It=1,od(a,wr(d,a.current)),Ye=null;return}s.flags&32768?(Qe||g===1?a=!0:As||(Je&536870912)!==0?a=!1:(ka=a=!0,(g===2||g===9||g===3||g===6)&&(g=ar.current,g!==null&&g.tag===13&&(g.flags|=16384))),WS(s,a)):xd(s)}function xd(a){var s=a;do{if((s.flags&32768)!==0){WS(s,ka);return}a=s.return;var d=G4(s.alternate,s,zi);if(d!==null){Ye=d;return}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=a}while(s!==null);It===0&&(It=5)}function WS(a,s){do{var d=V4(a.alternate,a);if(d!==null){d.flags&=32767,Ye=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){Ye=a;return}Ye=a=d}while(a!==null);It=6,Ye=null}function QS(a,s,d,g,w,S,_,L,J){a.cancelPendingCommit=null;do bd();while(Jt!==0);if((it&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=Gp,Be(a,d,S,_,L,J),a===pt&&(Ye=pt=null,Je=0),Ts=s,ja=a,qi=d,Qm=S,Zm=w,qS=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,r5(De,function(){return rN(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,w=K.p,K.p=2,_=it,it|=4;try{$4(a,s,d)}finally{it=_,K.p=w,B.T=g}}Jt=1,ZS(),eN(),tN()}}function ZS(){if(Jt===1){Jt=0;var a=ja,s=Ts,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var g=K.p;K.p=2;var w=it;it|=4;try{IS(s,a);var S=pg,_=Bw(a.containerInfo),L=S.focusedElem,J=S.selectionRange;if(_!==L&&L&&L.ownerDocument&&Uw(L.ownerDocument.documentElement,L)){if(J!==null&&Bp(L)){var te=J.start,ce=J.end;if(ce===void 0&&(ce=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(ce,L.value.length);else{var he=L.ownerDocument||document,re=he&&he.defaultView||window;if(re.getSelection){var se=re.getSelection(),Te=L.textContent.length,Oe=Math.min(J.start,Te),ht=J.end===void 0?Oe:Math.min(J.end,Te);!se.extend&&Oe>ht&&(_=ht,ht=Oe,Oe=_);var Q=Lw(L,Oe),W=Lw(L,ht);if(Q&&W&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==W.node||se.focusOffset!==W.offset)){var ee=he.createRange();ee.setStart(Q.node,Q.offset),se.removeAllRanges(),Oe>ht?(se.addRange(ee),se.extend(W.node,W.offset)):(ee.setEnd(W.node,W.offset),se.addRange(ee))}}}}for(he=[],se=L;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<he.length;L++){var fe=he[L];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}jd=!!hg,pg=hg=null}finally{it=w,K.p=g,B.T=d}}a.current=s,Jt=2}}function eN(){if(Jt===2){Jt=0;var a=ja,s=Ts,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var g=K.p;K.p=2;var w=it;it|=4;try{_S(a,s.alternate,s)}finally{it=w,K.p=g,B.T=d}}Jt=3}}function tN(){if(Jt===4||Jt===3){Jt=0,ro();var a=ja,s=Ts,d=qi,g=qS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,Ts=ja=null,nN(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(Ma=null),_n(d),s=s.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(nn,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=B.T,w=K.p,K.p=2,B.T=null;try{for(var S=a.onRecoverableError,_=0;_<g.length;_++){var L=g[_];S(L.value,{componentStack:L.stack})}}finally{B.T=s,K.p=w}}(qi&3)!==0&&bd(),ci(a),w=a.pendingLanes,(d&261930)!==0&&(w&42)!==0?a===eg?au++:(au=0,eg=a):au=0,ou(0)}}function nN(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,zl(s)))}function bd(){return ZS(),eN(),tN(),rN()}function rN(){if(Jt!==5)return!1;var a=ja,s=Qm;Qm=0;var d=_n(qi),g=B.T,w=K.p;try{K.p=32>d?32:d,B.T=null,d=Zm,Zm=null;var S=ja,_=qi;if(Jt=0,Ts=ja=null,qi=0,(it&6)!==0)throw Error(r(331));var L=it;if(it|=4,US(S.current),DS(S,S.current,_,d),it=L,ou(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(nn,S)}catch{}return!0}finally{K.p=w,B.T=g,nN(a,s)}}function iN(a,s,d){s=wr(d,s),s=jm(a.stateNode,s,2),a=Aa(a,s,2),a!==null&&(_e(a,2),ci(a))}function lt(a,s,d){if(a.tag===3)iN(a,a,d);else for(;s!==null;){if(s.tag===3){iN(s,a,d);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ma===null||!Ma.has(g))){a=wr(d,a),d=aS(2),g=Aa(s,d,2),g!==null&&(oS(d,g,s,a),_e(g,2),ci(g));break}}s=s.return}}function rg(a,s,d){var g=a.pingCache;if(g===null){g=a.pingCache=new J4;var w=new Set;g.set(s,w)}else w=g.get(s),w===void 0&&(w=new Set,g.set(s,w));w.has(d)||(Jm=!0,w.add(d),a=e5.bind(null,a,s,d),s.then(a,a))}function e5(a,s,d){var g=a.pingCache;g!==null&&g.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,pt===a&&(Je&d)===d&&(It===4||It===3&&(Je&62914560)===Je&&300>hn()-pd?(it&2)===0&&_s(a,0):Xm|=d,Cs===Je&&(Cs=0)),ci(a)}function aN(a,s){s===0&&(s=ye()),a=co(a,s),a!==null&&(_e(a,s),ci(a))}function t5(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),aN(a,d)}function n5(a,s){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(s),aN(a,d)}function r5(a,s){return tr(a,s)}var wd=null,Ps=null,ig=!1,Sd=!1,ag=!1,Ra=0;function ci(a){a!==Ps&&a.next===null&&(Ps===null?wd=Ps=a:Ps=Ps.next=a),Sd=!0,ig||(ig=!0,a5())}function ou(a,s){if(!ag&&Sd){ag=!0;do for(var d=!1,g=wd;g!==null;){if(a!==0){var w=g.pendingLanes;if(w===0)var S=0;else{var _=g.suspendedLanes,L=g.pingedLanes;S=(1<<31-ot(42|a)+1)-1,S&=w&~(_&~L),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,uN(g,S))}else S=Je,S=ao(g,g===pt?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||oe(g,S)||(d=!0,uN(g,S));g=g.next}while(d);ag=!1}}function i5(){oN()}function oN(){Sd=ig=!1;var a=0;Ra!==0&&m5()&&(a=Ra);for(var s=hn(),d=null,g=wd;g!==null;){var w=g.next,S=sN(g,s);S===0?(g.next=null,d===null?wd=w:d.next=w,w===null&&(Ps=d)):(d=g,(a!==0||(S&3)!==0)&&(Sd=!0)),g=w}Jt!==0&&Jt!==5||ou(a),Ra!==0&&(Ra=0)}function sN(a,s){for(var d=a.suspendedLanes,g=a.pingedLanes,w=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var _=31-ot(S),L=1<<_,J=w[_];J===-1?((L&d)===0||(L&g)!==0)&&(w[_]=ve(L,s)):J<=s&&(a.expiredLanes|=L),S&=~L}if(s=pt,d=Je,d=ao(a,a===s?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===s&&(st===2||st===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ni(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||oe(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(g!==null&&Ni(g),_n(d)){case 2:case 8:d=be;break;case 32:d=De;break;case 268435456:d=We;break;default:d=De}return g=lN.bind(null,a),d=tr(d,g),a.callbackPriority=s,a.callbackNode=d,s}return g!==null&&g!==null&&Ni(g),a.callbackPriority=2,a.callbackNode=null,2}function lN(a,s){if(Jt!==0&&Jt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(bd()&&a.callbackNode!==d)return null;var g=Je;return g=ao(a,a===pt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(FS(a,g,s),sN(a,hn()),a.callbackNode!=null&&a.callbackNode===d?lN.bind(null,a):null)}function uN(a,s){if(bd())return null;FS(a,s,!0)}function a5(){y5(function(){(it&6)!==0?tr(de,i5):oN()})}function og(){if(Ra===0){var a=ms;a===0&&(a=io,io<<=1,(io&261888)===0&&(io=256)),Ra=a}return Ra}function cN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Pc(""+a)}function dN(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function o5(a,s,d,g,w){if(s==="submit"&&d&&d.stateNode===w){var S=cN((w[Hn]||null).action),_=g.submitter;_&&(s=(s=_[Hn]||null)?cN(s.formAction):_.getAttribute("formAction"),s!==null&&(S=s,_=null));var L=new Rc("action","action",null,g,w);a.push({event:L,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ra!==0){var J=_?dN(w,_):new FormData(w);Cm(d,{pending:!0,data:J,method:w.method,action:S},null,J)}}else typeof S=="function"&&(L.preventDefault(),J=_?dN(w,_):new FormData(w),Cm(d,{pending:!0,data:J,method:w.method,action:S},S,J))},currentTarget:w}]})}}for(var sg=0;sg<Fp.length;sg++){var lg=Fp[sg],s5=lg.toLowerCase(),l5=lg[0].toUpperCase()+lg.slice(1);Fr(s5,"on"+l5)}Fr(Hw,"onAnimationEnd"),Fr(Fw,"onAnimationIteration"),Fr(Gw,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(E4,"onTransitionRun"),Fr(A4,"onTransitionStart"),Fr(C4,"onTransitionCancel"),Fr(Vw,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function fN(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],w=g.event;g=g.listeners;e:{var S=void 0;if(s)for(var _=g.length-1;0<=_;_--){var L=g[_],J=L.instance,te=L.currentTarget;if(L=L.listener,J!==S&&w.isPropagationStopped())break e;S=L,w.currentTarget=te;try{S(w)}catch(ce){Lc(ce)}w.currentTarget=null,S=J}else for(_=0;_<g.length;_++){if(L=g[_],J=L.instance,te=L.currentTarget,L=L.listener,J!==S&&w.isPropagationStopped())break e;S=L,w.currentTarget=te;try{S(w)}catch(ce){Lc(ce)}w.currentTarget=null,S=J}}}}function Ke(a,s){var d=s[wp];d===void 0&&(d=s[wp]=new Set);var g=a+"__bubble";d.has(g)||(hN(s,a,2,!1),d.add(g))}function ug(a,s,d){var g=0;s&&(g|=4),hN(d,a,g,s)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function cg(a){if(!a[Nd]){a[Nd]=!0,ow.forEach(function(d){d!=="selectionchange"&&(u5.has(d)||ug(d,!1,a),ug(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Nd]||(s[Nd]=!0,ug("selectionchange",!1,s))}}function hN(a,s,d,g){switch(HN(s)){case 2:var w=L5;break;case 8:w=U5;break;default:w=Ag}d=w.bind(null,s,d,a),w=void 0,!Pp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),g?w!==void 0?a.addEventListener(s,d,{capture:!0,passive:w}):a.addEventListener(s,d,!0):w!==void 0?a.addEventListener(s,d,{passive:w}):a.addEventListener(s,d,!1)}function dg(a,s,d,g,w){var S=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var _=g.tag;if(_===3||_===4){var L=g.stateNode.containerInfo;if(L===w)break;if(_===4)for(_=g.return;_!==null;){var J=_.tag;if((J===3||J===4)&&_.stateNode.containerInfo===w)return;_=_.return}for(;L!==null;){if(_=Qo(L),_===null)return;if(J=_.tag,J===5||J===6||J===26||J===27){g=S=_;continue e}L=L.parentNode}}g=g.return}vw(function(){var te=S,ce=_p(d),he=[];e:{var re=$w.get(a);if(re!==void 0){var se=Rc,Te=a;switch(a){case"keypress":if(jc(d)===0)break e;case"keydown":case"keyup":se=n4;break;case"focusin":Te="focus",se=Rp;break;case"focusout":Te="blur",se=Rp;break;case"beforeblur":case"afterblur":se=Rp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=a4;break;case Hw:case Fw:case Gw:se=YO;break;case Vw:se=s4;break;case"scroll":case"scrollend":se=HO;break;case"wheel":se=u4;break;case"copy":case"cut":case"paste":se=JO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Nw;break;case"toggle":case"beforetoggle":se=d4}var Oe=(s&4)!==0,ht=!Oe&&(a==="scroll"||a==="scrollend"),Q=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var W=te,ee;W!==null;){var fe=W;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Q===null||(fe=kl(W,Q),fe!=null&&Oe.push(lu(W,fe,ee))),ht)break;W=W.return}0<Oe.length&&(re=new se(re,Te,null,d,ce),he.push({event:re,listeners:Oe}))}}if((s&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",re&&d!==Tp&&(Te=d.relatedTarget||d.fromElement)&&(Qo(Te)||Te[Wo]))break e;if((se||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,se?(Te=d.relatedTarget||d.toElement,se=te,Te=Te?Qo(Te):null,Te!==null&&(ht=o(Te),Oe=Te.tag,Te!==ht||Oe!==5&&Oe!==27&&Oe!==6)&&(Te=null)):(se=null,Te=te),se!==Te)){if(Oe=ww,fe="onMouseLeave",Q="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=Nw,fe="onPointerLeave",Q="onPointerEnter",W="pointer"),ht=se==null?re:_l(se),ee=Te==null?re:_l(Te),re=new Oe(fe,W+"leave",se,d,ce),re.target=ht,re.relatedTarget=ee,fe=null,Qo(ce)===te&&(Oe=new Oe(Q,W+"enter",Te,d,ce),Oe.target=ee,Oe.relatedTarget=ht,fe=Oe),ht=fe,se&&Te)t:{for(Oe=c5,Q=se,W=Te,ee=0,fe=Q;fe;fe=Oe(fe))ee++;fe=0;for(var Ie=W;Ie;Ie=Oe(Ie))fe++;for(;0<ee-fe;)Q=Oe(Q),ee--;for(;0<fe-ee;)W=Oe(W),fe--;for(;ee--;){if(Q===W||W!==null&&Q===W.alternate){Oe=Q;break t}Q=Oe(Q),W=Oe(W)}Oe=null}else Oe=null;se!==null&&pN(he,re,se,Oe,!1),Te!==null&&ht!==null&&pN(he,ht,Te,Oe,!0)}}e:{if(re=te?_l(te):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var Ze=Mw;else if(kw(re))if(jw)Ze=w4;else{Ze=x4;var ke=v4}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Cp(te.elementType)&&(Ze=Mw):Ze=b4;if(Ze&&(Ze=Ze(a,te))){Pw(he,Ze,d,ce);break e}ke&&ke(a,re,te),a==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Ap(re,"number",re.value)}switch(ke=te?_l(te):window,a){case"focusin":(kw(ke)||ke.contentEditable==="true")&&(ss=ke,zp=te,Ll=null);break;case"focusout":Ll=zp=ss=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,zw(he,d,ce);break;case"selectionchange":if(N4)break;case"keydown":case"keyup":zw(he,d,ce)}var Fe;if(Op)e:{switch(a){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else os?Tw(a,d)&&(Xe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Xe="onCompositionStart");Xe&&(Ew&&d.locale!=="ko"&&(os||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&os&&(Fe=xw()):(va=ce,Mp="value"in va?va.value:va.textContent,os=!0)),ke=Ed(te,Xe),0<ke.length&&(Xe=new Sw(Xe,a,null,d,ce),he.push({event:Xe,listeners:ke}),Fe?Xe.data=Fe:(Fe=_w(d),Fe!==null&&(Xe.data=Fe)))),(Fe=h4?p4(a,d):m4(a,d))&&(Xe=Ed(te,"onBeforeInput"),0<Xe.length&&(ke=new Sw("onBeforeInput","beforeinput",null,d,ce),he.push({event:ke,listeners:Xe}),ke.data=Fe)),o5(he,a,te,d,ce)}fN(he,s)})}function lu(a,s,d){return{instance:a,listener:s,currentTarget:d}}function Ed(a,s){for(var d=s+"Capture",g=[];a!==null;){var w=a,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=kl(a,d),w!=null&&g.unshift(lu(a,w,S)),w=kl(a,s),w!=null&&g.push(lu(a,w,S))),a.tag===3)return g;a=a.return}return[]}function c5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function pN(a,s,d,g,w){for(var S=s._reactName,_=[];d!==null&&d!==g;){var L=d,J=L.alternate,te=L.stateNode;if(L=L.tag,J!==null&&J===g)break;L!==5&&L!==26&&L!==27||te===null||(J=te,w?(te=kl(d,S),te!=null&&_.unshift(lu(d,te,J))):w||(te=kl(d,S),te!=null&&_.push(lu(d,te,J)))),d=d.return}_.length!==0&&a.push({event:s,listeners:_})}var d5=/\r\n?/g,f5=/\u0000|\uFFFD/g;function mN(a){return(typeof a=="string"?a:""+a).replace(d5,`
`).replace(f5,"")}function gN(a,s){return s=mN(s),mN(a)===s}function ft(a,s,d,g,w,S){switch(d){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||rs(a,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&rs(a,""+g);break;case"className":_c(a,"class",g);break;case"tabIndex":_c(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":_c(a,d,g);break;case"style":gw(a,g,S);break;case"data":if(s!=="object"){_c(a,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Pc(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(s!=="input"&&ft(a,s,"name",w.name,w,null),ft(a,s,"formEncType",w.formEncType,w,null),ft(a,s,"formMethod",w.formMethod,w,null),ft(a,s,"formTarget",w.formTarget,w,null)):(ft(a,s,"encType",w.encType,w,null),ft(a,s,"method",w.method,w,null),ft(a,s,"target",w.target,w,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=Pc(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=Ci);break;case"onScroll":g!=null&&Ke("scroll",a);break;case"onScrollEnd":g!=null&&Ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=Pc(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":Ke("beforetoggle",a),Ke("toggle",a),Tc(a,"popover",g);break;case"xlinkActuate":Ai(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ai(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ai(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ai(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ai(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ai(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ai(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ai(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ai(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Tc(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=zO.get(d)||d,Tc(a,d,g))}}function fg(a,s,d,g,w,S){switch(d){case"style":gw(a,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof g=="string"?rs(a,g):(typeof g=="number"||typeof g=="bigint")&&rs(a,""+g);break;case"onScroll":g!=null&&Ke("scroll",a);break;case"onScrollEnd":g!=null&&Ke("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sw.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),s=d.slice(2,w?d.length-7:void 0),S=a[Hn]||null,S=S!=null?S[d]:null,typeof S=="function"&&a.removeEventListener(s,S,w),typeof g=="function")){typeof S!="function"&&S!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,g,w);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):Tc(a,d,g)}}}function vn(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",a),Ke("load",a);var g=!1,w=!1,S;for(S in d)if(d.hasOwnProperty(S)){var _=d[S];if(_!=null)switch(S){case"src":g=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ft(a,s,S,_,d,null)}}w&&ft(a,s,"srcSet",d.srcSet,d,null),g&&ft(a,s,"src",d.src,d,null);return;case"input":Ke("invalid",a);var L=S=_=w=null,J=null,te=null;for(g in d)if(d.hasOwnProperty(g)){var ce=d[g];if(ce!=null)switch(g){case"name":w=ce;break;case"type":_=ce;break;case"checked":J=ce;break;case"defaultChecked":te=ce;break;case"value":S=ce;break;case"defaultValue":L=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:ft(a,s,g,ce,d,null)}}fw(a,S,L,J,te,_,w,!1);return;case"select":Ke("invalid",a),g=_=S=null;for(w in d)if(d.hasOwnProperty(w)&&(L=d[w],L!=null))switch(w){case"value":S=L;break;case"defaultValue":_=L;break;case"multiple":g=L;default:ft(a,s,w,L,d,null)}s=S,d=_,a.multiple=!!g,s!=null?ns(a,!!g,s,!1):d!=null&&ns(a,!!g,d,!0);return;case"textarea":Ke("invalid",a),S=w=g=null;for(_ in d)if(d.hasOwnProperty(_)&&(L=d[_],L!=null))switch(_){case"value":g=L;break;case"defaultValue":w=L;break;case"children":S=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:ft(a,s,_,L,d,null)}pw(a,g,w,S);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(g=d[J],g!=null))switch(J){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ft(a,s,J,g,d,null)}return;case"dialog":Ke("beforetoggle",a),Ke("toggle",a),Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":Ke("load",a);break;case"video":case"audio":for(g=0;g<su.length;g++)Ke(su[g],a);break;case"image":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"embed":case"source":case"link":Ke("error",a),Ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(g=d[te],g!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ft(a,s,te,g,d,null)}return;default:if(Cp(s)){for(ce in d)d.hasOwnProperty(ce)&&(g=d[ce],g!==void 0&&fg(a,s,ce,g,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(g=d[L],g!=null&&ft(a,s,L,g,d,null))}function h5(a,s,d,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,_=null,L=null,J=null,te=null,ce=null;for(se in d){var he=d[se];if(d.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":J=he;default:g.hasOwnProperty(se)||ft(a,s,se,null,g,he)}}for(var re in g){var se=g[re];if(he=d[re],g.hasOwnProperty(re)&&(se!=null||he!=null))switch(re){case"type":S=se;break;case"name":w=se;break;case"checked":te=se;break;case"defaultChecked":ce=se;break;case"value":_=se;break;case"defaultValue":L=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:se!==he&&ft(a,s,re,se,g,he)}}Ep(a,_,L,J,te,ce,S,w);return;case"select":se=_=L=re=null;for(S in d)if(J=d[S],d.hasOwnProperty(S)&&J!=null)switch(S){case"value":break;case"multiple":se=J;default:g.hasOwnProperty(S)||ft(a,s,S,null,g,J)}for(w in g)if(S=g[w],J=d[w],g.hasOwnProperty(w)&&(S!=null||J!=null))switch(w){case"value":re=S;break;case"defaultValue":L=S;break;case"multiple":_=S;default:S!==J&&ft(a,s,w,S,g,J)}s=L,d=_,g=se,re!=null?ns(a,!!d,re,!1):!!g!=!!d&&(s!=null?ns(a,!!d,s,!0):ns(a,!!d,d?[]:"",!1));return;case"textarea":se=re=null;for(L in d)if(w=d[L],d.hasOwnProperty(L)&&w!=null&&!g.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ft(a,s,L,null,g,w)}for(_ in g)if(w=g[_],S=d[_],g.hasOwnProperty(_)&&(w!=null||S!=null))switch(_){case"value":re=w;break;case"defaultValue":se=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&ft(a,s,_,w,g,S)}hw(a,re,se);return;case"option":for(var Te in d)if(re=d[Te],d.hasOwnProperty(Te)&&re!=null&&!g.hasOwnProperty(Te))switch(Te){case"selected":a.selected=!1;break;default:ft(a,s,Te,null,g,re)}for(J in g)if(re=g[J],se=d[J],g.hasOwnProperty(J)&&re!==se&&(re!=null||se!=null))switch(J){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:ft(a,s,J,re,g,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in d)re=d[Oe],d.hasOwnProperty(Oe)&&re!=null&&!g.hasOwnProperty(Oe)&&ft(a,s,Oe,null,g,re);for(te in g)if(re=g[te],se=d[te],g.hasOwnProperty(te)&&re!==se&&(re!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:ft(a,s,te,re,g,se)}return;default:if(Cp(s)){for(var ht in d)re=d[ht],d.hasOwnProperty(ht)&&re!==void 0&&!g.hasOwnProperty(ht)&&fg(a,s,ht,void 0,g,re);for(ce in g)re=g[ce],se=d[ce],!g.hasOwnProperty(ce)||re===se||re===void 0&&se===void 0||fg(a,s,ce,re,g,se);return}}for(var Q in d)re=d[Q],d.hasOwnProperty(Q)&&re!=null&&!g.hasOwnProperty(Q)&&ft(a,s,Q,null,g,re);for(he in g)re=g[he],se=d[he],!g.hasOwnProperty(he)||re===se||re==null&&se==null||ft(a,s,he,re,g,se)}function yN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p5(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var w=d[g],S=w.transferSize,_=w.initiatorType,L=w.duration;if(S&&L&&yN(_)){for(_=0,L=w.responseEnd,g+=1;g<d.length;g++){var J=d[g],te=J.startTime;if(te>L)break;var ce=J.transferSize,he=J.initiatorType;ce&&yN(he)&&(J=J.responseEnd,_+=ce*(J<L?1:(L-te)/(J-te)))}if(--g,s+=8*(S+_)/(w.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var hg=null,pg=null;function Ad(a){return a.nodeType===9?a:a.ownerDocument}function vN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xN(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function mg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gg=null;function m5(){var a=window.event;return a&&a.type==="popstate"?a===gg?!1:(gg=a,!0):(gg=null,!1)}var bN=typeof setTimeout=="function"?setTimeout:void 0,g5=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,y5=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(a){return wN.resolve(null).then(a).catch(v5)}:bN;function v5(a){setTimeout(function(){throw a})}function Da(a){return a==="head"}function SN(a,s){var d=s,g=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(w),Rs(s);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")uu(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,uu(d);for(var S=d.firstChild;S;){var _=S.nextSibling,L=S.nodeName;S[Tl]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=_}}else d==="body"&&uu(a.ownerDocument.body);d=w}while(d);Rs(s)}function NN(a,s){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?s?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(s?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function yg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":yg(d),Sp(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function x5(a,s,d,g){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Tl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Cr(a.nextSibling),a===null)break}return null}function b5(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Cr(a.nextSibling),a===null))return null;return a}function EN(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Cr(a.nextSibling),a===null))return null;return a}function vg(a){return a.data==="$?"||a.data==="$~"}function xg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function w5(a,s){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||d.readyState!=="loading")s();else{var g=function(){s(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function Cr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var bg=null;function AN(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(s===0)return Cr(a.nextSibling);s--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||s++}a=a.nextSibling}return null}function CN(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(s===0)return a;s--}else d!=="/$"&&d!=="/&"||s++}a=a.previousSibling}return null}function TN(a,s,d){switch(s=Ad(d),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function uu(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Sp(a)}var Tr=new Map,_N=new Set;function Cd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Hi=K.d;K.d={f:S5,r:N5,D:E5,C:A5,L:C5,m:T5,X:k5,S:_5,M:P5};function S5(){var a=Hi.f(),s=yd();return a||s}function N5(a){var s=Zo(a);s!==null&&s.tag===5&&s.type==="form"?V1(s):Hi.r(a)}var Ms=typeof document>"u"?null:document;function kN(a,s,d){var g=Ms;if(g&&typeof s=="string"&&s){var w=xr(s);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),_N.has(w)||(_N.add(w),a={rel:a,crossOrigin:d,href:s},g.querySelector(w)===null&&(s=g.createElement("link"),vn(s,"link",a),an(s),g.head.appendChild(s)))}}function E5(a){Hi.D(a),kN("dns-prefetch",a,null)}function A5(a,s){Hi.C(a,s),kN("preconnect",a,s)}function C5(a,s,d){Hi.L(a,s,d);var g=Ms;if(g&&a&&s){var w='link[rel="preload"][as="'+xr(s)+'"]';s==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+xr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+xr(d.imageSizes)+'"]')):w+='[href="'+xr(a)+'"]';var S=w;switch(s){case"style":S=js(a);break;case"script":S=Is(a)}Tr.has(S)||(a=m({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),Tr.set(S,a),g.querySelector(w)!==null||s==="style"&&g.querySelector(cu(S))||s==="script"&&g.querySelector(du(S))||(s=g.createElement("link"),vn(s,"link",a),an(s),g.head.appendChild(s)))}}function T5(a,s){Hi.m(a,s);var d=Ms;if(d&&a){var g=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+xr(g)+'"][href="'+xr(a)+'"]',S=w;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Is(a)}if(!Tr.has(S)&&(a=m({rel:"modulepreload",href:a},s),Tr.set(S,a),d.querySelector(w)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(du(S)))return}g=d.createElement("link"),vn(g,"link",a),an(g),d.head.appendChild(g)}}}function _5(a,s,d){Hi.S(a,s,d);var g=Ms;if(g&&a){var w=es(g).hoistableStyles,S=js(a);s=s||"default";var _=w.get(S);if(!_){var L={loading:0,preload:null};if(_=g.querySelector(cu(S)))L.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},d),(d=Tr.get(S))&&wg(a,d);var J=_=g.createElement("link");an(J),vn(J,"link",a),J._p=new Promise(function(te,ce){J.onload=te,J.onerror=ce}),J.addEventListener("load",function(){L.loading|=1}),J.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Td(_,s,g)}_={type:"stylesheet",instance:_,count:1,state:L},w.set(S,_)}}}function k5(a,s){Hi.X(a,s);var d=Ms;if(d&&a){var g=es(d).hoistableScripts,w=Is(a),S=g.get(w);S||(S=d.querySelector(du(w)),S||(a=m({src:a,async:!0},s),(s=Tr.get(w))&&Sg(a,s),S=d.createElement("script"),an(S),vn(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(w,S))}}function P5(a,s){Hi.M(a,s);var d=Ms;if(d&&a){var g=es(d).hoistableScripts,w=Is(a),S=g.get(w);S||(S=d.querySelector(du(w)),S||(a=m({src:a,async:!0,type:"module"},s),(s=Tr.get(w))&&Sg(a,s),S=d.createElement("script"),an(S),vn(S,"link",a),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(w,S))}}function PN(a,s,d,g){var w=(w=ue.current)?Cd(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=js(d.href),d=es(w).hoistableStyles,g=d.get(s),g||(g={type:"style",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=js(d.href);var S=es(w).hoistableStyles,_=S.get(a);if(_||(w=w.ownerDocument||w,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,_),(S=w.querySelector(cu(a)))&&!S._p&&(_.instance=S,_.state.loading=5),Tr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Tr.set(a,d),S||M5(w,a,d,_.state))),s&&g===null)throw Error(r(528,""));return _}if(s&&g!==null)throw Error(r(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Is(d),d=es(w).hoistableScripts,g=d.get(s),g||(g={type:"script",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function js(a){return'href="'+xr(a)+'"'}function cu(a){return'link[rel="stylesheet"]['+a+"]"}function MN(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function M5(a,s,d,g){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=a.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),vn(s,"link",d),an(s),a.head.appendChild(s))}function Is(a){return'[src="'+xr(a)+'"]'}function du(a){return"script[async]"+a}function jN(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var g=a.querySelector('style[data-href~="'+xr(d.href)+'"]');if(g)return s.instance=g,an(g),g;var w=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),an(g),vn(g,"style",w),Td(g,d.precedence,a),s.instance=g;case"stylesheet":w=js(d.href);var S=a.querySelector(cu(w));if(S)return s.state.loading|=4,s.instance=S,an(S),S;g=MN(d),(w=Tr.get(w))&&wg(g,w),S=(a.ownerDocument||a).createElement("link"),an(S);var _=S;return _._p=new Promise(function(L,J){_.onload=L,_.onerror=J}),vn(S,"link",g),s.state.loading|=4,Td(S,d.precedence,a),s.instance=S;case"script":return S=Is(d.src),(w=a.querySelector(du(S)))?(s.instance=w,an(w),w):(g=d,(w=Tr.get(S))&&(g=m({},d),Sg(g,w)),a=a.ownerDocument||a,w=a.createElement("script"),an(w),vn(w,"link",g),a.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Td(g,d.precedence,a));return s.instance}function Td(a,s,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=g.length?g[g.length-1]:null,S=w,_=0;_<g.length;_++){var L=g[_];if(L.dataset.precedence===s)S=L;else if(S!==w)break}S?S.parentNode.insertBefore(a,S.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function wg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Sg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var _d=null;function IN(a,s,d){if(_d===null){var g=new Map,w=_d=new Map;w.set(d,g)}else w=_d,g=w.get(d),g||(g=new Map,w.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var S=d[w];if(!(S[Tl]||S[pn]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var _=S.getAttribute(s)||"";_=a+_;var L=g.get(_);L?L.push(S):g.set(_,[S])}}return g}function RN(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function j5(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function DN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function I5(a,s,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=js(g.href),S=s.querySelector(cu(w));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=kd.bind(a),s.then(a,a)),d.state.loading|=4,d.instance=S,an(S);return}S=s.ownerDocument||s,g=MN(g),(w=Tr.get(w))&&wg(g,w),S=S.createElement("link"),an(S);var _=S;_._p=new Promise(function(L,J){_.onload=L,_.onerror=J}),vn(S,"link",g),d.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=kd.bind(a),s.addEventListener("load",d),s.addEventListener("error",d))}}var Ng=0;function R5(a,s){return a.stylesheets&&a.count===0&&Md(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&Md(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+s);0<a.imgBytes&&Ng===0&&(Ng=62500*p5());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Md(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>Ng?50:800)+s);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(w)}}:null}function kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Pd=null;function Md(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Pd=new Map,s.forEach(D5,a),Pd=null,kd.call(a))}function D5(a,s){if(!(s.state.loading&4)){var d=Pd.get(a);if(d)var g=d.get(null);else{d=new Map,Pd.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var _=w[S];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(d.set(_.dataset.precedence,_),g=_)}g&&d.set(null,g)}w=s.instance,_=w.getAttribute("data-precedence"),S=d.get(_)||g,S===g&&d.set(null,w),d.set(_,w),this.count++,g=kd.bind(this),w.addEventListener("load",g),w.addEventListener("error",g),S?S.parentNode.insertBefore(w,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),s.state.loading|=4}}var fu={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function O5(a,s,d,g,w,S,_,L,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=g,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function ON(a,s,d,g,w,S,_,L,J,te,ce,he){return a=new O5(a,s,d,_,J,te,ce,he,L),s=1,S===!0&&(s|=24),S=ir(3,null,null,s),a.current=S,S.stateNode=a,s=nm(),s.refCount++,a.pooledCache=s,s.refCount++,S.memoizedState={element:g,isDehydrated:d,cache:s},om(S),a}function LN(a){return a?(a=cs,a):cs}function UN(a,s,d,g,w,S){w=LN(w),g.context===null?g.context=w:g.pendingContext=w,g=Ea(s),g.payload={element:d},S=S===void 0?null:S,S!==null&&(g.callback=S),d=Aa(a,g,s),d!==null&&(Kn(d,a,s),Gl(d,a,s))}function BN(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function Eg(a,s){BN(a,s),(a=a.alternate)&&BN(a,s)}function zN(a){if(a.tag===13||a.tag===31){var s=co(a,67108864);s!==null&&Kn(s,a,67108864),Eg(a,67108864)}}function qN(a){if(a.tag===13||a.tag===31){var s=ur();s=nr(s);var d=co(a,s);d!==null&&Kn(d,a,s),Eg(a,s)}}var jd=!0;function L5(a,s,d,g){var w=B.T;B.T=null;var S=K.p;try{K.p=2,Ag(a,s,d,g)}finally{K.p=S,B.T=w}}function U5(a,s,d,g){var w=B.T;B.T=null;var S=K.p;try{K.p=8,Ag(a,s,d,g)}finally{K.p=S,B.T=w}}function Ag(a,s,d,g){if(jd){var w=Cg(g);if(w===null)dg(a,s,g,Id,d),FN(a,g);else if(z5(w,a,s,d,g))g.stopPropagation();else if(FN(a,g),s&4&&-1<B5.indexOf(a)){for(;w!==null;){var S=Zo(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var _=Ei(S.pendingLanes);if(_!==0){var L=S;for(L.pendingLanes|=2,L.entangledLanes|=2;_;){var J=1<<31-ot(_);L.entanglements[1]|=J,_&=~J}ci(S),(it&6)===0&&(md=hn()+500,ou(0))}}break;case 31:case 13:L=co(S,2),L!==null&&Kn(L,S,2),yd(),Eg(S,2)}if(S=Cg(g),S===null&&dg(a,s,g,Id,d),S===w)break;w=S}w!==null&&g.stopPropagation()}else dg(a,s,g,null,d)}}function Cg(a){return a=_p(a),Tg(a)}var Id=null;function Tg(a){if(Id=null,a=Qo(a),a!==null){var s=o(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=l(s),a!==null)return a;a=null}else if(d===31){if(a=u(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Id=a,null}function HN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cl()){case de:return 2;case be:return 8;case De:case Ve:return 32;case We:return 268435456;default:return 32}default:return 32}}var _g=!1,Oa=null,La=null,Ua=null,hu=new Map,pu=new Map,Ba=[],B5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FN(a,s){switch(a){case"focusin":case"focusout":Oa=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(s.pointerId)}}function mu(a,s,d,g,w,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:d,eventSystemFlags:g,nativeEvent:S,targetContainers:[w]},s!==null&&(s=Zo(s),s!==null&&zN(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),a)}function z5(a,s,d,g,w){switch(s){case"focusin":return Oa=mu(Oa,a,s,d,g,w),!0;case"dragenter":return La=mu(La,a,s,d,g,w),!0;case"mouseover":return Ua=mu(Ua,a,s,d,g,w),!0;case"pointerover":var S=w.pointerId;return hu.set(S,mu(hu.get(S)||null,a,s,d,g,w)),!0;case"gotpointercapture":return S=w.pointerId,pu.set(S,mu(pu.get(S)||null,a,s,d,g,w)),!0}return!1}function GN(a){var s=Qo(a.target);if(s!==null){var d=o(s);if(d!==null){if(s=d.tag,s===13){if(s=l(d),s!==null){a.blockedOn=s,iw(a.priority,function(){qN(d)});return}}else if(s===31){if(s=u(d),s!==null){a.blockedOn=s,iw(a.priority,function(){qN(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=Cg(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);Tp=g,d.target.dispatchEvent(g),Tp=null}else return s=Zo(d),s!==null&&zN(s),a.blockedOn=d,!1;s.shift()}return!0}function VN(a,s,d){Rd(a)&&d.delete(s)}function q5(){_g=!1,Oa!==null&&Rd(Oa)&&(Oa=null),La!==null&&Rd(La)&&(La=null),Ua!==null&&Rd(Ua)&&(Ua=null),hu.forEach(VN),pu.forEach(VN)}function Dd(a,s){a.blockedOn===s&&(a.blockedOn=null,_g||(_g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,q5)))}var Od=null;function $N(a){Od!==a&&(Od=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Od===a&&(Od=null);for(var s=0;s<a.length;s+=3){var d=a[s],g=a[s+1],w=a[s+2];if(typeof g!="function"){if(Tg(g||d)===null)continue;break}var S=Zo(d);S!==null&&(a.splice(s,3),s-=3,Cm(S,{pending:!0,data:w,method:d.method,action:g},g,w))}}))}function Rs(a){function s(J){return Dd(J,a)}Oa!==null&&Dd(Oa,a),La!==null&&Dd(La,a),Ua!==null&&Dd(Ua,a),hu.forEach(s),pu.forEach(s);for(var d=0;d<Ba.length;d++){var g=Ba[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Ba.length&&(d=Ba[0],d.blockedOn===null);)GN(d),d.blockedOn===null&&Ba.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var w=d[g],S=d[g+1],_=w[Hn]||null;if(typeof S=="function")_||$N(d);else if(_){var L=null;if(S&&S.hasAttribute("formAction")){if(w=S,_=S[Hn]||null)L=_.formAction;else if(Tg(w)!==null)continue}else L=_.action;typeof L=="function"?d[g+1]=L:(d.splice(g,3),g-=3),$N(d)}}}function YN(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(_){return w=_})},focusReset:"manual",scroll:"manual"})}function s(){w!==null&&(w(),w=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),w!==null&&(w(),w=null)}}}function kg(a){this._internalRoot=a}Ld.prototype.render=kg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var d=s.current,g=ur();UN(d,g,a,s,null,null)},Ld.prototype.unmount=kg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;UN(a.current,2,null,a,null,null),yd(),s[Wo]=null}};function Ld(a){this._internalRoot=a}Ld.prototype.unstable_scheduleHydration=function(a){if(a){var s=ga();a={blockedOn:null,target:a,priority:s};for(var d=0;d<Ba.length&&s!==0&&s<Ba[d].priority;d++);Ba.splice(d,0,a),d===0&&GN(a)}};var KN=t.version;if(KN!=="19.2.3")throw Error(r(527,KN,"19.2.3"));K.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var H5={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{nn=Ud.inject(H5),ct=Ud}catch{}}return yu.createRoot=function(a,s){if(!i(a))throw Error(r(299));var d=!1,g="",w=tS,S=nS,_=rS;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=ON(a,1,!1,null,null,d,g,null,w,S,_,YN),a[Wo]=s.current,cg(a),new kg(s)},yu.hydrateRoot=function(a,s,d){if(!i(a))throw Error(r(299));var g=!1,w="",S=tS,_=nS,L=rS,J=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(_=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.formState!==void 0&&(J=d.formState)),s=ON(a,1,!0,s,d??null,g,w,J,S,_,L,YN),s.context=LN(null),d=s.current,g=ur(),g=nr(g),w=Ea(g),w.callback=null,Aa(d,w,g),d=g,s.current.lanes=d,_e(s,d),ci(s),a[Wo]=s.current,cg(a),new Ld(s)},yu.version="19.2.3",yu}var iE;function t3(){if(iE)return Ig.exports;iE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ig.exports=e3(),Ig.exports}var n3=t3();const r3=ii(n3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),aE=e=>{const t=a3(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),o3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},h)=>C.createElement("svg",{ref:h,...s3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vk("lucide",i),...!o&&!o3(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>C.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(l3,{ref:o,iconNode:t,className:Vk(`lucide-${i3(aE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=aE(e),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],oE=Se("archive",u3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],$k=Se("arrow-down-left",c3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],f3=Se("arrow-down",d3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ra=Se("arrow-left",h3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wf=Se("arrow-right",p3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Yk=Se("arrow-up-down",m3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Kk=Se("arrow-up-right",g3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],v3=Se("arrow-up",y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ir=Se("banknote",x3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Sf=Se("bell",b3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sE=Se("bot",w3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],N3=Se("braces",S3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],bh=Se("building-2",E3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wh=Se("calendar",A3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],T3=Se("chart-no-axes-column",C3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],k3=Se("chart-pie",_3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xr=Se("chevron-down",P3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],j3=Se("chevron-left",M3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R3=Se("chevron-right",I3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ys=Se("circle-alert",D3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sh=Se("circle-check-big",O3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U3=Se("circle-check",L3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z3=Se("circle",B3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],H3=Se("clipboard-list",q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jk=Se("clock",F3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],V3=Se("credit-card",G3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Nf=Se("database",$3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],K3=Se("dollar-sign",Y3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xk=Se("download",J3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],W3=Se("file-chart-column-increasing",X3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ur=Se("file-spreadsheet",Q3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],eL=Se("hard-drive",Z3);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ex=Se("info",tL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],rL=Se("landmark",nL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],aL=Se("layout-dashboard",iL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],sL=Se("list-filter",oL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ks=Se("loader-circle",lL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wk=Se("lock",uL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],dL=Se("log-in",cL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hL=Se("log-out",fL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mL=Se("mail",pL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yL=Se("menu",gL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xL=Se("message-square",vL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wL=Se("moon",bL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jo=Se("package",SL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EL=Se("pen",NL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ic=Se("pencil",AL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Qk=Se("percent",CL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ei=Se("plus",TL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Un=Se("printer",_L);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],tx=Se("receipt",kL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Zk=Se("refresh-ccw",PL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Js=Se("refresh-cw",ML);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],IL=Se("rotate-ccw",jL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cl=Se("save",RL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dt=Se("search",DL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eP=Se("send",OL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UL=Se("settings",LL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zL=Se("shield",BL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Lo=Se("shopping-bag",qL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],My=Se("shopping-cart",HL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],GL=Se("smartphone",FL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Bu=Se("sparkles",VL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],YL=Se("sun",$L);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nx=Se("tag",KL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ia=Se("trash-2",JL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],WL=Se("trending-down",XL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nh=Se("trending-up",QL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tP=Se("triangle-alert",ZL);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],t6=Se("truck",e6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],r6=Se("upload",n6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],a6=Se("user",i6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Eh=Se("users",o6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ah=Se("wallet",s6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ef=Se("wrench",l6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xt=Se("x",u6);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rx=Se("zap",c6),d6=({isOpen:e,activeTab:t,setActiveTab:n,onClose:r})=>{const[i,o]=C.useState([]),l=f=>{o(p=>p.includes(f)?p.filter(m=>m!==f):[...p,f])},u=f=>{n(f),window.innerWidth<1024&&r()},h=[{id:"dashboard",label:"Dashboard",icon:aL},{id:"parties",label:"Parties",icon:Eh},{id:"inventory",label:"Inventory",icon:jo},{id:"service-center",label:"Service Center",icon:Ef},{id:"pricelist",label:"Price List",icon:H3},{id:"sales",label:"Sales",icon:nx,subItems:[{id:"sales-invoices",label:"Sales Invoices"},{id:"sales-payment-in",label:"Payment In"},{id:"sales-quotations",label:"Quotations"},{id:"sales-return",label:"Sales Return"}]},{id:"purchase",label:"Purchase",icon:My,subItems:[{id:"purchase-bills",label:"Purchase Bills"},{id:"purchase-payment-out",label:"Payment Out"},{id:"purchase-auto-order",label:"Auto Order (Restock)"},{id:"purchase-orders",label:"Purchase Orders"},{id:"purchase-return",label:"Purchase Return"}]},{id:"cash-drawer",label:"Cash Drawer",icon:Ir},{id:"expense",label:"Expense",icon:tx},{id:"manage-accounts",label:"Manage Accounts",icon:bh},{id:"reports",label:"Reports",icon:W3},{id:"settings",label:"Settings",icon:UL}];return c.jsxs(c.Fragment,{children:[e&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onClick:r}),c.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${e?"translate-x-0":"-translate-x-full"} overflow-y-auto flex flex-col`,children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-100 dark:border-gray-700 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-2 text-brand-600 dark:text-brand-500",children:[c.jsx(Lo,{className:"w-8 h-8"}),c.jsx("span",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"AA Pro"})]}),c.jsx("button",{onClick:r,className:"lg:hidden p-1 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"p-4 flex-1",children:[c.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider px-3",children:"Menu"}),c.jsx("nav",{className:"space-y-1",children:h.map(f=>{var b;const p=f.icon,m=i.includes(f.id);t===f.id||((b=f.subItems)==null||b.some(N=>N.id===t));const v=t===f.id;return c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{f.subItems?l(f.id):u(f.id)},className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${v?"bg-brand-500 text-white shadow-md shadow-brand-500/20":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(p,{className:`w-5 h-5 ${v?"text-white":"text-gray-400 dark:text-gray-500"}`}),f.label]}),f.subItems&&c.jsx(Xr,{className:`w-4 h-4 transition-transform ${m?"rotate-180":""} ${v?"text-white":"text-gray-300 dark:text-gray-600"}`})]}),f.subItems&&m&&c.jsx("div",{className:"mt-1 ml-4 space-y-1 border-l-2 border-gray-100 dark:border-gray-700 pl-2",children:f.subItems.map(N=>c.jsxs("button",{onClick:()=>u(N.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${t===N.id?"bg-brand-50 dark:bg-brand-900/20 text-brand-700 dark:text-brand-400 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[c.jsx(z3,{className:`w-2 h-2 ${t===N.id?"fill-current":"text-gray-300 dark:text-gray-600"}`}),N.label]},N.id))})]},f.id)})})]})]})]})},cf={notes:[{denomination:1e3,count:0},{denomination:500,count:0},{denomination:100,count:0},{denomination:50,count:0},{denomination:20,count:0},{denomination:10,count:0},{denomination:5,count:0},{denomination:2,count:0},{denomination:1,count:0}],lastUpdated:new Date().toISOString()},$r={profile:{name:"My Business",address:"",pan:"",phone:""},dbConfig:{mode:"local"},cloudConfig:{enabled:!1,autoBackup:!1,backupTime:"16:00",backupSchedules:["16:00"],googleClientId:""},accounts:[{id:"1",name:"Cash In Hand",type:"Cash",balance:0,isDefault:!0}],parties:[],products:[],transactions:[],reminders:[],serviceJobs:[],replenishmentDraft:[],cashDrawer:JSON.parse(JSON.stringify(cf))};class f6{constructor(){this.activeCompanyId=null,this.cache=JSON.parse(JSON.stringify($r)),this.companies=[],this.loadCompanies()}loadCompanies(){const t=localStorage.getItem("aapro_companies");t?this.companies=JSON.parse(t):this.companies=[]}async getCompanies(){return this.companies}async createCompany(t){const n={id:Date.now().toString(),name:t,dbName:`aapro_db_${Date.now()}`,created:new Date().toISOString()};return this.companies.push(n),localStorage.setItem("aapro_companies",JSON.stringify(this.companies)),localStorage.setItem(n.dbName,JSON.stringify({...$r,profile:{...$r.profile,name:t}})),n}async switchCompany(t){const n=this.companies.find(r=>r.id===t);if(!n)throw new Error("Company not found");this.activeCompanyId=t,localStorage.setItem("active_company_id",t),this.loadData(n.dbName),window.dispatchEvent(new Event("db-updated"))}getActiveCompanyId(){return this.activeCompanyId}async init(t){const n=this.companies.find(r=>r.id===t);n&&(this.activeCompanyId=t,this.loadData(n.dbName))}logout(){this.activeCompanyId=null,localStorage.removeItem("active_company_id"),this.cache=JSON.parse(JSON.stringify($r)),window.dispatchEvent(new Event("db-logout"))}loadData(t){const n=localStorage.getItem(t);if(n){const r=JSON.parse(n);this.cache={...$r,...r,profile:{...$r.profile,...r.profile},serviceJobs:Array.isArray(r.serviceJobs)?r.serviceJobs:[],replenishmentDraft:Array.isArray(r.replenishmentDraft)?r.replenishmentDraft:[],cashDrawer:r.cashDrawer||JSON.parse(JSON.stringify(cf))}}else this.cache=JSON.parse(JSON.stringify($r))}persist(){if(!this.activeCompanyId)return;const t=this.companies.find(n=>n.id===this.activeCompanyId);t&&(localStorage.setItem(t.dbName,JSON.stringify(this.cache)),window.dispatchEvent(new Event("db-updated")))}getBusinessProfile(){return this.cache.profile}updateBusinessProfile(t){this.cache.profile=t,this.persist()}getDatabaseConfig(){return this.cache.dbConfig}updateDatabaseConfig(t){this.cache.dbConfig=t,this.persist()}getCloudConfig(){return this.cache.cloudConfig}updateCloudConfig(t){this.cache.cloudConfig=t,this.persist()}getCashDrawer(){return this.cache.cashDrawer||JSON.parse(JSON.stringify(cf))}updateCashDrawer(t){this.cache.cashDrawer=t,this.persist()}updateDrawerFromTransaction(t,n){if(!t.cashBreakdown)return;const r=n==="add"?1:-1,i=this.getCashDrawer();t.cashBreakdown.received.forEach(o=>{const l=i.notes.find(u=>u.denomination===o.denomination);l&&(l.count+=o.count*r)}),t.cashBreakdown.returned.forEach(o=>{const l=i.notes.find(u=>u.denomination===o.denomination);l&&(l.count-=o.count*r)}),i.lastUpdated=new Date().toISOString(),this.updateCashDrawer(i)}getAccounts(){return this.cache.accounts}addAccount(t){this.cache.accounts.push(t),this.persist()}updateAccount(t){const n=this.cache.accounts.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.accounts[n]=t,this.persist())}deleteAccount(t){return t==="1"||this.cache.transactions.some(r=>r.accountId===t||r.transferAccountId===t)?!1:(this.cache.accounts=this.cache.accounts.filter(r=>r.id!==t),this.persist(),!0)}getParties(){return this.cache.parties}addParty(t){this.cache.parties.push(t),this.persist()}updateParty(t){const n=this.cache.parties.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.parties[n]=t,this.persist())}async bulkAddParties(t){this.cache.parties.push(...t),this.persist()}getProducts(){return this.cache.products}addProduct(t){this.cache.products.push(t),this.persist()}updateProduct(t){const n=this.cache.products.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.products[n]=t,this.persist())}deleteProduct(t){this.cache.products=this.cache.products.filter(n=>n.id!==t),this.persist()}async bulkAddProducts(t){this.cache.products.push(...t),this.persist()}getTransactions(){return this.cache.transactions}addTransaction(t){this.cache.transactions.push(t),this.updateBalances(t,"add"),t.cashBreakdown&&this.updateDrawerFromTransaction(t,"add"),this.persist()}updateTransaction(t,n){const r=this.cache.transactions.find(o=>o.id===t);r&&(this.updateBalances(r,"remove"),r.cashBreakdown&&this.updateDrawerFromTransaction(r,"remove"));const i=this.cache.transactions.findIndex(o=>o.id===t);i!==-1&&(this.cache.transactions[i]=n,this.updateBalances(n,"add"),n.cashBreakdown&&this.updateDrawerFromTransaction(n,"add"),this.persist())}deleteTransaction(t){const n=this.cache.transactions.find(r=>r.id===t);n&&(this.updateBalances(n,"remove"),n.cashBreakdown&&this.updateDrawerFromTransaction(n,"remove"),this.cache.transactions=this.cache.transactions.filter(r=>r.id!==t),this.persist())}updateBalances(t,n){const r=n==="add"?1:-1;if(t.partyId){const i=this.cache.parties.find(o=>o.id===t.partyId);if(i){let o=0;switch(t.type){case"SALE":o=t.totalAmount;break;case"PURCHASE":o=-t.totalAmount;break;case"PAYMENT_IN":o=-t.totalAmount;break;case"PAYMENT_OUT":o=t.totalAmount;break;case"SALE_RETURN":o=-t.totalAmount;break;case"PURCHASE_RETURN":o=t.totalAmount;break;case"BALANCE_ADJUSTMENT":o=t.totalAmount;break}i.balance+=o*r}}if(t.items&&t.items.length>0&&t.items.forEach(i=>{const o=this.cache.products.find(l=>l.id===i.productId);o&&o.type!=="service"&&(t.type==="SALE"||t.type==="PURCHASE_RETURN"?o.stock-=i.quantity*r:(t.type==="PURCHASE"||t.type==="SALE_RETURN")&&(o.stock+=i.quantity*r))}),t.accountId){const i=this.cache.accounts.find(o=>o.id===t.accountId);if(i){let o=0;["SALE","PAYMENT_IN","PURCHASE_RETURN"].includes(t.type)?o=t.totalAmount:["PURCHASE","PAYMENT_OUT","SALE_RETURN","EXPENSE"].includes(t.type)&&(o=-t.totalAmount),t.type==="TRANSFER"&&(o=-t.totalAmount),t.type==="BALANCE_ADJUSTMENT"&&(o=t.totalAmount),i.balance+=o*r}}if(t.type==="TRANSFER"&&t.transferAccountId){const i=this.cache.accounts.find(o=>o.id===t.transferAccountId);i&&(i.balance+=t.totalAmount*r)}}getServiceJobs(){return this.cache.serviceJobs||[]}addServiceJob(t){this.cache.serviceJobs.push(t),this.persist()}updateServiceJob(t){const n=this.cache.serviceJobs.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.serviceJobs[n]=t,this.persist())}deleteServiceJob(t){this.cache.serviceJobs=this.cache.serviceJobs.filter(n=>n.id!==t),this.persist()}getAllReminders(){const t=this.cache.reminders,n=[],r=new Date;return this.cache.products.forEach(i=>{i.type!=="service"&&i.stock<(i.minStockLevel||5)&&n.push({id:`sys_stock_${i.id}`,title:`Low Stock: ${i.name}`,date:r.toISOString(),type:"system_stock",priority:i.stock<=0?"high":"medium",amount:i.stock})}),this.cache.parties.forEach(i=>{if(i.balance!==0){const o=this.cache.transactions.filter(l=>l.partyId===i.id&&(i.balance>0?l.type==="SALE":l.type==="PURCHASE")).sort((l,u)=>new Date(l.date).getTime()-new Date(u.date).getTime());if(o.length>0){const l=o[0],u=Math.floor((r.getTime()-new Date(l.date).getTime())/(1e3*60*60*24));let h="",f="low";u>=120?(h="120+ Days (Critical)",f="high"):u>=90?(h="90 Days (Overdue)",f="high"):u>=60?(h="60 Days (Overdue)",f="high"):u>=30?(h="30 Days Overdue",f="medium"):u>=15?(h="15 Days Overdue",f="medium"):u>=7&&(h="1 Week Overdue",f="low"),h&&n.push({id:`sys_aging_${i.id}`,title:`${i.name}: ${h}`,date:l.date,type:"party_due",priority:f,amount:Math.abs(i.balance)})}}}),[...n,...t].sort((i,o)=>new Date(i.date).getTime()-new Date(o.date).getTime())}addManualReminder(t){this.cache.reminders.push(t),this.persist()}deleteManualReminder(t){this.cache.reminders=this.cache.reminders.filter(n=>n.id!==t),this.persist()}getBackupData(){return{...this.cache,backupVersion:"2.0",companyId:this.activeCompanyId,timestamp:new Date().toISOString()}}async restoreData(t){if(!t||typeof t!="object")return{success:!1,message:"Invalid file format"};try{const n={...$r,profile:{...$r.profile,...t.profile||{}},accounts:Array.isArray(t.accounts)?t.accounts:$r.accounts,parties:Array.isArray(t.parties)?t.parties:[],products:Array.isArray(t.products)?t.products:[],transactions:Array.isArray(t.transactions)?t.transactions:[],reminders:Array.isArray(t.reminders)?t.reminders:[],serviceJobs:Array.isArray(t.serviceJobs)?t.serviceJobs:[],cashDrawer:t.cashDrawer||cf};return this.cache=n,this.persist(),{success:!0}}catch(n){return{success:!1,message:"Error during deep restoration: "+n.message}}}async listTables(){return["transactions","parties","products","accounts","serviceJobs","cashDrawer"]}async getTableData(t){return this.cache[t]||[]}getReplenishmentDraft(){return this.cache.replenishmentDraft||[]}updateReplenishmentDraft(t){this.cache.replenishmentDraft=t,this.persist()}clearReplenishmentDraft(){this.cache.replenishmentDraft=[],this.persist()}async verifyDataIntegrity(){const t=[];return this.cache.parties.forEach(n=>{let r=0;this.cache.transactions.forEach(i=>{if(i.partyId===n.id){let o=0;switch(i.type){case"SALE":o=i.totalAmount;break;case"PURCHASE":o=-i.totalAmount;break;case"PAYMENT_IN":o=-i.totalAmount;break;case"PAYMENT_OUT":o=i.totalAmount;break;case"SALE_RETURN":o=-i.totalAmount;break;case"PURCHASE_RETURN":o=i.totalAmount;break;case"BALANCE_ADJUSTMENT":o=i.totalAmount;break}r+=o}}),Math.abs(r-n.balance)>.01&&t.push(`Party ${n.name} balance mismatch: System ${n.balance}, Calc ${r}`)}),{partiesOk:t.length===0,productsOk:!0,issues:t}}async reconcileData(){this.cache.parties.forEach(t=>{let n=0;this.cache.transactions.forEach(r=>{if(r.partyId===t.id){let i=0;switch(r.type){case"SALE":i=r.totalAmount;break;case"PURCHASE":i=-r.totalAmount;break;case"PAYMENT_IN":i=-r.totalAmount;break;case"PAYMENT_OUT":i=r.totalAmount;break;case"SALE_RETURN":i=-r.totalAmount;break;case"PURCHASE_RETURN":i=r.totalAmount;break;case"BALANCE_ADJUSTMENT":i=r.totalAmount;break}n+=i}}),t.balance=n}),this.persist()}async closeFinancialYear(t){if(!this.activeCompanyId)return;const n=this.companies.find(m=>m.id===this.activeCompanyId);if(!n)return;n.name=t,localStorage.setItem("aapro_companies",JSON.stringify(this.companies));const r={...this.cache.profile},i=this.cache.accounts.map(m=>({...m})),o=this.cache.parties.map(m=>({...m})),l=this.cache.products.map(m=>({...m})),u=Date.now().toString(),h=`aapro_db_${u}`,f={id:u,name:r.name,dbName:h,created:new Date().toISOString()},p={...$r,profile:r,accounts:i,parties:o,products:l,transactions:[],serviceJobs:[],reminders:[],cashDrawer:{...this.cache.cashDrawer}};this.companies.push(f),localStorage.setItem("aapro_companies",JSON.stringify(this.companies)),localStorage.setItem(h,JSON.stringify(p)),await this.switchCompany(u)}}const pe=new f6,h6="cost2costjnk@gmail.com",p6="Akash1415@",zu={getStoredCredentials(){const e=localStorage.getItem("aapro_creds");return e?JSON.parse(e):{username:h6,password:p6}},login(e,t){const n=this.getStoredCredentials();return e===n.username&&t===n.password?(localStorage.setItem("aapro_session","true"),!0):!1},isAuthenticated(){return localStorage.getItem("aapro_session")==="true"},logout(){localStorage.removeItem("aapro_session"),window.location.reload()},updateCredentials(e,t){localStorage.setItem("aapro_creds",JSON.stringify({username:e,password:t}))}},nP=C.createContext(void 0),m6=({children:e})=>{const[t,n]=C.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i==="dark"||i==="light"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});C.useEffect(()=>{const i=window.document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const r=()=>{n(i=>i==="light"?"dark":"light")};return c.jsx(nP.Provider,{value:{theme:t,toggleTheme:r},children:e})},g6=()=>{const e=C.useContext(nP);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},y6=({onMenuClick:e})=>{const[t,n]=C.useState("AA Pro"),[r,i]=C.useState(!1),[o,l]=C.useState(!1),[u,h]=C.useState(""),[f,p]=C.useState(!1),[m,v]=C.useState(!1),{theme:b,toggleTheme:N}=g6();C.useEffect(()=>{const T=pe.getBusinessProfile();T.name&&n(T.name)},[]);const A=()=>{zu.logout()},E=()=>{pe.logout()};return c.jsx(c.Fragment,{children:c.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-16 flex items-center px-4 lg:px-8 justify-between transition-colors duration-200",children:o?c.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 z-50 flex items-center px-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[c.jsx("button",{onClick:()=>l(!1),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full mr-2",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1 flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg px-3 py-2",children:[c.jsx(Dt,{className:"w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent border-none outline-none text-sm ml-2 w-full text-gray-700 dark:text-gray-200 placeholder-gray-400",autoFocus:!0,value:u,onChange:T=>h(T.target.value)})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 text-gray-500 dark:text-gray-400 rounded-lg lg:hidden hover:bg-gray-100 dark:hover:bg-gray-700",children:c.jsx(yL,{className:"w-6 h-6"})}),c.jsxs("div",{className:"hidden md:flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg w-64 lg:w-96 px-3 py-2 border border-transparent focus-within:border-brand-500 focus-within:ring-2 focus-within:ring-brand-100 dark:focus-within:ring-brand-900 transition-all",children:[c.jsx(Dt,{className:"w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search or create anything...",className:"bg-transparent border-none outline-none text-sm ml-2 w-full text-gray-700 dark:text-gray-200 placeholder-gray-400",value:u,onChange:T=>h(T.target.value)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[c.jsx("button",{onClick:N,className:"p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg hidden sm:block",children:b==="dark"?c.jsx(YL,{className:"w-5 h-5"}):c.jsx(wL,{className:"w-5 h-5"})}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-1 rounded-lg",onClick:()=>v(!m),children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xs font-bold border-2 border-white dark:border-gray-600 shadow-sm uppercase shrink-0",children:t.substring(0,2)}),c.jsx("div",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-200 truncate max-w-[150px]",children:t}),c.jsx(Xr,{className:"w-4 h-4 text-gray-400 hidden md:block"})]}),m&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),c.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700",children:[c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold uppercase mb-1",children:"Current Company"}),c.jsx("p",{className:"font-bold text-gray-800 dark:text-white truncate",children:t})]}),c.jsxs("div",{className:"p-1",children:[c.jsxs("button",{onClick:E,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[c.jsx(bh,{className:"w-4 h-4"}),"Switch Company"]}),c.jsxs("button",{onClick:A,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[c.jsx(hL,{className:"w-4 h-4"}),"Log Out"]})]})]})]})]})]})]})})})},ne=e=>new Intl.NumberFormat("en-IN",{maximumFractionDigits:2,minimumFractionDigits:0}).format(e),rP=2024,iP=3,aP=13,df=2081,v6=0,x6=1,Af=[31,32,31,32,31,30,30,30,29,30,29,31],oP=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Asoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],b6=1440*60*1e3,jy=(e,t)=>Af[t%12],Xs=e=>{const t=new Date(rP,iP,aP),n=new Date(e);t.setHours(0,0,0,0),n.setHours(0,0,0,0);const r=n.getTime()-t.getTime();let i=Math.round(r/b6),o=df,l=v6,u=x6;for(;i>0;){const f=Af[l]-u+1;i<f?(u+=i,i=0):(i-=f,u=1,l++,l>11&&(l=0,o++))}for(;i<0;)Math.abs(i)<u?(u+=i,i=0):(i+=u,l--,l<0&&(l=11,o--),u=Af[l]);return{year:o,month:l+1,day:u,monthName:oP[l]}},Ya=(e,t,n)=>{const r=t-1;let i=0;const o=e-df;if(o>0)for(let u=df;u<e;u++)i+=365;else if(o<0)for(let u=e;u<df;u++)i-=365;for(let u=0;u<r;u++)i+=Af[u];i+=n-1;const l=new Date(rP,iP,aP);return l.setDate(l.getDate()+i),l},w6=e=>{const t=e.split("/");if(t.length!==3)return!1;const n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]);return!(isNaN(i)||isNaN(r)||isNaN(n)||i<2e3||i>2150||r<1||r>12||n<1||n>32)},Mt=e=>{if(!e)return"-";const t=new Date(e),n=Xs(t);return`${String(n.day).padStart(2,"0")}/${String(n.month).padStart(2,"0")}/${n.year}`},S6=()=>Mt(new Date().toISOString()),N6=()=>Xs(new Date),Iy=oP;function sP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=sP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function At(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=sP(e))&&(r&&(r+=" "),r+=t);return r}var E6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ix(e){if(typeof e!="string")return!1;var t=E6;return t.includes(e)}var A6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],C6=new Set(A6);function lP(e){return typeof e!="string"?!1:C6.has(e)}function uP(e){return typeof e=="string"&&e.startsWith("data-")}function ti(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(lP(n)||uP(n))&&(t[n]=e[n]);return t}function Ch(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ti(t)}return typeof e=="object"&&!Array.isArray(e)?ti(e):null}function Rr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(lP(n)||uP(n)||ix(n))&&(t[n]=e[n]);return t}function T6(e){return e==null?null:C.isValidElement(e)?Rr(e.props):typeof e=="object"&&!Array.isArray(e)?Rr(e):null}var _6=["children","width","height","viewBox","className","style","title","desc"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}function k6(e,t){if(e==null)return{};var n,r,i=P6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cP=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:h,desc:f}=e,p=k6(e,_6),m=o||{width:r,height:i,x:0,y:0},v=At("recharts-surface",l);return C.createElement("svg",Ry({},Rr(p),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),C.createElement("title",null,h),C.createElement("desc",null,f),n)}),M6=["children","className"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dy.apply(null,arguments)}function j6(e,t){if(e==null)return{};var n,r,i=I6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function I6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yi=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=j6(e,M6),o=At("recharts-layer",r);return C.createElement("g",Dy({className:o},Rr(i),{ref:t}),n)}),dP=Gk(),R6=C.createContext(null);function Rt(e){return function(){return e}}const Oy=Math.PI,Ly=2*Oy,Eo=1e-6,D6=Ly-Eo;function fP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function O6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fP;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class L6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fP:O6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,h=r-t,f=i-n,p=l-t,m=u-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Eo)if(!(Math.abs(m*h-f*p)>Eo)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,N=i-u,A=h*h+f*f,E=b*b+N*N,T=Math.sqrt(A),P=Math.sqrt(v),M=o*Math.tan((Oy-Math.acos((A+v-E)/(2*T*P)))/2),k=M/P,R=M/T;Math.abs(k-1)>Eo&&this._append`L${t+k*p},${n+k*m}`,this._append`A${o},${o},0,0,${+(m*b>p*N)},${this._x1=t+R*h},${this._y1=n+R*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),h=r*Math.sin(i),f=t+u,p=n+h,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Eo||Math.abs(this._y1-p)>Eo)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%Ly+Ly),v>D6?this._append`A${r},${r},0,1,${m},${t-u},${n-h}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:v>Eo&&this._append`A${r},${r},0,${+(v>=Oy)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function hP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new L6(t)}function ax(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pP(e){this._context=e}pP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Th(e){return new pP(e)}function mP(e){return e[0]}function gP(e){return e[1]}function yP(e,t){var n=Rt(!0),r=null,i=Th,o=null,l=hP(u);e=typeof e=="function"?e:e===void 0?mP:Rt(e),t=typeof t=="function"?t:t===void 0?gP:Rt(t);function u(h){var f,p=(h=ax(h)).length,m,v=!1,b;for(r==null&&(o=i(b=l())),f=0;f<=p;++f)!(f<p&&n(m=h[f],f,h))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(m,f,h),+t(m,f,h));if(b)return o=null,b+""||null}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Rt(+h),u):e},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Rt(+h),u):t},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:Rt(!!h),u):n},u.curve=function(h){return arguments.length?(i=h,r!=null&&(o=i(r)),u):i},u.context=function(h){return arguments.length?(h==null?r=o=null:o=i(r=h),u):r},u}function Bd(e,t,n){var r=null,i=Rt(!0),o=null,l=Th,u=null,h=hP(f);e=typeof e=="function"?e:e===void 0?mP:Rt(+e),t=typeof t=="function"?t:Rt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gP:Rt(+n);function f(m){var v,b,N,A=(m=ax(m)).length,E,T=!1,P,M=new Array(A),k=new Array(A);for(o==null&&(u=l(P=h())),v=0;v<=A;++v){if(!(v<A&&i(E=m[v],v,m))===T)if(T=!T)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),N=v-1;N>=b;--N)u.point(M[N],k[N]);u.lineEnd(),u.areaEnd()}T&&(M[v]=+e(E,v,m),k[v]=+t(E,v,m),u.point(r?+r(E,v,m):M[v],n?+n(E,v,m):k[v]))}if(P)return u=null,P+""||null}function p(){return yP().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Rt(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Rt(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Rt(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Rt(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Rt(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Rt(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Rt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class vP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function U6(e){return new vP(e,!0)}function B6(e){return new vP(e,!1)}function Cf(){}function Tf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function xP(e){this._context=e}xP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z6(e){return new xP(e)}function bP(e){this._context=e}bP.prototype={areaStart:Cf,areaEnd:Cf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q6(e){return new bP(e)}function wP(e){this._context=e}wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H6(e){return new wP(e)}function SP(e){this._context=e}SP.prototype={areaStart:Cf,areaEnd:Cf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F6(e){return new SP(e)}function lE(e){return e<0?-1:1}function uE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(lE(o)+lE(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function cE(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function _f(e){this._context=e}_f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lg(this,this._t0,cE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lg(this,cE(this,n=uE(this,e,t)),n);break;default:Lg(this,this._t0,n=uE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function NP(e){this._context=new EP(e)}(NP.prototype=Object.create(_f.prototype)).point=function(e,t){_f.prototype.point.call(this,t,e)};function EP(e){this._context=e}EP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function G6(e){return new _f(e)}function V6(e){return new NP(e)}function AP(e){this._context=e}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=dE(e),i=dE(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dE(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function $6(e){return new AP(e)}function _h(e,t){this._context=e,this._t=t}_h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Y6(e){return new _h(e,.5)}function K6(e){return new _h(e,0)}function J6(e){return new _h(e,1)}function Uo(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Uy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function X6(e,t){return e[t]}function W6(e){const t=[];return t.key=e,t}function Q6(){var e=Rt([]),t=Uy,n=Uo,r=X6;function i(o){var l=Array.from(e.apply(this,arguments),W6),u,h=l.length,f=-1,p;for(const m of o)for(u=0,++f;u<h;++u)(l[u][f]=[0,+r(m,l[u].key,f,o)]).data=m;for(u=0,p=ax(t(l));u<h;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Rt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Rt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Uy:typeof o=="function"?o:Rt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Uo,i):n},i}function Z6(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Uo(e,t)}}function eU(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Uo(e,t)}}function tU(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,h=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[r][1]||0,v=p[r-1][1]||0,b=(m-v)/2,N=0;N<u;++N){var A=e[t[N]],E=A[r][1]||0,T=A[r-1][1]||0;b+=E-T}h+=m,f+=b*m}i[r-1][1]+=i[r-1][0]=n,h&&(n-=f/h)}i[r-1][1]+=i[r-1][0]=n,Uo(e,t)}}var Ug={},Bg={},fE;function nU(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Bg)),Bg}var zg={},hE;function CP(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(zg)),zg}var qg={},pE;function ox(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(qg)),qg}var Hg={},Fg={},mE;function rU(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Fg)),Fg}var gE;function sx(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rU(),n=ox();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,h="",f="",p=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,h+=i[u]):m===f?f="":h+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,o.push(h),h=""):h+=m:m==="["?(p=!0,h&&(o.push(h),h="")):m==="."?h&&(o.push(h),h=""):h+=m,u++}return h&&o.push(h),o}e.toPath=r})(Hg)),Hg}var yE;function lx(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nU(),n=CP(),r=ox(),i=sx();function o(u,h,f){if(u==null)return f;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return f;const p=u[h];return p===void 0?n.isDeepKey(h)?o(u,i.toPath(h),f):f:p}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const p=u[h];return p===void 0?f:p}default:{if(Array.isArray(h))return l(u,h,f);if(Object.is(h==null?void 0:h.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return f;const p=u[h];return p===void 0?f:p}}}function l(u,h,f){if(h.length===0)return f;let p=u;for(let m=0;m<h.length;m++){if(p==null||t.isUnsafeProperty(h[m]))return f;p=p[h[m]]}return p===void 0?f:p}e.get=o})(Ug)),Ug}var Gg,vE;function iU(){return vE||(vE=1,Gg=lx().get),Gg}var aU=iU();const kh=ii(aU);var oU=4;function Ka(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oU,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+Ka(u)+o:i+o},"")}var Pr=e=>e===0?0:e>0?1:-1,ni=e=>typeof e=="number"&&e!=+e,Xi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Me=e=>(typeof e=="number"||e instanceof Number)&&!ni(e),vi=e=>Me(e)||typeof e=="string",sU=0,qu=e=>{var t=++sU;return"".concat(e||"").concat(t)},Wa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Me(t)&&typeof t!="string")return r;var o;if(Xi(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return ni(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},TP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function hi(e,t,n){return Me(e)&&Me(t)?Ka(e+n*(t-e)):t}function _P(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):kh(r,t))===n)}var Nn=e=>e===null||typeof e>"u",ux=e=>Nn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function lU(e){return e!=null}function ac(){}var kP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,cx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{ix(i)&&(r[i]=(o=>n[i](n,o)))}),r},uU=(e,t,n)=>r=>(e(t,n,r),null),cU=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];ix(i)&&typeof o=="function"&&(r||(r={}),r[i]=uU(o,t,n))}),r};function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){fU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fU(e,t,n){return(t=hU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var n=dU({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var Vg={},$g={},bE;function mU(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})($g)),$g}var Yg={},wE;function PP(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Yg)),Yg}var Kg={},Jg={},Xg={},SE;function gU(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Xg)),Xg}var NE;function dx(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gU();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Jg)),Jg}var Wg={},EE;function yU(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Wg)),Wg}var AE;function vU(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dx(),n=yU();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Kg)),Kg}var Qg={},Zg={},CE;function xU(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lx();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Zg)),Zg}var e0={},t0={},n0={},r0={},TE;function MP(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(r0)),r0}var i0={},_E;function jP(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(i0)),i0}var a0={},kE;function IP(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(a0)),a0}var PE;function bU(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MP(),n=jP(),r=IP();function i(p,m,v){return typeof v!="function"?i(p,m,()=>{}):o(p,m,function b(N,A,E,T,P,M){const k=v(N,A,E,T,P,M);return k!==void 0?!!k:o(N,A,b,M)},new Map)}function o(p,m,v,b){if(m===p)return!0;switch(typeof m){case"object":return l(p,m,v,b);case"function":return Object.keys(m).length>0?o(p,{...m},v,b):r.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function l(p,m,v,b){if(m==null)return!0;if(Array.isArray(m))return h(p,m,v,b);if(m instanceof Map)return u(p,m,v,b);if(m instanceof Set)return f(p,m,v,b);const N=Object.keys(m);if(p==null||n.isPrimitive(p))return N.length===0;if(N.length===0)return!0;if(b!=null&&b.has(m))return b.get(m)===p;b==null||b.set(m,p);try{for(let A=0;A<N.length;A++){const E=N[A];if(!n.isPrimitive(p)&&!(E in p)||m[E]===void 0&&p[E]!==void 0||m[E]===null&&p[E]!==null||!v(p[E],m[E],E,p,m,b))return!1}return!0}finally{b==null||b.delete(m)}}function u(p,m,v,b){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[N,A]of m.entries()){const E=p.get(N);if(v(E,A,N,p,m,b)===!1)return!1}return!0}function h(p,m,v,b){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const N=new Set;for(let A=0;A<m.length;A++){const E=m[A];let T=!1;for(let P=0;P<p.length;P++){if(N.has(P))continue;const M=p[P];let k=!1;if(v(M,E,A,p,m,b)&&(k=!0),k){N.add(P),T=!0;break}}if(!T)return!1}return!0}function f(p,m,v,b){return m.size===0?!0:p instanceof Set?h([...p],[...m],v,b):!1}e.isMatchWith=i,e.isSetMatch=f})(n0)),n0}var ME;function RP(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bU();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(t0)),t0}var o0={},s0={},l0={},jE;function wU(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(l0)),l0}var u0={},IE;function DP(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(u0)),u0}var c0={},RE;function OP(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",h="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",b="[object Object]",N="[object Error]",A="[object DataView]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",P="[object Uint16Array]",M="[object Uint32Array]",k="[object BigUint64Array]",R="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",G="[object BigInt64Array]",U="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=G,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=A,e.dateTag=u,e.errorTag=N,e.float32ArrayTag=U,e.float64ArrayTag=D,e.functionTag=m,e.int16ArrayTag=I,e.int32ArrayTag=j,e.int8ArrayTag=R,e.mapTag=h,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=M,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=T})(c0)),c0}var d0={},DE;function SU(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(d0)),d0}var OE;function LP(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wU(),n=DP(),r=OP(),i=jP(),o=SU();function l(p,m){return u(p,void 0,p,new Map,m)}function u(p,m,v,b=new Map,N=void 0){const A=N==null?void 0:N(p,m,v,b);if(A!==void 0)return A;if(i.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const E=new Array(p.length);b.set(p,E);for(let T=0;T<p.length;T++)E[T]=u(p[T],T,v,b,N);return Object.hasOwn(p,"index")&&(E.index=p.index),Object.hasOwn(p,"input")&&(E.input=p.input),E}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const E=new RegExp(p.source,p.flags);return E.lastIndex=p.lastIndex,E}if(p instanceof Map){const E=new Map;b.set(p,E);for(const[T,P]of p)E.set(T,u(P,T,v,b,N));return E}if(p instanceof Set){const E=new Set;b.set(p,E);for(const T of p)E.add(u(T,void 0,v,b,N));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(o.isTypedArray(p)){const E=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,E);for(let T=0;T<p.length;T++)E[T]=u(p[T],T,v,b,N);return E}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const E=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,E),h(E,p,v,b,N),E}if(typeof File<"u"&&p instanceof File){const E=new File([p],p.name,{type:p.type});return b.set(p,E),h(E,p,v,b,N),E}if(typeof Blob<"u"&&p instanceof Blob){const E=new Blob([p],{type:p.type});return b.set(p,E),h(E,p,v,b,N),E}if(p instanceof Error){const E=new p.constructor;return b.set(p,E),E.message=p.message,E.name=p.name,E.stack=p.stack,E.cause=p.cause,h(E,p,v,b,N),E}if(p instanceof Boolean){const E=new Boolean(p.valueOf());return b.set(p,E),h(E,p,v,b,N),E}if(p instanceof Number){const E=new Number(p.valueOf());return b.set(p,E),h(E,p,v,b,N),E}if(p instanceof String){const E=new String(p.valueOf());return b.set(p,E),h(E,p,v,b,N),E}if(typeof p=="object"&&f(p)){const E=Object.create(Object.getPrototypeOf(p));return b.set(p,E),h(E,p,v,b,N),E}return p}function h(p,m,v=p,b,N){const A=[...Object.keys(m),...t.getSymbols(m)];for(let E=0;E<A.length;E++){const T=A[E],P=Object.getOwnPropertyDescriptor(p,T);(P==null||P.writable)&&(p[T]=u(m[T],T,v,b,N))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=h})(s0)),s0}var LE;function NU(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LP();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(o0)),o0}var UE;function EU(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RP(),n=NU();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(e0)),e0}var f0={},h0={},p0={},BE;function AU(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LP(),n=OP();function r(i,o){return t.cloneDeepWith(i,(l,u,h,f)=>{const p=o==null?void 0:o(l,u,h,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(p0)),p0}var zE;function CU(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AU();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(h0)),h0}var m0={},g0={},qE;function UP(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(g0)),g0}var y0={},HE;function TU(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(y0)),y0}var FE;function _U(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CP(),n=UP(),r=TU(),i=sx();function o(l,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?h=i.toPath(u):h=[u],h.length===0)return!1;let f=l;for(let p=0;p<h.length;p++){const m=h[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=o})(m0)),m0}var GE;function kU(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RP(),n=ox(),r=CU(),i=lx(),o=_U();function l(u,h){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return h=r.cloneDeep(h),function(f){const p=i.get(f,u);return p===void 0?o.has(f,u):h===void 0?p===void 0:t.isMatch(p,h)}}e.matchesProperty=l})(f0)),f0}var VE;function PU(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),n=xU(),r=EU(),i=kU();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Qg)),Qg}var $E;function MU(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mU(),n=PP(),r=vU(),i=PU();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Vg)),Vg}var v0,YE;function jU(){return YE||(YE=1,v0=MU().uniqBy),v0}var IU=jU();const KE=ii(IU);function RU(e,t,n){return t===!0?KE(e,n):typeof t=="function"?KE(e,t):e}var x0={exports:{}},b0={},w0={exports:{}},S0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function DU(){if(JE)return S0;JE=1;var e=ul();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,v){var b=v(),N=r({inst:{value:b,getSnapshot:v}}),A=N[0].inst,E=N[1];return o(function(){A.value=b,A.getSnapshot=v,h(A)&&E({inst:A})},[m,b,v]),i(function(){return h(A)&&E({inst:A}),m(function(){h(A)&&E({inst:A})})},[m]),l(b),b}function h(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!n(m,b)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return S0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,S0}var XE;function OU(){return XE||(XE=1,w0.exports=DU()),w0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function LU(){if(WE)return b0;WE=1;var e=ul(),t=OU();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,h=e.useDebugValue;return b0.useSyncExternalStoreWithSelector=function(f,p,m,v,b){var N=o(null);if(N.current===null){var A={hasValue:!1,value:null};N.current=A}else A=N.current;N=u(function(){function T(I){if(!P){if(P=!0,M=I,I=v(I),b!==void 0&&A.hasValue){var j=A.value;if(b(j,I))return k=j}return k=I}if(j=k,r(M,I))return j;var G=v(I);return b!==void 0&&b(j,G)?(M=I,j):(M=I,k=G)}var P=!1,M,k,R=m===void 0?null:m;return[function(){return T(p())},R===null?void 0:function(){return T(R())}]},[p,m,v,b]);var E=i(f,N[0],N[1]);return l(function(){A.hasValue=!0,A.value=E},[E]),h(E),E},b0}var QE;function UU(){return QE||(QE=1,x0.exports=LU()),x0.exports}var BU=UU(),fx=C.createContext(null),zU=e=>e,cn=()=>{var e=C.useContext(fx);return e?e.store.dispatch:zU},ff=()=>{},qU=()=>ff,HU=(e,t)=>e===t;function Re(e){var t=C.useContext(fx);return BU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qU,t?t.store.getState:ff,t?t.store.getState:ff,t?e:ff,HU)}function FU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function GU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function VU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var ZE=e=>Array.isArray(e)?e:[e];function $U(e){const t=Array.isArray(e[0])?e[0]:e;return VU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function YU(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var KU=class{constructor(e){this.value=e}deref(){return this.value}},JU=typeof WeakRef<"u"?WeakRef:KU,XU=0,eA=1;function zd(){return{s:XU,v:void 0,o:null,p:null}}function BP(e,t={}){let n=zd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var m;let u=n;const{length:h}=arguments;for(let v=0,b=h;v<b;v++){const N=arguments[v];if(typeof N=="function"||typeof N=="object"&&N!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const E=A.get(N);E===void 0?(u=zd(),A.set(N,u)):u=E}else{let A=u.p;A===null&&(u.p=A=new Map);const E=A.get(N);E===void 0?(u=zd(),A.set(N,u)):u=E}}const f=u;let p;if(u.s===eA)p=u.v;else if(p=e.apply(null,arguments),o++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,o!==0&&o--),i=typeof p=="object"&&p!==null||typeof p=="function"?new JU(p):p}return f.s=eA,f.v=p,p}return l.clearCache=()=>{n=zd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function WU(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,h={},f=i.pop();typeof f=="object"&&(h=f,f=i.pop()),FU(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...h},{memoize:m,memoizeOptions:v=[],argsMemoize:b=BP,argsMemoizeOptions:N=[]}=p,A=ZE(v),E=ZE(N),T=$U(i),P=m(function(){return o++,f.apply(null,arguments)},...A),M=b(function(){l++;const R=YU(T,arguments);return u=P.apply(null,R),u},...E);return Object.assign(M,{resultFunc:f,memoizedResultFunc:P,dependencies:T,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var le=WU(BP),QU=Object.assign((e,t=le)=>{GU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,h)=>(l[n[h]]=u,l),{}))},{withTypes:()=>QU}),N0={},E0={},A0={},tA;function ZU(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(A0)),A0}var C0={},T0={},nA;function zP(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(T0)),T0}var rA;function eB(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(C0)),C0}var iA;function tB(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZU(),n=eB(),r=sx();function i(o,l,u,h){if(o==null)return[];u=h?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const f=(b,N)=>{let A=b;for(let E=0;E<N.length&&A!=null;++E)A=A[N[E]];return A},p=(b,N)=>N==null||b==null?N:typeof b=="object"&&"key"in b?Object.hasOwn(N,b.key)?N[b.key]:f(N,b.path):typeof b=="function"?b(N):Array.isArray(b)?f(N,b):typeof N=="object"?N[b]:N,m=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:m.map(N=>p(N,b))})).slice().sort((b,N)=>{for(let A=0;A<m.length;A++){const E=t.compareValues(b.criteria[A],N.criteria[A],u[A]);if(E!==0)return E}return 0}).map(b=>b.original)}e.orderBy=i})(E0)),E0}var _0={},aA;function nB(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,h)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&h<o?l(p,h+1):i.push(p)}};return l(n,0),i}e.flatten=t})(_0)),_0}var k0={},oA;function qP(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UP(),n=dx(),r=MP(),i=IP();function o(l,u,h){return r.isObject(h)&&(typeof u=="number"&&n.isArrayLike(h)&&t.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?i.eq(h[u],l):!1}e.isIterateeCall=o})(k0)),k0}var sA;function rB(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tB(),n=nB(),r=qP();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(N0)),N0}var P0,lA;function iB(){return lA||(lA=1,P0=rB().sortBy),P0}var aB=iB();const Ph=ii(aB);var HP=e=>e.legend.settings,oB=e=>e.legend.size,sB=e=>e.legend.payload;le([sB,HP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Ph(r,n):r});var qd=1;function lB(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>qd||Math.abs(l.left-t.left)>qd||Math.abs(l.top-t.top)>qd||Math.abs(l.width-t.width)>qd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function xn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uB=typeof Symbol=="function"&&Symbol.observable||"@@observable",uA=uB,M0=()=>Math.random().toString(36).substring(7).split("").join("."),cB={INIT:`@@redux/INIT${M0()}`,REPLACE:`@@redux/REPLACE${M0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${M0()}`},kf=cB;function hx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function FP(e,t,n){if(typeof e!="function")throw new Error(xn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xn(1));return n(FP)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,h=!1;function f(){l===o&&(l=new Map,o.forEach((E,T)=>{l.set(T,E)}))}function p(){if(h)throw new Error(xn(3));return i}function m(E){if(typeof E!="function")throw new Error(xn(4));if(h)throw new Error(xn(5));let T=!0;f();const P=u++;return l.set(P,E),function(){if(T){if(h)throw new Error(xn(6));T=!1,f(),l.delete(P),o=null}}}function v(E){if(!hx(E))throw new Error(xn(7));if(typeof E.type>"u")throw new Error(xn(8));if(typeof E.type!="string")throw new Error(xn(17));if(h)throw new Error(xn(9));try{h=!0,i=r(i,E)}finally{h=!1}return(o=l).forEach(P=>{P()}),E}function b(E){if(typeof E!="function")throw new Error(xn(10));r=E,v({type:kf.REPLACE})}function N(){const E=m;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(xn(11));function P(){const k=T;k.next&&k.next(p())}return P(),{unsubscribe:E(P)}},[uA](){return this}}}return v({type:kf.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:b,[uA]:N}}function dB(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:kf.INIT})>"u")throw new Error(xn(12));if(typeof n(void 0,{type:kf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xn(13))})}function GP(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{dB(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let h=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],b=l[m],N=v(b,u);if(typeof N>"u")throw u&&u.type,new Error(xn(14));f[m]=N,h=h||N!==b}return h=h||r.length!==Object.keys(l).length,h?f:l}}function Pf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function fB(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(xn(15))};const l={getState:i.getState,dispatch:(h,...f)=>o(h,...f)},u=e.map(h=>h(l));return o=Pf(...u)(i.dispatch),{...i,dispatch:o}}}function VP(e){return hx(e)&&"type"in e&&typeof e.type=="string"}var $P=Symbol.for("immer-nothing"),cA=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function Yr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hr=Object,rl=hr.getPrototypeOf,Mf="constructor",Mh="prototype",By="configurable",jf="enumerable",hf="writable",Hu="value",Wi=e=>!!e&&!!e[Bn];function ri(e){var t;return e?YP(e)||jh(e)||!!e[cA]||!!((t=e[Mf])!=null&&t[cA])||Ih(e)||Rh(e):!1}var hB=hr[Mh][Mf].toString(),dA=new WeakMap;function YP(e){if(!e||!px(e))return!1;const t=rl(e);if(t===null||t===hr[Mh])return!0;const n=hr.hasOwnProperty.call(t,Mf)&&t[Mf];if(n===Object)return!0;if(!zs(n))return!1;let r=dA.get(n);return r===void 0&&(r=Function.toString.call(n),dA.set(n,r)),r===hB}function oc(e,t,n=!0){sc(e)===0?(n?Reflect.ownKeys(e):hr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function sc(e){const t=e[Bn];return t?t.type_:jh(e)?1:Ih(e)?2:Rh(e)?3:0}var fA=(e,t,n=sc(e))=>n===2?e.has(t):hr[Mh].hasOwnProperty.call(e,t),zy=(e,t,n=sc(e))=>n===2?e.get(t):e[t],If=(e,t,n,r=sc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function pB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var jh=Array.isArray,Ih=e=>e instanceof Map,Rh=e=>e instanceof Set,px=e=>typeof e=="object",zs=e=>typeof e=="function",j0=e=>typeof e=="boolean",Fi=e=>e.copy_||e.base_,mx=e=>e.modified_?e.copy_:e.base_;function qy(e,t){if(Ih(e))return new Map(e);if(Rh(e))return new Set(e);if(jh(e))return Array[Mh].slice.call(e);const n=YP(e);if(t===!0||t==="class_only"&&!n){const r=hr.getOwnPropertyDescriptors(e);delete r[Bn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[hf]===!1&&(u[hf]=!0,u[By]=!0),(u.get||u.set)&&(r[l]={[By]:!0,[hf]:!0,[jf]:u[jf],[Hu]:e[l]})}return hr.create(rl(e),r)}else{const r=rl(e);if(r!==null&&n)return{...e};const i=hr.create(r);return hr.assign(i,e)}}function gx(e,t=!1){return Dh(e)||Wi(e)||!ri(e)||(sc(e)>1&&hr.defineProperties(e,{set:Hd,add:Hd,clear:Hd,delete:Hd}),hr.freeze(e),t&&oc(e,(n,r)=>{gx(r,!0)},!1)),e}function mB(){Yr(2)}var Hd={[Hu]:mB};function Dh(e){return e===null||!px(e)?!0:hr.isFrozen(e)}var Rf="MapSet",Hy="Patches",KP={};function il(e){const t=KP[e];return t||Yr(0,e),t}var gB=e=>!!KP[e],Fu,JP=()=>Fu,yB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:gB(Rf)?il(Rf):void 0});function hA(e,t){t&&(e.patchPlugin_=il(Hy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fy(e){Gy(e),e.drafts_.forEach(vB),e.drafts_=null}function Gy(e){e===Fu&&(Fu=e.parent_)}var pA=e=>Fu=yB(Fu,e);function vB(e){const t=e[Bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Bn].modified_&&(Fy(t),Yr(4)),ri(e)&&(e=gA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Bn].base_,e,t)}else e=gA(t,n);return xB(t,e,!0),Fy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$P?e:void 0}function gA(e,t){if(Dh(t))return t;const n=t[Bn];if(!n)return yx(t,e.handledSet_,e);if(!Oh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);QP(n,e)}return n.copy_}function xB(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gx(t,n)}function XP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Oh=(e,t)=>e.scope_===t,bB=[];function WP(e,t,n,r){const i=Fi(e),o=e.type_;if(r!==void 0&&zy(i,r,o)===t){If(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;oc(i,(h,f)=>{if(Wi(f)){const p=u.get(f)||[];p.push(h),u.set(f,p)}})}const l=e.draftLocations_.get(t)??bB;for(const u of l)If(i,u,n,o)}function wB(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!Oh(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=mx(o);WP(e,o.draft_??o,l,n),QP(o,i)})}function QP(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}XP(e)}}function SB(e,t,n){const{scope_:r}=e;if(Wi(n)){const i=n[Bn];Oh(i,r)&&i.callbacks_.push(function(){pf(e);const l=mx(i);WP(e,n,l,t)})}else ri(n)&&e.callbacks_.push(function(){const o=Fi(e);zy(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&yx(zy(e.copy_,t,e.type_),r.handledSet_,r)})}function yx(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Wi(e)||t.has(e)||!ri(e)||Dh(e)||(t.add(e),oc(e,(r,i)=>{if(Wi(i)){const o=i[Bn];if(Oh(o,n)){const l=mx(o);If(e,r,l,e.type_),XP(o)}}else ri(i)&&yx(i,t,n)})),e}function NB(e,t){const n=jh(e),r={type_:n?1:0,scope_:t?t.scope_:JP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=vx;n&&(i=[r],o=Gu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var vx={get(e,t){if(t===Bn)return e;const n=Fi(e);if(!fA(n,t,e.type_))return EB(e,n,t);const r=n[t];if(e.finalized_||!ri(r))return r;if(r===I0(e.base_,t)){pf(e);const i=e.type_===1?+t:t,o=$y(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in Fi(e)},ownKeys(e){return Reflect.ownKeys(Fi(e))},set(e,t,n){const r=ZP(Fi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=I0(Fi(e),t),o=i==null?void 0:i[Bn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(pB(n,i)&&(n!==void 0||fA(e.base_,t,e.type_)))return!0;pf(e),Vy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),SB(e,t,n)),!0},deleteProperty(e,t){return pf(e),I0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Vy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[hf]:!0,[By]:e.type_!==1||t!=="length",[jf]:r[jf],[Hu]:n[t]}},defineProperty(){Yr(11)},getPrototypeOf(e){return rl(e.base_)},setPrototypeOf(){Yr(12)}},Gu={};oc(vx,(e,t)=>{Gu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Gu.deleteProperty=function(e,t){return Gu.set.call(this,e,t,void 0)};Gu.set=function(e,t,n){return vx.set.call(this,e[0],t,n,e[0])};function I0(e,t){const n=e[Bn];return(n?Fi(n):e)[t]}function EB(e,t,n){var i;const r=ZP(t,n);return r?Hu in r?r[Hu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function ZP(e,t){if(!(t in e))return;let n=rl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rl(n)}}function Vy(e){e.modified_||(e.modified_=!0,e.parent_&&Vy(e.parent_))}function pf(e){e.copy_||(e.assigned_=new Map,e.copy_=qy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var AB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(zs(n)&&!zs(r)){const l=r;r=n;const u=this;return function(f=l,...p){return u.produce(f,m=>r.call(this,m,...p))}}zs(r)||Yr(6),i!==void 0&&!zs(i)&&Yr(7);let o;if(ri(n)){const l=pA(this),u=$y(l,n,void 0);let h=!0;try{o=r(u),h=!1}finally{h?Fy(l):Gy(l)}return hA(l,i),mA(o,l)}else if(!n||!px(n)){if(o=r(n),o===void 0&&(o=n),o===$P&&(o=void 0),this.autoFreeze_&&gx(o,!0),i){const l=[],u=[];il(Hy).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Yr(1,n)},this.produceWithPatches=(n,r)=>{if(zs(n))return(u,...h)=>this.produceWithPatches(u,f=>n(f,...h));let i,o;return[this.produce(n,r,(u,h)=>{i=u,o=h}),i,o]},j0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),j0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),j0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ri(t)||Yr(8),Wi(t)&&(t=Wr(t));const n=pA(this),r=$y(n,t,void 0);return r[Bn].isManual_=!0,Gy(n),r}finishDraft(t,n){const r=t&&t[Bn];(!r||!r.isManual_)&&Yr(9);const{scope_:i}=r;return hA(i,n),mA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=il(Hy).applyPatches_;return Wi(t)?i(t,n):this.produce(t,o=>i(o,n))}};function $y(e,t,n,r){const[i,o]=Ih(t)?il(Rf).proxyMap_(t,n):Rh(t)?il(Rf).proxySet_(t,n):NB(t,n);return((n==null?void 0:n.scope_)??JP()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?wB(n,o,r):o.callbacks_.push(function(h){var p;(p=h.mapSetPlugin_)==null||p.fixSetContents(o);const{patchPlugin_:f}=h;o.modified_&&f&&f.generatePatches_(o,[],h)}),i}function Wr(e){return Wi(e)||Yr(10,e),eM(e)}function eM(e){if(!ri(e)||Dh(e))return e;const t=e[Bn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=qy(e,!0);return oc(n,(i,o)=>{If(n,i,eM(o))},r),t&&(t.finalized_=!1),n}var CB=new AB,tM=CB.produce;function nM(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var TB=nM(),_B=nM,kB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pf:Pf.apply(null,arguments)};function Dr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(mr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>VP(r)&&r.type===e,n}var rM=class ju extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ju.prototype)}static get[Symbol.species](){return ju}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ju(...t[0].concat(this)):new ju(...t.concat(this))}};function yA(e){return ri(e)?tM(e,()=>{}):e}function Fd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function PB(e){return typeof e=="boolean"}var MB=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new rM;return n&&(PB(n)?l.push(TB):l.push(_B(n.extraArgument))),l},iM="RTK_autoBatch",_t=()=>e=>({payload:e,meta:{[iM]:!0}}),vA=e=>t=>{setTimeout(t,e)},aM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vA(10):e.type==="callback"?e.queueNotification:vA(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[iM]),o=!i,o&&(l||(l=!0,h(f))),r.dispatch(p)}finally{i=!0}}})},jB=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new rM(e);return r&&i.push(aM(typeof r=="object"?r:void 0)),i};function IB(e){const t=MB(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(hx(n))u=GP(n);else throw new Error(mr(1));let h;typeof r=="function"?h=r(t):h=t();let f=Pf;i&&(f=kB({trace:!1,...typeof i=="object"&&i}));const p=fB(...h),m=jB(p);let v=typeof l=="function"?l(m):m();const b=f(...v);return FP(u,o,b)}function oM(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(mr(28));if(u in t)throw new Error(mr(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function RB(e){return typeof e=="function"}function DB(e,t){let[n,r,i]=oM(t),o;if(RB(e))o=()=>yA(e());else{const u=yA(e);o=()=>u}function l(u=o(),h){let f=[n[h.type],...r.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(Wi(p)){const b=m(p,h);return b===void 0?p:b}else{if(ri(p))return tM(p,v=>m(v,h));{const v=m(p,h);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var OB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LB=(e=21)=>{let t="",n=e;for(;n--;)t+=OB[Math.random()*64|0];return t},UB=Symbol.for("rtk-slice-createasyncthunk");function BB(e,t){return`${e}/${t}`}function zB({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[UB];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(mr(11));const u=(typeof i.reducers=="function"?i.reducers(HB()):i.reducers)||{},h=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(k,R){const I=typeof k=="string"?k:k.type;if(!I)throw new Error(mr(12));if(I in f.sliceCaseReducersByType)throw new Error(mr(13));return f.sliceCaseReducersByType[I]=R,p},addMatcher(k,R){return f.sliceMatchers.push({matcher:k,reducer:R}),p},exposeAction(k,R){return f.actionCreators[k]=R,p},exposeCaseReducer(k,R){return f.sliceCaseReducersByName[k]=R,p}};h.forEach(k=>{const R=u[k],I={reducerName:k,type:BB(o,k),createNotation:typeof i.reducers=="function"};GB(R)?$B(I,R,p,t):FB(I,R,p)});function m(){const[k={},R=[],I=void 0]=typeof i.extraReducers=="function"?oM(i.extraReducers):[i.extraReducers],j={...k,...f.sliceCaseReducersByType};return DB(i.initialState,G=>{for(let U in j)G.addCase(U,j[U]);for(let U of f.sliceMatchers)G.addMatcher(U.matcher,U.reducer);for(let U of R)G.addMatcher(U.matcher,U.reducer);I&&G.addDefaultCase(I)})}const v=k=>k,b=new Map,N=new WeakMap;let A;function E(k,R){return A||(A=m()),A(k,R)}function T(){return A||(A=m()),A.getInitialState()}function P(k,R=!1){function I(G){let U=G[k];return typeof U>"u"&&R&&(U=Fd(N,I,T)),U}function j(G=v){const U=Fd(b,R,()=>new WeakMap);return Fd(U,G,()=>{const D={};for(const[O,$]of Object.entries(i.selectors??{}))D[O]=qB($,G,()=>Fd(N,G,T),R);return D})}return{reducerPath:k,getSelectors:j,get selectors(){return j(I)},selectSlice:I}}const M={name:o,reducer:E,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...P(l),injectInto(k,{reducerPath:R,...I}={}){const j=R??l;return k.inject({reducerPath:j,reducer:E},I),{...M,...P(j,!0)}}};return M}}function qB(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Qn=zB();function HB(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function FB({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!VB(r))throw new Error(mr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?Dr(e,l):Dr(e))}function GB(e){return e._reducerDefinitionType==="asyncThunk"}function VB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $B({type:e,reducerName:t},n,r,i){if(!i)throw new Error(mr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:h,settled:f,options:p}=n,m=i(e,o,p);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),h&&r.addCase(m.rejected,h),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Gd,pending:u||Gd,rejected:h||Gd,settled:f||Gd})}function Gd(){}var YB="task",sM="listener",lM="completed",xx="cancelled",KB=`task-${xx}`,JB=`task-${lM}`,Yy=`${sM}-${xx}`,XB=`${sM}-${lM}`,Lh=class{constructor(e){Pg(this,"name","TaskAbortError");Pg(this,"message");this.code=e,this.message=`${YB} ${xx} (reason: ${e})`}},bx=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Df=()=>{},uM=(e,t=Df)=>(e.catch(t),e),cM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Io=e=>{if(e.aborted)throw new Lh(e.reason)};function dM(e,t){let n=Df;return new Promise((r,i)=>{const o=()=>i(new Lh(e.reason));if(e.aborted){o();return}n=cM(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Df})}var WB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Lh?"cancelled":"rejected",error:n}}finally{t==null||t()}},Of=e=>t=>uM(dM(e,t).then(n=>(Io(e),n))),fM=e=>{const t=Of(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ws}=Object,xA={},Uh="listenerMiddleware",QB=(e,t)=>{const n=r=>cM(e,()=>r.abort(e.reason));return(r,i)=>{bx(r);const o=new AbortController;n(o);const l=WB(async()=>{Io(e),Io(o.signal);const u=await r({pause:Of(o.signal),delay:fM(o.signal),signal:o.signal});return Io(o.signal),u},()=>o.abort(JB));return i!=null&&i.autoJoin&&t.push(l.catch(Df)),{result:Of(e)(l),cancel(){o.abort(KB)}}}},ZB=(e,t)=>{const n=async(r,i)=>{Io(t);let o=()=>{};const u=[new Promise((h,f)=>{let p=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),h([m,v.getState(),v.getOriginalState()])}});o=()=>{p(),f()}})];i!=null&&u.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await dM(t,Promise.race(u));return Io(t),h}finally{o()}};return(r,i)=>uM(n(r,i))},hM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Dr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mr(21));return bx(o),{predicate:i,type:t,effect:o}},pM=Ws(e=>{const{type:t,predicate:n,effect:r}=hM(e);return{id:LB(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>pM}),bA=(e,t)=>{const{type:n,effect:r,predicate:i}=hM(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Ky=e=>{e.pending.forEach(t=>{t.abort(Yy)})},ez=(e,t)=>()=>{for(const n of t.keys())Ky(n);e.clear()},wA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},mM=Ws(Dr(`${Uh}/add`),{withTypes:()=>mM}),tz=Dr(`${Uh}/removeAll`),gM=Ws(Dr(`${Uh}/remove`),{withTypes:()=>gM}),nz=(...e)=>{console.error(`${Uh}/error`,...e)},lc=(e={})=>{const t=new Map,n=new Map,r=b=>{const N=n.get(b)??0;n.set(b,N+1)},i=b=>{const N=n.get(b)??1;N===1?n.delete(b):n.set(b,N-1)},{extra:o,onError:l=nz}=e;bx(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),N=>{b.unsubscribe(),N!=null&&N.cancelActive&&Ky(b)}),h=b=>{const N=bA(t,b)??pM(b);return u(N)};Ws(h,{withTypes:()=>h});const f=b=>{const N=bA(t,b);return N&&(N.unsubscribe(),b.cancelActive&&Ky(N)),!!N};Ws(f,{withTypes:()=>f});const p=async(b,N,A,E)=>{const T=new AbortController,P=ZB(h,T.signal),M=[];try{b.pending.add(T),r(b),await Promise.resolve(b.effect(N,Ws({},A,{getOriginalState:E,condition:(k,R)=>P(k,R).then(Boolean),take:P,delay:fM(T.signal),pause:Of(T.signal),extra:o,signal:T.signal,fork:QB(T.signal,M),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((k,R,I)=>{k!==T&&(k.abort(Yy),I.delete(k))})},cancel:()=>{T.abort(Yy),b.pending.delete(T)},throwIfCancelled:()=>{Io(T.signal)}})))}catch(k){k instanceof Lh||wA(l,k,{raisedBy:"effect"})}finally{await Promise.all(M),T.abort(XB),i(b),b.pending.delete(T)}},m=ez(t,n);return{middleware:b=>N=>A=>{if(!VP(A))return N(A);if(mM.match(A))return h(A.payload);if(tz.match(A)){m();return}if(gM.match(A))return f(A.payload);let E=b.getState();const T=()=>{if(E===xA)throw new Error(mr(23));return E};let P;try{if(P=N(A),t.size>0){const M=b.getState(),k=Array.from(t.values());for(const R of k){let I=!1;try{I=R.predicate(A,M,E)}catch(j){I=!1,wA(l,j,{raisedBy:"predicate"})}I&&p(R,A,b,T)}}}finally{E=xA}return P},startListening:h,stopListening:f,clearListeners:m}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yM=Qn({name:"chartLayout",initialState:rz,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:iz,setLayout:az,setChartSize:oz,setScale:sz}=yM.actions,lz=yM.reducer;function vM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Pt(e){return Number.isFinite(e)}function xi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){uz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uz(e,t,n){return(t=cz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cz(e){var t=dz(e,"string");return typeof t=="symbol"?t:t+""}function dz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(e,t,n){return Nn(e)||Nn(t)?n:vi(t)?kh(e,t,n):typeof t=="function"?t(e):n}var fz=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Me(e[o]))return Hs(Hs({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Me(e[l]))return Hs(Hs({},e),{},{[l]:e[l]+(i||0)})}return e},aa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xM=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},bM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:h,categoricalDomain:f,tickCount:p,ticks:m,niceTicks:v,axisType:b}=e;if(!l)return null;var N=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=i==="category"&&l.bandwidth?l.bandwidth()/N:0;if(A=b==="angleAxis"&&o&&o.length>=2?Pr(o[0]-o[1])*2*A:A,m||v){var E=(m||v||[]).map((T,P)=>{var M=r?r.indexOf(T):T;return{coordinate:l(M)+A,value:T,offset:A,index:P}});return E.filter(T=>!ni(T.coordinate))}return h&&f?f.map((T,P)=>({coordinate:l(T)+A,value:T,index:P,offset:A})):l.ticks&&p!=null?l.ticks(p).map((T,P)=>({coordinate:l(T)+A,value:T,offset:A,index:P})):l.domain().map((T,P)=>({coordinate:l(T)+A,value:r?r[T]:T,index:P,offset:A}))},NA=1e-4,hz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-NA,o=Math.max(r[0],r[1])+NA,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},pz=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var h=e[u],f=h==null?void 0:h[i];if(f!=null){var p=f[1],m=f[0],v=ni(p)?m:p;v>=0?(f[0]=o,f[1]=o+v,o=p):(f[0]=l,f[1]=l+v,l=p)}}}},mz=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],h=u==null?void 0:u[i];if(h!=null){var f=ni(h[1])?h[0]:h[1];f>=0?(h[0]=o,h[1]=o+f,o=h[1]):(h[0]=0,h[1]=0)}}}},gz={sign:pz,expand:Z6,none:Uo,silhouette:eU,wiggle:tU,positive:mz},yz=(e,t,n)=>{var r,i=(r=gz[n])!==null&&r!==void 0?r:Uo,o=Q6().keys(t).value((u,h)=>Number(En(u,h,0))).order(Uy).offset(i),l=o(e);return l.forEach((u,h)=>{u.forEach((f,p)=>{var m=En(e[p],t[h],0);Array.isArray(m)&&m.length===2&&Me(m[0])&&Me(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function vz(e){return e==null?void 0:String(e)}function EA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nn(i[t.dataKey])){var u=_P(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var h=En(i,Nn(l)?t.dataKey:l);return Nn(h)?null:t.scale(h)}var xz=e=>{var t=e.flat(2).filter(Me);return[Math.min(...t),Math.max(...t)]},bz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wz=(e,t,n)=>{if(e!=null)return bz(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((h,f)=>{var p=vM(f,t,n),m=xz(p);return!Pt(m[0])||!Pt(m[1])?h:[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},AA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Ph(t,p=>p.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var h=i[l],f=i[l-1];o=Math.min(((h==null?void 0:h.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function TA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return Hs(Hs({},t),{},{dataKey:n,payload:r,value:i,name:o})}function wM(e,t){if(e)return String(e);if(typeof t=="string")return t}var Sz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Nz=(e,t)=>t==="centric"?e.angle:e.radius,oa=e=>e.layout.width,sa=e=>e.layout.height,Ez=e=>e.layout.scale,SM=e=>e.layout.margin,Bh=le(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),zh=le(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Az="data-recharts-item-index",Cz="data-recharts-item-id",uc=60;function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tz(e,t,n){return(t=_z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(e){var t=kz(e,"string");return typeof t=="symbol"?t:t+""}function kz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pz=e=>e.brush.height;function Mz(e){var t=zh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:uc;return n+i}return n},0)}function jz(e){var t=zh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:uc;return n+i}return n},0)}function Iz(e){var t=Bh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Rz(e){var t=Bh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var An=le([oa,sa,SM,Pz,Mz,jz,Iz,Rz,HP,oB],(e,t,n,r,i,o,l,u,h,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Vd(Vd({},m),p),b=v.bottom;v.bottom+=r,v=fz(v,h,f);var N=e-v.left-v.right,A=t-v.top-v.bottom;return Vd(Vd({brushBottom:b},v),{},{width:Math.max(N,0),height:Math.max(A,0)})}),Dz=le(An,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),NM=le(oa,sa,(e,t)=>({x:0,y:0,width:e,height:t})),Oz=C.createContext(null),Zn=()=>C.useContext(Oz)!=null,qh=e=>e.brush,Hh=le([qh,An,SM],(e,t,n)=>({height:e.height,x:Me(e.x)?e.x:t.left,y:Me(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Me(e.width)?e.width:t.width})),R0={},D0={},O0={},kA;function Lz(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const h=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&p(),A()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},N=()=>{v!==null&&(clearTimeout(v),v=null)},A=()=>{N(),l=void 0,u=null},E=()=>{p()},T=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const M=v==null;b(),h&&M&&p()};return T.schedule=b,T.cancel=A,T.flush=E,i==null||i.addEventListener("abort",A,{once:!0}),T}e.debounce=t})(O0)),O0}var PA;function Uz(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lz();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:h}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,m=null;const v=t.debounce(function(...A){p=r.apply(this,A),m=null},i,{edges:f}),b=function(...A){return h!=null&&(m===null&&(m=Date.now()),Date.now()-m>=h)?(p=r.apply(this,A),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,A),p)},N=()=>(v.flush(),p);return b.cancel=v.cancel,b.flush=N,b}e.debounce=n})(D0)),D0}var MA;function Bz(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uz();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(R0)),R0}var L0,jA;function zz(){return jA||(jA=1,L0=Bz().throttle),L0}var qz=zz();const Hz=ii(qz);var Uf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},EM=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=Xi(r)?e:Number(r),h=Xi(i)?t:Number(i);return o&&o>0&&(u?h=u/o:h&&(u=h*o),l&&h!=null&&h>l&&(h=l)),{calculatedWidth:u,calculatedHeight:h}},Fz={width:0,height:0,overflow:"visible"},Gz={width:0,overflowX:"visible"},Vz={height:0,overflowY:"visible"},$z={},Yz=e=>{var{width:t,height:n}=e,r=Xi(t),i=Xi(n);return r&&i?Fz:r?Gz:i?Vz:$z};function Kz(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jy.apply(null,arguments)}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){Jz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jz(e,t,n){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xz(e){var t=Wz(e,"string");return typeof t=="symbol"?t:t+""}function Wz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AM=C.createContext({width:-1,height:-1});function Qz(e){return xi(e.width)&&xi(e.height)}function CM(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return Qz(i)?C.createElement(AM.Provider,{value:i},t):null}var wx=()=>C.useContext(AM),Zz=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:h,children:f,debounce:p=0,id:m,className:v,onResize:b,style:N={}}=e,A=C.useRef(null),E=C.useRef();E.current=b,C.useImperativeHandle(t,()=>A.current);var[T,P]=C.useState({containerWidth:r.width,containerHeight:r.height}),M=C.useCallback((G,U)=>{P(D=>{var O=Math.round(G),$=Math.round(U);return D.containerWidth===O&&D.containerHeight===$?D:{containerWidth:O,containerHeight:$}})},[]);C.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return ac;var G=$=>{var F,{width:V,height:z}=$[0].contentRect;M(V,z),(F=E.current)===null||F===void 0||F.call(E,V,z)};p>0&&(G=Hz(G,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(G),{width:D,height:O}=A.current.getBoundingClientRect();return M(D,O),U.observe(A.current),()=>{U.disconnect()}},[M,p]);var{containerWidth:k,containerHeight:R}=T;Uf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:I,calculatedHeight:j}=EM(k,R,{width:i,height:o,aspect:n,maxHeight:h});return Uf(I!=null&&I>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,j,i,o,l,u,n),C.createElement("div",{id:m?"".concat(m):void 0,className:At("recharts-responsive-container",v),style:RA(RA({},N),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:h}),ref:A},C.createElement("div",{style:Yz({width:i,height:o})},C.createElement(CM,{width:I,height:j},f)))}),eq=C.forwardRef((e,t)=>{var n=wx();if(xi(n.width)&&xi(n.height))return e.children;var{width:r,height:i}=Kz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=EM(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Me(o)&&Me(l)?C.createElement(CM,{width:o,height:l},e.children):C.createElement(Zz,Jy({},e,{width:r,height:i,ref:t}))});function TM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Fh=()=>{var e,t=Zn(),n=Re(Dz),r=Re(Hh),i=(e=Re(qh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},tq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_M=()=>{var e;return(e=Re(An))!==null&&e!==void 0?e:tq},kM=()=>Re(oa),PM=()=>Re(sa),bt=e=>e.layout.layoutType,dl=()=>Re(bt),nq=()=>{var e=dl();if(e==="horizontal"||e==="vertical")return e},rq=()=>{var e=dl();return e!==void 0},Gh=e=>{var t=cn(),n=Zn(),{width:r,height:i}=e,o=wx(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&xi(l)&&xi(u)&&t(oz({width:l,height:u}))},[t,n,l,u]),null},MM=Symbol.for("immer-nothing"),DA=Symbol.for("immer-draftable"),gr=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vu=Object.getPrototypeOf;function al(e){return!!e&&!!e[gr]}function Bo(e){var t;return e?jM(e)||Array.isArray(e)||!!e[DA]||!!((t=e.constructor)!=null&&t[DA])||cc(e)||$h(e):!1}var iq=Object.prototype.constructor.toString(),OA=new WeakMap;function jM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=OA.get(n);return r===void 0&&(r=Function.toString.call(n),OA.set(n,r)),r===iq}function Bf(e,t,n=!0){Vh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Vh(e){const t=e[gr];return t?t.type_:Array.isArray(e)?1:cc(e)?2:$h(e)?3:0}function Xy(e,t){return Vh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IM(e,t,n){const r=Vh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function aq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cc(e){return e instanceof Map}function $h(e){return e instanceof Set}function Ao(e){return e.copy_||e.base_}function Wy(e,t){if(cc(e))return new Map(e);if($h(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=jM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[gr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Vu(e),r)}else{const r=Vu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Sx(e,t=!1){return Yh(e)||al(e)||!Bo(e)||(Vh(e)>1&&Object.defineProperties(e,{set:$d,add:$d,clear:$d,delete:$d}),Object.freeze(e),t&&Object.values(e).forEach(n=>Sx(n,!0))),e}function oq(){Kr(2)}var $d={value:oq};function Yh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var sq={};function zo(e){const t=sq[e];return t||Kr(0,e),t}var $u;function RM(){return $u}function lq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LA(e,t){t&&(zo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qy(e){Zy(e),e.drafts_.forEach(uq),e.drafts_=null}function Zy(e){e===$u&&($u=e.parent_)}function UA(e){return $u=lq($u,e)}function uq(e){const t=e[gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function BA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[gr].modified_&&(Qy(t),Kr(4)),Bo(e)&&(e=zf(t,e),t.parent_||qf(t,e)),t.patches_&&zo("Patches").generateReplacementPatches_(n[gr].base_,e,t.patches_,t.inversePatches_)):e=zf(t,n,[]),Qy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MM?e:void 0}function zf(e,t,n){if(Yh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[gr];if(!i)return Bf(t,(o,l)=>zA(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return qf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Bf(l,(h,f)=>zA(e,i,o,h,f,n,u),r),qf(e,o,!1),n&&e.patches_&&zo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function zA(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Yh(i);if(!(u&&!l)){if(al(i)){const h=o&&t&&t.type_!==3&&!Xy(t.assigned_,r)?o.concat(r):void 0,f=zf(e,i,h);if(IM(n,r,f),al(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Bo(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;zf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qf(e,i)}}}function qf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sx(t,n)}function cq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:RM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Nx;n&&(i=[r],o=Yu);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var Nx={get(e,t){if(t===gr)return e;const n=Ao(e);if(!Xy(n,t))return dq(e,n,t);const r=n[t];return e.finalized_||!Bo(r)?r:r===U0(e.base_,t)?(B0(e),e.copy_[t]=tv(r,e)):r},has(e,t){return t in Ao(e)},ownKeys(e){return Reflect.ownKeys(Ao(e))},set(e,t,n){const r=DM(Ao(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=U0(Ao(e),t),o=i==null?void 0:i[gr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(aq(n,i)&&(n!==void 0||Xy(e.base_,t)))return!0;B0(e),ev(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return U0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,B0(e),ev(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ao(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return Vu(e.base_)},setPrototypeOf(){Kr(12)}},Yu={};Bf(Nx,(e,t)=>{Yu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yu.deleteProperty=function(e,t){return Yu.set.call(this,e,t,void 0)};Yu.set=function(e,t,n){return Nx.set.call(this,e[0],t,n,e[0])};function U0(e,t){const n=e[gr];return(n?Ao(n):e)[t]}function dq(e,t,n){var i;const r=DM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function DM(e,t){if(!(t in e))return;let n=Vu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Vu(n)}}function ev(e){e.modified_||(e.modified_=!0,e.parent_&&ev(e.parent_))}function B0(e){e.copy_||(e.copy_=Wy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(h=o,...f){return l.produce(h,p=>n.call(this,p,...f))}}typeof n!="function"&&Kr(6),r!==void 0&&typeof r!="function"&&Kr(7);let i;if(Bo(t)){const o=UA(this),l=tv(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Qy(o):Zy(o)}return LA(o,r),BA(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===MM&&(i=void 0),this.autoFreeze_&&Sx(i,!0),r){const o=[],l=[];zo("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Kr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,h=>t(h,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bo(e)||Kr(8),al(e)&&(e=hq(e));const t=UA(this),n=tv(e,void 0);return n[gr].isManual_=!0,Zy(t),n}finishDraft(e,t){const n=e&&e[gr];(!n||!n.isManual_)&&Kr(9);const{scope_:r}=n;return LA(r,t),BA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=zo("Patches").applyPatches_;return al(e)?r(e,t):this.produce(e,i=>r(i,t))}};function tv(e,t){const n=cc(e)?zo("MapSet").proxyMap_(e,t):$h(e)?zo("MapSet").proxySet_(e,t):cq(e,t);return(t?t.scope_:RM()).drafts_.push(n),n}function hq(e){return al(e)||Kr(10,e),OM(e)}function OM(e){if(!Bo(e)||Yh(e))return e;const t=e[gr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Wy(e,!0);return Bf(n,(i,o)=>{IM(n,i,OM(o))},r),t&&(t.finalized_=!1),n}var pq=new fq;pq.produce;var mq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LM=Qn({name:"legend",initialState:mq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_t()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Wr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:_t()},removeLegendPayload:{reducer(e,t){var n=Wr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:_t()}}}),{setLegendSize:Zle,setLegendSettings:eue,addLegendPayload:gq,replaceLegendPayload:yq,removeLegendPayload:vq}=LM.actions,xq=LM.reducer;function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nv.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){bq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bq(e,t,n){return(t=wq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nq(e){return Array.isArray(e)&&vi(e[0])&&vi(e[1])?e.join(" ~ "):e}var Eq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:h,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:v=!1}=e,b=()=>{if(o&&o.length){var R={padding:0,margin:0},I=(u?Ph(o,u):o).map((j,G)=>{if(j.type==="none")return null;var U=j.formatter||l||Nq,{value:D,name:O}=j,$=D,F=O;if(U){var V=U(D,O,j,G,o);if(Array.isArray(V))[$,F]=V;else if(V!=null)$=V;else return null}var z=z0({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:z},vi(F)?C.createElement("span",{className:"recharts-tooltip-item-name"},F):null,vi(F)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},$),C.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:R},I)}return null},N=z0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=z0({margin:0},i),E=!Nn(p),T=E?p:"",P=At("recharts-default-tooltip",h),M=At("recharts-tooltip-label",f);E&&m&&o!==void 0&&o!==null&&(T=m(p,o));var k=v?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",nv({className:P,style:N},k),C.createElement("p",{className:M,style:A},C.isValidElement(T)?T:"".concat(T)),b())},vu="recharts-tooltip-wrapper",Aq={visibility:"hidden"};function Cq(e){var{coordinate:t,translateX:n,translateY:r}=e;return At(vu,{["".concat(vu,"-right")]:Me(n)&&t&&Me(t.x)&&n>=t.x,["".concat(vu,"-left")]:Me(n)&&t&&Me(t.x)&&n<t.x,["".concat(vu,"-bottom")]:Me(r)&&t&&Me(t.y)&&r>=t.y,["".concat(vu,"-top")]:Me(r)&&t&&Me(t.y)&&r<t.y})}function HA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:h,viewBoxDimension:f}=e;if(o&&Me(o[r]))return o[r];var p=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?p:m;var v=h[r];if(v==null)return 0;if(l[r]){var b=p,N=v;return b<N?Math.max(m,v):Math.max(p,v)}if(f==null)return 0;var A=m+u,E=v+f;return A>E?Math.max(p,v):Math.max(m,v)}function Tq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function _q(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:h}=e,f,p,m;return l.height>0&&l.width>0&&n?(p=HA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:h,viewBoxDimension:h.width}),m=HA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:h,viewBoxDimension:h.height}),f=Tq({translateX:p,translateY:m,useTranslate3d:u})):f=Aq,{cssProperties:f,cssClasses:Cq({translateX:p,translateY:m,coordinate:n})}}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){rv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rv(e,t,n){return(t=kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mq extends C.PureComponent{constructor(){super(...arguments),rv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:h,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:b,wrapperStyle:N,lastBoundingBox:A,innerRef:E,hasPortalFromProps:T}=this.props,{cssClasses:P,cssProperties:M}=_q({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:A.height,width:A.width},useTranslate3d:v,viewBox:b}),k=T?{}:Yd(Yd({transition:h&&t?"transform ".concat(r,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),R=Yd(Yd({},k),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},N);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:R,ref:E},o)}}var UM=()=>{var e;return(e=Re(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iv.apply(null,arguments)}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){jq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jq(e,t,n){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $A={curveBasisClosed:q6,curveBasisOpen:H6,curveBasis:z6,curveBumpX:U6,curveBumpY:B6,curveLinearClosed:F6,curveLinear:Th,curveMonotoneX:G6,curveMonotoneY:V6,curveNatural:$6,curveStep:Y6,curveStepAfter:J6,curveStepBefore:K6},Hf=e=>Pt(e.x)&&Pt(e.y),YA=e=>e.base!=null&&Hf(e.base)&&Hf(e),xu=e=>e.x,bu=e=>e.y,Dq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ux(e));return(n==="curveMonotone"||n==="curveBump")&&t?$A["".concat(n).concat(t==="vertical"?"Y":"X")]:$A[n]||Th},Oq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=Dq(t,i),u=o?n.filter(Hf):n,h;if(Array.isArray(r)){var f=n.map((b,N)=>VA(VA({},b),{},{base:r[N]}));i==="vertical"?h=Bd().y(bu).x1(xu).x0(b=>b.base.x):h=Bd().x(xu).y1(bu).y0(b=>b.base.y);var p=h.defined(YA).curve(l),m=o?f.filter(YA):f;return p(m)}i==="vertical"&&Me(r)?h=Bd().y(bu).x1(xu).x0(r):Me(r)?h=Bd().x(xu).y1(bu).y0(r):h=yP().x(xu).y(bu);var v=h.defined(Hf).curve(l);return v(u)},mf=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=dl();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?Oq(l):r;return C.createElement("path",iv({},ti(e),cx(e),{className:At("recharts-curve",t),d:u===null?void 0:u,ref:i}))},Lq=["x","y","top","left","width","height","className"];function av(){return av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},av.apply(null,arguments)}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){Bq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bq(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hq(e,t){if(e==null)return{};var n,r,i=Fq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gq=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),Vq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,h=Hq(e,Lq),f=Uq({x:t,y:n,top:r,left:i,width:o,height:l},h);return!Me(t)||!Me(n)||!Me(o)||!Me(l)||!Me(r)||!Me(i)?null:C.createElement("path",av({},Rr(f),{className:At("recharts-cross",u),d:Gq(t,n,o,l,r,i)}))};function $q(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){Yq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yq(e,t,n){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Wq=(e,t,n)=>e.map(r=>"".concat(Xq(r)," ").concat(t,"ms ").concat(n)).join(","),Qq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ku=(e,t)=>Object.keys(t).reduce((n,r)=>XA(XA({},n),{},{[r]:e(r,t[r])}),{});function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){Zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zq(e,t,n){return(t=e8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=t8(e,"string");return typeof t=="symbol"?t:t+""}function t8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ff=(e,t,n)=>e+(t-e)*n,ov=e=>{var{from:t,to:n}=e;return t!==n},BM=(e,t,n)=>{var r=Ku((i,o)=>{if(ov(o)){var[l,u]=e(o.from,o.to,o.velocity);return Xt(Xt({},o),{},{from:l,velocity:u})}return o},t);return n<1?Ku((i,o)=>ov(o)&&r[i]!=null?Xt(Xt({},o),{},{velocity:Ff(o.velocity,r[i].velocity,n),from:Ff(o.from,r[i].from,n)}):o,t):BM(e,r,n-1)};function n8(e,t,n,r,i,o){var l,u=r.reduce((v,b)=>Xt(Xt({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),h=()=>Ku((v,b)=>b.from,u),f=()=>!Object.values(u).filter(ov).length,p=null,m=v=>{l||(l=v);var b=v-l,N=b/n.dt;u=BM(n,u,N),i(Xt(Xt(Xt({},e),t),h())),l=v,f()||(p=o.setTimeout(m))};return()=>(p=o.setTimeout(m),()=>{var v;(v=p)===null||v===void 0||v()})}function r8(e,t,n,r,i,o,l){var u=null,h=i.reduce((m,v)=>{var b=e[v],N=t[v];return b==null||N==null?m:Xt(Xt({},m),{},{[v]:[b,N]})},{}),f,p=m=>{f||(f=m);var v=(m-f)/r,b=Ku((A,E)=>Ff(...E,n(v)),h);if(o(Xt(Xt(Xt({},e),t),b)),v<1)u=l.setTimeout(p);else{var N=Ku((A,E)=>Ff(...E,n(1)),h);o(Xt(Xt(Xt({},e),t),N))}};return()=>(u=l.setTimeout(p),()=>{var m;(m=u)===null||m===void 0||m()})}const i8=(e,t,n,r,i,o)=>{var l=Qq(e,t);return n==null?()=>(i(Xt(Xt({},e),t)),()=>{}):n.isStepper===!0?n8(e,t,n,l,i,o):r8(e,t,n,r,l,i,o)};var Gf=1e-4,zM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],qM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),QA=(e,t)=>n=>{var r=zM(e,t);return qM(r,n)},a8=(e,t)=>n=>{var r=zM(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return qM(i,n)},o8=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},s8=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=o8(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},l8=(e,t,n,r)=>{var i=QA(e,n),o=QA(t,r),l=a8(e,n),u=f=>f>1?1:f<0?0:f,h=f=>{for(var p=f>1?1:f,m=p,v=0;v<8;++v){var b=i(m)-p,N=l(m);if(Math.abs(b-p)<Gf||N<Gf)return o(m);m=u(m-b/N)}return o(m)};return h.isStepper=!1,h},ZA=function(){return l8(...s8(...arguments))},u8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,h)=>{var f=-(l-u)*n,p=h*r,m=h+(f-p)*i/1e3,v=h*i/1e3+l;return Math.abs(v-u)<Gf&&Math.abs(m)<Gf?[u,0]:[v,m]};return o.isStepper=!0,o.dt=i,o},c8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZA(e);case"spring":return u8();default:if(e.split("(")[0]==="cubic-bezier")return ZA(e)}return typeof e=="function"?e:null};function d8(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[h,...f]=u;if(typeof h=="number"){i=e.setTimeout(o.bind(null,f),h);return}o(h),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class f8{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function h8(){return d8(new f8)}var p8=C.createContext(h8);function m8(e,t){var n=C.useContext(p8);return C.useMemo(()=>t??n(e),[e,t,n])}var g8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),dc={isSsr:g8()},y8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},eC={t:0},q0={t:1};function HM(e){var t=yr(e,y8),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:h,children:f}=t,p=n==="auto"?!dc.isSsr:n,m=m8(t.animationId,t.animationManager),[v,b]=C.useState(p?eC:q0),N=C.useRef(null);return C.useEffect(()=>{p||b(q0)},[p]),C.useEffect(()=>{if(!p||!r)return ac;var A=i8(eC,q0,c8(o),i,b,m.getTimeoutController()),E=()=>{N.current=A()};return m.start([h,l,E,i,u]),()=>{m.stop(),N.current&&N.current(),u()}},[p,r,i,o,l,h,u,m]),f(v.t)}function FM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(qu(t)),r=C.useRef(e);return r.current!==e&&(n.current=qu(t),r.current=e),n.current}var v8=["radius"],x8=["radius"],tC,nC,rC,iC,aC,oC,sC,lC,uC,cC;function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){b8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b8(e,t,n){return(t=w8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w8(e){var t=S8(e,"string");return typeof t=="symbol"?t:t+""}function S8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(null,arguments)}function hC(e,t){if(e==null)return{};var n,r,i=N8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function N8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function di(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pC=(e,t,n,r,i)=>{var o=Ka(n),l=Ka(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),h=l>=0?1:-1,f=o>=0?1:-1,p=l>=0&&o>=0||l<0&&o<0?1:0,m;if(u>0&&i instanceof Array){for(var v=[0,0,0,0],b=0,N=4;b<N;b++)v[b]=i[b]>u?u:i[b];m=bn(tC||(tC=di(["M",",",""])),e,t+h*v[0]),v[0]>0&&(m+=bn(nC||(nC=di(["A ",",",",0,0,",",",",",""])),v[0],v[0],p,e+f*v[0],t)),m+=bn(rC||(rC=di(["L ",",",""])),e+n-f*v[1],t),v[1]>0&&(m+=bn(iC||(iC=di(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],p,e+n,t+h*v[1])),m+=bn(aC||(aC=di(["L ",",",""])),e+n,t+r-h*v[2]),v[2]>0&&(m+=bn(oC||(oC=di(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],p,e+n-f*v[2],t+r)),m+=bn(sC||(sC=di(["L ",",",""])),e+f*v[3],t+r),v[3]>0&&(m+=bn(lC||(lC=di(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],p,e,t+r-h*v[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var A=Math.min(u,i);m=bn(uC||(uC=di(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+h*A,A,A,p,e+f*A,t,e+n-f*A,t,A,A,p,e+n,t+h*A,e+n,t+r-h*A,A,A,p,e+n-f*A,t+r,e+f*A,t+r,A,A,p,e,t+r-h*A)}else m=bn(cC||(cC=di(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},mC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E8=e=>{var t=yr(e,mC),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:o,y:l,width:u,height:h,radius:f,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:b,isAnimationActive:N,isUpdateAnimationActive:A}=t,E=C.useRef(u),T=C.useRef(h),P=C.useRef(o),M=C.useRef(l),k=C.useMemo(()=>({x:o,y:l,width:u,height:h,radius:f}),[o,l,u,h,f]),R=FM(k,"rectangle-");if(o!==+o||l!==+l||u!==+u||h!==+h||u===0||h===0)return null;var I=At("recharts-rectangle",p);if(!A){var j=Rr(t),{radius:G}=j,U=hC(j,v8);return C.createElement("path",Vf({},U,{x:Ka(o),y:Ka(l),width:Ka(u),height:Ka(h),radius:typeof f=="number"?f:void 0,className:I,d:pC(o,l,u,h,f)}))}var D=E.current,O=T.current,$=P.current,F=M.current,V="0px ".concat(r===-1?1:r,"px"),z="".concat(r,"px 0px"),B=Wq(["strokeDasharray"],v,typeof m=="string"?m:mC.animationEasing);return C.createElement(HM,{animationId:R,key:R,canBegin:r>0,duration:v,easing:m,isActive:A,begin:b},K=>{var ie=hi(D,u,K),Z=hi(O,h,K),q=hi($,o,K),Y=hi(F,l,K);n.current&&(E.current=ie,T.current=Z,P.current=q,M.current=Y);var X;N?K>0?X={transition:B,strokeDasharray:z}:X={strokeDasharray:V}:X={strokeDasharray:z};var H=Rr(t),{radius:me}=H,Ne=hC(H,x8);return C.createElement("path",Vf({},Ne,{radius:typeof f=="number"?f:void 0,className:I,d:pC(q,Y,ie,Z,f),ref:n,style:fC(fC({},X),t.style)}))})};function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){A8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A8(e,t,n){return(t=C8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C8(e){var t=T8(e,"string");return typeof t=="symbol"?t:t+""}function T8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $f=Math.PI/180,_8=e=>e*180/Math.PI,Sn=(e,t,n,r)=>({x:e+Math.cos(-$f*r)*n,y:t+Math.sin(-$f*r)*n}),k8=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},P8=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},M8=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=P8({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,h=Math.acos(u);return r>o&&(h=2*Math.PI-h),{radius:l,angle:_8(h),angleInRadian:h}},j8=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},I8=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},R8=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=M8({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:h,endAngle:f}=j8(t),p=o,m;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}return m?yC(yC({},t),{},{radius:i,angle:I8(p,t)}):null};function GM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Sn(t,n,r,i),u=Sn(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var vC,xC,bC,wC,SC,NC,EC;function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sv.apply(null,arguments)}function _o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D8=(e,t)=>{var n=Pr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Kd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:h}=e,f=u*(l?1:-1)+r,p=Math.asin(u/f)/$f,m=h?i:i+o*p,v=Sn(t,n,f,m),b=Sn(t,n,r,m),N=h?i-o*p:i,A=Sn(t,n,f*Math.cos(p*$f),N);return{center:v,circleTangency:b,lineTangency:A,theta:p}},VM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=D8(o,l),h=o+u,f=Sn(t,n,i,o),p=Sn(t,n,i,h),m=bn(vC||(vC=_o(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>h),p.x,p.y);if(r>0){var v=Sn(t,n,r,o),b=Sn(t,n,r,h);m+=bn(xC||(xC=_o(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(o<=h),v.x,v.y)}else m+=bn(bC||(bC=_o(["L ",","," Z"])),t,n);return m},O8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:h,endAngle:f}=e,p=Pr(f-h),{circleTangency:m,lineTangency:v,theta:b}=Kd({cx:t,cy:n,radius:i,angle:h,sign:p,cornerRadius:o,cornerIsExternal:u}),{circleTangency:N,lineTangency:A,theta:E}=Kd({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:u}),T=u?Math.abs(h-f):Math.abs(h-f)-b-E;if(T<0)return l?bn(wC||(wC=_o(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,o,o,o*2,o,o,-o*2):VM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:h,endAngle:f});var P=bn(SC||(SC=_o(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,o,o,+(p<0),m.x,m.y,i,i,+(T>180),+(p<0),N.x,N.y,o,o,+(p<0),A.x,A.y);if(r>0){var{circleTangency:M,lineTangency:k,theta:R}=Kd({cx:t,cy:n,radius:r,angle:h,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:I,lineTangency:j,theta:G}=Kd({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),U=u?Math.abs(h-f):Math.abs(h-f)-R-G;if(U<0&&o===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+=bn(NC||(NC=_o(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,o,o,+(p<0),I.x,I.y,r,r,+(U>180),+(p>0),M.x,M.y,o,o,+(p<0),k.x,k.y)}else P+=bn(EC||(EC=_o(["L",",","Z"])),t,n);return P},L8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U8=e=>{var t=yr(e,L8),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:p,className:m}=t;if(o<i||f===p)return null;var v=At("recharts-sector",m),b=o-i,N=Wa(l,b,0,!0),A;return N>0&&Math.abs(f-p)<360?A=O8({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,b/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:p}):A=VM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),C.createElement("path",sv({},Rr(t),{className:v,d:A}))};function B8(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(kP(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,h=Sn(r,i,o,u),f=Sn(r,i,l,u);return[{x:h.x,y:h.y},{x:f.x,y:f.y}]}return GM(t)}}var H0={},F0={},G0={},AC;function z8(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zP();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(G0)),G0}var CC;function q8(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z8();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(F0)),F0}var TC;function H8(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qP(),n=q8();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),h=new Array(u);for(let f=0;f<u;f++)h[f]=i,i+=l;return h}e.range=r})(H0)),H0}var V0,_C;function F8(){return _C||(_C=1,V0=H8().range),V0}var G8=F8();const $M=ii(G8);function Xa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ex(e){let t,n,r;e.length!==2?(t=Xa,n=(u,h)=>Xa(e(u),h),r=(u,h)=>e(u)-h):(t=e===Xa||e===V8?e:$8,n=e,r=e);function i(u,h,f=0,p=u.length){if(f<p){if(t(h,h)!==0)return p;do{const m=f+p>>>1;n(u[m],h)<0?f=m+1:p=m}while(f<p)}return f}function o(u,h,f=0,p=u.length){if(f<p){if(t(h,h)!==0)return p;do{const m=f+p>>>1;n(u[m],h)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,h,f=0,p=u.length){const m=i(u,h,f,p-1);return m>f&&r(u[m-1],h)>-r(u[m],h)?m-1:m}return{left:i,center:l,right:o}}function $8(){return 0}function YM(e){return e===null?NaN:+e}function*Y8(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const K8=Ex(Xa),fc=K8.right;Ex(YM).center;class kC extends Map{constructor(t,n=W8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(PC(this,t))}has(t){return super.has(PC(this,t))}set(t,n){return super.set(J8(this,t),n)}delete(t){return super.delete(X8(this,t))}}function PC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function J8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function X8({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function W8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Q8(e=Xa){if(e===Xa)return KM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function KM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Z8=Math.sqrt(50),eH=Math.sqrt(10),tH=Math.sqrt(2);function Yf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Z8?10:o>=eH?5:o>=tH?2:1;let u,h,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),h=Math.round(t*f),u/f<e&&++u,h/f>t&&--h,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),h=Math.round(t/f),u*f<e&&++u,h*f>t&&--h),h<u&&.5<=n&&n<2?Yf(e,t,n*2):[u,h,f]}function lv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Yf(t,e,n):Yf(e,t,n);if(!(o>=i))return[];const u=o-i+1,h=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)h[f]=(o-f)/-l;else for(let f=0;f<u;++f)h[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)h[f]=(i+f)/-l;else for(let f=0;f<u;++f)h[f]=(i+f)*l;return h}function uv(e,t,n){return t=+t,e=+e,n=+n,Yf(e,t,n)[2]}function cv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?uv(t,e,n):uv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function MC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function JM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?KM:Q8(i);r>n;){if(r-n>600){const h=r-n+1,f=t-n+1,p=Math.log(h),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(h-m)/h)*(f-h/2<0?-1:1),b=Math.max(n,Math.floor(t-f*m/h+v)),N=Math.min(r,Math.floor(t+(h-f)*m/h+v));JM(e,t,b,N,i)}const o=e[t];let l=n,u=r;for(wu(e,n,t),i(e[r],o)>0&&wu(e,n,r);l<u;){for(wu(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?wu(e,n,u):(++u,wu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function wu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nH(e,t,n){if(e=Float64Array.from(Y8(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return jC(e);if(t>=1)return MC(e);var r,i=(r-1)*t,o=Math.floor(i),l=MC(JM(e,o).subarray(0,o+1)),u=jC(e.subarray(o+1));return l+(u-l)*(i-o)}}function rH(e,t,n=YM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function iH(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function la(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dv=Symbol("implicit");function Ax(){var e=new kC,t=[],n=[],r=dv;function i(o){let l=e.get(o);if(l===void 0){if(r!==dv)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new kC;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ax(t,n).unknown(r)},Br.apply(i,arguments),i}function Cx(){var e=Ax().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,h=0,f=0,p=.5;delete e.unknown;function m(){var v=t().length,b=i<r,N=b?i:r,A=b?r:i;o=(A-N)/Math.max(1,v-h+f*2),u&&(o=Math.floor(o)),N+=(A-N-o*(v-h))*p,l=o*(1-h),u&&(N=Math.round(N),l=Math.round(l));var E=iH(v).map(function(T){return N+o*T});return n(b?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(h=Math.min(1,f=+v),m()):h},e.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),m()):h},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return Cx(t(),[r,i]).round(u).paddingInner(h).paddingOuter(f).align(p)},Br.apply(m(),arguments)}function XM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XM(t())},e}function aH(){return XM(Cx.apply(null,arguments).paddingInner(1))}function Tx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function WM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hc(){}var Ju=.7,Kf=1/Ju,Qs="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oH=/^#([0-9a-f]{3,8})$/,sH=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),lH=new RegExp(`^rgb\\(${gi},${gi},${gi}\\)$`),uH=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${Xu}\\)$`),cH=new RegExp(`^rgba\\(${gi},${gi},${gi},${Xu}\\)$`),dH=new RegExp(`^hsl\\(${Xu},${gi},${gi}\\)$`),fH=new RegExp(`^hsla\\(${Xu},${gi},${gi},${Xu}\\)$`),IC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tx(hc,Wu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RC,formatHex:RC,formatHex8:hH,formatHsl:pH,formatRgb:DC,toString:DC});function RC(){return this.rgb().formatHex()}function hH(){return this.rgb().formatHex8()}function pH(){return QM(this).formatHsl()}function DC(){return this.rgb().formatRgb()}function Wu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?OC(t):n===3?new Xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sH.exec(e))?new Xn(t[1],t[2],t[3],1):(t=lH.exec(e))?new Xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uH.exec(e))?Jd(t[1],t[2],t[3],t[4]):(t=cH.exec(e))?Jd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dH.exec(e))?BC(t[1],t[2]/100,t[3]/100,1):(t=fH.exec(e))?BC(t[1],t[2]/100,t[3]/100,t[4]):IC.hasOwnProperty(e)?OC(IC[e]):e==="transparent"?new Xn(NaN,NaN,NaN,0):null}function OC(e){return new Xn(e>>16&255,e>>8&255,e&255,1)}function Jd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xn(e,t,n,r)}function mH(e){return e instanceof hc||(e=Wu(e)),e?(e=e.rgb(),new Xn(e.r,e.g,e.b,e.opacity)):new Xn}function fv(e,t,n,r){return arguments.length===1?mH(e):new Xn(e,t,n,r??1)}function Xn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Tx(Xn,fv,WM(hc,{brighter(e){return e=e==null?Kf:Math.pow(Kf,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new Xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xn(Ro(this.r),Ro(this.g),Ro(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LC,formatHex:LC,formatHex8:gH,formatRgb:UC,toString:UC}));function LC(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}`}function gH(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}${ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function UC(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ko(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function BC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Jr(e,t,n,r)}function QM(e){if(e instanceof Jr)return new Jr(e.h,e.s,e.l,e.opacity);if(e instanceof hc||(e=Wu(e)),!e)return new Jr;if(e instanceof Jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,h=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=h<.5?o+i:2-o-i,l*=60):u=h>0&&h<1?0:l,new Jr(l,u,h,e.opacity)}function yH(e,t,n,r){return arguments.length===1?QM(e):new Jr(e,t,n,r??1)}function Jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Tx(Jr,yH,WM(hc,{brighter(e){return e=e==null?Kf:Math.pow(Kf,e),new Jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new Jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Xn($0(e>=240?e-240:e+120,i,r),$0(e,i,r),$0(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Jr(zC(this.h),Xd(this.s),Xd(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${zC(this.h)}, ${Xd(this.s)*100}%, ${Xd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zC(e){return e=(e||0)%360,e<0?e+360:e}function Xd(e){return Math.max(0,Math.min(1,e||0))}function $0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _x=e=>()=>e;function vH(e,t){return function(n){return e+n*t}}function xH(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bH(e){return(e=+e)==1?ZM:function(t,n){return n-t?xH(t,n,e):_x(isNaN(t)?n:t)}}function ZM(e,t){var n=t-e;return n?vH(e,n):_x(isNaN(e)?t:e)}const qC=(function e(t){var n=bH(t);function r(i,o){var l=n((i=fv(i)).r,(o=fv(o)).r),u=n(i.g,o.g),h=n(i.b,o.b),f=ZM(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=h(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function wH(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function SH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=fl(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function EH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function AH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=fl(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y0=new RegExp(hv.source,"g");function CH(e){return function(){return e}}function TH(e){return function(t){return e(t)+""}}function _H(e,t){var n=hv.lastIndex=Y0.lastIndex=0,r,i,o,l=-1,u=[],h=[];for(e=e+"",t=t+"";(r=hv.exec(e))&&(i=Y0.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,h.push({i:l,x:Xf(r,i)})),n=Y0.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?h[0]?TH(h[0].x):CH(t):(t=h.length,function(f){for(var p=0,m;p<t;++p)u[(m=h[p]).i]=m.x(f);return u.join("")})}function fl(e,t){var n=typeof t,r;return t==null||n==="boolean"?_x(t):(n==="number"?Xf:n==="string"?(r=Wu(t))?(t=r,qC):_H:t instanceof Wu?qC:t instanceof Date?EH:SH(t)?wH:Array.isArray(t)?NH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?AH:Xf)(e,t)}function kx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kH(e,t){t===void 0&&(t=e,e=fl);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function PH(e){return function(){return e}}function Wf(e){return+e}var HC=[0,1];function On(e){return e}function pv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:PH(isNaN(t)?NaN:.5)}function MH(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function jH(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=pv(i,r),o=n(l,o)):(r=pv(r,i),o=n(o,l)),function(u){return o(r(u))}}function IH(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=pv(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var h=fc(e,u,1,r)-1;return o[h](i[h](u))}}function pc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kh(){var e=HC,t=HC,n=fl,r,i,o,l=On,u,h,f;function p(){var v=Math.min(e.length,t.length);return l!==On&&(l=MH(e[0],e[v-1])),u=v>2?IH:jH,h=f=null,m}function m(v){return v==null||isNaN(v=+v)?o:(h||(h=u(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(i((f||(f=u(t,e.map(r),Xf)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,Wf),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=kx,p()},m.clamp=function(v){return arguments.length?(l=v?!0:On,p()):l!==On},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,b){return r=v,i=b,p()}}function Px(){return Kh()(On,On)}function RH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ol(e){return e=Qf(Math.abs(e)),e?e[1]:NaN}function DH(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],h=0;i>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),o.push(n.substring(i-=u,i+u)),!((h+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function OH(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var LH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qu(e){if(!(t=LH.exec(e)))throw new Error("invalid format: "+e);var t;return new Mx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qu.prototype=Mx.prototype;function Mx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function UH(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ej;function BH(e,t){var n=Qf(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(ej=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qf(e,Math.max(0,t+o-1))[0]}function FC(e,t){var n=Qf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const GC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:RH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FC(e*100,t),r:FC,s:BH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VC(e){return e}var $C=Array.prototype.map,YC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zH(e){var t=e.grouping===void 0||e.thousands===void 0?VC:DH($C.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?VC:OH($C.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Qu(m);var v=m.fill,b=m.align,N=m.sign,A=m.symbol,E=m.zero,T=m.width,P=m.comma,M=m.precision,k=m.trim,R=m.type;R==="n"?(P=!0,R="g"):GC[R]||(M===void 0&&(M=12),k=!0,R="g"),(E||v==="0"&&b==="=")&&(E=!0,v="0",b="=");var I=A==="$"?n:A==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",j=A==="$"?r:/[%p]/.test(R)?l:"",G=GC[R],U=/[defgprs%]/.test(R);M=M===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function D(O){var $=I,F=j,V,z,B;if(R==="c")F=G(O)+F,O="";else{O=+O;var K=O<0||1/O<0;if(O=isNaN(O)?h:G(Math.abs(O),M),k&&(O=UH(O)),K&&+O==0&&N!=="+"&&(K=!1),$=(K?N==="("?N:u:N==="-"||N==="("?"":N)+$,F=(R==="s"?YC[8+ej/3]:"")+F+(K&&N==="("?")":""),U){for(V=-1,z=O.length;++V<z;)if(B=O.charCodeAt(V),48>B||B>57){F=(B===46?i+O.slice(V+1):O.slice(V))+F,O=O.slice(0,V);break}}}P&&!E&&(O=t(O,1/0));var ie=$.length+O.length+F.length,Z=ie<T?new Array(T-ie+1).join(v):"";switch(P&&E&&(O=t(Z+O,Z.length?T-F.length:1/0),Z=""),b){case"<":O=$+O+F+Z;break;case"=":O=$+Z+O+F;break;case"^":O=Z.slice(0,ie=Z.length>>1)+$+O+F+Z.slice(ie);break;default:O=Z+$+O+F;break}return o(O)}return D.toString=function(){return m+""},D}function p(m,v){var b=f((m=Qu(m),m.type="f",m)),N=Math.max(-8,Math.min(8,Math.floor(ol(v)/3)))*3,A=Math.pow(10,-N),E=YC[8+N/3];return function(T){return b(A*T)+E}}return{format:f,formatPrefix:p}}var Wd,jx,tj;qH({thousands:",",grouping:[3],currency:["$",""]});function qH(e){return Wd=zH(e),jx=Wd.format,tj=Wd.formatPrefix,Wd}function HH(e){return Math.max(0,-ol(Math.abs(e)))}function FH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ol(t)/3)))*3-ol(Math.abs(e)))}function GH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ol(t)-ol(e))+1}function nj(e,t,n,r){var i=cv(e,t,n),o;switch(r=Qu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=FH(i,l))&&(r.precision=o),tj(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=GH(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=HH(i))&&(r.precision=o-(r.type==="%")*2);break}}return jx(r)}function Za(e){var t=e.domain;return e.ticks=function(n){var r=t();return lv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return nj(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],h,f,p=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);p-- >0;){if(f=uv(l,u,n),f===h)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;h=f}return e},e}function rj(){var e=Px();return e.copy=function(){return pc(e,rj())},Br.apply(e,arguments),Za(e)}function ij(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Wf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return ij(e).unknown(t)},e=arguments.length?Array.from(e,Wf):[0,1],Za(n)}function aj(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function KC(e){return Math.log(e)}function JC(e){return Math.exp(e)}function VH(e){return-Math.log(-e)}function $H(e){return-Math.exp(-e)}function YH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KH(e){return e===10?YH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function JH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XC(e){return(t,n)=>-e(-t,n)}function Ix(e){const t=e(KC,JC),n=t.domain;let r=10,i,o;function l(){return i=JH(r),o=KH(r),n()[0]<0?(i=XC(i),o=XC(o),e(VH,$H)):e(KC,JC),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const h=n();let f=h[0],p=h[h.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=i(f),b=i(p),N,A;const E=u==null?10:+u;let T=[];if(!(r%1)&&b-v<E){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(N=1;N<r;++N)if(A=v<0?N/o(-v):N*o(v),!(A<f)){if(A>p)break;T.push(A)}}else for(;v<=b;++v)for(N=r-1;N>=1;--N)if(A=v>0?N/o(-v):N*o(v),!(A<f)){if(A>p)break;T.push(A)}T.length*2<E&&(T=lv(f,p,E))}else T=lv(v,b,Math.min(b-v,E)).map(o);return m?T.reverse():T},t.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=Qu(h)).precision==null&&(h.trim=!0),h=jx(h)),u===1/0)return h;const f=Math.max(1,r*u/t.ticks().length);return p=>{let m=p/o(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?h(p):""}},t.nice=()=>n(aj(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function oj(){const e=Ix(Kh()).domain([1,10]);return e.copy=()=>pc(e,oj()).base(e.base()),Br.apply(e,arguments),e}function WC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Rx(e){var t=1,n=e(WC(t),QC(t));return n.constant=function(r){return arguments.length?e(WC(t=+r),QC(t)):t},Za(n)}function sj(){var e=Rx(Kh());return e.copy=function(){return pc(e,sj()).constant(e.constant())},Br.apply(e,arguments)}function ZC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WH(e){return e<0?-e*e:e*e}function Dx(e){var t=e(On,On),n=1;function r(){return n===1?e(On,On):n===.5?e(XH,WH):e(ZC(n),ZC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Za(t)}function Ox(){var e=Dx(Kh());return e.copy=function(){return pc(e,Ox()).exponent(e.exponent())},Br.apply(e,arguments),e}function QH(){return Ox.apply(null,arguments).exponent(.5)}function eT(e){return Math.sign(e)*e*e}function ZH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lj(){var e=Px(),t=[0,1],n=!1,r;function i(o){var l=ZH(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(eT(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Wf)).map(eT)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return lj(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Br.apply(i,arguments),Za(i)}function uj(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=rH(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[fc(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Xa),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return uj().domain(e).range(t).unknown(r)},Br.apply(o,arguments)}function cj(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(h){return h!=null&&h<=h?i[fc(r,h,0,n)]:o}function u(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*t-(h-n)*e)/(n+1);return l}return l.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,u()):[e,t]},l.range=function(h){return arguments.length?(n=(i=Array.from(h)).length-1,u()):i.slice()},l.invertExtent=function(h){var f=i.indexOf(h);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(h){return arguments.length&&(o=h),l},l.thresholds=function(){return r.slice()},l.copy=function(){return cj().domain([e,t]).range(i).unknown(o)},Br.apply(Za(l),arguments)}function dj(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[fc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return dj().domain(e).range(t).unknown(n)},Br.apply(i,arguments)}const K0=new Date,J0=new Date;function Qt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const h=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return h;let f;do h.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return h},i.filter=o=>Qt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(K0.setTime(+o),J0.setTime(+l),e(K0),e(J0),Math.floor(n(K0,J0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Zf=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zf);Zf.range;const $i=1e3,Mr=$i*60,Yi=Mr*60,Qi=Yi*24,Lx=Qi*7,tT=Qi*30,X0=Qi*365,Po=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCSeconds());Po.range;const Ux=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i)},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getMinutes());Ux.range;const Bx=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mr)},(e,t)=>(t-e)/Mr,e=>e.getUTCMinutes());Bx.range;const zx=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$i-e.getMinutes()*Mr)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getHours());zx.range;const qx=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCHours());qx.range;const mc=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mr)/Qi,e=>e.getDate()-1);mc.range;const Jh=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>e.getUTCDate()-1);Jh.range;const fj=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>Math.floor(e/Qi));fj.range;function Go(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Mr)/Lx)}const Xh=Go(0),eh=Go(1),eF=Go(2),tF=Go(3),sl=Go(4),nF=Go(5),rF=Go(6);Xh.range;eh.range;eF.range;tF.range;sl.range;nF.range;rF.range;function Vo(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Lx)}const Wh=Vo(0),th=Vo(1),iF=Vo(2),aF=Vo(3),ll=Vo(4),oF=Vo(5),sF=Vo(6);Wh.range;th.range;iF.range;aF.range;ll.range;oF.range;sF.range;const Hx=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hx.range;const Fx=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fx.range;const Zi=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zi.range;const ea=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ea.range;function hj(e,t,n,r,i,o){const l=[[Po,1,$i],[Po,5,5*$i],[Po,15,15*$i],[Po,30,30*$i],[o,1,Mr],[o,5,5*Mr],[o,15,15*Mr],[o,30,30*Mr],[i,1,Yi],[i,3,3*Yi],[i,6,6*Yi],[i,12,12*Yi],[r,1,Qi],[r,2,2*Qi],[n,1,Lx],[t,1,tT],[t,3,3*tT],[e,1,X0]];function u(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const b=m&&typeof m.range=="function"?m:h(f,p,m),N=b?b.range(f,+p+1):[];return v?N.reverse():N}function h(f,p,m){const v=Math.abs(p-f)/m,b=Ex(([,,E])=>E).right(l,v);if(b===l.length)return e.every(cv(f/X0,p/X0,m));if(b===0)return Zf.every(Math.max(cv(f,p,m),1));const[N,A]=l[v/l[b-1][2]<l[b][2]/v?b-1:b];return N.every(A)}return[u,h]}const[lF,uF]=hj(ea,Fx,Wh,fj,qx,Bx),[cF,dF]=hj(Zi,Hx,Xh,mc,zx,Ux);function W0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Q0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Su(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function fF(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,h=e.shortMonths,f=Nu(i),p=Eu(i),m=Nu(o),v=Eu(o),b=Nu(l),N=Eu(l),A=Nu(u),E=Eu(u),T=Nu(h),P=Eu(h),M={a:K,A:ie,b:Z,B:q,c:null,d:sT,e:sT,f:DF,g:VF,G:YF,H:jF,I:IF,j:RF,L:pj,m:OF,M:LF,p:Y,q:X,Q:cT,s:dT,S:UF,u:BF,U:zF,V:qF,w:HF,W:FF,x:null,X:null,y:GF,Y:$F,Z:KF,"%":uT},k={a:H,A:me,b:Ne,B:ue,c:null,d:lT,e:lT,f:QF,g:l9,G:c9,H:JF,I:XF,j:WF,L:gj,m:ZF,M:e9,p:we,q:Ue,Q:cT,s:dT,S:t9,u:n9,U:r9,V:i9,w:a9,W:o9,x:null,X:null,y:s9,Y:u9,Z:d9,"%":uT},R={a:D,A:O,b:$,B:F,c:V,d:aT,e:aT,f:_F,g:iT,G:rT,H:oT,I:oT,j:EF,L:TF,m:NF,M:AF,p:U,q:SF,Q:PF,s:MF,S:CF,u:yF,U:vF,V:xF,w:gF,W:bF,x:z,X:B,y:iT,Y:rT,Z:wF,"%":kF};M.x=I(n,M),M.X=I(r,M),M.c=I(t,M),k.x=I(n,k),k.X=I(r,k),k.c=I(t,k);function I(ae,Ee){return function(Pe){var ge=[],wt=-1,$e=0,Ct=ae.length,gt,Cn,qr;for(Pe instanceof Date||(Pe=new Date(+Pe));++wt<Ct;)ae.charCodeAt(wt)===37&&(ge.push(ae.slice($e,wt)),(Cn=nT[gt=ae.charAt(++wt)])!=null?gt=ae.charAt(++wt):Cn=gt==="e"?" ":"0",(qr=Ee[gt])&&(gt=qr(Pe,Cn)),ge.push(gt),$e=wt+1);return ge.push(ae.slice($e,wt)),ge.join("")}}function j(ae,Ee){return function(Pe){var ge=Su(1900,void 0,1),wt=G(ge,ae,Pe+="",0),$e,Ct;if(wt!=Pe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ee&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?($e=Q0(Su(ge.y,0,1)),Ct=$e.getUTCDay(),$e=Ct>4||Ct===0?th.ceil($e):th($e),$e=Jh.offset($e,(ge.V-1)*7),ge.y=$e.getUTCFullYear(),ge.m=$e.getUTCMonth(),ge.d=$e.getUTCDate()+(ge.w+6)%7):($e=W0(Su(ge.y,0,1)),Ct=$e.getDay(),$e=Ct>4||Ct===0?eh.ceil($e):eh($e),$e=mc.offset($e,(ge.V-1)*7),ge.y=$e.getFullYear(),ge.m=$e.getMonth(),ge.d=$e.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),Ct="Z"in ge?Q0(Su(ge.y,0,1)).getUTCDay():W0(Su(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(Ct+5)%7:ge.w+ge.U*7-(Ct+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Q0(ge)):W0(ge)}}function G(ae,Ee,Pe,ge){for(var wt=0,$e=Ee.length,Ct=Pe.length,gt,Cn;wt<$e;){if(ge>=Ct)return-1;if(gt=Ee.charCodeAt(wt++),gt===37){if(gt=Ee.charAt(wt++),Cn=R[gt in nT?Ee.charAt(wt++):gt],!Cn||(ge=Cn(ae,Pe,ge))<0)return-1}else if(gt!=Pe.charCodeAt(ge++))return-1}return ge}function U(ae,Ee,Pe){var ge=f.exec(Ee.slice(Pe));return ge?(ae.p=p.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function D(ae,Ee,Pe){var ge=b.exec(Ee.slice(Pe));return ge?(ae.w=N.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function O(ae,Ee,Pe){var ge=m.exec(Ee.slice(Pe));return ge?(ae.w=v.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function $(ae,Ee,Pe){var ge=T.exec(Ee.slice(Pe));return ge?(ae.m=P.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function F(ae,Ee,Pe){var ge=A.exec(Ee.slice(Pe));return ge?(ae.m=E.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function V(ae,Ee,Pe){return G(ae,t,Ee,Pe)}function z(ae,Ee,Pe){return G(ae,n,Ee,Pe)}function B(ae,Ee,Pe){return G(ae,r,Ee,Pe)}function K(ae){return l[ae.getDay()]}function ie(ae){return o[ae.getDay()]}function Z(ae){return h[ae.getMonth()]}function q(ae){return u[ae.getMonth()]}function Y(ae){return i[+(ae.getHours()>=12)]}function X(ae){return 1+~~(ae.getMonth()/3)}function H(ae){return l[ae.getUTCDay()]}function me(ae){return o[ae.getUTCDay()]}function Ne(ae){return h[ae.getUTCMonth()]}function ue(ae){return u[ae.getUTCMonth()]}function we(ae){return i[+(ae.getUTCHours()>=12)]}function Ue(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ee=I(ae+="",M);return Ee.toString=function(){return ae},Ee},parse:function(ae){var Ee=j(ae+="",!1);return Ee.toString=function(){return ae},Ee},utcFormat:function(ae){var Ee=I(ae+="",k);return Ee.toString=function(){return ae},Ee},utcParse:function(ae){var Ee=j(ae+="",!0);return Ee.toString=function(){return ae},Ee}}}var nT={"-":"",_:" ",0:"0"},dn=/^\s*\d+/,hF=/^%/,pF=/[\\^$*+?|[\]().{}]/g;function tt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function mF(e){return e.replace(pF,"\\$&")}function Nu(e){return new RegExp("^(?:"+e.map(mF).join("|")+")","i")}function Eu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function gF(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yF(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vF(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function xF(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bF(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function rT(e,t,n){var r=dn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function iT(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wF(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function SF(e,t,n){var r=dn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function NF(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aT(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function EF(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oT(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function AF(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function CF(e,t,n){var r=dn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function TF(e,t,n){var r=dn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _F(e,t,n){var r=dn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kF(e,t,n){var r=hF.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function PF(e,t,n){var r=dn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MF(e,t,n){var r=dn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sT(e,t){return tt(e.getDate(),t,2)}function jF(e,t){return tt(e.getHours(),t,2)}function IF(e,t){return tt(e.getHours()%12||12,t,2)}function RF(e,t){return tt(1+mc.count(Zi(e),e),t,3)}function pj(e,t){return tt(e.getMilliseconds(),t,3)}function DF(e,t){return pj(e,t)+"000"}function OF(e,t){return tt(e.getMonth()+1,t,2)}function LF(e,t){return tt(e.getMinutes(),t,2)}function UF(e,t){return tt(e.getSeconds(),t,2)}function BF(e){var t=e.getDay();return t===0?7:t}function zF(e,t){return tt(Xh.count(Zi(e)-1,e),t,2)}function mj(e){var t=e.getDay();return t>=4||t===0?sl(e):sl.ceil(e)}function qF(e,t){return e=mj(e),tt(sl.count(Zi(e),e)+(Zi(e).getDay()===4),t,2)}function HF(e){return e.getDay()}function FF(e,t){return tt(eh.count(Zi(e)-1,e),t,2)}function GF(e,t){return tt(e.getFullYear()%100,t,2)}function VF(e,t){return e=mj(e),tt(e.getFullYear()%100,t,2)}function $F(e,t){return tt(e.getFullYear()%1e4,t,4)}function YF(e,t){var n=e.getDay();return e=n>=4||n===0?sl(e):sl.ceil(e),tt(e.getFullYear()%1e4,t,4)}function KF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function lT(e,t){return tt(e.getUTCDate(),t,2)}function JF(e,t){return tt(e.getUTCHours(),t,2)}function XF(e,t){return tt(e.getUTCHours()%12||12,t,2)}function WF(e,t){return tt(1+Jh.count(ea(e),e),t,3)}function gj(e,t){return tt(e.getUTCMilliseconds(),t,3)}function QF(e,t){return gj(e,t)+"000"}function ZF(e,t){return tt(e.getUTCMonth()+1,t,2)}function e9(e,t){return tt(e.getUTCMinutes(),t,2)}function t9(e,t){return tt(e.getUTCSeconds(),t,2)}function n9(e){var t=e.getUTCDay();return t===0?7:t}function r9(e,t){return tt(Wh.count(ea(e)-1,e),t,2)}function yj(e){var t=e.getUTCDay();return t>=4||t===0?ll(e):ll.ceil(e)}function i9(e,t){return e=yj(e),tt(ll.count(ea(e),e)+(ea(e).getUTCDay()===4),t,2)}function a9(e){return e.getUTCDay()}function o9(e,t){return tt(th.count(ea(e)-1,e),t,2)}function s9(e,t){return tt(e.getUTCFullYear()%100,t,2)}function l9(e,t){return e=yj(e),tt(e.getUTCFullYear()%100,t,2)}function u9(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function c9(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ll(e):ll.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function d9(){return"+0000"}function uT(){return"%"}function cT(e){return+e}function dT(e){return Math.floor(+e/1e3)}var Ds,vj,xj;f9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f9(e){return Ds=fF(e),vj=Ds.format,Ds.parse,xj=Ds.utcFormat,Ds.utcParse,Ds}function h9(e){return new Date(e)}function p9(e){return e instanceof Date?+e:+new Date(+e)}function Gx(e,t,n,r,i,o,l,u,h,f){var p=Px(),m=p.invert,v=p.domain,b=f(".%L"),N=f(":%S"),A=f("%I:%M"),E=f("%I %p"),T=f("%a %d"),P=f("%b %d"),M=f("%B"),k=f("%Y");function R(I){return(h(I)<I?b:u(I)<I?N:l(I)<I?A:o(I)<I?E:r(I)<I?i(I)<I?T:P:n(I)<I?M:k)(I)}return p.invert=function(I){return new Date(m(I))},p.domain=function(I){return arguments.length?v(Array.from(I,p9)):v().map(h9)},p.ticks=function(I){var j=v();return e(j[0],j[j.length-1],I??10)},p.tickFormat=function(I,j){return j==null?R:f(j)},p.nice=function(I){var j=v();return(!I||typeof I.range!="function")&&(I=t(j[0],j[j.length-1],I??10)),I?v(aj(j,I)):p},p.copy=function(){return pc(p,Gx(e,t,n,r,i,o,l,u,h,f))},p}function m9(){return Br.apply(Gx(cF,dF,Zi,Hx,Xh,mc,zx,Ux,Po,vj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g9(){return Br.apply(Gx(lF,uF,ea,Fx,Wh,Jh,qx,Bx,Po,xj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qh(){var e=0,t=1,n,r,i,o,l=On,u=!1,h;function f(m){return m==null||isNaN(m=+m)?h:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(v){var b,N;return arguments.length?([b,N]=v,l=m(b,N),f):[l(0),l(1)]}}return f.range=p(fl),f.rangeRound=p(kx),f.unknown=function(m){return arguments.length?(h=m,f):h},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bj(){var e=Za(Qh()(On));return e.copy=function(){return eo(e,bj())},la.apply(e,arguments)}function wj(){var e=Ix(Qh()).domain([1,10]);return e.copy=function(){return eo(e,wj()).base(e.base())},la.apply(e,arguments)}function Sj(){var e=Rx(Qh());return e.copy=function(){return eo(e,Sj()).constant(e.constant())},la.apply(e,arguments)}function Vx(){var e=Dx(Qh());return e.copy=function(){return eo(e,Vx()).exponent(e.exponent())},la.apply(e,arguments)}function y9(){return Vx.apply(null,arguments).exponent(.5)}function Nj(){var e=[],t=On;function n(r){if(r!=null&&!isNaN(r=+r))return t((fc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>nH(e,o/r))},n.copy=function(){return Nj(t).domain(e)},la.apply(n,arguments)}function Zh(){var e=0,t=.5,n=1,r=1,i,o,l,u,h,f=On,p,m=!1,v;function b(A){return isNaN(A=+A)?v:(A=.5+((A=+p(A))-o)*(r*A<r*o?u:h),f(m?Math.max(0,Math.min(1,A)):A))}b.domain=function(A){return arguments.length?([e,t,n]=A,i=p(e=+e),o=p(t=+t),l=p(n=+n),u=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(A){return arguments.length?(m=!!A,b):m},b.interpolator=function(A){return arguments.length?(f=A,b):f};function N(A){return function(E){var T,P,M;return arguments.length?([T,P,M]=E,f=kH(A,[T,P,M]),b):[f(0),f(.5),f(1)]}}return b.range=N(fl),b.rangeRound=N(kx),b.unknown=function(A){return arguments.length?(v=A,b):v},function(A){return p=A,i=A(e),o=A(t),l=A(n),u=i===o?0:.5/(o-i),h=o===l?0:.5/(l-o),r=o<i?-1:1,b}}function Ej(){var e=Za(Zh()(On));return e.copy=function(){return eo(e,Ej())},la.apply(e,arguments)}function Aj(){var e=Ix(Zh()).domain([.1,1,10]);return e.copy=function(){return eo(e,Aj()).base(e.base())},la.apply(e,arguments)}function Cj(){var e=Rx(Zh());return e.copy=function(){return eo(e,Cj()).constant(e.constant())},la.apply(e,arguments)}function $x(){var e=Dx(Zh());return e.copy=function(){return eo(e,$x()).exponent(e.exponent())},la.apply(e,arguments)}function v9(){return $x.apply(null,arguments).exponent(.5)}const Iu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cx,scaleDiverging:Ej,scaleDivergingLog:Aj,scaleDivergingPow:$x,scaleDivergingSqrt:v9,scaleDivergingSymlog:Cj,scaleIdentity:ij,scaleImplicit:dv,scaleLinear:rj,scaleLog:oj,scaleOrdinal:Ax,scalePoint:aH,scalePow:Ox,scaleQuantile:uj,scaleQuantize:cj,scaleRadial:lj,scaleSequential:bj,scaleSequentialLog:wj,scaleSequentialPow:Vx,scaleSequentialQuantile:Nj,scaleSequentialSqrt:y9,scaleSequentialSymlog:Sj,scaleSqrt:QH,scaleSymlog:sj,scaleThreshold:dj,scaleTime:m9,scaleUtc:g9,tickFormat:nj},Symbol.toStringTag,{value:"Module"}));var ua=e=>e.chartData,Tj=le([ua],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_j=(e,t,n,r)=>r?Tj(e):ua(e),x9=(e,t,n)=>n?Tj(e):ua(e);function Qa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Pt(t)&&Pt(n))return!0}return!1}function fT(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function kj(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Pt(n))i=n;else if(typeof n=="function")return;if(Pt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Qa(l))return l}}function b9(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Qa(r))return fT(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Me(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&AA.test(i)){var h=AA.exec(i);if(h==null||h[1]==null||t==null)l=void 0;else{var f=+h[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Me(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&CA.test(o)){var p=CA.exec(o);if(p==null||p[1]==null||t==null)u=void 0;else{var m=+p[1];u=t[1]+m}}else u=t==null?void 0:t[1];var v=[l,u];if(Qa(v))return t==null?v:fT(v,t,n)}}}var hl=1e9,w9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Kx,kt=!0,Or="[DecimalError] ",Do=Or+"Invalid argument: ",Yx=Or+"Exponent out of range: ",pl=Math.floor,Co=Math.pow,S9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fr,un=1e7,Et=7,Pj=9007199254740991,nh=pl(Pj/Et),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ce.dividedBy=Ce.div=function(e){return Ki(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,n=t.constructor;return mt(Ki(t,new n(e),0,1),n.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return Vt(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(fr))throw Error(Or+"NaN");if(n.s<1)throw Error(Or+(n.s?"NaN":"-Infinity"));return n.eq(fr)?new r(0):(kt=!1,t=Ki(Zu(n,o),Zu(e,o),o),kt=!0,mt(t,i))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ij(t,e):Mj(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Or+"NaN");return n.s?(kt=!1,t=Ki(n,e,0,1).times(e),kt=!0,n.minus(t)):mt(new r(n),i)};Ce.naturalExponential=Ce.exp=function(){return jj(this)};Ce.naturalLogarithm=Ce.ln=function(){return Zu(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Mj(t,e):Ij(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Do+e);if(t=Vt(i)+1,r=i.d.length-1,n=r*Et+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ce.squareRoot=Ce.sqrt=function(){var e,t,n,r,i,o,l,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(Or+"NaN")}for(e=Vt(u),kt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=mi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=pl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=l=n+3;;)if(o=r,r=o.plus(Ki(u,o,l+2)).times(.5),mi(o.d).slice(0,l)===(t=mi(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(mt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return kt=!0,mt(r,n)};Ce.times=Ce.mul=function(e){var t,n,r,i,o,l,u,h,f,p=this,m=p.constructor,v=p.d,b=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,h=v.length,f=b.length,h<f&&(o=v,v=b,b=o,l=h,h=f,f=l),o=[],l=h+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=h+r;i>r;)u=o[i]+b[r]*v[i-r-1]+t,o[i--]=u%un|0,t=u/un|0;o[i]=(o[i]+t)%un|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,kt?mt(e,m.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(bi(e,0,hl),t===void 0?t=r.rounding:bi(t,0,8),mt(n,e+Vt(n)+1,t))};Ce.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=qo(r,!0):(bi(e,0,hl),t===void 0?t=i.rounding:bi(t,0,8),r=mt(new i(r),e+1,t),n=qo(r,!0,e+1)),n};Ce.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?qo(i):(bi(e,0,hl),t===void 0?t=o.rounding:bi(t,0,8),r=mt(new o(i),e+Vt(i)+1,t),n=qo(r.abs(),!1,e+Vt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return mt(new t(e),Vt(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,n,r,i,o,l,u=this,h=u.constructor,f=12,p=+(e=new h(e));if(!e.s)return new h(fr);if(u=new h(u),!u.s){if(e.s<1)throw Error(Or+"Infinity");return u}if(u.eq(fr))return u;if(r=h.precision,e.eq(fr))return mt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=p<0?-p:p)<=Pj){for(i=new h(fr),t=Math.ceil(r/Et+4),kt=!1;n%2&&(i=i.times(u),pT(i.d,t)),n=pl(n/2),n!==0;)u=u.times(u),pT(u.d,t);return kt=!0,e.s<0?new h(fr).div(i):mt(i,r)}}else if(o<0)throw Error(Or+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,kt=!1,i=e.times(Zu(u,r+f)),kt=!0,i=jj(i),i.s=o,i};Ce.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Vt(i),r=qo(i,n<=o.toExpNeg||n>=o.toExpPos)):(bi(e,1,hl),t===void 0?t=o.rounding:bi(t,0,8),i=mt(new o(i),e,t),n=Vt(i),r=qo(i,e<=n||n<=o.toExpNeg,e)),r};Ce.toSignificantDigits=Ce.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(bi(e,1,hl),t===void 0?t=r.rounding:bi(t,0,8)),mt(new r(n),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),n=e.constructor;return qo(e,t<=n.toExpNeg||t>=n.toExpPos)};function Mj(e,t){var n,r,i,o,l,u,h,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),kt?mt(t,m):t;if(h=e.d,f=t.d,l=e.e,i=t.e,h=h.slice(),o=l-i,o){for(o<0?(r=h,o=-o,u=f.length):(r=f,i=l,u=h.length),l=Math.ceil(m/Et),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=h.length,o=f.length,u-o<0&&(o=u,r=f,f=h,h=r),n=0;o;)n=(h[--o]=h[o]+f[o]+n)/un|0,h[o]%=un;for(n&&(h.unshift(n),++i),u=h.length;h[--u]==0;)h.pop();return t.d=h,t.e=i,kt?mt(t,m):t}function bi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Do+e)}function mi(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=Et-r.length,n&&(o+=Ga(n)),o+=r;l=e[t],r=l+"",n=Et-r.length,n&&(o+=Ga(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Ki=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%un|0,l=o/un|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,h;if(o!=l)h=o>l?1:-1;else for(u=h=0;u<o;u++)if(r[u]!=i[u]){h=r[u]>i[u]?1:-1;break}return h}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*un+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,h,f,p,m,v,b,N,A,E,T,P,M,k,R,I,j,G,U=r.constructor,D=r.s==i.s?1:-1,O=r.d,$=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Or+"Division by zero");for(h=r.e-i.e,j=$.length,R=O.length,b=new U(D),N=b.d=[],f=0;$[f]==(O[f]||0);)++f;if($[f]>(O[f]||0)&&--h,o==null?P=o=U.precision:l?P=o+(Vt(r)-Vt(i))+1:P=o,P<0)return new U(0);if(P=P/Et+2|0,f=0,j==1)for(p=0,$=$[0],P++;(f<R||p)&&P--;f++)M=p*un+(O[f]||0),N[f]=M/$|0,p=M%$|0;else{for(p=un/($[0]+1)|0,p>1&&($=e($,p),O=e(O,p),j=$.length,R=O.length),k=j,A=O.slice(0,j),E=A.length;E<j;)A[E++]=0;G=$.slice(),G.unshift(0),I=$[0],$[1]>=un/2&&++I;do p=0,u=t($,A,j,E),u<0?(T=A[0],j!=E&&(T=T*un+(A[1]||0)),p=T/I|0,p>1?(p>=un&&(p=un-1),m=e($,p),v=m.length,E=A.length,u=t(m,A,v,E),u==1&&(p--,n(m,j<v?G:$,v))):(p==0&&(u=p=1),m=$.slice()),v=m.length,v<E&&m.unshift(0),n(A,m,E),u==-1&&(E=A.length,u=t($,A,j,E),u<1&&(p++,n(A,j<E?G:$,E))),E=A.length):u===0&&(p++,A=[0]),N[f++]=p,u&&A[0]?A[E++]=O[k]||0:(A=[O[k]],E=1);while((k++<R||A[0]!==void 0)&&P--)}return N[0]||N.shift(),b.e=h,mt(b,l?o+Vt(b)+1:o)}})();function jj(e,t){var n,r,i,o,l,u,h=0,f=0,p=e.constructor,m=p.precision;if(Vt(e)>16)throw Error(Yx+Vt(e));if(!e.s)return new p(fr);for(kt=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(Co(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new p(fr),p.precision=u;;){if(i=mt(i.times(e),u),n=n.times(++h),l=o.plus(Ki(i,n,u)),mi(l.d).slice(0,u)===mi(o.d).slice(0,u)){for(;f--;)o=mt(o.times(o),u);return p.precision=m,t==null?(kt=!0,mt(o,m)):o}o=l}}function Vt(e){for(var t=e.e*Et,n=e.d[0];n>=10;n/=10)t++;return t}function Z0(e,t,n){if(t>e.LN10.sd())throw kt=!0,n&&(e.precision=n),Error(Or+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function Ga(e){for(var t="";e--;)t+="0";return t}function Zu(e,t){var n,r,i,o,l,u,h,f,p,m=1,v=10,b=e,N=b.d,A=b.constructor,E=A.precision;if(b.s<1)throw Error(Or+(b.s?"NaN":"-Infinity"));if(b.eq(fr))return new A(0);if(t==null?(kt=!1,f=E):f=t,b.eq(10))return t==null&&(kt=!0),Z0(A,f);if(f+=v,A.precision=f,n=mi(N),r=n.charAt(0),o=Vt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=mi(b.d),r=n.charAt(0),m++;o=Vt(b),r>1?(b=new A("0."+n),o++):b=new A(r+"."+n.slice(1))}else return h=Z0(A,f+2,E).times(o+""),b=Zu(new A(r+"."+n.slice(1)),f-v).plus(h),A.precision=E,t==null?(kt=!0,mt(b,E)):b;for(u=l=b=Ki(b.minus(fr),b.plus(fr),f),p=mt(b.times(b),f),i=3;;){if(l=mt(l.times(p),f),h=u.plus(Ki(l,new A(i),f)),mi(h.d).slice(0,f)===mi(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Z0(A,f+2,E).times(o+""))),u=Ki(u,new A(m),f),A.precision=E,t==null?(kt=!0,mt(u,E)):u;u=h,i+=2}}function hT(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=pl(n/Et),e.d=[],r=(n+1)%Et,n<0&&(r+=Et),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Et;r<i;)e.d.push(+t.slice(r,r+=Et));t=t.slice(r),r=Et-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),kt&&(e.e>nh||e.e<-nh))throw Error(Yx+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,i,o,l,u,h,f,p,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=Et,i=t,f=m[p=0];else{if(p=Math.ceil((r+1)/Et),o=m.length,p>=o)return e;for(f=o=m[p],l=1;o>=10;o/=10)l++;r%=Et,i=r-Et+l}if(n!==void 0&&(o=Co(10,l-i-1),u=f/o%10|0,h=t<0||m[p+1]!==void 0||f%o,h=n<4?(u||h)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||h||n==6&&(r>0?i>0?f/Co(10,l-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return h?(o=Vt(e),m.length=1,t=t-o-1,m[0]=Co(10,(Et-t%Et)%Et),e.e=pl(-t/Et)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=Co(10,Et-r),m[p]=i>0?(f/Co(10,l-i)%Co(10,i)|0)*o:0),h)for(;;)if(p==0){(m[0]+=o)==un&&(m[0]=1,++e.e);break}else{if(m[p]+=o,m[p]!=un)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(kt&&(e.e>nh||e.e<-nh))throw Error(Yx+Vt(e));return e}function Ij(e,t){var n,r,i,o,l,u,h,f,p,m,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),kt?mt(t,b):t;if(h=e.d,m=t.d,r=t.e,f=e.e,h=h.slice(),l=f-r,l){for(p=l<0,p?(n=h,l=-l,u=m.length):(n=m,r=f,u=h.length),i=Math.max(Math.ceil(b/Et),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=h.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(h[i]!=m[i]){p=h[i]<m[i];break}l=0}for(p&&(n=h,h=m,m=n,t.s=-t.s),u=h.length,i=m.length-u;i>0;--i)h[u++]=0;for(i=m.length;i>l;){if(h[--i]<m[i]){for(o=i;o&&h[--o]===0;)h[o]=un-1;--h[o],h[i]+=un}h[i]-=m[i]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,kt?mt(t,b):t):new v(0)}function qo(e,t,n){var r,i=Vt(e),o=mi(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Ga(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ga(-i-1)+o,n&&(r=n-l)>0&&(o+=Ga(r))):i>=l?(o+=Ga(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Ga(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Ga(r))),e.s<0?"-"+o:o}function pT(e,t){if(e.length>t)return e.length=t,!0}function Rj(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Do+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return hT(l,o.toString())}else if(typeof o!="string")throw Error(Do+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,S9.test(o))hT(l,o);else throw Error(Do+o)}if(i.prototype=Ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Rj,i.config=i.set=N9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function N9(e){if(!e||typeof e!="object")throw Error(Or+"Object expected");var t,n,r,i=["precision",1,hl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(pl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Do+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Do+n+": "+r);return this}var Kx=Rj(w9);fr=new Kx(1);const ut=Kx;var E9=e=>e,Dj={},Oj=e=>e===Dj,mT=e=>function t(){return arguments.length===0||arguments.length===1&&Oj(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Lj=(e,t)=>e===1?t:mT(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==Dj).length;return o>=e?t(...r):Lj(e-o,mT(function(){for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];var f=r.map(p=>Oj(p)?u.shift():p);return t(...f,...u)}))}),A9=e=>Lj(e.length,e),mv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},C9=A9((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),T9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return E9;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,h)=>h(u),o(...arguments))}};function Uj(e){var t;return e===0?t=1:t=Math.floor(new ut(e).abs().log(10).toNumber())+1,t}function Bj(e,t,n){for(var r=new ut(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var zj=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},qj=(e,t,n)=>{if(e.lte(0))return new ut(0);var r=Uj(e.toNumber()),i=new ut(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new ut(Math.ceil(o.div(l).toNumber())).add(n).mul(l),h=u.mul(i);return t?new ut(h.toNumber()):new ut(Math.ceil(h.toNumber()))},_9=(e,t,n)=>{var r=new ut(1),i=new ut(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new ut(10).pow(Uj(e)-1),i=new ut(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ut(Math.floor(e)))}else e===0?i=new ut(Math.floor((t-1)/2)):n||(i=new ut(Math.floor(e)));var l=Math.floor((t-1)/2),u=T9(C9(h=>i.add(new ut(h-l).mul(r)).toNumber()),mv);return u(0,t)},Hj=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ut(0),tickMin:new ut(0),tickMax:new ut(0)};var l=qj(new ut(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new ut(0):(u=new ut(t).add(n).div(2),u=u.sub(new ut(u).mod(l)));var h=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new ut(n).sub(u).div(l).toNumber()),p=h+f+1;return p>r?Hj(t,n,r,i,o+1):(p<r&&(f=n>0?f+(r-p):f,h=n>0?h:h+(r-p)),{step:l,tickMin:u.sub(new ut(h).mul(l)),tickMax:u.add(new ut(f).mul(l))})},k9=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,h]=zj([n,r]);if(u===-1/0||h===1/0){var f=h===1/0?[u,...mv(0,i-1).map(()=>1/0)]:[...mv(0,i-1).map(()=>-1/0),h];return n>r?f.reverse():f}if(u===h)return _9(u,i,o);var{step:p,tickMin:m,tickMax:v}=Hj(u,h,l,o,0),b=Bj(m,v.add(new ut(.1).mul(p)),p);return n>r?b.reverse():b},P9=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=zj([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var h=Math.max(n,2),f=qj(new ut(u).sub(l).div(h-1),o,0),p=[...Bj(new ut(l),new ut(u),f),u];return o===!1&&(p=p.map(m=>Math.round(m))),r>i?p.reverse():p},M9=e=>e.rootProps.barCategoryGap,ep=e=>e.rootProps.stackOffset,Fj=e=>e.rootProps.reverseStackOrder,Jx=e=>e.options.chartName,Xx=e=>e.rootProps.syncId,Gj=e=>e.rootProps.syncMethod,Wx=e=>e.options.eventEmitter,j9=e=>e.rootProps.baseValue,Ln={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},dr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},I9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gi.angleAxisId,includeHidden:!1,name:void 0,reversed:Gi.reversed,scale:Gi.scale,tick:Gi.tick,tickCount:void 0,ticks:void 0,type:Gi.type,unit:void 0},R9={allowDataOverflow:dr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dr.scale,tick:dr.tick,tickCount:dr.tickCount,ticks:void 0,type:dr.type,unit:void 0},D9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gi.scale,tick:Gi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},O9={allowDataOverflow:dr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dr.scale,tick:dr.tick,tickCount:dr.tickCount,ticks:void 0,type:"category",unit:void 0},Qx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?D9:I9,Zx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?O9:R9,np=e=>e.polarOptions,eb=le([oa,sa,An],k8),Vj=le([np,eb],(e,t)=>{if(e!=null)return Wa(e.innerRadius,t,0)}),$j=le([np,eb],(e,t)=>{if(e!=null)return Wa(e.outerRadius,t,t*.8)}),L9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Yj=le([np],L9);le([Qx,Yj],tp);var Kj=le([eb,Vj,$j],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});le([Zx,Kj],tp);var Jj=le([bt,np,Vj,$j,oa,sa],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:h,endAngle:f}=t;return{cx:Wa(l,i,i/2),cy:Wa(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),Zt=(e,t)=>t,rp=(e,t,n)=>n;function tb(e){return e==null?void 0:e.id}function Xj(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var h,f=(h=u.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var p=tb(u);f.forEach((m,v)=>{var b=o==null||i?v:String(En(m,o,null)),N=En(m,u.dataKey,0),A;l.has(b)?A=l.get(b):A={},Object.assign(A,{[p]:N}),l.set(b,A)})}}),Array.from(l.values())}function nb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ip=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ap(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function U9(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var en=e=>{var t=bt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ml=e=>e.tooltip.settings.axisId;function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(r){B9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B9(e,t,n){return(t=z9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gv=[0,"auto"],sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Wj=(e,t)=>e.cartesianAxis.xAxis[t],ca=(e,t)=>{var n=Wj(e,t);return n??sn},ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:gv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:uc},Qj=(e,t)=>e.cartesianAxis.yAxis[t],da=(e,t)=>{var n=Qj(e,t);return n??ln},H9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??H9},qn=(e,t,n)=>{switch(t){case"xAxis":return ca(e,n);case"yAxis":return da(e,n);case"zAxis":return rb(e,n);case"angleAxis":return Qx(e,n);case"radiusAxis":return Zx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},F9=(e,t,n)=>{switch(t){case"xAxis":return ca(e,n);case"yAxis":return da(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gc=(e,t,n)=>{switch(t){case"xAxis":return ca(e,n);case"yAxis":return da(e,n);case"angleAxis":return Qx(e,n);case"radiusAxis":return Zx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Zj=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function eI(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tI=e=>e.graphicalItems.cartesianItems,G9=le([Zt,rp],eI),nI=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),yc=le([tI,qn,G9],nI,{memoizeOptions:{resultEqualityCheck:ap}}),rI=le([yc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(nb)),iI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),V9=le([yc],iI),aI=e=>e.map(t=>t.data).filter(Boolean).flat(1),$9=le([yc],aI,{memoizeOptions:{resultEqualityCheck:ap}}),oI=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},ib=le([$9,_j],oI),sI=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:En(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:En(i,r)}))):e.map(r=>({value:r})),op=le([ib,qn,yc],sI);function lI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gf(e){if(vi(e)||e instanceof Date){var t=Number(e);if(Pt(t))return t}}function yT(e){if(Array.isArray(e)){var t=[gf(e[0]),gf(e[1])];return Qa(t)?t:void 0}var n=gf(e);if(n!=null)return[n,n]}function ta(e){return e.map(gf).filter(lU)}function Y9(e,t,n){return!n||typeof t!="number"||ni(t)?[]:n.length?ta(n.flatMap(r=>{var i=En(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Pt(o)||!Pt(l)))return[t-o,t+l]})):[]}var tn=e=>{var t=en(e),n=ml(e);return gc(e,t,n)},vc=le([tn],e=>e==null?void 0:e.dataKey),K9=le([rI,_j,tn],Xj),uI=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var h=l[u.stackId];return h==null&&(h=[]),h.push(u),l[u.stackId]=h,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,h]=l,f=r?[...h].reverse():h,p=f.map(tb);return[u,{stackedData:yz(e,p,n),graphicalItems:f}]}))},cI=le([K9,rI,ep,Fj],uI),dI=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=wz(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},J9=le([qn],e=>e.allowDataOverflow),ab=e=>{var t;if(e==null||!("domain"in e))return gv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ta(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:gv},fI=le([qn],ab),hI=le([fI,J9],kj),X9=le([cI,ua,Zt,hI],dI,{memoizeOptions:{resultEqualityCheck:ip}}),ob=e=>e.errorBars,W9=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>lI(n,r)),ih=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},pI=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(h=>{var f,p,m=(f=r[h.id])===null||f===void 0?void 0:f.filter(T=>lI(i,T)),v=En(u,(p=t.dataKey)!==null&&p!==void 0?p:h.dataKey),b=Y9(u,v,m);if(b.length>=2){var N=Math.min(...b),A=Math.max(...b);(o==null||N<o)&&(o=N),(l==null||A>l)&&(l=A)}var E=yT(v);E!=null&&(o=o==null?E[0]:Math.min(o,E[0]),l=l==null?E[1]:Math.max(l,E[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var h=yT(En(u,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),l=l==null?h[1]:Math.max(l,h[1]))}),Pt(o)&&Pt(l))return[o,l]},Q9=le([ib,qn,V9,ob,Zt],pI,{memoizeOptions:{resultEqualityCheck:ip}});function Z9(e){var{value:t}=e;if(vi(t)||t instanceof Date)return t}var eG=(e,t,n)=>{var r=e.map(Z9).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&TP(r))?$M(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},mI=e=>e.referenceElements.dots,gl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),tG=le([mI,Zt,rp],gl),gI=e=>e.referenceElements.areas,nG=le([gI,Zt,rp],gl),yI=e=>e.referenceElements.lines,rG=le([yI,Zt,rp],gl),vI=(e,t)=>{if(e!=null){var n=ta(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},iG=le(tG,Zt,vI),xI=(e,t)=>{if(e!=null){var n=ta(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},aG=le([nG,Zt],xI);function oG(e){var t;if(e.x!=null)return ta([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ta(n)}function sG(e){var t;if(e.y!=null)return ta([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ta(n)}var bI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?oG(r):sG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},lG=le([rG,Zt],bI),uG=le(iG,lG,aG,(e,t,n)=>ih(e,n,t)),wI=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var h=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=h?ih(r,o,i):ih(o,i);return b9(t,f,e.allowDataOverflow)},cG=le([qn,fI,hI,X9,Q9,uG,bt,Zt],wI,{memoizeOptions:{resultEqualityCheck:ip}}),dG=[0,1],SI=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:h}=e,f=aa(t,o);if(f&&u==null){var p;return $M(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return h==="category"?eG(r,e,f):i==="expand"?dG:l}},sb=le([qn,bt,ib,op,ep,Zt,cG],SI),NI=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(ux(o));return u in Iu?u:"point"}}},xc=le([qn,bt,Zj,Jx,Zt],NI);function fG(e){if(e!=null){if(e in Iu)return Iu[e]();var t="scale".concat(ux(e));if(t in Iu)return Iu[t]()}}function lb(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=fG(t);if(i!=null){var o=i.domain(n).range(r);return hz(o),o}}}var EI=(e,t,n)=>{var r=ab(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qa(e))return k9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qa(e))return P9(e,t.tickCount,t.allowDecimals)}},ub=le([sb,gc,xc],EI),AI=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Qa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},hG=le([qn,sb,ub,Zt],AI),pG=le(op,qn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ta(e.map(m=>m.value))).sort((m,v)=>m-v),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var h=r[u],f=r[u+1];if(!(h==null||f==null)){var p=f-h;n=Math.min(n,p)}}return n/l}}),CI=le(pG,bt,M9,An,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Pt(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Wa(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),mG=(e,t,n)=>{var r=ca(e,t);return r==null||typeof r.padding!="string"?0:CI(e,"xAxis",t,n,r.padding)},gG=(e,t,n)=>{var r=da(e,t);return r==null||typeof r.padding!="string"?0:CI(e,"yAxis",t,n,r.padding)},yG=le(ca,mG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),vG=le(da,gG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),xG=le([An,yG,Hh,qh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bG=le([An,bt,vG,Hh,qh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return xG(e,n,r);case"yAxis":return bG(e,n,r);case"zAxis":return(i=rb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Yj(e);case"radiusAxis":return Kj(e,n);default:return}},TI=le([qn,bc],tp),sp=le([qn,xc,hG,TI],lb);le([yc,ob,Zt],W9);function _I(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lp=(e,t)=>t,up=(e,t,n)=>n,wG=le(Bh,lp,up,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(_I)),SG=le(zh,lp,up,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(_I)),kI=(e,t)=>({width:e.width,height:t.height}),NG=(e,t)=>{var n=typeof t.width=="number"?t.width:uc;return{width:n,height:e.height}},EG=le(An,ca,kI),AG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},CG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},TG=le(sa,An,wG,lp,up,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var h=kI(t,u);l==null&&(l=AG(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*h.height,l+=(f?-1:1)*h.height}),o}),_G=le(oa,An,SG,lp,up,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var h=NG(t,u);l==null&&(l=CG(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*h.width,l+=(f?-1:1)*h.width}),o}),kG=(e,t)=>{var n=ca(e,t);if(n!=null)return TG(e,n.orientation,n.mirror)},PG=le([An,ca,kG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),MG=(e,t)=>{var n=da(e,t);if(n!=null)return _G(e,n.orientation,n.mirror)},jG=le([An,da,MG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),IG=le(An,da,(e,t)=>{var n=typeof t.width=="number"?t.width:uc;return{width:n,height:e.height}}),PI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=aa(e,r),h=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&TP(h))return h}},cb=le([bt,op,qn,Zt],PI),MI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=aa(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},db=le([bt,op,gc,Zt],MI),vT=le([bt,F9,xc,sp,cb,db,bc,ub,Zt],(e,t,n,r,i,o,l,u,h)=>{if(t!=null){var f=aa(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),RG=(e,t,n,r,i,o,l,u,h)=>{if(!(t==null||r==null)){var f=aa(e,h),{type:p,ticks:m,tickCount:v}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=p==="category"&&r.bandwidth?r.bandwidth()/b:0;N=h==="angleAxis"&&o!=null&&o.length>=2?Pr(o[0]-o[1])*2*N:N;var A=m||i;if(A){var E=A.map((T,P)=>{var M=l?l.indexOf(T):T;return{index:P,coordinate:r(M)+N,value:T,offset:N}});return E.filter(T=>Pt(T.coordinate))}return f&&u?u.map((T,P)=>({coordinate:r(T)+N,value:T,index:P,offset:N})).filter(T=>Pt(T.coordinate)):r.ticks?r.ticks(v).map(T=>({coordinate:r(T)+N,value:T,offset:N})):r.domain().map((T,P)=>({coordinate:r(T)+N,value:l?l[T]:T,index:P,offset:N}))}},jI=le([bt,gc,xc,sp,ub,bc,cb,db,Zt],RG),DG=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=aa(e,l),{tickCount:h}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Pr(r[0]-r[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},II=le([bt,gc,sp,bc,cb,db,Zt],DG),RI=le(qn,sp,(e,t)=>{if(!(e==null||t==null))return rh(rh({},e),{},{scale:t})}),OG=le([qn,xc,sb,TI],lb);le((e,t,n)=>rb(e,n),OG,(e,t)=>{if(!(e==null||t==null))return rh(rh({},e),{},{scale:t})});var LG=le([bt,Bh,zh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DI=e=>e.options.defaultTooltipEventType,OI=e=>e.options.validateTooltipEventTypes;function LI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function fb(e,t){var n=DI(e),r=OI(e);return LI(t,n,r)}function UG(e){return Re(t=>fb(t,e))}var UI=(e,t)=>{var n,r=Number(t);if(!(ni(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},BG=e=>e.tooltip.settings,$a={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},zG={itemInteraction:{click:$a,hover:$a},axisInteraction:{click:$a,hover:$a},keyboardInteraction:$a,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BI=Qn({name:"tooltip",initialState:zG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_t()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Wr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:_t()},removeTooltipEntrySettings:{reducer(e,t){var n=Wr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:_t()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:qG,replaceTooltipEntrySettings:HG,removeTooltipEntrySettings:FG,setTooltipSettingsState:GG,setActiveMouseOverItemIndex:VG,mouseLeaveItem:tue,mouseLeaveChart:zI,setActiveClickItemIndex:nue,setMouseOverAxisIndex:qI,setMouseClickAxisIndex:$G,setSyncInteraction:yv,setKeyboardInteraction:vv}=BI.actions,YG=BI.reducer;function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){KG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KG(e,t,n){return(t=JG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JG(e){var t=XG(e,"string");return typeof t=="symbol"?t:t+""}function XG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function QG(e){return e.index!=null}var HI=(e,t,n,r)=>{if(t==null)return $a;var i=WG(e,t,n);if(i==null)return $a;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(QG(i)){if(o)return Qd(Qd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Qd(Qd({},$a),{},{coordinate:i.coordinate})};function ZG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function eV(e,t){var n=ZG(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function tV(e,t,n){if(n==null||t==null)return!0;var r=En(e,t);return r==null||!Qa(n)?!0:eV(r,n)}var hb=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!Pt(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var h=Math.max(l,Math.min(o,u)),f=t[h];return f==null||tV(f,n,r)?String(h):null},FI=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var h=l[0],f=h==null?void 0:u(h.positions,o);if(f!=null)return f;var p=i==null?void 0:i[Number(o)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},GI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},wc=e=>e.options.tooltipPayloadSearcher,yl=e=>e.tooltip;function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){nV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nV(e,t,n){return(t=rV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rV(e){var t=iV(e,"string");return typeof t=="symbol"?t:t+""}function iV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aV(e,t){return e??t}var VI=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:h,dataStartIndex:f,dataEndIndex:p}=n,m=[];return e.reduce((v,b)=>{var N,{dataDefinedOnItem:A,settings:E}=b,T=aV(A,u),P=Array.isArray(T)?vM(T,f,p):T,M=(N=E==null?void 0:E.dataKey)!==null&&N!==void 0?N:r,k=E==null?void 0:E.nameKey,R;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?R=_P(P,r,i):R=o(P,t,h,k),Array.isArray(R))R.forEach(j=>{var G=wT(wT({},E),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});v.push(TA({tooltipEntrySettings:G,dataKey:j.dataKey,payload:j.payload,value:En(j.payload,j.dataKey),name:j.name}))});else{var I;v.push(TA({tooltipEntrySettings:E,dataKey:M,payload:R,value:En(R,M),name:(I=En(R,k))!==null&&I!==void 0?I:E==null?void 0:E.name}))}return v},m)}},pb=le([tn,bt,Zj,Jx,en],NI),oV=le([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sV=le([en,ml],eI),vl=le([oV,tn,sV],nI,{memoizeOptions:{resultEqualityCheck:ap}}),lV=le([vl],e=>e.filter(nb)),uV=le([vl],aI,{memoizeOptions:{resultEqualityCheck:ap}}),xl=le([uV,ua],oI),cV=le([lV,ua,tn],Xj),mb=le([xl,tn,vl],sI),$I=le([tn],ab),dV=le([tn],e=>e.allowDataOverflow),YI=le([$I,dV],kj),fV=le([vl],e=>e.filter(nb)),hV=le([cV,fV,ep,Fj],uI),pV=le([hV,ua,en,YI],dI),mV=le([vl],iI),gV=le([xl,tn,mV,ob,en],pI,{memoizeOptions:{resultEqualityCheck:ip}}),yV=le([mI,en,ml],gl),vV=le([yV,en],vI),xV=le([gI,en,ml],gl),bV=le([xV,en],xI),wV=le([yI,en,ml],gl),SV=le([wV,en],bI),NV=le([vV,SV,bV],ih),EV=le([tn,$I,YI,pV,gV,NV,bt,en],wI),Sc=le([tn,bt,xl,mb,ep,en,EV],SI),AV=le([Sc,tn,pb],EI),CV=le([tn,Sc,AV,en],AI),KI=e=>{var t=en(e),n=ml(e),r=!1;return bc(e,t,n,r)},JI=le([tn,KI],tp),XI=le([tn,pb,CV,JI],lb),TV=le([bt,mb,tn,en],PI),_V=le([bt,mb,tn,en],MI),kV=(e,t,n,r,i,o,l,u)=>{if(t){var{type:h}=t,f=aa(e,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=h==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pr(i[0]-i[1])*2*m:m,f&&l?l.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:o?o[v]:v,index:b,offset:m}))}}},fa=le([bt,tn,pb,XI,KI,TV,_V,en],kV),gb=le([DI,OI,BG],(e,t,n)=>LI(n.shared,e,t)),WI=e=>e.tooltip.settings.trigger,yb=e=>e.tooltip.settings.defaultIndex,Nc=le([yl,gb,WI,yb],HI),ec=le([Nc,xl,vc,Sc],hb),QI=le([fa,ec],UI),PV=le([Nc],e=>{if(e)return e.dataKey});le([Nc],e=>{if(e)return e.graphicalItemId});var ZI=le([yl,gb,WI,yb],GI),MV=le([oa,sa,bt,An,fa,yb,ZI,wc],FI),jV=le([Nc,MV],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),IV=le([Nc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),RV=le([ZI,ec,ua,vc,QI,wc,gb],VI),DV=le([RV],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){OV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OV(e,t,n){return(t=LV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BV=()=>Re(tn),zV=()=>{var e=BV(),t=Re(fa),n=Re(XI);return Lf(!e||!n?void 0:NT(NT({},e),{},{scale:n}),t)};function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GV=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},VV=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return Os(Os(Os({},r),Sn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:h}=r;return Os(Os(Os({},r),Sn(r.cx,r.cy,u,h)),{},{angle:h,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function $V(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var eR=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var h,f,p,m,v,b=u>0?(h=n[u-1])===null||h===void 0?void 0:h.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,N=(p=n[u])===null||p===void 0?void 0:p.coordinate,A=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,E=void 0;if(!(b==null||N==null||A==null))if(Pr(N-b)!==Pr(A-N)){var T=[];if(Pr(A-N)===Pr(i[1]-i[0])){E=A;var P=N+i[1]-i[0];T[0]=Math.min(P,(P+b)/2),T[1]=Math.max(P,(P+b)/2)}else{E=b;var M=A+i[1]-i[0];T[0]=Math.min(N,(M+N)/2),T[1]=Math.max(N,(M+N)/2)}var k=[Math.min(N,(E+N)/2),Math.max(N,(E+N)/2)];if(e>k[0]&&e<=k[1]||e>=T[0]&&e<=T[1]){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}else{var I=Math.min(b,A),j=Math.max(b,A);if(e>(I+N)/2&&e<=(j+N)/2){var G;return(G=n[u])===null||G===void 0?void 0:G.index}}}else if(t)for(var U=0;U<l;U++){var D=t[U];if(D!=null){var O=t[U+1],$=t[U-1];if(U===0&&O!=null&&e<=(D.coordinate+O.coordinate)/2||U===l-1&&$!=null&&e>(D.coordinate+$.coordinate)/2||U>0&&U<l-1&&$!=null&&O!=null&&e>(D.coordinate+$.coordinate)/2&&e<=(D.coordinate+O.coordinate)/2)return D.index}}return-1},tR=()=>Re(Jx),vb=(e,t)=>t,nR=(e,t,n)=>n,xb=(e,t,n,r)=>r,YV=le(fa,e=>Ph(e,t=>t.coordinate)),bb=le([yl,vb,nR,xb],HI),wb=le([bb,xl,vc,Sc],hb),KV=(e,t,n)=>{if(t!=null){var r=yl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},rR=le([yl,vb,nR,xb],GI),ah=le([oa,sa,bt,An,fa,xb,rR,wc],FI),JV=le([bb,ah],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),iR=le([fa,wb],UI),XV=le([rR,wb,ua,vc,iR,wc,vb],VI),WV=le([bb,wb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),QV=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&$V(e,l)){var u=Sz(e,t),h=eR(u,o,i,n,r),f=GV(t,i,h,e);return{activeIndex:String(h),activeCoordinate:f}}},ZV=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=R8(e,n);if(u){var h=Nz(u,t),f=eR(h,l,o,r,i),p=VV(t,o,f,u);return{activeIndex:String(f),activeCoordinate:p}}}},e$=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?QV(e,t,r,i,o,l,u):ZV(e,t,n,r,i,o,l)},t$=le(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),n$=le(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ln)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:U9}});function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){r$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r$(e,t,n){return(t=i$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i$(e){var t=a$(e,"string");return typeof t=="symbol"?t:t+""}function a$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o$={},s$={zIndexMap:Object.values(Ln).reduce((e,t)=>CT(CT({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),o$)},l$=new Set(Object.values(Ln));function u$(e){return l$.has(e)}var aR=Qn({name:"zIndex",initialState:s$,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_t()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!u$(n)&&delete e.zIndexMap[n])},prepare:_t()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:_t()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:_t()}}}),{registerZIndexPortal:c$,unregisterZIndexPortal:d$,registerZIndexPortalElement:f$,unregisterZIndexPortalElement:h$}=aR.actions,p$=aR.reducer;function ha(e){var{zIndex:t,children:n}=e,r=rq(),i=r&&t!==void 0&&t!==0,o=Zn(),l=cn();C.useLayoutEffect(()=>i?(l(c$({zIndex:t})),()=>{l(d$({zIndex:t}))}):ac,[l,t,i]);var u=Re(h=>t$(h,t,o));return i?u?dP.createPortal(n,u):null:n}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(null,arguments)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){m$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m$(e,t,n){return(t=g$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g$(e){var t=y$(e,"string");return typeof t=="symbol"?t:t+""}function y$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v$(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function x$(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:h,tooltipEventType:f,chartName:p}=e,m=n,v=r,b=i;if(!h||!m||p!=="ScatterChart"&&f!=="axis")return null;var N,A,E;if(p==="ScatterChart")N=m,A=Vq,E=Ln.cursorLine;else if(p==="BarChart")N=$q(u,m,o,l),A=E8,E=Ln.cursorRectangle;else if(u==="radial"&&kP(m)){var{cx:T,cy:P,radius:M,startAngle:k,endAngle:R}=GM(m);N={cx:T,cy:P,startAngle:k,endAngle:R,innerRadius:M,outerRadius:M},A=U8,E=Ln.cursorLine}else N={points:B8(u,m,o)},A=mf,E=Ln.cursorLine;var I=typeof h=="object"&&"className"in h?h.className:void 0,j=Zd(Zd(Zd(Zd({stroke:"#ccc",pointerEvents:"none"},o),N),Ch(h)),{},{payload:v,payloadIndex:b,className:At("recharts-tooltip-cursor",I)});return C.createElement(ha,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},C.createElement(v$,{cursor:h,cursorComp:A,cursorProps:j}))}function b$(e){var t=zV(),n=_M(),r=dl(),i=tR();return t==null||n==null||r==null||i==null?null:C.createElement(x$,xv({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var oR=C.createContext(null),w$=()=>C.useContext(oR),ey={exports:{}},_T;function S$(){return _T||(_T=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function o(h,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,m||h,v),N=n?n+f:f;return h._events[N]?h._events[N].fn?h._events[N]=[h._events[N],b]:h._events[N].push(b):(h._events[N]=b,h._eventsCount++),h}function l(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,N=new Array(b);v<b;v++)N[v]=m[v].fn;return N},u.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,v,b,N){var A=n?n+f:f;if(!this._events[A])return!1;var E=this._events[A],T=arguments.length,P,M;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,p),!0;case 3:return E.fn.call(E.context,p,m),!0;case 4:return E.fn.call(E.context,p,m,v),!0;case 5:return E.fn.call(E.context,p,m,v,b),!0;case 6:return E.fn.call(E.context,p,m,v,b,N),!0}for(M=1,P=new Array(T-1);M<T;M++)P[M-1]=arguments[M];E.fn.apply(E.context,P)}else{var k=E.length,R;for(M=0;M<k;M++)switch(E[M].once&&this.removeListener(f,E[M].fn,void 0,!0),T){case 1:E[M].fn.call(E[M].context);break;case 2:E[M].fn.call(E[M].context,p);break;case 3:E[M].fn.call(E[M].context,p,m);break;case 4:E[M].fn.call(E[M].context,p,m,v);break;default:if(!P)for(R=1,P=new Array(T-1);R<T;R++)P[R-1]=arguments[R];E[M].fn.apply(E[M].context,P)}}return!0},u.prototype.on=function(f,p,m){return o(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return o(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,v){var b=n?n+f:f;if(!this._events[b])return this;if(!p)return l(this,b),this;var N=this._events[b];if(N.fn)N.fn===p&&(!v||N.once)&&(!m||N.context===m)&&l(this,b);else{for(var A=0,E=[],T=N.length;A<T;A++)(N[A].fn!==p||v&&!N[A].once||m&&N[A].context!==m)&&E.push(N[A]);E.length?this._events[b]=E.length===1?E[0]:E:l(this,b)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(ey)),ey.exports}var N$=S$();const E$=ii(N$);var tc=new E$,bv="recharts.syncEvent.tooltip",kT="recharts.syncEvent.brush";function A$(e,t){if(t){var n=Number.parseInt(t,10);if(!ni(n))return e==null?void 0:e[n]}}var C$={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sR=Qn({name:"options",initialState:C$,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),T$=sR.reducer,{createEventEmitter:_$}=sR.actions;function k$(e){return e.tooltip.syncInteraction}var P$={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lR=Qn({name:"chartData",initialState:P$,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:PT,setDataStartEndIndexes:M$,setComputedData:rue}=lR.actions,j$=lR.reducer,I$=["x","y"];function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(r){R$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R$(e,t,n){return(t=D$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$(e){var t=O$(e,"string");return typeof t=="symbol"?t:t+""}function O$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L$(e,t){if(e==null)return{};var n,r,i=U$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function B$(){var e=Re(Xx),t=Re(Wx),n=cn(),r=Re(Gj),i=Re(fa),o=dl(),l=Fh(),u=Re(h=>h.rootProps.className);C.useEffect(()=>{if(e==null)return ac;var h=(f,p,m)=>{if(t!==m&&e===f){if(r==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:N,y:A}=b,E=L$(b,I$),{x:T,y:P,width:M,height:k}=p.payload.sourceViewBox,R=Ls(Ls({},E),{},{x:l.x+(M?(N-T)/M:0)*l.width,y:l.y+(k?(A-P)/k:0)*l.height});n(Ls(Ls({},p),{},{payload:Ls(Ls({},p.payload),{},{coordinate:R})}))}else n(p);return}if(i!=null){var I;if(typeof r=="function"){var j={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},G=r(i,j);I=i[G]}else r==="value"&&(I=i.find(B=>String(B.value)===p.payload.label));var{coordinate:U}=p.payload;if(I==null||p.payload.active===!1||U==null||l==null){n(yv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:O}=U,$=Math.min(D,l.x+l.width),F=Math.min(O,l.y+l.height),V={x:o==="horizontal"?I.coordinate:$,y:o==="horizontal"?F:I.coordinate},z=yv({active:p.payload.active,coordinate:V,dataKey:p.payload.dataKey,index:String(I.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(z)}}};return tc.on(bv,h),()=>{tc.off(bv,h)}},[u,n,t,e,r,i,o,l])}function z$(){var e=Re(Xx),t=Re(Wx),n=cn();C.useEffect(()=>{if(e==null)return ac;var r=(i,o,l)=>{t!==l&&e===i&&n(M$(o))};return tc.on(kT,r),()=>{tc.off(kT,r)}},[n,t,e])}function q$(){var e=cn();C.useEffect(()=>{e(_$())},[e]),B$(),z$()}function H$(e,t,n,r,i,o){var l=Re(b=>KV(b,e,t)),u=Re(Wx),h=Re(Xx),f=Re(Gj),p=Re(k$),m=p==null?void 0:p.active,v=Fh();C.useEffect(()=>{if(!m&&h!=null&&u!=null){var b=yv({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});tc.emit(bv,h,b,u)}},[m,n,l,i,r,u,h,f,o,v])}function jT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(n),!0).forEach(function(r){F$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F$(e,t,n){return(t=G$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G$(e){var t=V$(e,"string");return typeof t=="symbol"?t:t+""}function V$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $$(e){return e.dataKey}function Y$(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(Eq,t)}var RT=[],K$={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function J$(e){var t,n,r=yr(e,K$),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:h,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:v,position:b,reverseDirection:N,useTranslate3d:A,wrapperStyle:E,cursor:T,shared:P,trigger:M,defaultIndex:k,portal:R,axisId:I}=r,j=cn(),G=typeof k=="number"?String(k):k;C.useEffect(()=>{j(GG({shared:P,trigger:M,axisId:I,active:i,defaultIndex:G}))},[j,P,M,I,i,G]);var U=Fh(),D=UM(),O=UG(P),{activeIndex:$,isActive:F}=(t=Re(we=>WV(we,O,M,G)))!==null&&t!==void 0?t:{},V=Re(we=>XV(we,O,M,G)),z=Re(we=>iR(we,O,M,G)),B=Re(we=>JV(we,O,M,G)),K=V,ie=w$(),Z=(n=i??F)!==null&&n!==void 0?n:!1,[q,Y]=lB([K,Z]),X=O==="axis"?z:void 0;H$(O,M,B,X,$,Z);var H=R??ie;if(H==null||U==null||O==null)return null;var me=K??RT;Z||(me=RT),f&&me.length&&(me=RU(me.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),v,$$));var Ne=me.length>0,ue=C.createElement(Mq,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:Z,coordinate:B,hasPayload:Ne,offset:m,position:b,reverseDirection:N,useTranslate3d:A,viewBox:U,wrapperStyle:E,lastBoundingBox:q,innerRef:Y,hasPortalFromProps:!!R},Y$(h,IT(IT({},r),{},{payload:me,label:X,active:Z,activeIndex:$,coordinate:B,accessibilityLayer:D})));return C.createElement(C.Fragment,null,dP.createPortal(ue,H),Z&&C.createElement(b$,{cursor:T,tooltipEventType:O,coordinate:B,payload:me,index:$}))}function X$(e,t,n){return(t=W$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Z${constructor(t){X$(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){t7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t7(e,t,n){return(t=n7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i7={cacheSize:2e3,enableCache:!0},uR=e7({},i7),OT=new Z$(uR.cacheSize),a7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LT="recharts_measurement_span";function o7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var UT=(e,t)=>{try{var n=document.getElementById(LT);n||(n=document.createElement("span"),n.setAttribute("id",LT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,a7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Du=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dc.isSsr)return{width:0,height:0};if(!uR.enableCache)return UT(t,n);var r=o7(t,n),i=OT.get(r);if(i)return i;var o=UT(t,n);return OT.set(r,o),o},cR;function s7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h7=["cm","mm","pt","pc","in","Q","px"];function p7(e){return h7.includes(e)}var Fs="NaN";function m7(e,t){return e*f7[t]}class wn{static parse(t){var n,[,r,i]=(n=d7.exec(t))!==null&&n!==void 0?n:[];return r==null?wn.NaN:new wn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ni(t)&&(this.unit=""),n!==""&&!c7.test(n)&&(this.num=NaN,this.unit=""),p7(n)&&(this.num=m7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wn(NaN,""):new wn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wn(NaN,""):new wn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wn(NaN,""):new wn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wn(NaN,""):new wn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ni(this.num)}}cR=wn;s7(wn,"NaN",new cR(NaN,""));function dR(e){if(e==null||e.includes(Fs))return Fs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=BT.exec(t))!==null&&n!==void 0?n:[],l=wn.parse(r??""),u=wn.parse(o??""),h=i==="*"?l.multiply(u):l.divide(u);if(h.isNaN())return Fs;t=t.replace(BT,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,m,v]=(f=zT.exec(t))!==null&&f!==void 0?f:[],b=wn.parse(p??""),N=wn.parse(v??""),A=m==="+"?b.add(N):b.subtract(N);if(A.isNaN())return Fs;t=t.replace(zT,A.toString())}return t}var qT=/\(([^()]*)\)/;function g7(e){for(var t=e,n;(n=qT.exec(t))!=null;){var[,r]=n;t=t.replace(qT,dR(r))}return t}function y7(e){var t=e.replace(/\s+/g,"");return t=g7(t),t=dR(t),t}function v7(e){try{return y7(e)}catch{return Fs}}function ty(e){var t=v7(e.slice(5,-1));return t===Fs?"":t}var x7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],b7=["dx","dy","angle","className","breakAll"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}function HT(e,t){if(e==null)return{};var n,r,i=w7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fR=/[ \f\n\r\t\v\u2028\u2029]+/,hR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Nn(t)||(n?i=t.toString().split(""):i=t.toString().split(fR));var o=i.map(u=>({word:u,width:Du(u,r).width})),l=n?0:Du("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function S7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var pR=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,h=i[i.length-1];if(h&&u!=null&&(t==null||r||h.width+u+n<Number(t)))h.words.push(l),h.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),mR=e=>e.reduce((t,n)=>t.width>n.width?t:n),N7="",FT=(e,t,n,r,i,o,l,u)=>{var h=e.slice(0,t),f=hR({breakAll:n,style:r,children:h+N7});if(!f)return[!1,[]];var p=pR(f.wordsWithComputedWidth,o,l,u),m=p.length>i||mR(p).width>Number(o);return[m,p]},E7=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:h}=e,f=Me(o),p=String(l),m=pR(t,r,n,i);if(!f||i)return m;var v=m.length>o||mR(m).width>Number(r);if(!v)return m;for(var b=0,N=p.length-1,A=0,E;b<=N&&A<=p.length-1;){var T=Math.floor((b+N)/2),P=T-1,[M,k]=FT(p,P,h,u,o,r,n,i),[R]=FT(p,T,h,u,o,r,n,i);if(!M&&!R&&(b=T+1),M&&R&&(N=T-1),!M&&R){E=k;break}A++}return E||m},GT=e=>{var t=Nn(e)?[]:e.toString().split(fR);return[{words:t,width:void 0}]},A7=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!dc.isSsr){var u,h,f=hR({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;u=p,h=m}else return GT(r);return E7({breakAll:o,children:r,maxLines:l,style:i},u,h,t,!!n)}return GT(r)},gR="#808080",C7={angle:0,breakAll:!1,capHeight:"0.71em",fill:gR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Sb=C.forwardRef((e,t)=>{var n=yr(e,C7),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:h,textAnchor:f,verticalAnchor:p}=n,m=HT(n,x7),v=C.useMemo(()=>A7({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:h,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,h,m.style,m.width]),{dx:b,dy:N,angle:A,className:E,breakAll:T}=m,P=HT(m,b7);if(!vi(r)||!vi(i)||v.length===0)return null;var M=Number(r)+(Me(b)?b:0),k=Number(i)+(Me(N)?N:0);if(!Pt(M)||!Pt(k))return null;var R;switch(p){case"start":R=ty("calc(".concat(l,")"));break;case"middle":R=ty("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:R=ty("calc(".concat(v.length-1," * -").concat(o,")"));break}var I=[];if(h){var j=v[0].width,{width:G}=m;I.push("scale(".concat(Me(G)&&Me(j)?G/j:1,")"))}return A&&I.push("rotate(".concat(A,", ").concat(M,", ").concat(k,")")),I.length&&(P.transform=I.join(" ")),C.createElement("text",wv({},Rr(P),{ref:t,x:M,y:k,className:At("recharts-text",E),textAnchor:f,fill:u.includes("url")?gR:u}),v.map((U,D)=>{var O=U.words.join(T?"":" ");return C.createElement("tspan",{x:M,dy:D===0?R:o,key:"".concat(O,"-").concat(D)},O)}))});Sb.displayName="Text";var T7=["labelRef"],_7=["content"];function VT(e,t){if(e==null)return{};var n,r,i=k7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){P7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P7(e,t,n){return(t=M7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(null,arguments)}var yR=C.createContext(null),I7=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,h=C.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return C.createElement(yR.Provider,{value:h},u)},vR=()=>{var e=C.useContext(yR),t=Fh();return e||TM(t)},R7=C.createContext(null),D7=()=>{var e=C.useContext(R7),t=Re(Jj);return e||t},O7=e=>{var{value:t,formatter:n}=e,r=Nn(e.children)?t:e.children;return typeof n=="function"?n(r):r},Nb=e=>e!=null&&typeof e=="function",L7=(e,t)=>{var n=Pr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},U7=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:h,innerRadius:f,outerRadius:p,startAngle:m,endAngle:v,clockWise:b}=i,N=(f+p)/2,A=L7(m,v),E=A>=0?1:-1,T,P;switch(t){case"insideStart":T=m+E*o,P=b;break;case"insideEnd":T=v-E*o,P=!b;break;case"end":T=v+E*o,P=b;break;default:throw new Error("Unsupported position ".concat(t))}P=A<=0?P:!P;var M=Sn(u,h,N,T),k=Sn(u,h,N,T+(P?1:-1)*359),R="M".concat(M.x,",").concat(M.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(P?0:1,`,
    `).concat(k.x,",").concat(k.y),I=Nn(e.id)?qu("recharts-radial-line-"):e.id;return C.createElement("text",Vi({},r,{dominantBaseline:"central",className:At("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:I,d:R})),C.createElement("textPath",{xlinkHref:"#".concat(I)},n))},B7=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:h}=e,f=(u+h)/2;if(n==="outside"){var{x:p,y:m}=Sn(r,i,l+t,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:b,y:N}=Sn(r,i,v,f);return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Sv=e=>"cx"in e&&Me(e.cx),z7=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!Sv(n)&&(o=n);var{x:l,y:u,upperWidth:h,lowerWidth:f,height:p}=t,m=l,v=l+(h-f)/2,b=(m+v)/2,N=(h+f)/2,A=m+h/2,E=p>=0?1:-1,T=E*r,P=E>0?"end":"start",M=E>0?"start":"end",k=h>=0?1:-1,R=k*r,I=k>0?"end":"start",j=k>0?"start":"end";if(i==="top"){var G={x:m+h/2,y:u-T,textAnchor:"middle",verticalAnchor:P};return Ut(Ut({},G),o?{height:Math.max(u-o.y,0),width:h}:{})}if(i==="bottom"){var U={x:v+f/2,y:u+p+T,textAnchor:"middle",verticalAnchor:M};return Ut(Ut({},U),o?{height:Math.max(o.y+o.height-(u+p),0),width:f}:{})}if(i==="left"){var D={x:b-R,y:u+p/2,textAnchor:I,verticalAnchor:"middle"};return Ut(Ut({},D),o?{width:Math.max(D.x-o.x,0),height:p}:{})}if(i==="right"){var O={x:b+N+R,y:u+p/2,textAnchor:j,verticalAnchor:"middle"};return Ut(Ut({},O),o?{width:Math.max(o.x+o.width-O.x,0),height:p}:{})}var $=o?{width:N,height:p}:{};return i==="insideLeft"?Ut({x:b+R,y:u+p/2,textAnchor:j,verticalAnchor:"middle"},$):i==="insideRight"?Ut({x:b+N-R,y:u+p/2,textAnchor:I,verticalAnchor:"middle"},$):i==="insideTop"?Ut({x:m+h/2,y:u+T,textAnchor:"middle",verticalAnchor:M},$):i==="insideBottom"?Ut({x:v+f/2,y:u+p-T,textAnchor:"middle",verticalAnchor:P},$):i==="insideTopLeft"?Ut({x:m+R,y:u+T,textAnchor:j,verticalAnchor:M},$):i==="insideTopRight"?Ut({x:m+h-R,y:u+T,textAnchor:I,verticalAnchor:M},$):i==="insideBottomLeft"?Ut({x:v+R,y:u+p-T,textAnchor:j,verticalAnchor:P},$):i==="insideBottomRight"?Ut({x:v+f-R,y:u+p-T,textAnchor:I,verticalAnchor:P},$):i&&typeof i=="object"&&(Me(i.x)||Xi(i.x))&&(Me(i.y)||Xi(i.y))?Ut({x:l+Wa(i.x,N),y:u+Wa(i.y,p),textAnchor:"end",verticalAnchor:"end"},$):Ut({x:A,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},$)},q7={angle:0,offset:5,zIndex:Ln.label,position:"middle",textBreakAll:!1};function Va(e){var t=yr(e,q7),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:h,labelRef:f}=t,p=D7(),m=vR(),v=r==="center"?m:p??m,b,N,A;if(n==null?b=v:Sv(n)?b=n:b=TM(n),!b||Nn(i)&&Nn(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var E=Ut(Ut({},t),{},{viewBox:b});if(C.isValidElement(l)){var{labelRef:T}=E,P=VT(E,T7);return C.cloneElement(l,P)}if(typeof l=="function"){var{content:M}=E,k=VT(E,_7);if(N=C.createElement(l,k),C.isValidElement(N))return N}else N=O7(t);var R=Rr(t);if(Sv(b)){if(r==="insideStart"||r==="insideEnd"||r==="end")return U7(t,r,N,R,b);A=B7(b,t.offset,t.position)}else A=z7(t,b);return C.createElement(ha,{zIndex:t.zIndex},C.createElement(Sb,Vi({ref:f,className:At("recharts-label",u)},R,A,{textAnchor:S7(R.textAnchor)?R.textAnchor:A.textAnchor,breakAll:h}),N))}Va.displayName="Label";var H7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(Va,Vi({key:"label-implicit"},r)):vi(e)?C.createElement(Va,Vi({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===Va?C.cloneElement(e,Ut({key:"label-implicit"},r)):C.createElement(Va,Vi({key:"label-implicit",content:e},r)):Nb(e)?C.createElement(Va,Vi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(Va,Vi({},e,{key:"label-implicit"},r)):null};function F7(e){var{label:t,labelRef:n}=e,r=vR();return H7(t,r,n)||null}var ny={},ry={},YT;function G7(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(ry)),ry}var iy={},KT;function V7(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(iy)),iy}var JT;function $7(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7(),n=V7(),r=dx();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(ny)),ny}var ay,XT;function Y7(){return XT||(XT=1,ay=$7().last),ay}var K7=Y7();const J7=ii(K7);var X7=["valueAccessor"],W7=["dataKey","clockWise","id","textBreakAll","zIndex"];function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(null,arguments)}function WT(e,t){if(e==null)return{};var n,r,i=Q7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Z7=e=>Array.isArray(e.value)?J7(e.value):e.value,xR=C.createContext(void 0),eY=xR.Provider,bR=C.createContext(void 0);bR.Provider;function tY(){return C.useContext(xR)}function nY(){return C.useContext(bR)}function yf(e){var{valueAccessor:t=Z7}=e,n=WT(e,X7),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,h=WT(n,W7),f=tY(),p=nY(),m=f||p;return!m||!m.length?null:C.createElement(ha,{zIndex:u??Ln.label},C.createElement(yi,{className:"recharts-label-list"},m.map((v,b)=>{var N,A=Nn(r)?t(v,b):En(v&&v.payload,r),E=Nn(o)?{}:{id:"".concat(o,"-").concat(b)};return C.createElement(Va,oh({key:"label-".concat(b)},Rr(v),h,E,{fill:(N=n.fill)!==null&&N!==void 0?N:v.fill,parentViewBox:v.parentViewBox,value:A,textBreakAll:l,viewBox:v.viewBox,index:b,zIndex:0}))})))}yf.displayName="LabelList";function rY(e){var{label:t}=e;return t?t===!0?C.createElement(yf,{key:"labelList-implicit"}):C.isValidElement(t)||Nb(t)?C.createElement(yf,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(yf,oh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nv.apply(null,arguments)}var wR=e=>{var{cx:t,cy:n,r,className:i}=e,o=At("recharts-dot",i);return Me(t)&&Me(n)&&Me(r)?C.createElement("circle",Nv({},ti(e),cx(e),{className:o,cx:t,cy:n,r})):null},iY={radiusAxis:{},angleAxis:{}},SR=Qn({name:"polarAxis",initialState:iY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:iue,removeRadiusAxis:aue,addAngleAxis:oue,removeAngleAxis:sue}=SR.actions,aY=SR.reducer,NR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function oY(e){var{tooltipEntrySettings:t}=e,n=cn(),r=Zn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(qG(t)):i.current!==t&&n(HG({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(FG(i.current)),i.current=null)},[n]),null}function sY(e){var{legendPayload:t}=e,n=cn(),r=Zn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(gq(t)):i.current!==t&&n(yq({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(vq(i.current)),i.current=null)},[n]),null}var oy,lY=()=>{var[e]=C.useState(()=>qu("uid-"));return e},uY=(oy=X5.useId)!==null&&oy!==void 0?oy:lY;function cY(e,t){var n=uY();return t||(e?"".concat(e,"-").concat(n):n)}var dY=C.createContext(void 0),fY=e=>{var{id:t,type:n,children:r}=e,i=cY("recharts-".concat(n),t);return C.createElement(dY.Provider,{value:i},r(i))},hY={cartesianItems:[],polarItems:[]},ER=Qn({name:"graphicalItems",initialState:hY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_t()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Wr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:_t()},removeCartesianGraphicalItem:{reducer(e,t){var n=Wr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:_t()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_t()},removePolarGraphicalItem:{reducer(e,t){var n=Wr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:_t()}}}),{addCartesianGraphicalItem:pY,replaceCartesianGraphicalItem:mY,removeCartesianGraphicalItem:gY,addPolarGraphicalItem:lue,removePolarGraphicalItem:uue}=ER.actions,yY=ER.reducer,vY=e=>{var t=cn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(pY(e)):n.current!==e&&t(mY({prev:n.current,next:e})),n.current=e},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(t(gY(n.current)),n.current=null)},[t]),null},xY=C.memo(vY),bY=["points"];function QT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(n),!0).forEach(function(r){wY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wY(e,t,n){return(t=SY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sh(){return sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sh.apply(null,arguments)}function EY(e,t){if(e==null)return{};var n,r,i=AY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CY(e){var{option:t,dotProps:n,className:r}=e;if(C.isValidElement(t))return C.cloneElement(t,n);if(typeof t=="function")return t(n);var i=At(r,typeof t!="boolean"?t.className:""),o=n??{},{points:l}=o,u=EY(o,bY);return C.createElement(wR,sh({},u,{className:i}))}function TY(e,t){return e==null?!1:t?!0:e.length===1}function _Y(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:h,zIndex:f=Ln.scatter}=e;if(!TY(t,n))return null;var p=NR(n),m=T6(n),v=t.map((N,A)=>{var E,T,P=sy(sy(sy({r:3},l),m),{},{index:A,cx:(E=N.x)!==null&&E!==void 0?E:void 0,cy:(T=N.y)!==null&&T!==void 0?T:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return C.createElement(CY,{key:"dot-".concat(A),option:n,dotProps:P,className:i})}),b={};return u&&h!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(h,")")),C.createElement(ha,{zIndex:f},C.createElement(yi,sh({className:r},b),v))}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){kY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kY(e,t,n){return(t=PY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AR=0,jY={xAxis:{},yAxis:{},zAxis:{}},CR=Qn({name:"cartesianAxis",initialState:jY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_t()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:_t()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_t()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_t()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:_t()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_t()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_t()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:_t()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_t()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=e_(e_({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:IY,replaceXAxis:RY,removeXAxis:DY,addYAxis:OY,replaceYAxis:LY,removeYAxis:UY,addZAxis:cue,replaceZAxis:due,removeZAxis:fue,updateYAxisWidth:BY}=CR.actions,zY=CR.reducer,qY=le([An],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),HY=le([qY,oa,sa],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Eb=()=>Re(HY),FY=()=>Re(DV);function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ly(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YY=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=ly(ly(ly({},u),Ch(i)),cx(i)),f;return C.isValidElement(i)?f=C.cloneElement(i,h):typeof i=="function"?f=i(h):f=C.createElement(wR,h),C.createElement(yi,{className:"recharts-active-dot",clipPath:l},f)};function n_(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=Ln.activeDot}=e,u=Re(ec),h=FY();if(t==null||h==null)return null;var f=t.find(p=>h.includes(p.payload));return Nn(f)?null:C.createElement(ha,{zIndex:l},C.createElement(YY,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var KY=e=>{var{chartData:t}=e,n=cn(),r=Zn();return C.useEffect(()=>r?()=>{}:(n(PT(t)),()=>{n(PT(void 0))}),[t,n,r]),null},r_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TR=Qn({name:"brush",initialState:r_,reducers:{setBrushSettings(e,t){return t.payload==null?r_:t.payload}}}),{setBrushSettings:hue}=TR.actions,JY=TR.reducer;function XY(e,t,n){return(t=WY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ab{static create(t){return new Ab(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}XY(Ab,"EPS",1e-4);function ZY(e){return(e%180+180)%180}var eK=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ZY(i),l=o*Math.PI/180,u=Math.atan(r/n),h=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(h)},tK={dots:[],areas:[],lines:[]},_R=Qn({name:"referenceElements",initialState:tK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Wr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Wr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Wr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:pue,removeDot:mue,addArea:gue,removeArea:yue,addLine:vue,removeLine:xue}=_R.actions,nK=_R.reducer,rK=C.createContext(void 0),iK=e=>{var{children:t}=e,[n]=C.useState("".concat(qu("recharts"),"-clip")),r=Eb();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return C.createElement(rK.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function kR(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function aK(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return eK(r,n)}function oK(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function nc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function sK(e,t){return kR(e,t+1)}function lK(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,h=0,f=1,p=l,m=function(){var N=r==null?void 0:r[h];if(N===void 0)return{v:kR(r,f)};var A=h,E,T=()=>(E===void 0&&(E=n(N,A)),E),P=N.coordinate,M=h===0||nc(e,P,T,p,u);M||(h=0,p=l,f+=1),M&&(p=P+e*(T()/2+i),h+=f)},v;f<=o.length;)if(v=m(),v)return v.v;return[]}function uK(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:h}=t,f=1;f<=l;f++){for(var p=(l-1)%f,m=u,v=!0,b=function(){var P=r[N],M=N,k,R=()=>(k===void 0&&(k=n(P,M)),k),I=P.coordinate,j=N===p||nc(e,I,R,m,h);if(!j)return v=!1,1;j&&(m=I+e*(R()/2+i))},N=p;N<l&&!b();N+=f);if(v){for(var A=[],E=p;E<l;E+=f)A.push(r[E]);return A}}return[]}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){cK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hK(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:h}=t,f=function(v){var b=o[v],N,A=()=>(N===void 0&&(N=n(b,v)),N);if(v===l-1){var E=e*(b.coordinate+e*A()/2-h);o[v]=b=Pn(Pn({},b),{},{tickCoord:E>0?b.coordinate-E*e:b.coordinate})}else o[v]=b=Pn(Pn({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var T=nc(e,b.tickCoord,A,u,h);T&&(h=b.tickCoord-e*(A()/2+i),o[v]=Pn(Pn({},b),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return o}function pK(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:h,end:f}=t;if(o){var p=r[u-1],m=n(p,u-1),v=e*(p.coordinate+e*m/2-f);if(l[u-1]=p=Pn(Pn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var b=nc(e,p.tickCoord,()=>m,h,f);b&&(f=p.tickCoord-e*(m/2+i),l[u-1]=Pn(Pn({},p),{},{isShow:!0}))}}for(var N=o?u-1:u,A=function(P){var M=l[P],k,R=()=>(k===void 0&&(k=n(M,P)),k);if(P===0){var I=e*(M.coordinate-e*R()/2-h);l[P]=M=Pn(Pn({},M),{},{tickCoord:I<0?M.coordinate-I*e:M.coordinate})}else l[P]=M=Pn(Pn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var j=nc(e,M.tickCoord,R,h,f);j&&(h=M.tickCoord+e*(R()/2+i),l[P]=Pn(Pn({},M),{},{isShow:!0}))}},E=0;E<N;E++)A(E);return l}function Cb(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:h,tickFormatter:f,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(Me(h)||dc.isSsr){var v;return(v=sK(i,Me(h)?h:0))!==null&&v!==void 0?v:[]}var b=[],N=u==="top"||u==="bottom"?"width":"height",A=p&&N==="width"?Du(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(M,k)=>{var R=typeof f=="function"?f(M.value,k):M.value;return N==="width"?aK(Du(R,{fontSize:t,letterSpacing:n}),A,m):Du(R,{fontSize:t,letterSpacing:n})[N]},T=i.length>=2?Pr(i[1].coordinate-i[0].coordinate):1,P=oK(o,T,N);return h==="equidistantPreserveStart"?lK(T,P,E,i,l):h==="equidistantPreserveEnd"?uK(T,P,E,i,l):(h==="preserveStart"||h==="preserveStartEnd"?b=pK(T,P,E,i,l,h==="preserveStartEnd"):b=hK(T,P,E,i,l),b.filter(M=>M.isShow))}var mK=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,h=i+o,f=l+h+u+(n?r:0);return Math.round(f)}return 0},gK=["axisLine","width","height","className","hide","ticks","axisType"];function yK(e,t){if(e==null)return{};var n,r,i=vK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(null,arguments)}function a_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(n),!0).forEach(function(r){xK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xK(e,t,n){return(t=bK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ji={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ln.axis};function SK(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:h}=e;if(!u)return null;var f=Gt(Gt(Gt({},h),ti(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var p=+(o==="top"&&!l||o==="bottom"&&l);f=Gt(Gt({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);f=Gt(Gt({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return C.createElement("line",Ho({},f,{className:At("recharts-cartesian-axis-line",kh(u,"className"))}))}function NK(e,t,n,r,i,o,l,u,h){var f,p,m,v,b,N,A=u?-1:1,E=e.tickSize||l,T=Me(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=p=e.coordinate,v=n+ +!u*i,m=v-A*E,N=m-A*h,b=T;break;case"left":m=v=e.coordinate,p=t+ +!u*r,f=p-A*E,b=f-A*h,N=T;break;case"right":m=v=e.coordinate,p=t+ +u*r,f=p+A*E,b=f+A*h,N=T;break;default:f=p=e.coordinate,v=n+ +u*i,m=v+A*E,N=m+A*h,b=T;break}return{line:{x1:f,y1:m,x2:p,y2:v},tick:{x:b,y:N}}}function EK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function CK(e){var{option:t,tickProps:n,value:r}=e,i,o=At(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,Gt(Gt({},n),{},{className:o}));else if(typeof t=="function")i=t(Gt(Gt({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=At(l,t==null?void 0:t.className)),i=C.createElement(Sb,Ho({},n,{className:l}),r)}return i}var TK=C.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:h,tickTextProps:f,orientation:p,mirror:m,x:v,y:b,width:N,height:A,tickSize:E,tickMargin:T,fontSize:P,letterSpacing:M,getTicksConfig:k,events:R,axisType:I}=e,j=Cb(Gt(Gt({},k),{},{ticks:n}),P,M),G=EK(p,m),U=AK(p,m),D=ti(k),O=Ch(r),$={};typeof i=="object"&&($=i);var F=Gt(Gt({},D),{},{fill:"none"},$),V=j.map(K=>Gt({entry:K},NK(K,v,b,N,A,p,E,m,T))),z=V.map(K=>{var{entry:ie,line:Z}=K;return C.createElement(yi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},i&&C.createElement("line",Ho({},F,Z,{className:At("recharts-cartesian-axis-tick-line",kh(i,"className"))})))}),B=V.map((K,ie)=>{var{entry:Z,tick:q}=K,Y=Gt(Gt(Gt(Gt({textAnchor:G,verticalAnchor:U},D),{},{stroke:"none",fill:o},O),q),{},{index:ie,payload:Z,visibleTicksCount:j.length,tickFormatter:l,padding:h},f);return C.createElement(yi,Ho({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},cU(R,Z,ie)),r&&C.createElement(CK,{option:r,tickProps:Y,value:"".concat(typeof l=="function"?l(Z.value,ie):Z.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},B.length>0&&C.createElement(ha,{zIndex:Ln.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:t},B)),z.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},z))}),_K=C.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:h}=e,f=yK(e,gK),[p,m]=C.useState(""),[v,b]=C.useState(""),N=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return mK({ticks:N.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var A=C.useCallback(E=>{if(E){var T=E.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=T;var P=T[0];if(P){var M=window.getComputedStyle(P),k=M.fontSize,R=M.letterSpacing;(k!==p||R!==v)&&(m(k),b(R))}}},[p,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(ha,{zIndex:e.zIndex},C.createElement(yi,{className:At("recharts-cartesian-axis",o)},C.createElement(SK,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ti(e)}),C.createElement(TK,{ref:A,axisType:h,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),C.createElement(I7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},C.createElement(F7,{label:e.label,labelRef:e.labelRef}),e.children)))}),Tb=C.forwardRef((e,t)=>{var n=yr(e,Ji);return C.createElement(_K,Ho({},n,{ref:t}))});Tb.displayName="CartesianAxis";var kK=["x1","y1","x2","y2","key"],PK=["offset"],MK=["xAxisId","yAxisId"],jK=["xAxisId","yAxisId"];function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(r){IK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IK(e,t,n){return(t=RK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo.apply(null,arguments)}function lh(e,t){if(e==null)return{};var n,r,i=OK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return C.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function PR(e){var{option:t,lineItemProps:n}=e,r;if(C.isValidElement(t))r=C.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:h,key:f}=n,p=lh(n,kK),m=(i=ti(p))!==null&&i!==void 0?i:{},{offset:v}=m,b=lh(m,PK);r=C.createElement("line",Mo({},b,{x1:o,y1:l,x2:u,y2:h,fill:"none",key:f}))}return r}function UK(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=lh(e,MK),h=i.map((f,p)=>{var m=Mn(Mn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return C.createElement(PR,{key:"line-".concat(p),option:r,lineItemProps:m})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function BK(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=lh(e,jK),h=i.map((f,p)=>{var m=Mn(Mn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return C.createElement(PR,{option:r,lineItemProps:m,key:"line-".concat(p)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function zK(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:h=!0}=e;if(!h||!t||!t.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var p=f.map((m,v)=>{var b=!f[v+1],N=b?i+l-m:f[v+1]-m;if(N<=0)return null;var A=v%t.length;return C.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:N,width:o,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function qK(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:h}=e;if(!t||!n||!n.length)return null;var f=h.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var p=f.map((m,v)=>{var b=!f[v+1],N=b?i+l-m:f[v+1]-m;if(N<=0)return null;var A=v%n.length;return C.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:N,height:u,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var HK=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return xM(Cb(Mn(Mn(Mn({},Ji),n),{},{ticks:bM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},FK=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return xM(Cb(Mn(Mn(Mn({},Ji),n),{},{ticks:bM(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},GK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ln.grid};function MR(e){var t=kM(),n=PM(),r=_M(),i=Mn(Mn({},yr(e,GK)),{},{x:Me(e.x)?e.x:r.left,y:Me(e.y)?e.y:r.top,width:Me(e.width)?e.width:r.width,height:Me(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:h,width:f,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:b}=i,N=Zn(),A=Re(U=>vT(U,"xAxis",o,N)),E=Re(U=>vT(U,"yAxis",l,N));if(!xi(f)||!xi(p)||!Me(u)||!Me(h))return null;var T=i.verticalCoordinatesGenerator||HK,P=i.horizontalCoordinatesGenerator||FK,{horizontalPoints:M,verticalPoints:k}=i;if((!M||!M.length)&&typeof P=="function"){var R=v&&v.length,I=P({yAxis:E?Mn(Mn({},E),{},{ticks:R?v:E.ticks}):void 0,width:t??f,height:n??p,offset:r},R?!0:m);Uf(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}if((!k||!k.length)&&typeof T=="function"){var j=b&&b.length,G=T({xAxis:A?Mn(Mn({},A),{},{ticks:j?b:A.ticks}):void 0,width:t??f,height:n??p,offset:r},j?!0:m);Uf(Array.isArray(G),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(k=G)}return C.createElement(ha,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(LK,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(zK,Mo({},i,{horizontalPoints:M})),C.createElement(qK,Mo({},i,{verticalPoints:k})),C.createElement(UK,Mo({},i,{offset:r,horizontalPoints:M,xAxis:A,yAxis:E})),C.createElement(BK,Mo({},i,{offset:r,verticalPoints:k,xAxis:A,yAxis:E}))))}MR.displayName="CartesianGrid";var VK={},jR=Qn({name:"errorBars",initialState:VK,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:bue,replaceErrorBar:wue,removeErrorBar:Sue}=jR.actions,$K=jR.reducer;function IR(e,t){var n,r,i=Re(f=>ca(f,e)),o=Re(f=>da(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:sn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:ln.allowDataOverflow,h=l||u;return{needClip:h,needClipX:l,needClipY:u}}function YK(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Eb(),{needClipX:o,needClipY:l,needClip:u}=IR(t,n);if(!u||!i)return null;var{x:h,y:f,width:p,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?h:h-p/2,y:l?f:f-m/2,width:o?p:p*2,height:l?m:m*2}))}function KK(e){var t=Ch(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var uy={exports:{}},cy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function JK(){if(s_)return cy;s_=1;var e=ul();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return cy.useSyncExternalStoreWithSelector=function(h,f,p,m,v){var b=i(null);if(b.current===null){var N={hasValue:!1,value:null};b.current=N}else N=b.current;b=l(function(){function E(R){if(!T){if(T=!0,P=R,R=m(R),v!==void 0&&N.hasValue){var I=N.value;if(v(I,R))return M=I}return M=R}if(I=M,n(P,R))return I;var j=m(R);return v!==void 0&&v(I,j)?(P=R,I):(P=R,M=j)}var T=!1,P,M,k=p===void 0?null:p;return[function(){return E(f())},k===null?void 0:function(){return E(k())}]},[f,p,m,v]);var A=r(h,b[0],b[1]);return o(function(){N.hasValue=!0,N.value=A},[A]),u(A),A},cy}var l_;function XK(){return l_||(l_=1,uy.exports=JK()),uy.exports}XK();function WK(e){e()}function QK(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WK(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var u_={notify(){},get:()=>[]};function ZK(e,t){let n,r=u_,i=0,o=!1;function l(A){p();const E=r.subscribe(A);let T=!1;return()=>{T||(T=!0,E(),m())}}function u(){r.notify()}function h(){N.onStateChange&&N.onStateChange()}function f(){return o}function p(){i++,n||(n=e.subscribe(h),r=QK())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=u_)}function v(){o||(o=!0,p())}function b(){o&&(o=!1,m())}const N={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return N}var eJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tJ=eJ(),nJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rJ=nJ(),iJ=()=>tJ||rJ?C.useLayoutEffect:C.useEffect,aJ=iJ();function c_(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oJ(e,t){if(c_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!c_(e[n[i]],t[n[i]]))return!1;return!0}var dy=Symbol.for("react-redux-context"),fy=typeof globalThis<"u"?globalThis:{};function sJ(){if(!C.createContext)return{};const e=fy[dy]??(fy[dy]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var lJ=sJ();function uJ(e){const{children:t,context:n,serverState:r,store:i}=e,o=C.useMemo(()=>{const h=ZK(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);aJ(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const u=n||lJ;return C.createElement(u.Provider,{value:o},t)}var cJ=uJ,dJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function fJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function _b(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(dJ.has(r)){if(e[r]==null&&t[r]==null)continue;if(!oJ(e[r],t[r]))return!1}else if(!fJ(e[r],t[r]))return!1;return!0}function kb(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:AR}function Pb(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:AR}var RR=(e,t,n)=>RI(e,"xAxis",kb(e,t),n),DR=(e,t,n)=>II(e,"xAxis",kb(e,t),n),OR=(e,t,n)=>RI(e,"yAxis",Pb(e,t),n),LR=(e,t,n)=>II(e,"yAxis",Pb(e,t),n),hJ=le([bt,RR,OR,DR,LR],(e,t,n,r,i)=>aa(e,"xAxis")?Lf(t,r,!1):Lf(n,i,!1)),pJ=(e,t)=>t,UR=le([tI,pJ],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),BR=e=>{var t=bt(e),n=aa(t,"xAxis");return n?"yAxis":"xAxis"},mJ=(e,t)=>{var n=BR(e);return n==="yAxis"?Pb(e,t):kb(e,t)},gJ=(e,t,n)=>cI(e,BR(e),mJ(e,t),n),yJ=le([UR,gJ],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=tb(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,l=o==null?void 0:o.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),vJ=le([bt,RR,OR,DR,LR,yJ,x9,hJ,UR,j9],(e,t,n,r,i,o,l,u,h,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=l;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=h,N;if(b&&b.length>0?N=b:N=p==null?void 0:p.slice(m,v+1),N!=null)return LJ({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:h,stackedData:o,displayedData:N,chartBaseValue:f,bandSize:u})}}),xJ=["id"],bJ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oo.apply(null,arguments)}function zR(e,t){if(e==null)return{};var n,r,i=wJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e){var t=EJ(e,"string");return typeof t=="symbol"?t:t+""}function EJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(e,t){return e&&e!=="none"?e:t}var AJ=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:l}=e;return[{inactive:l,dataKey:t,type:o,color:uh(r,i),value:wM(n,t),payload:e}]},CJ=C.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:h,tooltipType:f,id:p}=e,m={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:wM(l,t),hide:u,type:f,color:uh(r,o),unit:h,graphicalItemId:p}};return C.createElement(oY,{tooltipEntrySettings:m})});function TJ(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:l}=r,u=ti(r);return C.createElement(_Y,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:t})}function _J(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var l,u,h={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gs(Gs({},h),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return C.createElement(eY,{value:t?i:void 0},n)}function f_(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:l,type:u,stroke:h,connectNulls:f,isRange:p}=o,{id:m}=o,v=zR(o,xJ),b=ti(v),N=Rr(v);return C.createElement(C.Fragment,null,(t==null?void 0:t.length)>1&&C.createElement(yi,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},C.createElement(mf,Oo({},N,{id:m,points:t,connectNulls:f,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),h!=="none"&&C.createElement(mf,Oo({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),h!=="none"&&p&&C.createElement(mf,Oo({},b,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n}))),C.createElement(TJ,{points:t,props:v,clipPathId:i}))}function kJ(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=e,u=(t=o[0])===null||t===void 0?void 0:t.y,h=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Pt(u)||!Pt(h))return null;var f=r*Math.abs(u-h),p=Math.max(...o.map(m=>m.x||0));return Me(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(m=>m.x||0),p)),Me(p)?C.createElement("rect",{x:0,y:u<h?u:u-f,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}function PJ(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=e,u=(t=o[0])===null||t===void 0?void 0:t.x,h=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Pt(u)||!Pt(h))return null;var f=r*Math.abs(u-h),p=Math.max(...o.map(m=>m.y||0));return Me(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(m=>m.y||0),p)),Me(p)?C.createElement("rect",{x:u<h?u:u-f,y:0,width:f,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function MJ(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?C.createElement(kJ,{alpha:t,points:r,baseLine:i,strokeWidth:o}):C.createElement(PJ,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function jJ(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:l,baseLine:u,isAnimationActive:h,animationBegin:f,animationDuration:p,animationEasing:m,onAnimationStart:v,onAnimationEnd:b}=r,N=C.useMemo(()=>({points:l,baseLine:u}),[l,u]),A=FM(N,"recharts-area-"),E=nq(),[T,P]=C.useState(!1),M=!T,k=C.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),R=C.useCallback(()=>{typeof v=="function"&&v(),P(!0)},[v]);if(E==null)return null;var I=i.current,j=o.current;return C.createElement(_J,{showLabels:M,points:l},r.children,C.createElement(HM,{animationId:A,begin:f,duration:p,isActive:h,easing:m,onAnimationEnd:k,onAnimationStart:R,key:A},G=>{if(I){var U=I.length/l.length,D=G===1?l:l.map(($,F)=>{var V=Math.floor(F*U);if(I[V]){var z=I[V];return Gs(Gs({},$),{},{x:hi(z.x,$.x,G),y:hi(z.y,$.y,G)})}return $}),O;return Me(u)?O=hi(j,u,G):Nn(u)||ni(u)?O=hi(j,0,G):O=u.map(($,F)=>{var V=Math.floor(F*U);if(Array.isArray(j)&&j[V]){var z=j[V];return Gs(Gs({},$),{},{x:hi(z.x,$.x,G),y:hi(z.y,$.y,G)})}return $}),G>0&&(i.current=D,o.current=O),C.createElement(f_,{points:D,baseLine:O,needClip:t,clipPathId:n,props:r})}return G>0&&(i.current=l,o.current=u),C.createElement(yi,null,h&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},C.createElement(MJ,{alpha:G,points:l,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),C.createElement(yi,{clipPath:"url(#animationClipPath-".concat(n,")")},C.createElement(f_,{points:l,baseLine:u,needClip:t,clipPathId:n,props:r})))}),C.createElement(rY,{label:r.label}))}function IJ(e){var{needClip:t,clipPathId:n,props:r}=e,i=C.useRef(null),o=C.useRef();return C.createElement(jJ,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class RJ extends C.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:l,needClip:u,xAxisId:h,yAxisId:f,width:p,height:m,id:v,baseLine:b,zIndex:N}=this.props;if(t)return null;var A=At("recharts-area",i),E=v,{r:T,strokeWidth:P}=KK(n),M=NR(n),k=T*2+P,R=u?"url(#clipPath-".concat(M?"":"dots-").concat(E,")"):void 0;return C.createElement(ha,{zIndex:N},C.createElement(yi,{className:A},u&&C.createElement("defs",null,C.createElement(YK,{clipPathId:E,xAxisId:h,yAxisId:f}),!M&&C.createElement("clipPath",{id:"clipPath-dots-".concat(E)},C.createElement("rect",{x:l-k/2,y:o-k/2,width:p+k,height:m+k}))),C.createElement(IJ,{needClip:u,clipPathId:E,props:this.props})),C.createElement(n_,{points:r,mainColor:uh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}),this.props.isRange&&Array.isArray(b)&&C.createElement(n_,{points:b,mainColor:uh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}))}}var qR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ln.area};function DJ(e){var t,n=yr(e,qR),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:h,fill:f,fillOpacity:p,hide:m,isAnimationActive:v,legendType:b,stroke:N,xAxisId:A,yAxisId:E}=n,T=zR(n,bJ),P=dl(),M=tR(),{needClip:k}=IR(A,E),R=Zn(),{points:I,isRange:j,baseLine:G}=(t=Re(V=>vJ(V,e.id,R)))!==null&&t!==void 0?t:{},U=Eb();if(P!=="horizontal"&&P!=="vertical"||U==null||M!=="AreaChart"&&M!=="ComposedChart")return null;var{height:D,width:O,x:$,y:F}=U;return!I||!I.length?null:C.createElement(RJ,Oo({},T,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:G,connectNulls:u,dot:h,fill:f,fillOpacity:p,height:D,hide:m,layout:P,isAnimationActive:v==="auto"?!dc.isSsr:v,isRange:j,legendType:b,needClip:k,points:I,stroke:N,width:O,left:$,top:F,xAxisId:A,yAxisId:E}))}var OJ=(e,t,n,r,i)=>{var o=n??t;if(Me(o))return o;var l=e==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var h=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function LJ(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:l,xAxis:u,yAxis:h,displayedData:f,dataStartIndex:p,xAxisTicks:m,yAxisTicks:v,bandSize:b}=e,N=i&&i.length,A=OJ(o,l,n,u,h),E=o==="horizontal",T=!1,P=f.map((k,R)=>{var I,j,G;if(N)G=i[p+R];else{var U=En(k,r);Array.isArray(U)?(G=U,T=!0):G=[A,U]}var D=(I=(j=G)===null||j===void 0?void 0:j[1])!==null&&I!==void 0?I:null,O=D==null||N&&!t&&En(k,r)==null;return E?{x:EA({axis:u,ticks:m,bandSize:b,entry:k,index:R}),y:O?null:h.scale(D),value:G,payload:k}:{x:O?null:u.scale(D),y:EA({axis:h,ticks:v,bandSize:b,entry:k,index:R}),value:G,payload:k}}),M;return N||T?M=P.map(k=>{var R=Array.isArray(k.value)?k.value[0]:null;return E?{x:k.x,y:R!=null&&k.y!=null?h.scale(R):null,payload:k.payload}:{x:R!=null?u.scale(R):null,y:k.y,payload:k.payload}}):M=E?h.scale(A):u.scale(A),{points:P,baseLine:M,isRange:T}}function UJ(e){var t=yr(e,qR),n=Zn();return C.createElement(fY,{id:t.id,type:"area"},r=>C.createElement(C.Fragment,null,C.createElement(sY,{legendPayload:AJ(t)}),C.createElement(CJ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),C.createElement(xY,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:vz(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),C.createElement(DJ,Oo({},t,{id:r}))))}var HR=C.memo(UJ,_b);HR.displayName="Area";var BJ=["domain","range"],zJ=["domain","range"];function h_(e,t){if(e==null)return{};var n,r,i=qJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function FR(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=h_(e,BJ),{domain:o,range:l}=t,u=h_(t,zJ);return!p_(n,o)||!p_(r,l)?!1:_b(i,u)}var HJ=["dangerouslySetInnerHTML","ticks","scale"],FJ=["id","scale"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function m_(e,t){if(e==null)return{};var n,r,i=GJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VJ(e){var t=cn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(IY(e)):n.current!==e&&t(RY({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(DY(n.current)),n.current=null)},[t]),null}var $J=e=>{var{xAxisId:t,className:n}=e,r=Re(NM),i=Zn(),o="xAxis",l=Re(T=>jI(T,o,t,i)),u=Re(T=>EG(T,t)),h=Re(T=>PG(T,t)),f=Re(T=>Wj(T,t));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:v}=e,b=m_(e,HJ),{id:N,scale:A}=f,E=m_(f,FJ);return C.createElement(Tb,Ev({},b,E,{x:h.x,y:h.y,width:u.width,height:u.height,className:At("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},YJ={allowDataOverflow:sn.allowDataOverflow,allowDecimals:sn.allowDecimals,allowDuplicatedCategory:sn.allowDuplicatedCategory,angle:sn.angle,axisLine:Ji.axisLine,height:sn.height,hide:!1,includeHidden:sn.includeHidden,interval:sn.interval,minTickGap:sn.minTickGap,mirror:sn.mirror,orientation:sn.orientation,padding:sn.padding,reversed:sn.reversed,scale:sn.scale,tick:sn.tick,tickCount:sn.tickCount,tickLine:Ji.tickLine,tickSize:Ji.tickSize,type:sn.type,xAxisId:0},KJ=e=>{var t=yr(e,YJ);return C.createElement(C.Fragment,null,C.createElement(VJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),C.createElement($J,t))},GR=C.memo(KJ,FR);GR.displayName="XAxis";var JJ=["dangerouslySetInnerHTML","ticks","scale"],XJ=["id","scale"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}function g_(e,t){if(e==null)return{};var n,r,i=WJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QJ(e){var t=cn(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(OY(e)):n.current!==e&&t(LY({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(UY(n.current)),n.current=null)},[t]),null}var ZJ=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=C.useRef(null),l=C.useRef(null),u=Re(NM),h=Zn(),f=cn(),p="yAxis",m=Re(I=>IG(I,t)),v=Re(I=>jG(I,t)),b=Re(I=>jI(I,p,t,h)),N=Re(I=>Qj(I,t));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!m||Nb(i)||C.isValidElement(i)||N==null)){var I=o.current;if(I){var j=I.getCalculatedWidth();Math.round(m.width)!==Math.round(j)&&f(BY({id:t,width:j}))}}},[b,m,f,i,t,r,N]),m==null||v==null||N==null)return null;var{dangerouslySetInnerHTML:A,ticks:E,scale:T}=e,P=g_(e,JJ),{id:M,scale:k}=N,R=g_(N,XJ);return C.createElement(Tb,Av({},P,R,{ref:o,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:At("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:b,axisType:p}))},eX={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,angle:ln.angle,axisLine:Ji.axisLine,hide:!1,includeHidden:ln.includeHidden,interval:ln.interval,minTickGap:ln.minTickGap,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tick:ln.tick,tickCount:ln.tickCount,tickLine:Ji.tickLine,tickSize:Ji.tickSize,type:ln.type,width:ln.width,yAxisId:0},tX=e=>{var t=yr(e,eX);return C.createElement(C.Fragment,null,C.createElement(QJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),C.createElement(ZJ,t))},VR=C.memo(tX,FR);VR.displayName="YAxis";var nX=(e,t)=>t,Mb=le([nX,bt,Jj,en,JI,fa,YV,An],e$),jb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},$R=Dr("mouseClick"),YR=lc();YR.startListening({actionCreator:$R,effect:(e,t)=>{var n=e.payload,r=Mb(t.getState(),jb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch($G({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Cv=Dr("mouseMove"),KR=lc(),ef=null;KR.startListening({actionCreator:Cv,effect:(e,t)=>{var n=e.payload;ef!==null&&cancelAnimationFrame(ef);var r=jb(n);ef=requestAnimationFrame(()=>{var i=t.getState(),o=fb(i,i.tooltip.settings.shared);if(o==="axis"){var l=Mb(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(qI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(zI())}ef=null})}});function rX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var y_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},JR=Qn({name:"rootProps",initialState:y_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:y_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),iX=JR.reducer,{updateOptions:aX}=JR.actions,XR=Qn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Nue}=XR.actions,oX=XR.reducer,WR=Dr("keyDown"),QR=Dr("focus"),Ib=lc();Ib.startListening({actionCreator:WR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=hb(i,xl(n),vc(n),Sc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var h=fa(n);if(o==="Enter"){var f=ah(n,"axis","hover",String(i.index));t.dispatch(vv({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var p=LG(n),m=p==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,b=u+v*m;if(!(h==null||b>=h.length||b<0)){var N=ah(n,"axis","hover",String(b));t.dispatch(vv({active:!0,activeIndex:b.toString(),activeCoordinate:N}))}}}}}});Ib.startListening({actionCreator:QR,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=ah(n,"axis","hover",String(o));t.dispatch(vv({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var _r=Dr("externalEvent"),ZR=lc(),hy=new Map;ZR.startListening({actionCreator:_r,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=hy.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),h={activeCoordinate:jV(u),activeDataKey:PV(u),activeIndex:ec(u),activeLabel:QI(u),activeTooltipIndex:ec(u),isTooltipActive:IV(u)};n(h,r)}finally{hy.delete(i)}});hy.set(i,l)}}});var sX=le([yl],e=>e.tooltipItemPayloads),lX=le([sX,wc,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),eD=Dr("touchMove"),tD=lc();tD.startListening({actionCreator:eD,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=fb(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=Mb(r,jb({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(qI({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,h=n.touches[0];if(document.elementFromPoint==null||h==null)return;var f=document.elementFromPoint(h.clientX,h.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(Az),m=(u=f.getAttribute(Cz))!==null&&u!==void 0?u:void 0,v=vl(r).find(A=>A.id===m);if(p==null||v==null||m==null)return;var{dataKey:b}=v,N=lX(r,p,m);t.dispatch(VG({activeDataKey:b,activeIndex:p,activeCoordinate:N,activeGraphicalItemId:m}))}}}});var uX=GP({brush:JY,cartesianAxis:zY,chartData:j$,errorBars:$K,graphicalItems:yY,layout:lz,legend:xq,options:T$,polarAxis:aY,polarOptions:oX,referenceElements:nK,rootProps:iX,tooltip:YG,zIndex:p$}),cX=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return IB({reducer:uX,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([YR.middleware,KR.middleware,Ib.middleware,ZR.middleware,tD.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(aM({type:"raf"}))},devTools:{serialize:{replacer:rX},name:"recharts-".concat(n)}})};function dX(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Zn(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=cX(t,r));var l=fx;return C.createElement(cJ,{context:l,store:o.current},n)}function fX(e){var{layout:t,margin:n}=e,r=cn(),i=Zn();return C.useEffect(()=>{i||(r(az(t)),r(iz(n)))},[r,i,t,n]),null}var hX=C.memo(fX,_b);function pX(e){var t=cn();return C.useEffect(()=>{t(aX(e))},[t,e]),null}function v_(e){var{zIndex:t,isPanorama:n}=e,r=C.useRef(null),i=cn();return C.useLayoutEffect(()=>(r.current&&i(f$({zIndex:t,element:r.current,isPanorama:n})),()=>{i(h$({zIndex:t,isPanorama:n}))}),[i,t,n]),C.createElement("g",{tabIndex:-1,ref:r})}function x_(e){var{children:t,isPanorama:n}=e,r=Re(n$);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(v_,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>C.createElement(v_,{key:l,zIndex:l,isPanorama:n})))}var mX=["children"];function gX(e,t){if(e==null)return{};var n,r,i=yX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ch.apply(null,arguments)}var vX={width:"100%",height:"100%",display:"block"},xX=C.forwardRef((e,t)=>{var n=kM(),r=PM(),i=UM();if(!xi(n)||!xi(r))return null;var{children:o,otherAttributes:l,title:u,desc:h}=e,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),C.createElement(cP,ch({},l,{title:u,desc:h,role:p,tabIndex:f,width:n,height:r,style:vX,ref:t}),o)}),bX=e=>{var{children:t}=e,n=Re(Hh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return C.createElement(cP,{width:r,height:i,x:l,y:o},t)},b_=C.forwardRef((e,t)=>{var{children:n}=e,r=gX(e,mX),i=Zn();return i?C.createElement(bX,null,C.createElement(x_,{isPanorama:!0},n)):C.createElement(xX,ch({ref:t},r),C.createElement(x_,{isPanorama:!1},n))});function wX(){var e=cn(),[t,n]=C.useState(null),r=Re(Ez);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Pt(o)&&o!==r&&e(sz(o))}},[t,e,r]),n}function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NX(e,t,n){return(t=EX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}var CX=()=>(q$(),null);function dh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var TX=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[o,l]=C.useState({containerWidth:dh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:dh((r=e.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,p)=>{l(m=>{var v=Math.round(f),b=Math.round(p);return m.containerWidth===v&&m.containerHeight===b?m:{containerWidth:v,containerHeight:b}})},[]),h=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();u(p,m);var v=N=>{var{width:A,height:E}=N[0].contentRect;u(A,E)},b=new ResizeObserver(v);b.observe(f),i.current=b}},[t,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(Gh,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",Fo({ref:h},e)))}),_X=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=C.useState({containerWidth:dh(n),containerHeight:dh(r)}),l=C.useCallback((h,f)=>{o(p=>{var m=Math.round(h),v=Math.round(f);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),u=C.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:f,height:p}=h.getBoundingClientRect();l(f,p)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(Gh,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",Fo({ref:u},e)))}),kX=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(Gh,{width:n,height:r}),C.createElement("div",Fo({ref:t},e)))}),PX=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return Xi(n)||Xi(r)?C.createElement(_X,Fo({},e,{ref:t})):C.createElement(kX,Fo({},e,{ref:t}))});function MX(e){return e===!0?TX:PX}var jX=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:h,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:b,onTouchMove:N,onTouchStart:A,style:E,width:T,responsive:P,dispatchTouchEvents:M=!0}=e,k=C.useRef(null),R=cn(),[I,j]=C.useState(null),[G,U]=C.useState(null),D=wX(),O=wx(),$=(O==null?void 0:O.width)>0?O.width:T,F=(O==null?void 0:O.height)>0?O.height:i,V=C.useCallback(ae=>{D(ae),typeof t=="function"&&t(ae),j(ae),U(ae),ae!=null&&(k.current=ae)},[D,t,j,U]),z=C.useCallback(ae=>{R($R(ae)),R(_r({handler:o,reactEvent:ae}))},[R,o]),B=C.useCallback(ae=>{R(Cv(ae)),R(_r({handler:f,reactEvent:ae}))},[R,f]),K=C.useCallback(ae=>{R(zI()),R(_r({handler:p,reactEvent:ae}))},[R,p]),ie=C.useCallback(ae=>{R(Cv(ae)),R(_r({handler:m,reactEvent:ae}))},[R,m]),Z=C.useCallback(()=>{R(QR())},[R]),q=C.useCallback(ae=>{R(WR(ae.key))},[R]),Y=C.useCallback(ae=>{R(_r({handler:l,reactEvent:ae}))},[R,l]),X=C.useCallback(ae=>{R(_r({handler:u,reactEvent:ae}))},[R,u]),H=C.useCallback(ae=>{R(_r({handler:h,reactEvent:ae}))},[R,h]),me=C.useCallback(ae=>{R(_r({handler:v,reactEvent:ae}))},[R,v]),Ne=C.useCallback(ae=>{R(_r({handler:A,reactEvent:ae}))},[R,A]),ue=C.useCallback(ae=>{M&&R(eD(ae)),R(_r({handler:N,reactEvent:ae}))},[R,M,N]),we=C.useCallback(ae=>{R(_r({handler:b,reactEvent:ae}))},[R,b]),Ue=MX(P);return C.createElement(oR.Provider,{value:I},C.createElement(R6.Provider,{value:G},C.createElement(Ue,{width:$??(E==null?void 0:E.width),height:F??(E==null?void 0:E.height),className:At("recharts-wrapper",r),style:SX({position:"relative",cursor:"default",width:$,height:F},E),onClick:z,onContextMenu:Y,onDoubleClick:X,onFocus:Z,onKeyDown:q,onMouseDown:H,onMouseEnter:B,onMouseLeave:K,onMouseMove:ie,onMouseUp:me,onTouchEnd:we,onTouchMove:ue,onTouchStart:Ne,ref:V},C.createElement(CX,null),n)))}),IX=["width","height","responsive","children","className","style","compact","title","desc"];function RX(e,t){if(e==null)return{};var n,r,i=DX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OX=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:h,title:f,desc:p}=e,m=RX(e,IX),v=ti(m);return h?C.createElement(C.Fragment,null,C.createElement(Gh,{width:n,height:r}),C.createElement(b_,{otherAttributes:v,title:f,desc:p},o)):C.createElement(jX,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(b_,{otherAttributes:v,title:f,desc:p,ref:t},C.createElement(iK,null,o)))});function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(null,arguments)}var LX={top:5,right:5,bottom:5,left:5},UX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:LX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},BX=C.forwardRef(function(t,n){var r,i=yr(t.categoricalChartProps,UX),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,categoricalChartProps:f}=t,p={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return C.createElement(dX,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},C.createElement(KY,{chartData:f.data}),C.createElement(hX,{layout:i.layout,margin:i.margin}),C.createElement(pX,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(OX,Tv({},i,{ref:n})))}),zX=["axis"],qX=C.forwardRef((e,t)=>C.createElement(BX,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zX,tooltipPayloadSearcher:A$,categoricalChartProps:e,ref:t}));const S_=({onNavigate:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState("daily"),[o,l]=C.useState([]),[u,h]=C.useState([]),[f,p]=C.useState("payments"),[m,v]=C.useState(""),[b,N]=C.useState("out"),[A,E]=C.useState(10),[T,P]=C.useState(!1),[M,k]=C.useState({title:"",date:new Date().toISOString().split("T")[0]});C.useEffect(()=>{R()},[r]);const R=()=>{const O=pe.getTransactions();l(pe.getProducts()),h(pe.getAllReminders()),I(O)},I=O=>{let $=[];const F=new Date,V=O.filter(z=>z.type==="SALE");if(r==="daily")for(let z=29;z>=0;z--){const B=new Date(F);B.setDate(B.getDate()-z);const K=B.toISOString().split("T")[0],ie=Xs(B),Z=`${Iy[ie.month-1].substring(0,3)} ${ie.day}`,q=V.filter(Y=>Y.date.startsWith(K)).reduce((Y,X)=>Y+X.totalAmount,0);$.push({name:Z,sales:q})}else if(r==="monthly"){const z=Xs(F);let B=z.year,K=z.month;const ie=[];for(let Z=0;Z<12;Z++)ie.unshift({year:B,month:K}),K--,K<1&&(K=12,B--);ie.forEach(Z=>{const q=jy(Z.year,Z.month-1),Y=Ya(Z.year,Z.month,1),X=Ya(Z.year,Z.month,q);Y.setHours(0,0,0,0),X.setHours(23,59,59,999);const H=`${Iy[Z.month-1].substring(0,3)} ${Z.year}`,me=V.filter(Ne=>{const ue=new Date(Ne.date);return ue>=Y&&ue<=X}).reduce((Ne,ue)=>Ne+ue.totalAmount,0);$.push({name:H,sales:me})})}else if(r==="yearly"){let B=Xs(F).year;for(let K=4;K>=0;K--){const ie=B-K,Z=Ya(ie,1,1),q=jy(ie,11),Y=Ya(ie,12,q);Z.setHours(0,0,0,0),Y.setHours(23,59,59,999);const X=V.filter(H=>{const me=new Date(H.date);return me>=Z&&me<=Y}).reduce((H,me)=>H+me.totalAmount,0);$.push({name:ie.toString(),sales:X})}}n($)},j=O=>{pe.deleteManualReminder(O),h(pe.getAllReminders())},G=O=>{O.preventDefault(),M.title&&(pe.addManualReminder({id:Date.now().toString(),title:M.title,date:new Date(M.date).toISOString(),type:"manual",priority:"medium"}),P(!1),k({title:"",date:new Date().toISOString().split("T")[0]}),h(pe.getAllReminders()))},D=(()=>{const O=m.toLowerCase();return f==="stock"?o.filter($=>$.type==="service"||O&&!$.name.toLowerCase().includes(O)?!1:b==="out"?$.stock<1:b==="low"?$.stock<($.minStockLevel||5):b==="custom"?$.stock<A:!1).map($=>({id:$.id,title:$.name,subtitle:`Stock: ${$.stock} ${$.unit} (Min: ${$.minStockLevel||5})`,type:"stock",priority:$.stock<1?"high":"medium"})):f==="payments"?u.filter($=>!(!["system_due","party_due","party_deadline"].includes($.type||"")||O&&!$.title.toLowerCase().includes(O))).map($=>({id:$.id,title:$.title,subtitle:$.amount?`Dues: Rs. ${ne($.amount)}`:Mt($.date),type:"payment",priority:$.priority||"medium",raw:$})):f==="personal"?u.filter($=>!(!($.type==="manual")||O&&!$.title.toLowerCase().includes(O))).map($=>({id:$.id,title:$.title,subtitle:`Due: ${Mt($.date)}`,type:"manual",priority:$.priority||"medium",raw:$})):[]})();return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl border border-gray-100 shadow-sm min-h-[400px]",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[c.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(Nh,{className:"w-5 h-5 text-emerald-600"}),"Sales Performance"]}),c.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["daily","monthly","yearly"].map(O=>c.jsx("button",{onClick:()=>i(O),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all capitalize ${r===O?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700 hover:bg-gray-200"}`,children:O},O))})]}),c.jsx("div",{className:"h-[320px] w-full",children:c.jsx(eq,{width:"100%",height:"100%",children:c.jsxs(qX,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),c.jsx(MR,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),c.jsx(GR,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#9ca3af"},dy:10,interval:r==="daily"?3:0}),c.jsx(VR,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#9ca3af"},tickFormatter:O=>`k ${(O/1e3).toFixed(0)}`}),c.jsx(J$,{cursor:{stroke:"#10b981",strokeWidth:1,strokeDasharray:"4 4"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:O=>[ne(O),"Sales"]}),c.jsx(HR,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm min-h-[400px] flex flex-col overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[c.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(Sf,{className:"w-5 h-5 text-orange-500"}),"Reminders & Alerts"]}),c.jsx("button",{onClick:()=>P(!0),className:"text-[10px] font-black uppercase bg-brand-500 text-white px-2 py-1 rounded shadow-sm hover:bg-brand-600 transition-colors",children:"Add New"})]}),c.jsxs("div",{className:"flex border-b border-gray-100 bg-white",children:[c.jsx("button",{onClick:()=>{p("payments"),v("")},className:`flex-1 py-3 text-[10px] font-black uppercase text-center border-b-2 transition-colors ${f==="payments"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Payments Aging"}),c.jsx("button",{onClick:()=>{p("stock"),v("")},className:`flex-1 py-3 text-[10px] font-black uppercase text-center border-b-2 transition-colors ${f==="stock"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Stock Alerts"}),c.jsx("button",{onClick:()=>{p("personal"),v("")},className:`flex-1 py-3 text-[10px] font-black uppercase text-center border-b-2 transition-colors ${f==="personal"?"border-brand-500 text-brand-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Manual List"})]}),c.jsx("div",{className:"p-3 border-b border-gray-50",children:c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-xl text-xs focus:ring-2 focus:ring-brand-500 outline-none transition-all",placeholder:"Filter reminders...",value:m,onChange:O=>v(O.target.value)}),c.jsx(Dt,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2.5 top-1/2 -translate-y-1/2"})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[350px]",children:D.length>0?D.map(O=>c.jsxs("div",{className:"group flex items-start gap-3 p-3 rounded-xl border border-gray-100 bg-white hover:border-brand-200 hover:bg-brand-50/20 transition-all shadow-sm",children:[c.jsx("div",{className:`shrink-0 mt-0.5 p-2 rounded-lg ${O.type==="stock"?"bg-red-50 text-red-600":O.type==="payment"?O.priority==="high"?"bg-red-50 text-red-600 animate-pulse":"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:O.type==="stock"?c.jsx(jo,{className:"w-4 h-4"}):O.type==="payment"?c.jsx(Jk,{className:"w-4 h-4"}):c.jsx(wh,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h4",{className:"text-sm font-bold text-gray-800 truncate",title:O.title,children:O.title}),c.jsx("button",{onClick:()=>j(O.id),className:"text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(ia,{className:"w-3.5 h-3.5"})})]}),c.jsxs("div",{className:`text-[11px] mt-0.5 font-medium flex items-center justify-between ${O.priority==="high"?"text-red-600":"text-gray-500"}`,children:[c.jsx("span",{children:O.subtitle}),O.priority==="high"&&c.jsx(tP,{className:"w-3 h-3 ml-1"})]})]})]},O.id)):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 text-sm py-20",children:[c.jsx(U3,{className:"w-12 h-12 mb-3 opacity-20 text-emerald-500"}),c.jsx("p",{className:"font-bold",children:"No Alerts"}),c.jsx("p",{className:"text-xs",children:"Your dashboard is clean!"})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsxs("button",{onClick:()=>e("sales-invoices"),className:"bg-emerald-50 p-5 rounded-2xl border border-emerald-100 flex items-center gap-4 hover:bg-emerald-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-emerald-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(Kk,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-emerald-900 uppercase text-xs tracking-wider",children:"New Sale"})]}),c.jsxs("button",{onClick:()=>e("purchase-bills"),className:"bg-blue-50 p-5 rounded-2xl border border-blue-100 flex items-center gap-4 hover:bg-blue-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-blue-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx($k,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-blue-900 uppercase text-xs tracking-wider",children:"New Purchase"})]}),c.jsxs("button",{onClick:()=>e("parties"),className:"bg-purple-50 p-5 rounded-2xl border border-purple-100 flex items-center gap-4 hover:bg-purple-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-purple-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(Eh,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-purple-900 uppercase text-xs tracking-wider",children:"Parties"})]}),c.jsxs("button",{onClick:()=>e("inventory"),className:"bg-orange-50 p-5 rounded-2xl border border-orange-100 flex items-center gap-4 hover:bg-orange-100 transition-all group shadow-sm",children:[c.jsx("div",{className:"bg-white p-3 rounded-xl text-orange-600 shadow-md group-hover:scale-110 transition-transform",children:c.jsx(jo,{className:"w-6 h-6"})}),c.jsx("span",{className:"font-black text-orange-900 uppercase text-xs tracking-wider",children:"Inventory"})]})]}),T&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h3",{className:"font-black text-lg text-gray-800 uppercase flex items-center gap-2",children:[c.jsx(ei,{className:"w-5 h-5 text-brand-500"})," New Reminder"]}),c.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:G,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:"Title / Details"}),c.jsx("input",{autoFocus:!0,required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:M.title,onChange:O=>k({...M,title:O.target.value}),placeholder:"e.g. Call Rajesh for payment"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-1",children:"Reminder Date"}),c.jsx("input",{type:"date",required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:M.date,onChange:O=>k({...M,date:O.target.value})})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-5 py-2 text-gray-600 font-bold text-sm hover:bg-gray-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-8 py-2.5 bg-brand-600 text-white rounded-xl font-bold text-sm hover:bg-brand-700 shadow-lg shadow-brand-600/20 active:scale-95 transition-all",children:"Create"})]})]})]})})]})},ai=(e,t)=>{if(typeof XLSX>"u"){alert("Excel library not loaded. Please check your internet connection.");return}const n=XLSX.utils.json_to_sheet(e),r=XLSX.utils.book_new();XLSX.utils.book_append_sheet(r,n,"Sheet1"),XLSX.writeFile(r,`${t}_${new Date().toISOString().split("T")[0]}.xlsx`)},$o=(e,t,n)=>{const r=window.open("","_blank");if(!r)return;const i=t.map(u=>`<th style="border:1px solid #e2e8f0; padding:12px 8px; text-align:left; background-color:#f8fafc; color:#475569; font-weight:600; font-size: 12px;">${u}</th>`).join(""),o=n.map((u,h)=>{const f=h%2===0?"#ffffff":"#fcfcfc",p=u.map(m=>`<td style="border:1px solid #e2e8f0; padding:8px; font-size: 12px; color:#334155;">${m??""}</td>`).join("");return`<tr style="background-color:${f}">${p}</tr>`}).join(""),l=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>${e}</title>
        <style>
          @page { size: A4; margin: 20mm; }
          body { font-family: 'Inter', system-ui, sans-serif; padding: 20px; color: #1e293b; }
          h1 { text-align: center; color: #0f172a; font-size: 24px; margin-bottom: 5px; }
          .meta { text-align: center; color: #64748b; font-size: 12px; margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          .footer { margin-top: 40px; text-align: center; font-size: 10px; color: #94a3b8; border-top: 1px solid #e2e8f0; padding-top: 20px; }
        </style>
      </head>
      <body>
        <h1>${e}</h1>
        <div class="meta">Generated on: ${new Date().toLocaleString()}</div>
        <table>
          <thead>
            <tr>${i}</tr>
          </thead>
          <tbody>
            ${o}
          </tbody>
        </table>
        <div class="footer">Generated by AA Pro Business Solutions</div>
        <script>
          window.onload = function() { window.print(); }
        <\/script>
      </body>
    </html>
  `;r.document.write(l),r.document.close()},nD=e=>e.map(t=>({"Item Name":t.name,Category:t.category,Type:t.type,Stock:t.stock,Unit:t.unit,"Purchase Price":t.purchasePrice,"Sale Price":t.salePrice,"Wholesale Price":t.wholesalePrice||0})),_v=e=>e.map(t=>({Name:t.name,Type:t.type,Phone:t.phone,Balance:t.balance,Status:t.balance>0?"Receivable":t.balance<0?"Payable":"Settled"})),kv=e=>e.map(t=>({Date:Mt(t.date),"Voucher No":t.id,Type:t.type,Party:t.partyName,"Total Amount":t.totalAmount,"Paid Via":t.paymentMode||"-",Remarks:t.notes||""})),rD=C.createContext(void 0),zr=()=>{const e=C.useContext(rD);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},HX=({children:e})=>{const[t,n]=C.useState([]),r=C.useCallback((o,l="info")=>{const u=Date.now().toString();n(h=>[...h,{id:u,message:o,type:l}]),setTimeout(()=>{n(h=>h.filter(f=>f.id!==u))},4e3)},[]),i=o=>{n(l=>l.filter(u=>u.id!==o))};return c.jsxs(rD.Provider,{value:{addToast:r},children:[e,c.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:t.map(o=>c.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border animate-in slide-in-from-right-full duration-300 min-w-[300px] max-w-md
              ${o.type==="success"?"bg-white border-emerald-100 text-emerald-800":""}
              ${o.type==="error"?"bg-white border-red-100 text-red-800":""}
              ${o.type==="info"?"bg-white border-blue-100 text-blue-800":""}
            `,children:[c.jsxs("div",{className:"shrink-0",children:[o.type==="success"&&c.jsx(Sh,{className:"w-5 h-5 text-emerald-500"}),o.type==="error"&&c.jsx(Ys,{className:"w-5 h-5 text-red-500"}),o.type==="info"&&c.jsx(ex,{className:"w-5 h-5 text-blue-500"})]}),c.jsx("p",{className:"text-sm font-medium flex-1 leading-snug",children:o.message}),c.jsx("button",{onClick:()=>i(o.id),className:"text-gray-400 hover:text-gray-600 shrink-0",children:c.jsx(xt,{className:"w-4 h-4"})})]},o.id))})]})},Wt=({value:e,onChange:t,placeholder:n="DD/MM/YYYY",className:r=""})=>{const[i,o]=C.useState(!1),[l,u]=C.useState(""),h=C.useRef(null),f=C.useRef(null),[p,m]=C.useState(2081),[v,b]=C.useState(0);C.useEffect(()=>{if(e){u(Mt(e));const U=Xs(new Date(e));m(U.year),b(U.month-1)}else u("")},[e]),C.useEffect(()=>{function U(D){h.current&&!h.current.contains(D.target)&&o(!1)}return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const N=U=>{let D=U.target.value.replace(/[^\d/]/g,"");(D.length===2&&!D.includes("/")||D.length===5&&D.split("/").length===2)&&(D=D+"/"),u(D.substring(0,10))},A=()=>{if(!l){t("");return}const U=N6(),D=l.split("/");let O=parseInt(D[0]),$=D.length>1&&D[1]!==""?parseInt(D[1]):U.month,F=D.length>2&&D[2]!==""?parseInt(D[2]):U.year;F<100&&(F=2e3+F);const V=`${String(O).padStart(2,"0")}/${String($).padStart(2,"0")}/${F}`;if(w6(V)){const z=Ya(F,$,O);z.setHours(12,0,0,0),t(z.toISOString()),u(V)}else u(e?Mt(e):"")},E=U=>{U.key==="Enter"&&(A(),o(!1)),U.key==="Escape"&&o(!1)},T=()=>{v===0?(b(11),m(U=>U-1)):b(U=>U-1)},P=()=>{v===11?(b(0),m(U=>U+1)):b(U=>U+1)},M=U=>{const D=Ya(p,v+1,U);D.setHours(12,0,0,0),t(D.toISOString()),o(!1)},k=U=>{U.stopPropagation(),u(""),t("")},R=jy(p,v),j=Ya(p,v+1,1).getDay(),G=()=>{const U=[];for(let D=0;D<j;D++)U.push(c.jsx("div",{className:"h-8 w-8"},`empty-${D}`));for(let D=1;D<=R;D++){const O=Ya(p,v+1,D),$=e&&new Date(e).toDateString()===O.toDateString(),F=new Date().toDateString()===O.toDateString();U.push(c.jsx("button",{type:"button",onClick:()=>M(D),className:`h-8 w-8 rounded-full text-sm flex items-center justify-center transition-colors
            ${$?"bg-brand-500 text-white font-bold":F?"bg-brand-50 text-brand-600 font-semibold border border-brand-200":"hover:bg-gray-100 text-gray-700"}
          `,children:D},D))}return U};return c.jsxs("div",{className:`relative ${r}`,ref:h,children:[c.jsxs("div",{className:"flex items-center bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-brand-500 focus-within:border-brand-500 transition-all",children:[c.jsx("div",{className:"p-2.5 text-gray-400",children:c.jsx(wh,{className:"w-4 h-4"})}),c.jsx("input",{ref:f,type:"text",className:"flex-1 bg-transparent py-2 px-1 text-sm outline-none placeholder-gray-400 dark:placeholder-gray-500 text-gray-700 dark:text-gray-200",placeholder:n,value:l,onChange:N,onKeyDown:E,onBlur:A,onFocus:()=>o(!0)}),l&&c.jsx("button",{type:"button",onClick:k,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(xt,{className:"w-4 h-4"})}),c.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2.5 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 border-l border-gray-300 dark:border-gray-600 transition-colors",children:c.jsx(Xr,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})})]}),i&&c.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 p-4 w-72 z-[100] animate-in fade-in zoom-in-95 duration-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("button",{type:"button",onClick:T,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(j3,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),c.jsxs("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:[Iy[v]," ",p]}),c.jsx("button",{type:"button",onClick:P,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:c.jsx(R3,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),c.jsx("div",{className:"grid grid-cols-7 mb-2 text-center",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(U=>c.jsx("div",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:U},U))}),c.jsx("div",{className:"grid grid-cols-7 gap-y-1 justify-items-center",children:G()}),c.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 flex justify-between",children:[c.jsx("button",{type:"button",onClick:()=>{t(""),u(""),o(!1)},className:"text-xs text-red-500 hover:text-red-600 font-medium",children:"Clear"}),c.jsx("button",{type:"button",onClick:()=>{t(new Date().toISOString()),o(!1)},className:"text-xs text-brand-600 hover:text-brand-700 dark:text-brand-400 font-medium",children:"Today"})]})]})]})},FX=({triggerAdd:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(!1),[o,l]=C.useState({type:"customer",name:"",phone:"",address:"",dueDate:""}),[u,h]=C.useState(""),[f,p]=C.useState(""),[m,v]=C.useState("receive"),[b,N]=C.useState(!1),[A,E]=C.useState(null),[T,P]=C.useState({date:new Date().toISOString(),note:"",priority:"medium"}),{addToast:M}=zr();C.useEffect(()=>{n(pe.getParties())},[r,b]),C.useEffect(()=>{e&&e>0&&I()},[e]);const k=F=>{if(F.preventDefault(),o.name){if(o.id){if(pe.updateParty(o),f){const V=Number(f),z=m==="receive"?V:-V,B=pe.getTransactions().find(K=>K.partyId===o.id&&K.type==="BALANCE_ADJUSTMENT"&&K.category==="Opening Balance");B?B.totalAmount!==z&&pe.updateTransaction(B.id,{...B,totalAmount:z,partyName:o.name||B.partyName}):V>0&&pe.addTransaction({id:`OP-${o.id}-${Date.now()}`,date:new Date().toISOString(),type:"BALANCE_ADJUSTMENT",partyId:o.id,partyName:o.name,items:[],totalAmount:z,notes:"Opening Balance",category:"Opening Balance",paymentMode:"Adjustment"})}M("Party details updated successfully","success")}else{const V=Date.now().toString();if(pe.addParty({id:V,name:o.name,phone:o.phone||"",type:o.type,address:o.address,dueDate:o.dueDate,balance:0}),f&&Number(f)>0){const z=Number(f),B=m==="receive"?z:-z;pe.addTransaction({id:`OP-${V}`,date:new Date().toISOString(),type:"BALANCE_ADJUSTMENT",partyId:V,partyName:o.name,items:[],totalAmount:B,notes:"Opening Balance",category:"Opening Balance",paymentMode:"Adjustment"})}M("New party added successfully","success")}i(!1),j(),n(pe.getParties())}else M("Party Name is required","error")},R=F=>{l({...F});const V=pe.getTransactions().find(z=>z.partyId===F.id&&z.type==="BALANCE_ADJUSTMENT"&&z.category==="Opening Balance");V?(p(Math.abs(V.totalAmount).toString()),v(V.totalAmount>=0?"receive":"pay")):(p(""),v("receive")),i(!0)},I=()=>{j(),i(!0)},j=()=>{l({type:"customer",name:"",phone:"",address:"",dueDate:""}),p(""),v("receive")},G=F=>{E(F),P({date:new Date().toISOString(),note:`Follow up payment of ${ne(Math.abs(F.balance))}`,priority:Math.abs(F.balance)>5e4?"high":"medium"}),N(!0)},U=F=>{F.preventDefault(),A&&T.note&&(pe.addManualReminder({id:Date.now().toString(),title:`FOLLOW UP: ${A.name}`,date:T.date,type:"party_due",priority:T.priority,amount:Math.abs(A.balance)}),M(`Manual reminder set for ${A.name}`,"success"),N(!1))},D=()=>{try{const F=_v(t);ai(F,"Parties_Report"),M("Exported to Excel successfully","success")}catch{M("Failed to export data","error")}},O=()=>{const F=_v(t),V=["Name","Type","Phone","Balance","Status"],z=F.map(B=>[B.Name,B.Type,B.Phone,ne(Math.abs(B.Balance)),B.Status]);$o("Parties List",V,z)},$=t.filter(F=>F.name.toLowerCase().includes(u.toLowerCase())||F.phone&&F.phone.includes(u));return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parties"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[c.jsx(Ur,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Excel"})]}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[c.jsx(Un,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Print"})]}),c.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors",children:[c.jsx(ei,{className:"w-4 h-4"}),"Add Party"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[c.jsx("div",{className:"p-4 border-b border-gray-100 flex gap-4",children:c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search parties...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:u,onChange:F=>h(F.target.value)})]})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Name"}),c.jsx("th",{className:"px-6 py-3",children:"Type"}),c.jsx("th",{className:"px-6 py-3",children:"Contact"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Balance"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[$.map(F=>c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900 flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-bold text-xs uppercase",children:F.name.substring(0,2)}),c.jsxs("div",{children:[F.name,F.dueDate&&c.jsxs("div",{className:"text-[10px] text-gray-500 flex items-center gap-1 mt-0.5",children:[c.jsx(wh,{className:"w-3 h-3"})," Due: ",Mt(F.dueDate)]})]})]}),c.jsx("td",{className:"px-6 py-4 capitalize",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${F.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:F.type})}),c.jsx("td",{className:"px-6 py-4 text-gray-500",children:F.phone||"-"}),c.jsxs("td",{className:`px-6 py-4 text-right font-bold ${F.balance>=0?"text-green-600":"text-red-600"}`,children:[ne(Math.abs(F.balance)),c.jsx("span",{className:"text-xs font-normal text-gray-400 ml-1",children:F.balance>=0?"To Rx":"To Give"})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>G(F),className:"p-1.5 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Set Manual Reminder",children:c.jsx(Sf,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(F),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(ic,{className:"w-4 h-4"})})]})})]},F.id)),$.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-400",children:"No parties found."})})]})]})})]}),r&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-4",children:o.id?"Edit Party":"Add New Party"}),c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Party Type"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"type",checked:o.type==="customer",onChange:()=>{l({...o,type:"customer"}),v("receive")}})," Customer"]}),c.jsxs("label",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"radio",name:"type",checked:o.type==="supplier",onChange:()=>{l({...o,type:"supplier"}),v("pay")}})," Supplier"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),c.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-brand-500 outline-none",value:o.name,onChange:F=>l({...o,name:F.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-brand-500 outline-none",value:o.phone||"",onChange:F=>l({...o,phone:F.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-brand-500 outline-none",value:o.address||"",onChange:F=>l({...o,address:F.target.value})})]})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ah,{className:"w-4 h-4 text-gray-500"}),c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Opening Balance"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("div",{children:c.jsx("input",{type:"number",min:"0",placeholder:"0.00",className:"w-full border border-gray-300 rounded-lg p-2 outline-none bg-white",value:f,onChange:F=>p(F.target.value)})}),c.jsx("div",{children:c.jsxs("select",{className:`w-full border border-gray-300 rounded-lg p-2 outline-none ${m==="receive"?"text-green-600 font-medium":"text-red-600 font-medium"}`,value:m,onChange:F=>v(F.target.value),children:[c.jsx("option",{value:"receive",children:"To Receive (Dr)"}),c.jsx("option",{value:"pay",children:"To Pay (Cr)"})]})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Due Date (Optional)"}),c.jsx(Wt,{value:o.dueDate||"",onChange:F=>l({...o,dueDate:F}),placeholder:"Set due date"})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>{i(!1),j()},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 font-bold",children:o.id?"Update Party":"Save Party"})]})]})]})}),b&&A&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(Sf,{className:"w-5 h-5 text-brand-500"})," Payment Reminder"]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Manual follow-up for ",A.name]})]}),c.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:`p-4 rounded-xl mb-6 text-center border-2 ${A.balance>=0?"bg-emerald-50 border-emerald-100 text-emerald-800":"bg-red-50 border-red-100 text-red-800"}`,children:[c.jsx("div",{className:"text-[10px] uppercase font-black tracking-widest opacity-60",children:"Current Total Dues"}),c.jsx("div",{className:"text-2xl font-black",children:ne(Math.abs(A.balance))}),c.jsx("div",{className:"text-xs font-bold mt-1 uppercase tracking-tighter",children:A.balance>=0?"Account Receivable":"Account Payable"})]}),c.jsxs("form",{onSubmit:U,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Follow-up Date"}),c.jsx(Wt,{value:T.date,onChange:F=>P({...T,date:F})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Priority Level"}),c.jsx("div",{className:"grid grid-cols-3 gap-2",children:["low","medium","high"].map(F=>c.jsx("button",{type:"button",onClick:()=>P({...T,priority:F}),className:`py-2 rounded-lg text-xs font-bold border-2 transition-all ${T.priority===F?"bg-brand-500 border-brand-500 text-white shadow-md":"bg-white border-gray-200 text-gray-500 hover:bg-gray-50"}`,children:F.toUpperCase()},F))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Follow-up Note"}),c.jsx("textarea",{required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none min-h-[100px] resize-none",placeholder:"e.g. Promised to pay by check tomorrow morning...",value:T.note,onChange:F=>P({...T,note:F.target.value})})]}),c.jsxs("button",{type:"submit",className:"w-full py-3.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-bold shadow-lg shadow-brand-500/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[c.jsx(Sh,{className:"w-5 h-5"})," Set Manual Reminder"]})]})]})})]})},GX=({triggerAdd:e,refreshKey:t,onNavigateToRestock:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState(!1),[u,h]=C.useState({name:"",category:"",type:"goods",stock:0,minStockLevel:5,purchasePrice:0,salePrice:0,unit:"pcs"}),[f,p]=C.useState(!1),m=C.useRef(null),[v,b]=C.useState(""),[N,A]=C.useState("All Categories"),{addToast:E}=zr();C.useEffect(()=>{i(pe.getProducts())},[o,t]),C.useEffect(()=>{e&&e>0&&T()},[e]),C.useEffect(()=>{function D(O){m.current&&!m.current.contains(O.target)&&p(!1)}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const T=()=>{h({name:"",category:"",type:"goods",stock:0,minStockLevel:5,purchasePrice:0,salePrice:0,unit:"pcs"}),l(!0)},P=D=>{h({...D}),l(!0)},M=D=>{window.confirm("Are you sure you want to delete this item?")&&(pe.deleteProduct(D),i(pe.getProducts()),E("Item deleted successfully","success"))},k=D=>{if(D.preventDefault(),u.name){const O={id:u.id||Date.now().toString(),name:u.name,category:u.category||"General",type:u.type,stock:u.type==="service"?0:Number(u.stock),minStockLevel:u.type==="service"?0:Number(u.minStockLevel||0),purchasePrice:Number(u.purchasePrice),salePrice:Number(u.salePrice),wholesalePrice:Number(u.wholesalePrice),unit:u.unit||"pcs",secondaryUnit:u.secondaryUnit,conversionRatio:u.conversionRatio?Number(u.conversionRatio):void 0};u.id?(pe.updateProduct(O),E("Product updated successfully","success")):(pe.addProduct(O),E("New product added successfully","success")),l(!1),i(pe.getProducts())}else E("Product Name is required","error")},R=Array.from(new Set(r.map(D=>D.category||"General"))).filter(D=>typeof D=="string"),I=["All Categories",...R],j=r.filter(D=>{const O=D.name.toLowerCase().includes(v.toLowerCase()),$=N==="All Categories"||(D.category||"General")===N;return O&&$}),G=r.filter(D=>D.type!=="service"&&D.stock<(D.minStockLevel||5)).length,U=()=>{const D=nD(r);ai(D,"Inventory_Report")};return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(jo,{className:"w-6 h-6 text-brand-500"}),"Inventory Master"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage products, services and stock thresholds"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[G>0&&n&&c.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-orange-50 text-orange-700 border border-orange-200 rounded-lg hover:bg-orange-100 transition-all animate-pulse shadow-sm",children:[c.jsx(tP,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-bold",children:[G," Low Items"]}),c.jsx(Xr,{className:"-rotate-90 w-3 h-3"})]}),c.jsxs("button",{onClick:U,className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[c.jsx(Ur,{className:"w-4 h-4"})," Excel"]}),c.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-bold",children:[c.jsx(ei,{className:"w-4 h-4"})," Add Item"]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search items by name or category...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:v,onChange:D=>b(D.target.value)})]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"appearance-none h-full pl-4 pr-10 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 cursor-pointer",value:N,onChange:D=>A(D.target.value),children:I.map(D=>c.jsx("option",{value:D,children:D},D))}),c.jsx(Xr,{className:"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Item Details"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Stock"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Threshold"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Purchase"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Sales"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[j.map(D=>{const O=D.type!=="service"&&D.stock<(D.minStockLevel||5),$=D.type!=="service"&&D.stock<=0;return c.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-bold text-gray-900",children:D.name}),c.jsxs("div",{className:"text-[10px] text-gray-400 uppercase flex items-center gap-2",children:[D.category," ",c.jsx("span",{className:"opacity-30",children:"|"})," ",D.unit,D.type==="service"&&c.jsx("span",{className:"bg-blue-50 text-blue-600 px-1 rounded",children:"Service"})]})]}),c.jsx("td",{className:`px-6 py-4 text-center font-black text-lg ${D.type==="service"?"text-gray-300":O?"text-red-500":"text-emerald-600"}`,children:D.type==="service"?"-":D.stock}),c.jsx("td",{className:"px-6 py-4 text-center text-gray-400 font-medium",children:D.type==="service"?"-":D.minStockLevel||0}),c.jsx("td",{className:"px-6 py-4 text-right text-gray-600 font-mono",children:ne(D.purchasePrice)}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900 font-mono",children:ne(D.salePrice)}),c.jsx("td",{className:"px-6 py-4 text-center",children:D.type!=="service"&&c.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold border ${$?"bg-red-50 text-red-600 border-red-100":O?"bg-orange-50 text-orange-600 border-orange-100":"bg-emerald-50 text-emerald-600 border-emerald-100"}`,children:$?"OUT":O?"LOW":"OK"})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>P(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:c.jsx(ic,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>M(D.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(ia,{className:"w-4 h-4"})})]})})]},D.id)}),j.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:7,className:"text-center py-20 text-gray-400",children:[c.jsx(jo,{className:"w-10 h-10 mx-auto mb-2 opacity-10"}),"No items found."]})})]})]})})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(jo,{className:"w-6 h-6 text-brand-500"}),u.id?"Edit Item Details":"Register New Item"]}),c.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Product/Service Name"}),c.jsx("input",{required:!0,autoFocus:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",placeholder:"e.g. Wireless Gaming Mouse",value:u.name,onChange:D=>h({...u,name:D.target.value})})]}),c.jsxs("div",{ref:m,className:"relative",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Category"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none pr-8 font-medium",placeholder:"Select or type...",value:u.category,onChange:D=>{h({...u,category:D.target.value}),p(!0)},onFocus:()=>p(!0)}),c.jsx(Xr,{className:"absolute right-3 top-3.5 w-4 h-4 text-gray-400 pointer-events-none"})]}),f&&c.jsx("div",{className:"absolute z-20 top-full left-0 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-40 overflow-y-auto",children:R.filter(D=>D.toLowerCase().includes((u.category||"").toLowerCase())).map(D=>c.jsx("div",{className:"px-4 py-2 text-sm hover:bg-gray-50 cursor-pointer",onClick:()=>{h({...u,category:D}),p(!1)},children:D},D))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Item Type"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none bg-white font-medium",value:u.type,onChange:D=>h({...u,type:D.target.value}),children:[c.jsx("option",{value:"goods",children:"Goods (Stockable)"}),c.jsx("option",{value:"service",children:"Service (No Stock)"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Primary Unit"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",value:u.unit,onChange:D=>h({...u,unit:D.target.value}),placeholder:"pcs, kg, etc"})]}),u.type!=="service"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Current Stock"}),c.jsx("input",{type:"number",step:"any",className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:u.stock,onChange:D=>h({...u,stock:Number(D.target.value)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Min Threshold"}),c.jsx("input",{type:"number",step:"any",className:"w-full border border-orange-300 bg-orange-50/20 rounded-xl p-3 text-sm focus:ring-2 focus:ring-orange-500 outline-none font-bold",value:u.minStockLevel,onChange:D=>h({...u,minStockLevel:Number(D.target.value)}),title:"Warn if stock falls below this value"})]})]})]}),c.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-gray-100 space-y-4",children:[c.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Pricing & Margins"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1",children:"BUY PRICE (COST)"}),c.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-xl p-2.5 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-mono",value:u.purchasePrice,onChange:D=>h({...u,purchasePrice:Number(D.target.value)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold text-brand-600 mb-1",children:"RETAIL SALE PRICE"}),c.jsx("input",{type:"number",className:"w-full border border-brand-200 rounded-xl p-2.5 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-mono font-bold",value:u.salePrice,onChange:D=>h({...u,salePrice:Number(D.target.value)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-[10px] font-bold text-blue-600 mb-1",children:"WHOLESALE PRICE"}),c.jsx("input",{type:"number",className:"w-full border border-blue-200 rounded-xl p-2.5 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-mono",value:u.wholesalePrice||"",onChange:D=>h({...u,wholesalePrice:Number(D.target.value)})})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-2.5 text-gray-600 hover:bg-gray-100 rounded-xl font-medium transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-10 py-2.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-bold shadow-lg shadow-brand-500/20 active:scale-95 transition-all",children:"Save Product"})]})]})]})})]})},VX=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(""),[i,o]=C.useState("All Categories");C.useEffect(()=>{t(pe.getProducts())},[]);const l=["All Categories",...Array.from(new Set(e.map(h=>h.category||"General")))],u=e.filter(h=>{const f=h.name.toLowerCase().includes(n.toLowerCase()),p=i==="All Categories"||(h.category||"General")===i;return f&&p});return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Price List"}),c.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors border border-gray-200",children:[c.jsx(Un,{className:"w-4 h-4"}),"Print List"]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm print:shadow-none print:border-none",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-4 print:hidden",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1 max-w-md",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search items by name...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:n,onChange:h=>r(h.target.value)})]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"h-full pl-10 pr-8 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm appearance-none outline-none cursor-pointer text-gray-700",value:i,onChange:h=>o(h.target.value),children:l.map(h=>c.jsx("option",{value:h,children:h},h))}),c.jsx(sL,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium print:bg-gray-100 print:text-black",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Item Name"}),c.jsx("th",{className:"px-6 py-3",children:"Category"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Unit"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Stock"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Sales Price"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Wholesale Price"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[u.map((h,f)=>c.jsxs("tr",{className:"hover:bg-gray-50 group print:border-b print:border-gray-200",children:[c.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:h.name}),c.jsx("td",{className:"px-6 py-4 text-gray-500",children:h.category||"General"}),c.jsx("td",{className:"px-6 py-4 text-center text-gray-500 uppercase text-xs",children:h.unit}),c.jsx("td",{className:`px-6 py-4 text-center font-medium ${h.type==="service"?"text-gray-400":h.stock<5?"text-red-500":"text-gray-700"}`,children:h.type==="service"?"N/A":h.stock}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-800",children:ne(h.salePrice)}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-600",children:h.wholesalePrice?ne(h.wholesalePrice):"-"})]},h.id)),u.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No items found matching your filters."})})]})]})})]})]})};function $X(e){const t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=u=>u===0?"":u<20?t[u]:u<100?n[Math.floor(u/10)]+(u%10!==0?" "+t[u%10]:""):u<1e3?t[Math.floor(u/100)]+"Hundred "+r(u%100):u<1e5?r(Math.floor(u/1e3))+"Thousand "+r(u%1e3):u<1e7?r(Math.floor(u/1e5))+"Lakh "+r(u%1e5):r(Math.floor(u/1e7))+"Crore "+r(u%1e7),[i,o]=e.toString().split(".");let l=r(Number(i));if(o&&Number(o)>0){const u=o.padEnd(2,"0").slice(0,2);l+="and "+r(Number(u))+"Paisa "}return l.trim()+" Only"}const YX=({transaction:e,party:t,onClose:n})=>{var l;const[r,i]=C.useState(null);C.useEffect(()=>{i(pe.getBusinessProfile())},[]);const o=()=>{switch(e.type){case"SALE":return"Estimate Bill";case"PURCHASE":return"Purchase Bill";case"QUOTATION":return"Quotation";case"SALE_RETURN":return"Credit Note";case"PURCHASE_RETURN":return"Debit Note";case"PAYMENT_IN":return"Receipt Voucher";case"PAYMENT_OUT":return"Payment Voucher";default:return"Invoice"}};return r?c.jsxs("div",{className:"fixed inset-0 z-[100] bg-gray-900/50 flex items-start justify-center p-4 overflow-y-auto print:p-0 print:bg-white print:block print:static",children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @media print {
          @page {
            size: A4;
            margin: 10mm;
          }
          body {
            margin: 0;
            padding: 0;
            background: #fff;
          }
          .no-print {
            display: none !important;
          }
          .print-container {
            width: 100%;
            margin: 0;
            padding: 0;
            box-shadow: none;
            border: none;
          }
        }
      `}}),c.jsxs("div",{className:"fixed top-4 right-4 flex gap-2 no-print z-[110]",children:[c.jsx("button",{onClick:()=>window.print(),className:"bg-brand-600 text-white p-3 rounded-full shadow-xl hover:bg-brand-700 transition-all active:scale-95",title:"Print",children:c.jsx(Un,{className:"w-6 h-6"})}),c.jsx("button",{onClick:n,className:"bg-gray-800 text-white p-3 rounded-full shadow-xl hover:bg-gray-900 transition-all active:scale-95",title:"Close",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"print-container bg-white w-full max-w-[210mm] shadow-2xl p-10 mt-10 mb-10 print:mt-0 print:mb-0 print:p-0 print:max-w-none",children:[c.jsxs("div",{className:"flex justify-between items-start mb-8 border-b-2 border-gray-100 pb-6 print:border-gray-200",children:[c.jsxs("div",{className:"flex gap-5",children:[r.logoUrl?c.jsx("img",{src:r.logoUrl,alt:"Logo",className:"w-20 h-20 rounded-xl object-cover"}):c.jsx("div",{className:"w-16 h-16 rounded-xl bg-brand-50 flex items-center justify-center border border-brand-100 print:border-gray-300",children:c.jsx(Lo,{className:"w-8 h-8 text-brand-500 print:text-black"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight leading-none mb-2",children:r.name}),c.jsx("p",{className:"text-sm text-gray-600 font-medium",children:r.address}),c.jsxs("div",{className:"mt-1 space-y-0.5",children:[c.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:["PAN: ",r.pan]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Contact: ",r.phone]})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-1",children:o()}),c.jsx("div",{className:"bg-gray-900 text-white px-3 py-1 text-xs font-bold inline-block rounded uppercase tracking-widest print:bg-gray-200 print:text-black print:border print:border-black",children:e.type})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-8",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-0.5",children:"Billed To"}),c.jsx("p",{className:"text-lg font-black text-gray-900 leading-tight",children:e.partyName}),(t==null?void 0:t.address)&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.address}),(t==null?void 0:t.phone)&&c.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",t.phone]})]}),c.jsxs("div",{className:"pt-2 border-t border-dashed border-gray-100 print:border-gray-300",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Opening Balance"}),c.jsxs("p",{className:"text-sm font-bold text-gray-700",children:["Rs. ",t?ne(Math.abs(t.balance)):"0.00"]})]})]}),c.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Voucher No"}),c.jsxs("p",{className:"font-mono text-lg font-black text-gray-900",children:["#",e.id]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Date (Nepali)"}),c.jsx("p",{className:"font-bold text-gray-800",children:Mt(e.date)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Payment Mode"}),c.jsx("p",{className:"text-sm font-bold px-2 py-0.5 bg-gray-100 rounded border border-gray-200 print:border-black",children:e.paymentMode||"Credit"})]})]})]}),c.jsx("div",{className:"mb-10",children:c.jsxs("table",{className:"w-full text-sm border-collapse",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-900 text-white print:bg-gray-100 print:text-black print:border-y print:border-black",children:[c.jsx("th",{className:"py-3 px-4 text-center border border-transparent print:border-black w-16 font-black uppercase text-[10px]",children:"S.N."}),c.jsx("th",{className:"py-3 px-4 text-left border border-transparent print:border-black font-black uppercase text-[10px]",children:"Description of Goods"}),c.jsx("th",{className:"py-3 px-4 text-center border border-transparent print:border-black w-24 font-black uppercase text-[10px]",children:"Qty"}),c.jsx("th",{className:"py-3 px-4 text-right border border-transparent print:border-black w-32 font-black uppercase text-[10px]",children:"Rate (Rs)"}),c.jsx("th",{className:"py-3 px-4 text-right border border-transparent print:border-black w-32 font-black uppercase text-[10px]",children:"Total (Rs)"})]})}),c.jsxs("tbody",{children:[e.items&&e.items.length>0?e.items.map((u,h)=>c.jsxs("tr",{className:"border-b border-gray-100 print:border-gray-400",children:[c.jsx("td",{className:"py-3 px-4 text-center text-gray-500 font-mono",children:h+1}),c.jsx("td",{className:"py-3 px-4 text-left",children:c.jsx("div",{className:"font-black text-gray-900",children:u.productName})}),c.jsxs("td",{className:"py-3 px-4 text-center font-bold text-gray-700",children:[u.quantity," ",u.unit||"pcs"]}),c.jsx("td",{className:"py-3 px-4 text-right font-medium text-gray-600",children:ne(u.rate)}),c.jsx("td",{className:"py-3 px-4 text-right font-black text-gray-900",children:ne(u.amount)})]},h)):c.jsxs("tr",{className:"border-b border-gray-100 print:border-gray-400",children:[c.jsx("td",{className:"py-4 px-4 text-center text-gray-400",children:"1"}),c.jsxs("td",{className:"py-4 px-4 text-left",children:[c.jsx("div",{className:"font-bold text-gray-900 uppercase",children:e.type==="PAYMENT_IN"?"Payment Received":"Payment Made"}),e.notes&&c.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:e.notes})]}),c.jsx("td",{className:"py-4 px-4 text-center text-gray-400",children:"--"}),c.jsx("td",{className:"py-4 px-4 text-right text-gray-400",children:"--"}),c.jsx("td",{className:"py-4 px-4 text-right font-black text-gray-900",children:ne(e.totalAmount)})]}),(!e.items||e.items.length<3)&&Array.from({length:4-(((l=e.items)==null?void 0:l.length)||1)}).map((u,h)=>c.jsxs("tr",{className:"border-b border-gray-50 print:border-gray-200 opacity-20",children:[c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""}),c.jsx("td",{className:"py-6",children:""})]},`filler-${h}`))]})]})}),c.jsxs("div",{className:"grid grid-cols-12 gap-8 mb-16",children:[c.jsxs("div",{className:"col-span-7",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 print:bg-white print:border-gray-400",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Total Amount in Words"}),c.jsx("p",{className:"text-sm text-gray-900 font-black italic capitalize leading-tight",children:$X(e.totalAmount)})]}),e.notes&&c.jsxs("div",{className:"mt-4 px-1",children:[c.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Terms & Remarks"}),c.jsx("p",{className:"text-xs text-gray-600 italic leading-relaxed",children:e.notes})]})]}),c.jsxs("div",{className:"col-span-5 space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center py-1 text-sm font-bold text-gray-500",children:[c.jsx("span",{children:"Sub Total"}),c.jsx("span",{children:ne(e.subTotal||e.totalAmount)})]}),(e.discount||0)>0&&c.jsxs("div",{className:"flex justify-between items-center py-1 text-sm font-bold text-red-500",children:[c.jsx("span",{children:"Discount (-)"}),c.jsx("span",{children:ne(e.discount)})]}),(e.tax||0)>0&&c.jsxs("div",{className:"flex justify-between items-center py-1 text-sm font-bold text-gray-600",children:[c.jsx("span",{children:"VAT/Tax (+)"}),c.jsx("span",{children:ne(e.tax)})]}),c.jsxs("div",{className:"flex justify-between items-center pt-3 pb-1 border-t-2 border-gray-900 print:border-black mt-2",children:[c.jsx("span",{className:"text-lg font-black text-gray-900 uppercase",children:"Grand Total"}),c.jsxs("span",{className:"text-2xl font-black text-gray-900",children:["Rs. ",ne(e.totalAmount)]})]}),c.jsx("div",{className:"text-[10px] text-right text-gray-400 italic",children:"E. & O.E. (Errors and Omissions Excepted)"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-20 pt-10",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"border-t-2 border-gray-900 w-full mx-auto mb-3 print:border-black"}),c.jsx("p",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:"Receiver's Signature"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"border-t-2 border-gray-900 w-full mx-auto mb-3 print:border-black"}),c.jsx("p",{className:"text-[10px] font-black uppercase text-gray-500 tracking-widest",children:"Authorized Signature"})]})]}),c.jsx("div",{className:"mt-16 text-center text-[9px] text-gray-400 font-bold uppercase tracking-widest border-t border-gray-100 pt-4 print:border-gray-300",children:"Computer Generated Invoice  Generated via AA PRO Solutions"})]})]}):null},qa=({type:e,onNew:t,refreshKey:n,onEdit:r,onConvert:i})=>{const[o,l]=C.useState([]),[u,h]=C.useState([]),[f,p]=C.useState(""),[m,v]=C.useState(()=>{const z=new Date;return z.setDate(1),z.toISOString()}),[b,N]=C.useState(()=>new Date().toISOString()),[A,E]=C.useState({key:"date",direction:"desc"}),[T,P]=C.useState(null),[M,k]=C.useState(void 0);C.useEffect(()=>{const z=pe.getTransactions().filter(B=>B.type===e);l(z)},[e,n]),C.useEffect(()=>{let z=o;if(m){const B=new Date(m);B.setHours(0,0,0,0),z=z.filter(K=>new Date(K.date)>=B)}if(b){const B=new Date(b);B.setHours(23,59,59,999),z=z.filter(K=>new Date(K.date)<=B)}if(f){const B=f.toLowerCase();z=z.filter(K=>K.partyName.toLowerCase().includes(B)||K.id.toLowerCase().includes(B))}z.sort((B,K)=>{const ie=B[A.key],Z=K[A.key];return ie<Z?A.direction==="asc"?-1:1:ie>Z?A.direction==="asc"?1:-1:0}),h(z)},[o,f,m,b,A]);const R=z=>{window.confirm("Are you sure you want to void this transaction? Stock and Party Balance will be reversed.")&&(pe.deleteTransaction(z),l(B=>B.filter(K=>K.id!==z)))},I=z=>{const B=pe.getParties().find(K=>K.id===z.partyId);k(B),P(z)},j=z=>{E(B=>({key:z,direction:B.key===z&&B.direction==="asc"?"desc":"asc"}))},G=()=>{p(""),v(""),N("")},U=()=>{const z=kv(u);ai(z,`${e}_Report`)},D=()=>{const z=kv(u),B=["Date","Voucher","Party","Amount","Payment Mode","Notes"],K=z.map(ie=>[ie.Date,ie["Voucher No"],ie.Party,ne(ie["Total Amount"]),ie["Paid Via"],ie.Remarks]);$o(`${O()} Report`,B,K)},O=()=>{switch(e){case"SALE":return"Sales Invoices";case"PURCHASE":return"Purchase Bills";case"SALE_RETURN":return"Sales Return";case"PURCHASE_RETURN":return"Purchase Return";case"QUOTATION":return"Quotations";case"PURCHASE_ORDER":return"Purchase Orders";case"PAYMENT_IN":return"Payment In";case"PAYMENT_OUT":return"Payment Out";default:return"Transactions"}},$=()=>{switch(e){case"SALE":return"New Sale";case"PURCHASE":return"New Purchase";case"SALE_RETURN":return"New Return";case"PURCHASE_RETURN":return"New Return";case"QUOTATION":return"New Quotation";case"PURCHASE_ORDER":return"New Order";case"PAYMENT_IN":return"Record Payment";case"PAYMENT_OUT":return"Record Payment";default:return"New"}},F=({column:z})=>A.key!==z?c.jsx(Yk,{className:"w-3 h-3 text-gray-400 ml-1 inline opacity-0 group-hover:opacity-50"}):A.direction==="asc"?c.jsx(v3,{className:"w-3 h-3 text-brand-500 ml-1 inline"}):c.jsx(f3,{className:"w-3 h-3 text-brand-500 ml-1 inline"}),V=f||m||b;return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:O()}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Export to Excel",children:[c.jsx(Ur,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Excel"})]}),c.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Print List",children:[c.jsx(Un,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Print"})]}),c.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors shadow-sm ${e.includes("SALE")||e.includes("QUOTATION")||e==="PAYMENT_IN"?"bg-brand-500 hover:bg-brand-600":"bg-blue-500 hover:bg-blue-600"}`,children:[c.jsx(ei,{className:"w-4 h-4"}),$()]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 w-full sm:max-w-xs",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search invoice or party...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:f,onChange:z=>p(z.target.value)})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-36",children:c.jsx(Wt,{value:m,onChange:v,placeholder:"From Date"})}),c.jsx("span",{className:"text-gray-400",children:"-"}),c.jsx("div",{className:"w-36",children:c.jsx(Wt,{value:b,onChange:N,placeholder:"To Date"})})]}),V&&c.jsxs("button",{onClick:G,className:"flex items-center gap-1 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(xt,{className:"w-4 h-4"}),"Clear"]})]})]}),c.jsx("div",{className:"overflow-x-auto rounded-b-xl pb-32 lg:pb-0",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>j("date"),children:c.jsxs("div",{className:"flex items-center",children:["Date (BS)",c.jsx(F,{column:"date"})]})}),c.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>j("id"),children:c.jsxs("div",{className:"flex items-center",children:["Ref No",c.jsx(F,{column:"id"})]})}),c.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>j("partyName"),children:c.jsxs("div",{className:"flex items-center",children:["Party Name",c.jsx(F,{column:"partyName"})]})}),c.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-gray-100 transition-colors group select-none",onClick:()=>j("totalAmount"),children:c.jsxs("div",{className:"flex items-center justify-end",children:["Amount",c.jsx(F,{column:"totalAmount"})]})}),e!=="PAYMENT_IN"&&e!=="PAYMENT_OUT"&&c.jsx("th",{className:"px-6 py-3 text-center",children:"Items"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[u.map(z=>{var B;return c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsx("td",{className:"px-6 py-4 text-gray-500",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(wh,{className:"w-3 h-3"}),Mt(z.date)]})}),c.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:c.jsxs("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded text-xs text-gray-600",children:["#",z.id.slice(-6)]})}),c.jsx("td",{className:"px-6 py-4 text-gray-700 font-medium",children:z.partyName}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:ne(z.totalAmount)}),e!=="PAYMENT_IN"&&e!=="PAYMENT_OUT"&&c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded text-xs font-medium",children:[((B=z.items)==null?void 0:B.reduce((K,ie)=>K+ie.quantity,0))||0," Pcs"]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i&&(e==="QUOTATION"||e==="PURCHASE_ORDER")&&c.jsx("button",{onClick:()=>i(z),className:"p-1.5 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-colors",title:e==="QUOTATION"?"Convert to Sale":"Convert to Bill",children:c.jsx(rx,{className:"w-4 h-4 fill-current"})}),r&&c.jsx("button",{onClick:()=>r(z),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(ic,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>I(z),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Print Bill",children:c.jsx(Un,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(z.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",title:"Void Transaction",children:c.jsx(ia,{className:"w-4 h-4"})})]})})]},z.id)}),u.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-12 text-gray-400",children:o.length>0?"No records found for the selected date range. Try clearing filters.":"No records found."})})]})]})})]}),T&&c.jsx(YX,{transaction:T,party:M,onClose:()=>P(null)})]})},Ha=[1e3,500,100,50,20,10,5,2,1],KX=({type:e,initialData:t,onClose:n,onSave:r})=>{var ao;const[i,o]=C.useState([]),[l,u]=C.useState([]),[h,f]=C.useState([]),[p,m]=C.useState(""),[v,b]=C.useState(new Date().toISOString()),[N,A]=C.useState(""),[E,T]=C.useState(""),[P,M]=C.useState("Credit"),[k,R]=C.useState("retail"),[I,j]=C.useState(""),[G,U]=C.useState(!1),[D,O]=C.useState(0),[$,F]=C.useState(!1),[V,z]=C.useState({name:"",phone:"",address:""}),[B,K]=C.useState(!1),[ie,Z]=C.useState([]),[q,Y]=C.useState(!1),[X,H]=C.useState(Ha.map(oe=>({denomination:oe,count:0}))),[me,Ne]=C.useState(Ha.map(oe=>({denomination:oe,count:0}))),[ue,we]=C.useState([{id:"1",productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),[Ue,ae]=C.useState(0),[Ee,Pe]=C.useState(""),[ge,wt]=C.useState(!1),[$e,Ct]=C.useState(0),gt=C.useRef(new Map),Cn=C.useRef(null),qr=C.useRef(null),Si=C.useRef(null),{addToast:tr}=zr();C.useEffect(()=>{const oe=pe.getParties();o(oe),u(pe.getProducts()),f(pe.getAccounts()),t?Al(t,oe):A(Ni())},[t,e]),C.useEffect(()=>{const oe=ve=>{Cn.current&&!Cn.current.contains(ve.target)&&wt(!1),qr.current&&!qr.current.contains(ve.target)&&U(!1)};return document.addEventListener("mousedown",oe),()=>document.removeEventListener("mousedown",oe)},[]);const Ni=()=>{const oe=pe.getTransactions().filter(ye=>ye.type===e);let ve=0;return oe.forEach(ye=>{const je=parseInt(ye.id);!isNaN(je)&&je<1e8&&je>ve&&(ve=je)}),(ve+1).toString()},Al=(oe,ve)=>{m(oe.partyId);const ye=ve.find(_e=>_e.id===oe.partyId);j(ye?ye.name:oe.partyName),b(oe.date);const je=oe.id===""||oe.type!==e;if(A(je?Ni():oe.id),T(oe.notes||""),oe.accountId)M(oe.accountId);else if(oe.paymentMode==="Credit")M("Credit");else{const _e=pe.getAccounts().find(Be=>Be.type===oe.paymentMode)||pe.getAccounts().find(Be=>Be.isDefault);M(_e?_e.id:"Credit")}if(oe.items){const _e=oe.items.map((Be,Kt)=>({id:Kt.toString(),productId:Be.productId,productName:Be.productName,quantity:Be.quantity,unit:Be.unit||"",rate:Be.rate,discountAmount:Be.discount||"",amount:Be.amount}));_e.push({id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}),we(_e)}oe.cashBreakdown&&(H(oe.cashBreakdown.received),Ne(oe.cashBreakdown.returned))},ro=oe=>{R(oe);const ve=ue.map(ye=>{if(!ye.productId)return ye;const je=l.find(Be=>Be.id===ye.productId);if(!je)return ye;let _e=oe==="retail"?je.salePrice:oe==="wholesale"?je.wholesalePrice||je.salePrice:je.purchasePrice;return ye.unit&&je.secondaryUnit&&ye.unit===je.secondaryUnit&&je.conversionRatio&&(_e=parseFloat((_e/je.conversionRatio).toFixed(2))),{...ye,rate:_e,amount:(Number(ye.quantity)||0)*_e-(Number(ye.discountAmount)||0)}});we(ve),tr(`Switched to ${oe} pricing mode. All rates updated.`,"info")},hn=()=>{const oe=i.find(ve=>ve.id==="1"||ve.name.toLowerCase().includes("walk-in"));oe&&(m(oe.id),j(oe.name),U(!1))},Cl=oe=>{m(oe.id),j(oe.name),U(!1)},de=()=>{z({name:I,phone:"",address:""}),F(!0),U(!1)},be=oe=>{const ve=Number(oe.quantity)||0,ye=Number(oe.rate)||0,je=Number(oe.discountAmount)||0;return ve*ye-je},De=()=>{if(!Ee)return[];const oe=Ee.toLowerCase();return l.filter(ve=>ve.name.toLowerCase().includes(oe)||ve.id.includes(oe)).slice(0,10)},Ve=()=>{if(!I&&!G)return[];const oe=I.toLowerCase();return i.filter(ve=>ve.name.toLowerCase().includes(oe)||ve.phone&&ve.phone.includes(oe))},We=(oe,ve,ye)=>{const je=[...ue],_e={...je[oe]};if(ve==="productName")_e.productName=ye,Pe(ye),wt(!0),Ct(0),ye===""&&(_e.productId="",_e.unit="",_e.rate="");else if(ve==="unit"){_e.unit=ye;const Be=l.find(Kt=>Kt.id===_e.productId);if(Be){let Kt=k==="wholesale"?Be.wholesalePrice||Be.salePrice:k==="cost"?Be.purchasePrice:Be.salePrice;ye===Be.secondaryUnit&&Be.conversionRatio?_e.rate=parseFloat((Kt/Be.conversionRatio).toFixed(2)):_e.rate=Kt}}else _e[ve]=ye===""?"":Number(ye);_e.amount=be(_e),je[oe]=_e,we(je)},Tn=(oe,ve)=>{const ye=[...ue],je=ye[oe];je.productId=ve.id,je.productName=ve.name,je.unit=ve.unit,je.quantity=1,je.rate=k==="wholesale"?ve.wholesalePrice||ve.salePrice:k==="cost"?ve.purchasePrice:ve.salePrice,je.amount=be(je),ye[oe]=je,we(ye),Pe(""),wt(!1),ct(oe,"quantity")},Hr=oe=>{ue.length<=1?we([{id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]):we(ue.filter((ve,ye)=>ye!==oe))},nn=()=>{const oe=Date.now().toString();we(ve=>[...ve,{id:oe,productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),setTimeout(()=>ct(ue.length,"productName"),50)},ct=(oe,ve)=>{const ye=`${oe}-${ve}`,je=gt.current.get(ye);je&&(je.focus(),je instanceof HTMLInputElement&&je.select()),ae(oe)},$t=(oe,ve,ye)=>{var je;if(ye==="productName"&&ge){const _e=De();if(oe.key==="ArrowDown"){oe.preventDefault(),Ct(Be=>(Be+1)%_e.length);return}if(oe.key==="ArrowUp"){oe.preventDefault(),Ct(Be=>(Be-1+_e.length)%_e.length);return}if(oe.key==="Enter"){oe.preventDefault(),_e.length>0&&Tn(ve,_e[$e]);return}if(oe.key==="Escape"){wt(!1);return}}oe.key==="Enter"&&(oe.preventDefault(),ye==="productName"?ct(ve,"quantity"):ye==="quantity"?ue[ve].productId&&((je=l.find(Be=>Be.id===ue[ve].productId))==null?void 0:je.secondaryUnit)?ct(ve,"unit"):ct(ve,"rate"):ye==="unit"?ct(ve,"rate"):ye==="rate"?ct(ve,"discountAmount"):ye==="discountAmount"&&(ve===ue.length-1?ue[ve].productName&&nn():ct(ve+1,"productName")))},ot=(oe=!1)=>{const ve=ue.filter(rt=>rt.productName.trim()!=="");if(!p){tr("Please select a party","error");return}if(ve.length===0){tr("Please add at least one item","error");return}if(e==="PURCHASE"&&!oe){const rt=[];if(ve.forEach(nr=>{if(!nr.productId)return;const _n=l.find(ga=>ga.id===nr.productId);if(_n){let ga=Number(nr.rate);nr.unit&&_n.secondaryUnit&&nr.unit===_n.secondaryUnit&&_n.conversionRatio&&(ga*=_n.conversionRatio),ga>_n.purchasePrice&&rt.push({productId:_n.id,productName:_n.name,oldPurchasePrice:_n.purchasePrice,newPurchasePrice:ga,newSalePrice:_n.salePrice,newWholesalePrice:_n.wholesalePrice||_n.salePrice})}}),rt.length>0){Z(rt),K(!0);return}}const ye=i.find(rt=>rt.id===p),je=ve.reduce((rt,nr)=>rt+nr.amount,0);let _e,Be=P;if(P!=="Credit"){const rt=h.find(nr=>nr.id===P);rt&&(_e=rt.id,Be=rt.type==="Cash"?"Cash":"Bank")}const Kt={id:N,date:v,type:e,partyId:p,partyName:(ye==null?void 0:ye.name)||"Unknown",items:ve.map(rt=>({productId:rt.productId||`custom-${Date.now()}`,productName:rt.productName,quantity:Number(rt.quantity),unit:rt.unit,rate:Number(rt.rate),discount:Number(rt.discountAmount),amount:rt.amount})),subTotal:je,totalAmount:je,notes:E,paymentMode:Be,accountId:_e,cashBreakdown:Be==="Cash"?{received:X,returned:me}:void 0};t&&t.id===N&&t.type===e?(pe.updateTransaction(t.id,Kt),r()):(pe.addTransaction(Kt),e==="SALE"?(tr("Sale saved. Ready for next.","success"),we([{id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),m(""),j(""),T(""),M("Credit"),R("retail"),A(Ni()),H(Ha.map(rt=>({denomination:rt,count:0}))),Ne(Ha.map(rt=>({denomination:rt,count:0}))),setTimeout(()=>{var rt;return(rt=Si.current)==null?void 0:rt.focus()},100)):r())},rn=ue.reduce((oe,ve)=>oe+ve.amount,0),Yt=X.reduce((oe,ve)=>oe+ve.denomination*ve.count,0),Cc=me.reduce((oe,ve)=>oe+ve.denomination*ve.count,0),io=Yt-Cc,Jo=()=>e==="SALE"?"Sale":e==="PURCHASE"?"Purchase":e.replace("_"," "),Xo=((ao=h.find(oe=>oe.id===P))==null?void 0:ao.type)==="Cash",Ei=()=>{const oe=pe.getCashDrawer();let ve=Yt-rn;if(ve<=0){Ne(Ha.map(_e=>({denomination:_e,count:0})));return}const ye=new Map;oe.notes.forEach(_e=>ye.set(_e.denomination,_e.count)),X.forEach(_e=>{const Be=ye.get(_e.denomination)||0;ye.set(_e.denomination,Be+_e.count)});const je=[];for(const _e of Ha){const Be=ye.get(_e)||0;if(Be>0&&ve>=_e){const Kt=Math.min(Math.floor(ve/_e),Be);je.push({denomination:_e,count:Kt}),ve-=Kt*_e}else je.push({denomination:_e,count:0})}Ne(je),ve>0?tr(`Warning: Only ${ne(Yt-rn-ve)} in physical notes available in drawer. Still short: ${ne(ve)}`,"info"):tr("Auto-suggested change from available drawer notes.","success")};return c.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col h-screen",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-white shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:c.jsx(xt,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[t&&t.id===N?"Edit":"New"," ",Jo()]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Press ",c.jsx("kbd",{className:"bg-gray-100 px-1 rounded",children:"Enter"})," to move, ",c.jsx("kbd",{className:"bg-gray-100 px-1 rounded",children:"Ctrl+S"})," to save"]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[(e==="SALE"||e==="QUOTATION")&&c.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1 border border-gray-200 mr-4 shadow-inner",children:[c.jsxs("button",{onClick:()=>ro("retail"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all flex items-center gap-1.5 ${k==="retail"?"bg-white text-brand-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[c.jsx(nx,{className:"w-3 h-3"})," Retail"]}),c.jsxs("button",{onClick:()=>ro("wholesale"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all flex items-center gap-1.5 ${k==="wholesale"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[c.jsx(Qk,{className:"w-3 h-3"})," Wholesale"]}),c.jsxs("button",{onClick:()=>ro("cost"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all flex items-center gap-1.5 ${k==="cost"?"bg-white text-orange-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[c.jsx(K3,{className:"w-3 h-3"})," Cost"]})]}),c.jsxs("div",{className:"text-right mr-4 hidden md:block",children:[c.jsx("span",{className:"block text-xs text-gray-500 uppercase tracking-wider",children:"Total Amount"}),c.jsx("span",{className:"block text-xl font-bold text-brand-600",children:ne(rn)})]}),c.jsxs("button",{onClick:()=>ot(),className:"flex items-center gap-2 px-6 py-2.5 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 shadow-md transition-all active:scale-95",children:[c.jsx(cl,{className:"w-5 h-5"}),t||e!=="SALE"?"Save Invoice":"Save & New"]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm grid grid-cols-1 md:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"md:col-span-5 relative",ref:qr,children:[c.jsxs("div",{className:"flex justify-between mb-1.5",children:[c.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Party"}),e==="SALE"&&c.jsxs("button",{onClick:hn,className:"text-xs text-brand-600 font-medium hover:underline flex items-center gap-1",children:[c.jsx(rx,{className:"w-3 h-3"})," Quick Cash"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{ref:Si,autoFocus:!t,type:"text",className:"w-full pl-9 pr-8 p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"Search Party...",value:I,onChange:oe=>{j(oe.target.value),U(!0),m("")},onFocus:()=>U(!0)}),c.jsx(Dt,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),G&&c.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 mt-1 max-h-60 overflow-y-auto",children:Ve().length===0?c.jsx("div",{className:"p-1",children:c.jsxs("button",{onClick:de,className:"w-full text-left p-2.5 bg-brand-50 text-brand-700 hover:bg-brand-100 rounded-md text-sm font-bold flex items-center gap-2",children:[c.jsx(ei,{className:"w-4 h-4"}),'Create "',I,'"']})}):Ve().map((oe,ve)=>c.jsxs("div",{className:"p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group hover:bg-blue-50",onClick:()=>Cl(oe),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.phone||"No Phone"})]}),c.jsx("div",{className:`text-xs px-2 py-0.5 rounded ${oe.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:oe.type})]},oe.id))})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Invoice Date"}),c.jsx(Wt,{value:v,onChange:b})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Invoice No"}),c.jsx("input",{type:"text",className:"w-full p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm font-mono outline-none",value:N,onChange:oe=>A(oe.target.value)})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Payment"}),c.jsxs("div",{className:"flex gap-1",children:[c.jsxs("select",{className:"flex-1 p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:P,onChange:oe=>M(oe.target.value),children:[c.jsx("option",{value:"Credit",children:"Credit (Due)"}),c.jsx("optgroup",{label:"Paid Now",children:h.map(oe=>c.jsx("option",{value:oe.id,children:oe.name},oe.id))})]}),Xo&&c.jsx("button",{onClick:()=>Y(!0),className:`p-2.5 rounded-lg border flex items-center justify-center transition-all ${Yt>0?"bg-emerald-50 border-emerald-200 text-emerald-600 shadow-sm":"bg-white border-gray-300 text-gray-400 hover:bg-gray-50"}`,title:"Cash Note Breakdown",children:c.jsx(Ir,{className:"w-5 h-5"})})]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden min-h-[400px] flex flex-col",children:[c.jsxs("div",{className:"grid grid-cols-[40px_minmax(250px,2fr)_100px_80px_100px_100px_120px_40px] gap-2 bg-gray-50 border-b border-gray-200 px-4 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider sticky top-0 z-10",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Product Name"}),c.jsx("div",{children:"Quantity"}),c.jsx("div",{children:"Unit"}),c.jsx("div",{children:"Rate"}),c.jsx("div",{children:"Discount"}),c.jsx("div",{className:"text-right",children:"Amount"}),c.jsx("div",{})]}),c.jsxs("div",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[ue.map((oe,ve)=>c.jsxs("div",{className:`grid grid-cols-[40px_minmax(250px,2fr)_100px_80px_100px_100px_120px_40px] gap-2 items-start px-2 py-1.5 rounded-lg border ${Ue===ve?"bg-blue-50/50 border-blue-200":"bg-white border-transparent"}`,children:[c.jsx("div",{className:"flex items-center justify-center h-9 text-gray-400 font-medium text-sm",children:ve+1}),c.jsxs("div",{className:"relative",children:[c.jsx(Dt,{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-400"}),c.jsx("input",{ref:ye=>{ye&&gt.current.set(`${ve}-productName`,ye)},type:"text",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm outline-none",placeholder:"Search Item...",value:oe.productName,onChange:ye=>We(ve,"productName",ye.target.value),onKeyDown:ye=>$t(ye,ve,"productName"),onFocus:()=>{ae(ve),wt(!0),Pe(oe.productName)}}),ge&&Ue===ve&&c.jsx("div",{ref:Cn,className:"absolute top-full left-0 w-[400px] bg-white border border-gray-200 rounded-lg shadow-xl z-50 mt-1 max-h-60 overflow-y-auto",children:De().map((ye,je)=>c.jsxs("div",{className:"p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group hover:bg-blue-50",onClick:()=>Tn(ve,ye),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm",children:ye.name}),c.jsx("div",{className:"text-xs text-gray-500 flex gap-2 mt-0.5",children:c.jsxs("span",{children:["Stock: ",ye.stock," ",ye.unit]})})]}),c.jsx("div",{className:"text-right font-bold text-brand-600 text-sm",children:ne(e.includes("SALE")?k==="wholesale"?ye.wholesalePrice||ye.salePrice:k==="cost"?ye.purchasePrice:ye.salePrice:ye.purchasePrice)})]},ye.id))})]}),c.jsx("div",{children:c.jsx("input",{ref:ye=>{ye&&gt.current.set(`${ve}-quantity`,ye)},type:"number",min:"0",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-center",placeholder:"Qty",value:oe.quantity,onChange:ye=>We(ve,"quantity",ye.target.value),onKeyDown:ye=>$t(ye,ve,"quantity"),onFocus:ye=>{ae(ve),ye.target.select()}})}),c.jsx("div",{children:c.jsx("div",{className:"h-9 flex items-center justify-center text-sm text-gray-500 bg-gray-50 border border-gray-200 rounded-md",children:oe.unit||"-"})}),c.jsx("div",{children:c.jsx("input",{ref:ye=>{ye&&gt.current.set(`${ve}-rate`,ye)},type:"number",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-right",placeholder:"Rate",value:oe.rate,onChange:ye=>We(ve,"rate",ye.target.value),onKeyDown:ye=>$t(ye,ve,"rate"),onFocus:ye=>{ae(ve),ye.target.select()}})}),c.jsx("div",{children:c.jsx("input",{ref:ye=>{ye&&gt.current.set(`${ve}-discountAmount`,ye)},type:"number",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-right",placeholder:"Dis.",value:oe.discountAmount,onChange:ye=>We(ve,"discountAmount",ye.target.value),onKeyDown:ye=>$t(ye,ve,"discountAmount"),onFocus:ye=>{ae(ve),ye.target.select()}})}),c.jsx("div",{className:"h-9 flex items-center justify-end px-2 font-bold text-gray-800 text-sm",children:ne(oe.amount)}),c.jsx("div",{className:"flex items-center justify-center h-9",children:ue.length>1&&c.jsx("button",{onClick:()=>Hr(ve),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-lg",children:c.jsx(ia,{className:"w-4 h-4"})})})]},oe.id)),c.jsx("div",{className:"px-2 pt-2",children:c.jsxs("button",{onClick:nn,className:"flex items-center gap-1 text-sm text-brand-600 font-medium hover:bg-brand-50 px-3 py-2 rounded-lg",children:[c.jsx(ei,{className:"w-4 h-4"})," Add Line Item"]})})]}),c.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Internal Notes"}),c.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm outline-none",rows:2,placeholder:"Add details...",value:E,onChange:oe=>T(oe.target.value)})]}),c.jsxs("div",{className:"flex flex-col gap-2 justify-center md:items-end",children:[c.jsxs("div",{className:"flex justify-between w-full md:w-64 text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Sub Total:"}),c.jsx("span",{className:"font-bold text-gray-900",children:ne(rn)})]}),c.jsxs("div",{className:"flex justify-between w-full md:w-64 text-lg border-t border-gray-200 pt-2 mt-1",children:[c.jsx("span",{className:"font-bold text-gray-800",children:"Grand Total:"}),c.jsx("span",{className:"font-bold text-brand-600",children:ne(rn)})]})]})]})]})]})}),q&&c.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[70] p-4 backdrop-blur-sm animate-in fade-in duration-200",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:"bg-emerald-600 p-6 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Ir,{className:"w-6 h-6"})," Cash Calculator"]}),c.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Breakdown of notes received and returned as change."})]}),c.jsx("button",{onClick:()=>Y(!1),className:"text-white/80 hover:text-white",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between items-center",children:[c.jsx("span",{children:"RECEIVED FROM CUSTOMER"}),c.jsx("span",{className:"text-emerald-600 font-black",children:ne(Yt)})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:X.map((oe,ve)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${oe.count>0?"bg-emerald-50 border-emerald-200":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${oe.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:oe.denomination}),c.jsx(xt,{className:"w-3 h-3 text-gray-300"})]}),c.jsx("input",{type:"number",min:"0",className:"w-16 p-1.5 border border-gray-300 rounded-lg text-center font-bold",value:oe.count||"",onChange:ye=>{const je=parseInt(ye.target.value)||0;H(_e=>_e.map((Be,Kt)=>Kt===ve?{...Be,count:je}:Be))}}),c.jsx("span",{className:"w-20 text-right font-bold text-gray-600",children:ne(oe.denomination*oe.count)})]},oe.denomination))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between items-center",children:[c.jsx("span",{children:"GIVE BACK (CHANGE)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[Yt>rn&&c.jsxs("button",{onClick:Ei,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded border border-emerald-100 font-bold hover:bg-emerald-100 transition-colors flex items-center gap-1",children:[c.jsx(Bu,{className:"w-3 h-3"})," Auto-Suggest"]}),c.jsx("span",{className:"text-red-600 font-black",children:ne(Cc)})]})]}),c.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4 flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold text-gray-500",children:"REQUIRED CHANGE:"}),c.jsx("span",{className:"font-black text-gray-800 text-lg",children:ne(Math.max(0,Yt-rn))})]}),c.jsx("div",{className:"grid grid-cols-1 gap-2",children:me.map((oe,ve)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${oe.count>0?"bg-red-50 border-red-200":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${oe.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:oe.denomination}),c.jsx(xt,{className:"w-3 h-3 text-gray-300"})]}),c.jsx("input",{type:"number",min:"0",className:"w-16 p-1.5 border border-gray-300 rounded-lg text-center font-bold",value:oe.count||"",onChange:ye=>{const je=parseInt(ye.target.value)||0;Ne(_e=>_e.map((Be,Kt)=>Kt===ve?{...Be,count:je}:Be))}}),c.jsx("span",{className:"w-20 text-right font-bold text-gray-600",children:ne(oe.denomination*oe.count)})]},oe.denomination))})]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[c.jsxs("div",{className:"flex gap-8",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Bill Amount"}),c.jsx("p",{className:"text-lg font-bold text-gray-800",children:ne(rn)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Net Physical Paid"}),c.jsx("p",{className:`text-lg font-bold ${io===rn?"text-emerald-600":"text-orange-500"}`,children:ne(io)})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>{H(Ha.map(oe=>({denomination:oe,count:0}))),Ne(Ha.map(oe=>({denomination:oe,count:0})))},className:"px-4 py-2 text-gray-500 flex items-center gap-2",children:[c.jsx(IL,{className:"w-4 h-4"})," Reset"]}),c.jsx("button",{onClick:()=>Y(!1),className:"px-8 py-2.5 bg-emerald-600 text-white rounded-xl font-bold shadow-lg shadow-emerald-600/20 hover:bg-emerald-700",children:"Done"})]})]})]})})]})},py=[1e3,500,100,50,20,10,5,2,1],JX=({type:e,initialData:t,onClose:n,onSave:r})=>{const[i,o]=C.useState([]),[l,u]=C.useState([]),[h,f]=C.useState(""),[p,m]=C.useState(""),[v,b]=C.useState(!1),[N,A]=C.useState(0);C.useRef(null);const[E,T]=C.useState(new Date().toISOString()),[P,M]=C.useState(Date.now().toString().slice(-6)),[k,R]=C.useState(""),[I,j]=C.useState("1"),[G,U]=C.useState(""),[D,O]=C.useState(!1),[$,F]=C.useState(py.map(ue=>({denomination:ue,count:0}))),[V,z]=C.useState(py.map(ue=>({denomination:ue,count:0}))),B=e==="PAYMENT_IN",{addToast:K}=zr();C.useEffect(()=>{const ue=pe.getParties();if(o(ue),u(pe.getAccounts()),t){f(t.partyId);const we=ue.find(Ue=>Ue.id===t.partyId);m(we?we.name:t.partyName),T(t.date),M(t.id),R(t.totalAmount),U(t.notes||""),t.accountId&&j(t.accountId),t.cashBreakdown&&(F(t.cashBreakdown.received),z(t.cashBreakdown.returned))}},[t]);const ie=ue=>{if(ue.preventDefault(),!h||!k)return;const we=i.find(Pe=>Pe.id===h),Ue=l.find(Pe=>Pe.id===I),ae=(Ue==null?void 0:Ue.type)==="Cash",Ee={id:P,date:E,type:e,partyId:h,partyName:(we==null?void 0:we.name)||"Unknown",items:[],totalAmount:Number(k),notes:G,accountId:I,paymentMode:ae?"Cash":"Bank",cashBreakdown:ae?{received:$,returned:V}:void 0};t?pe.updateTransaction(t.id,Ee):pe.addTransaction(Ee),r()},Z=i.filter(ue=>ue.name.toLowerCase().includes(p.toLowerCase())),q=l.find(ue=>ue.id===I),Y=(q==null?void 0:q.type)==="Cash",X=$.reduce((ue,we)=>ue+we.denomination*we.count,0),H=V.reduce((ue,we)=>ue+we.denomination*we.count,0),me=X-H,Ne=()=>{const ue=pe.getCashDrawer();let we=X-Number(k||0);if(we<=0)return;const Ue=[],ae=new Map(ue.notes.map(Ee=>[Ee.denomination,Ee.count]));$.forEach(Ee=>ae.set(Ee.denomination,(ae.get(Ee.denomination)||0)+Ee.count));for(const Ee of py){const Pe=ae.get(Ee)||0;if(Pe>0&&we>=Ee){const ge=Math.min(Math.floor(we/Ee),Pe);Ue.push({denomination:Ee,count:ge}),we-=ge*Ee}else Ue.push({denomination:Ee,count:0})}z(Ue),K("Change auto-suggested from drawer availability.","info")};return c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:`px-6 py-4 border-b flex items-center justify-between ${B?"bg-emerald-50 border-emerald-100":"bg-red-50 border-red-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${B?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:B?c.jsx($k,{className:"w-5 h-5"}):c.jsx(Kk,{className:"w-5 h-5"})}),c.jsx("h2",{className:`text-lg font-bold ${B?"text-emerald-900":"text-red-900"}`,children:B?"Receive Payment":"Pay Out"})]}),c.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-white/50 rounded-full transition-colors",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:ie,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Voucher No"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:P,onChange:ue=>M(ue.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Date"}),c.jsx(Wt,{value:E,onChange:T})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Party"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Search Party...",value:p,onChange:ue=>{m(ue.target.value),b(!0)}}),v&&c.jsx("div",{className:"absolute top-full left-0 w-full bg-white border rounded shadow-lg z-20 max-h-40 overflow-auto mt-1",children:Z.map(ue=>c.jsx("div",{className:"p-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>{f(ue.id),m(ue.name),b(!1)},children:ue.name},ue.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Amount"}),c.jsx("input",{type:"number",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-xl font-bold focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"0.00",value:k,onChange:ue=>R(ue.target.value?Number(ue.target.value):"")})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Account / Mode"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"flex-1 p-2 border border-gray-300 rounded-lg text-sm bg-white",value:I,onChange:ue=>j(ue.target.value),children:l.map(ue=>c.jsx("option",{value:ue.id,children:ue.name},ue.id))}),Y&&c.jsx("button",{type:"button",onClick:()=>O(!0),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${X>0?"bg-emerald-50 border-emerald-200 text-emerald-600":"bg-white border-gray-300 text-gray-400"}`,title:"Notes Breakdown",children:c.jsx(Ir,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Remarks"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none",rows:2,value:G,onChange:ue=>U(ue.target.value)})]})]}),c.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",onClick:ie,className:`px-6 py-2 text-white font-bold rounded-lg shadow-sm ${B?"bg-emerald-500 hover:bg-emerald-600":"bg-red-500 hover:bg-red-600"}`,children:"Save Transaction"})]}),D&&c.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"bg-brand-600 p-6 text-white flex justify-between items-center",children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Ir,{className:"w-6 h-6"})," Cash Note Entry"]}),c.jsx("button",{onClick:()=>O(!1),className:"text-white hover:opacity-70",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between",children:[c.jsx("span",{children:"NOTES RECEIVED"})," ",c.jsx("span",{className:"text-emerald-600",children:ne(X)})]}),$.map((ue,we)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border",children:[c.jsx("span",{className:"w-12 font-bold text-gray-600",children:ue.denomination}),c.jsx("input",{type:"number",min:"0",className:"w-20 p-1 border rounded text-center",value:ue.count||"",onChange:Ue=>{const ae=parseInt(Ue.target.value)||0;F(Ee=>Ee.map((Pe,ge)=>ge===we?{...Pe,count:ae}:Pe))}}),c.jsx("span",{className:"w-24 text-right text-gray-500",children:ne(ue.denomination*ue.count)})]},ue.denomination))]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between",children:[c.jsx("span",{children:"NOTES RETURNED"})," ",c.jsx("span",{className:"text-red-600",children:ne(H)})]}),B&&c.jsxs("button",{type:"button",onClick:Ne,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold border border-emerald-100 flex items-center gap-1 mb-2",children:[c.jsx(Bu,{className:"w-3 h-3"})," Auto-Suggest Change"]}),V.map((ue,we)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border",children:[c.jsx("span",{className:"w-12 font-bold text-gray-600",children:ue.denomination}),c.jsx("input",{type:"number",min:"0",className:"w-20 p-1 border rounded text-center",value:ue.count||"",onChange:Ue=>{const ae=parseInt(Ue.target.value)||0;z(Ee=>Ee.map((Pe,ge)=>ge===we?{...Pe,count:ae}:Pe))}}),c.jsx("span",{className:"w-24 text-right text-gray-500",children:ne(ue.denomination*ue.count)})]},ue.denomination))]})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm font-bold text-gray-600",children:["Net Physical Value: ",c.jsx("span",{className:Math.abs(me)===Number(k)?"text-emerald-600":"text-orange-500",children:ne(me)})]}),c.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-8 py-2 bg-brand-600 text-white rounded-lg font-bold",children:"Done"})]})]})})]})};class XX{constructor(){this.accessToken=null}init(t,n){t.googleClientId&&(typeof google<"u"&&google.accounts?this.tokenClient=google.accounts.oauth2.initTokenClient({client_id:t.googleClientId,scope:"https://www.googleapis.com/auth/drive.file",callback:r=>{this.accessToken=r.access_token,n(r)}}):console.warn("Google Identity Services script not loaded."))}requestToken(){this.tokenClient?this.tokenClient.requestAccessToken():console.warn("Token client not initialized. Check Client ID.")}async uploadBackup(t,n){var i;if(!pe.getCloudConfig().googleClientId||!this.accessToken)return console.log("Simulating Cloud Backup..."),await new Promise(o=>setTimeout(o,2e3)),{success:!0,message:"Backup simulated successfully (No valid Google Client ID configured)."};try{const o={name:t,mimeType:"application/json"},l=new Blob([n],{type:"application/json"}),u=new FormData;u.append("metadata",new Blob([JSON.stringify(o)],{type:"application/json"})),u.append("file",l);const h=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`},body:u});if(!h.ok){const f=await h.json();throw new Error(((i=f.error)==null?void 0:i.message)||"Upload failed")}return{success:!0,message:"Backup uploaded to Google Drive successfully."}}catch(o){return console.error("Drive Upload Error:",o),{success:!1,message:`Upload failed: ${o.message}`}}}generateBackupData(){const t=pe.getBackupData();return JSON.stringify(t,null,2)}}const iD=new XX,WX=({onBack:e})=>{const[t,n]=C.useState("items"),[r,i]=C.useState(!1),[o,l]=C.useState(null),[u,h]=C.useState([]),[f,p]=C.useState(""),[m,v]=C.useState(""),[b,N]=C.useState(!1),[A,E]=C.useState(null),T=C.useRef(null),{addToast:P}=zr(),M=[{"Item Name":"Coca Cola 2L",Category:"Drinks","Sales Price":120,"Purchase Price":80,"Opening Stock":25,Unit:"pcs"},{"Item Name":"Real Juice 250ml",Category:"General","Sales Price":50,"Purchase Price":35,"Opening Stock":60,Unit:"pcs"}],k=[{"Party Name":"Hari Basnet","Phone Number":"9800000000","Customer/Supplier":"Customer","Opening Balance":500,"Receivable/Payable":"Receivable",Address:"Kathmandu"},{"Party Name":"ABC Traders","Phone Number":"014000000","Customer/Supplier":"Supplier","Opening Balance":1e4,"Receivable/Payable":"Payable",Address:"Pokhara"}],R=()=>{l(null),v(""),p(""),E(null),h([]),T.current&&(T.current.value="")},I=z=>{n(z),R()},j=z=>{z.preventDefault(),z.stopPropagation(),z.type==="dragenter"||z.type==="dragover"?i(!0):z.type==="dragleave"&&i(!1)},G=z=>{z.preventDefault(),z.stopPropagation(),i(!1),z.dataTransfer.files&&z.dataTransfer.files[0]&&D(z.dataTransfer.files[0])},U=z=>{z.preventDefault(),z.target.files&&z.target.files[0]&&D(z.target.files[0]),z.target.value=""},D=z=>{if(l(z),p(""),v(""),h([]),E(null),t==="backup"){if(!(z.type==="application/json"||z.name.toLowerCase().endsWith(".json"))){p("Please upload a valid JSON backup file.");return}const ie=new FileReader;ie.onload=Z=>{var q,Y;try{const X=JSON.parse((q=Z.target)==null?void 0:q.result);if(!X.transactions&&!X.profile&&!X.accounts){p("Invalid backup file format. Missing core data.");return}h([X]),E({company:X.companyName||((Y=X.profile)==null?void 0:Y.name)||"Unknown Company",date:X.generatedAt||new Date().toISOString(),transactions:Array.isArray(X.transactions)?X.transactions.length:0,products:Array.isArray(X.products)?X.products.length:0,parties:Array.isArray(X.parties)?X.parties.length:0,accounts:Array.isArray(X.accounts)?X.accounts.length:0,reminders:Array.isArray(X.reminders)?X.reminders.length:0,serviceJobs:Array.isArray(X.serviceJobs)?X.serviceJobs.length:0,hasCashDrawer:!!X.cashDrawer,version:X.appVersion||"Legacy"})}catch{p("Failed to parse JSON file. It might be corrupted.")}},ie.readAsText(z);return}if(typeof XLSX>"u"){p("Excel processing library not loaded. Please check internet connection.");return}const B=new FileReader;B.onload=K=>{var ie;try{const Z=(ie=K.target)==null?void 0:ie.result,q=XLSX.read(Z,{type:"binary"}),Y=q.SheetNames[0],X=q.Sheets[Y],H=XLSX.utils.sheet_to_json(X);h(H)}catch{p("Failed to parse Excel file. Please ensure it is a valid .xlsx or .xls file.")}},B.readAsBinaryString(z)},O=()=>{if(typeof XLSX>"u"){p("Library not loaded.");return}const z=t==="items"?M:k,B=XLSX.utils.json_to_sheet(z),K=XLSX.utils.book_new();XLSX.utils.book_append_sheet(K,B,"Sample"),XLSX.writeFile(K,`sample_${t}.xlsx`)},$=async()=>{try{const z=iD.generateBackupData(),B=new Date,K=X=>String(X).padStart(2,"0"),ie=`${B.getFullYear()}-${K(B.getMonth()+1)}-${K(B.getDate())}`,Z=`${K(B.getHours())}-${K(B.getMinutes())}-${K(B.getSeconds())}`,q=`aapro_backup_${ie}_${Z}.json`;let Y=!1;if("showSaveFilePicker"in window)try{const H=await(await window.showSaveFilePicker({suggestedName:q,types:[{description:"JSON Backup File",accept:{"application/json":[".json"]}}]})).createWritable();await H.write(z),await H.close(),P("Backup saved successfully","success"),Y=!0}catch(X){if(X.name==="AbortError")return;console.warn("File picker skipped/failed, falling back to download:",X)}if(!Y){const X=new Blob([z],{type:"application/json"}),H=URL.createObjectURL(X),me=document.createElement("a");me.href=H,me.download=q,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(H),P("Backup file downloaded","success")}}catch(z){console.error(z),P("Failed to generate backup","error")}},F=async()=>{if(u.length!==0){N(!0);try{if(t==="backup"){const z=u[0],B=await pe.restoreData(z);B.success?(v("Database restored successfully. Application will reload shortly..."),setTimeout(()=>window.location.reload(),2500)):p(B.message)}else if(t==="items"){const z=[];u.forEach((B,K)=>{B["Item Name"]&&z.push({id:Date.now().toString()+K,name:B["Item Name"],category:B.Category||"General",stock:Number(B["Opening Stock"]||B.Stock||B.stock||0),purchasePrice:Number(B["Purchase Price"])||0,salePrice:Number(B["Sales Price"])||0,wholesalePrice:Number(B["Wholesale Price"])||0,unit:B.Unit||"pcs"})}),await pe.bulkAddProducts(z),v(`Successfully processed ${z.length} items.`)}else{const z=pe.getParties(),B=new Set(z.map(Z=>Z.name.toLowerCase())),K=[],ie=[];u.forEach((Z,q)=>{if(!Z["Party Name"])return;const Y=Z["Party Name"].trim();if(B.has(Y.toLowerCase())||K.some(Ne=>Ne.name.toLowerCase()===Y.toLowerCase()))return;let X=Number(Z["Opening Balance"])||0;(Z["Receivable/Payable"]||"").toLowerCase().includes("payable")?X=-Math.abs(X):X=Math.abs(X);const me=`${Date.now()}_${q}`;K.push({id:me,name:Y,phone:Z["Phone Number"]||"",type:(Z["Customer/Supplier"]||"Customer").toLowerCase().includes("supplier")?"supplier":"customer",address:Z.Address,balance:0}),X!==0&&ie.push({id:`OP-IMP-${me}`,date:new Date().toISOString(),type:"BALANCE_ADJUSTMENT",partyId:me,partyName:Y,items:[],totalAmount:X,notes:"Opening Balance (Imported)",category:"Opening Balance",paymentMode:"Adjustment"})}),K.length>0?(await pe.bulkAddParties(K),ie.forEach(Z=>pe.addTransaction(Z)),v(`Successfully processed ${K.length} new parties.`)):v("No new parties found to import (duplicates skipped).")}t!=="backup"&&(l(null),h([]))}catch(z){p("Error importing data. Please check file format."),console.error(z)}finally{N(!1)}}},V=()=>t==="backup"?"Restore Database":t==="items"?"Import Items":"Import Parties";return c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:V()}),c.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>I("items"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="items"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Import Items"}),c.jsx("button",{onClick:()=>I("parties"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="parties"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Import Parties"}),c.jsx("button",{onClick:()=>I("backup"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="backup"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Restore Backup"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 h-fit",children:[c.jsx("h3",{className:"font-bold text-lg mb-6 text-gray-800",children:t==="backup"?"Restore Instructions":`Import ${t==="items"?"Items":"Parties"} in 3 Steps`}),t==="backup"?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-100 text-orange-800 text-sm flex gap-3",children:[c.jsx(Ys,{className:"w-5 h-5 shrink-0"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Warning:"})," Restoring a backup will completely ",c.jsx("u",{children:"replace"})," your current data (Items, Parties, Transactions, Service Jobs, and Cash Drawer). Ensure you have a backup of the current state if needed."]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"1. Locate Backup File"}),c.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Find the ",c.jsx("code",{children:".json"}),' file you previously downloaded using the "Backup Data" button in settings.']})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"2. Review & Restore"}),c.jsx("p",{className:"text-sm text-gray-500",children:'Upload the file to see a summary of the data inside. Click "Confirm & Restore" to apply.'})]})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"1. Download the file & Fill Data"}),c.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Download our sample excel file and enter your data according to the file format."}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:[c.jsx(Xk,{className:"w-4 h-4"}),"Download Sample File"]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"2. Review & Adjust Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Review the data to be imported from the app. If there are any errors, fix it in the excel and re-upload."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"3. Confirm & Import"}),c.jsxs("p",{className:"text-sm text-gray-500",children:["When everything is ready to import you can start the import process.",c.jsx("br",{}),c.jsx("span",{className:"text-emerald-600 font-medium text-xs mt-1 block",children:"Note: Duplicate entries (by name) will be skipped to prevent errors."})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[!A&&c.jsxs("div",{className:`border-2 border-dashed rounded-xl h-80 flex flex-col items-center justify-center transition-all cursor-pointer bg-gray-50
                      ${r?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-brand-400 hover:bg-gray-100"}
                      ${o?"bg-emerald-50 border-emerald-500":""}
                   `,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:G,onClick:()=>{var z;return(z=T.current)==null?void 0:z.click()},children:[c.jsx("input",{ref:T,type:"file",className:"hidden",accept:t==="backup"?".json":".xlsx, .xls",onChange:U}),o?c.jsxs("div",{className:"text-center p-6",children:[t==="backup"?c.jsx(Nf,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}):c.jsx(Ur,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),c.jsx("p",{className:"font-bold text-gray-800 text-lg mb-1",children:o.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(o.size/1024).toFixed(2)," KB"]}),u.length>0&&t!=="backup"&&c.jsxs("div",{className:"mt-4 inline-block bg-white px-3 py-1 rounded-full text-xs font-semibold text-emerald-700 border border-emerald-200",children:[u.length," records found"]}),c.jsx("p",{className:"text-xs text-gray-400 mt-8",children:"Click to replace file"})]}):c.jsxs("div",{className:"text-center p-6",children:[c.jsx(r6,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"font-bold text-gray-800 text-lg mb-2",children:"Click to Upload or drag and drop"}),c.jsx("p",{className:"text-sm text-gray-500",children:t==="backup"?"Only .json backup files are supported":"Only excel files (.xlsx, .xls) are supported."})]})]}),A&&t==="backup"&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm animate-in fade-in zoom-in-95",children:[c.jsxs("div",{className:"bg-brand-500 p-4 text-white flex justify-between items-center",children:[c.jsxs("div",{className:"font-bold flex items-center gap-2",children:[c.jsx(Nf,{className:"w-5 h-5"}),"Backup Data Verification"]}),c.jsx("button",{onClick:()=>{E(null),l(null)},className:"text-white/80 hover:text-white text-xs bg-brand-600 px-2 py-1 rounded",children:"Change File"})]}),c.jsxs("div",{className:"p-5 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-100 pb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center font-bold text-xl shrink-0",children:A.company.substring(0,1).toUpperCase()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-800",children:A.company}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Backup Date: ",new Date(A.date).toLocaleString()]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(tx,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:A.transactions}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Transactions"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(jo,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:A.products}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Products"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(Eh,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:A.parties}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Parties"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(Ef,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:A.serviceJobs}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Service Jobs"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(Ir,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-emerald-600",children:A.hasCashDrawer?"Yes":"No"}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Cash Drawer"})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100",children:[c.jsx(Sf,{className:"w-5 h-5 mx-auto text-gray-400 mb-1"}),c.jsx("div",{className:"font-bold text-gray-800",children:A.reminders}),c.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:"Reminders"})]})]}),c.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-xs flex gap-2 items-start border border-red-100",children:[c.jsx(Ys,{className:"w-4 h-4 shrink-0 mt-0.5"}),c.jsxs("p",{children:["Confirming restore will ",c.jsx("b",{children:"permanently overwrite"}),' your existing data for "',pe.getBusinessProfile().name,'".']})]})]})]}),f&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 text-red-700",children:[c.jsx(Ys,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm",children:f})]}),m&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3 text-green-700",children:[c.jsx(Sh,{className:"w-5 h-5 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm",children:m})]}),(u.length>0||A)&&!m&&c.jsxs("button",{onClick:t==="backup"?F:$,disabled:b,className:`w-full py-3 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 ${t==="backup"?"bg-red-500 hover:bg-red-600 shadow-red-500/30":"bg-brand-500 hover:bg-brand-600 shadow-brand-500/30"}`,children:[b?"Processing...":t==="backup"?"Confirm & Restore Everything":"Confirm & Import Data",!b&&(t==="backup"?c.jsx(Zk,{className:"w-5 h-5"}):c.jsx(wf,{className:"w-5 h-5"}))]}),t!=="backup"&&u.length>0&&!m&&c.jsxs("button",{onClick:F,disabled:b,className:"w-full py-3 text-white bg-emerald-500 rounded-xl font-bold shadow-lg hover:bg-emerald-600 transition-all flex items-center justify-center gap-2",children:[b?"Processing...":"Start Import",!b&&c.jsx(wf,{className:"w-5 h-5"})]})]})]})]})},QX=()=>{const[e,t]=C.useState([]),[n,r]=C.useState(""),[i,o]=C.useState([]),[l,u]=C.useState(!1),[h,f]=C.useState(""),[p,m]=C.useState(null);C.useEffect(()=>{v()},[]),C.useEffect(()=>{n&&b(n)},[n]);const v=async()=>{const T=await pe.listTables();t(T),T.length>0&&!n&&r(T[0])},b=async T=>{u(!0);try{const P=await pe.getTableData(T);o(P)}catch(P){console.error(P)}finally{u(!1)}},N=i.filter(T=>JSON.stringify(T).toLowerCase().includes(h.toLowerCase())),E=(()=>{if(i.length===0)return[];const T=new Set;return i.slice(0,10).forEach(P=>{typeof P=="object"&&P!==null&&Object.keys(P).forEach(M=>T.add(M))}),Array.from(T)})();return c.jsxs("div",{className:"flex flex-col h-[600px] bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nf,{className:"w-5 h-5 text-gray-500"}),c.jsx("h2",{className:"font-bold text-gray-700",children:"DB Browser"}),c.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:"IndexedDB"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:n,onChange:T=>r(T.target.value),className:"appearance-none bg-white border border-gray-300 text-gray-700 py-1.5 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 shadow-sm font-medium",children:e.map(T=>c.jsx("option",{value:T,children:T},T))}),c.jsx(Xr,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),c.jsx("button",{onClick:()=>b(n),className:"p-2 bg-white border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Refresh Data",children:c.jsx(Js,{className:`w-4 h-4 ${l?"animate-spin":""}`})})]})]}),c.jsxs("div",{className:"p-2 border-b border-gray-200 flex gap-2",children:[c.jsxs("div",{className:"flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1.5 w-full max-w-md",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400 mr-2"}),c.jsx("input",{type:"text",placeholder:"Filter data...",className:"bg-transparent border-none outline-none text-sm w-full",value:h,onChange:T=>f(T.target.value)})]}),c.jsxs("div",{className:"ml-auto text-xs text-gray-500 flex items-center px-2",children:[N.length," Records"]})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsx("div",{className:`flex-1 overflow-auto ${p?"w-2/3 border-r border-gray-200":"w-full"}`,children:c.jsxs("table",{className:"w-full text-xs text-left border-collapse",children:[c.jsx("thead",{className:"bg-gray-100 text-gray-600 font-semibold sticky top-0 z-10 shadow-sm",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 border-b border-r border-gray-200 w-10 text-center",children:"#"}),E.map(T=>c.jsx("th",{className:"p-2 border-b border-r border-gray-200 min-w-[100px] whitespace-nowrap overflow-hidden text-ellipsis",children:T},T))]})}),c.jsxs("tbody",{children:[N.map((T,P)=>c.jsxs("tr",{onClick:()=>m(T),className:`cursor-pointer hover:bg-blue-50 transition-colors ${p===T?"bg-blue-100":"even:bg-gray-50"}`,children:[c.jsx("td",{className:"p-2 border-b border-r border-gray-200 text-center text-gray-400",children:P+1}),E.map(M=>{const k=T[M];let R=k;return typeof k=="object"&&k!==null?R=Array.isArray(k)?`[Array(${k.length})]`:"{Object}":typeof k=="boolean"&&(R=k?"true":"false"),c.jsx("td",{className:"p-2 border-b border-r border-gray-200 max-w-[200px] whitespace-nowrap overflow-hidden text-ellipsis font-mono text-gray-700",children:String(R)},M)})]},P)),N.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:E.length+1,className:"p-8 text-center text-gray-400",children:l?"Loading...":"No records found"})})]})]})}),p&&c.jsxs("div",{className:"w-1/3 flex flex-col bg-gray-50 overflow-hidden shadow-xl z-20",children:[c.jsxs("div",{className:"p-3 border-b border-gray-200 bg-white flex justify-between items-center shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm text-gray-700",children:[c.jsx(N3,{className:"w-4 h-4 text-brand-500"}),"JSON Viewer"]}),c.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-red-500",children:c.jsx(xt,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4 font-mono text-xs text-gray-800 bg-gray-50",children:c.jsx("pre",{className:"whitespace-pre-wrap break-all",children:JSON.stringify(p,null,2)})})]})]})]})},ZX=()=>{const[e,t]=C.useState("profile"),[n,r]=C.useState({name:"",address:"",pan:"",phone:"",email:"",logoUrl:""}),[i,o]=C.useState({mode:"local"}),[l,u]=C.useState({enabled:!1,autoBackup:!1,backupSchedules:["16:00"],googleClientId:""}),[h,f]=C.useState({username:"",password:"",confirmPassword:""}),[p,m]=C.useState(null),[v,b]=C.useState([]),{addToast:N}=zr();C.useEffect(()=>{A()},[]);const A=async()=>{r(pe.getBusinessProfile()),o(pe.getDatabaseConfig()),u(pe.getCloudConfig());const k=zu.getStoredCredentials();if(f({username:k.username,password:k.password,confirmPassword:k.password}),navigator.storage&&navigator.storage.estimate){const j=await navigator.storage.estimate();j.usage!==void 0&&j.quota!==void 0&&m({usage:j.usage,quota:j.quota,percent:j.usage/j.quota*100})}const R=await pe.listTables(),I=await Promise.all(R.map(async j=>({table:j,count:(await pe.getTableData(j)).length})));b(I)},E=k=>{if(k===0)return"0 Bytes";const R=1024,I=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(k)/Math.log(R));return parseFloat((k/Math.pow(R,j)).toFixed(2))+" "+I[j]},T=k=>{k.preventDefault(),pe.updateBusinessProfile(n),N("Company profile updated successfully","success")},P=k=>{if(k.preventDefault(),h.password!==h.confirmPassword){N("Passwords do not match!","error");return}zu.updateCredentials(h.username,h.password),N("Credentials updated. Please use new details for next login.","success")},M=async()=>{try{const k=iD.generateBackupData(),R=`AAPro_Backup_${n.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.json`,I=new Blob([k],{type:"application/json"}),j=URL.createObjectURL(I),G=document.createElement("a");G.href=j,G.download=R,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(j),N("System backup file generated","success")}catch{N("Backup failed","error")}};return c.jsxs("div",{className:"p-4 lg:p-8 max-w-5xl mx-auto h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings & Utilities"}),c.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"Build v2.1.0-PRO"})]}),c.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide shrink-0",children:[{id:"profile",label:"Company Profile",icon:bh},{id:"database",label:"System Storage",icon:Nf},{id:"security",label:"Login & Security",icon:zL},{id:"cloud",label:"Backup Data",icon:oE},{id:"import",label:"Restore Data",icon:Js},{id:"db-browser",label:"Data Explorer",icon:Dt}].map(k=>c.jsxs("button",{onClick:()=>t(k.id),className:`px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wider flex items-center gap-2 transition-all whitespace-nowrap border-2 ${e===k.id?"bg-brand-500 border-brand-500 text-white shadow-lg shadow-brand-500/20":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-100 dark:border-gray-700 hover:border-brand-200"}`,children:[c.jsx(k.icon,{className:"w-4 h-4"})," ",k.label]},k.id))}),c.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl shadow-sm overflow-hidden flex flex-col min-h-0",children:c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[e==="profile"&&c.jsxs("form",{onSubmit:T,className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Company Configuration"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"These details appear on your printed invoices and reports."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Business Name"}),c.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.name,onChange:k=>r({...n,name:k.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"PAN/VAT Number"}),c.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.pan,onChange:k=>r({...n,pan:k.target.value})})]}),c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Address"}),c.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.address,onChange:k=>r({...n,address:k.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Contact Phone"}),c.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.phone,onChange:k=>r({...n,phone:k.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Email (Optional)"}),c.jsx("input",{type:"email",className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.email,onChange:k=>r({...n,email:k.target.value})})]})]}),c.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 dark:border-gray-700",children:c.jsx("button",{type:"submit",className:"px-8 py-3 bg-brand-500 text-white rounded-xl font-bold hover:bg-brand-600 transition-all shadow-lg shadow-brand-500/20 active:scale-95",children:"Save Business Profile"})})]}),e==="database"&&c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Storage Analysis"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Deep look into your browser-based database (IndexedDB)."})]}),c.jsx("button",{onClick:A,className:"p-2 text-gray-400 hover:text-brand-500 transition-colors",children:c.jsx(Js,{className:"w-5 h-5"})})]}),p&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-6 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:[c.jsx(eL,{className:"w-8 h-8 text-emerald-600 mb-4"}),c.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold uppercase mb-1",children:"Database Usage"}),c.jsx("p",{className:"text-2xl font-black text-emerald-700 dark:text-emerald-400",children:E(p.usage)}),c.jsx("div",{className:"mt-4 h-2 bg-emerald-200 dark:bg-emerald-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-emerald-600 rounded-full",style:{width:`${Math.max(1,p.percent)}%`}})})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border border-blue-100 dark:border-blue-800",children:[c.jsx(k3,{className:"w-8 h-8 text-blue-600 mb-4"}),c.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold uppercase mb-1",children:"Available Quota"}),c.jsx("p",{className:"text-2xl font-black text-blue-700 dark:text-blue-400",children:E(p.quota)}),c.jsx("p",{className:"text-[10px] text-blue-500 mt-2 font-medium",children:"BROWSER-MANAGED ALLOCATION"})]}),c.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 p-6 rounded-2xl border border-orange-100 dark:border-orange-800",children:[c.jsx(T3,{className:"w-8 h-8 text-orange-600 mb-4"}),c.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold uppercase mb-1",children:"Table Count"}),c.jsxs("p",{className:"text-2xl font-black text-orange-700 dark:text-orange-400",children:[v.length," Total"]}),c.jsx("p",{className:"text-[10px] text-orange-500 mt-2 font-medium",children:"OFFLINE-FIRST SCHEMA"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 font-bold text-gray-700 dark:text-white text-sm",children:"Table Breakdown"}),c.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:v.map(k=>c.jsxs("div",{className:"px-6 py-4 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-400"}),c.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 capitalize",children:k.table})]}),c.jsxs("span",{className:"font-mono text-xs font-bold text-gray-400",children:[k.count," Records"]})]},k.table))})]})]}),e==="security"&&c.jsxs("form",{onSubmit:P,className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[c.jsx(Wk,{className:"w-5 h-5 text-brand-500"})," Account Security"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Change your system login email and password."})]}),c.jsxs("div",{className:"space-y-5 max-w-md",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Login Email"}),c.jsx("input",{type:"email",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white font-medium",value:h.username,onChange:k=>f({...h,username:k.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"New Password"}),c.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white font-medium",value:h.password,onChange:k=>f({...h,password:k.target.value})})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Confirm New Password"}),c.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white font-medium",value:h.confirmPassword,onChange:k=>f({...h,confirmPassword:k.target.value})})]})]}),c.jsx("div",{className:"flex justify-start pt-4 border-t border-gray-100 dark:border-gray-700",children:c.jsxs("button",{type:"submit",className:"px-8 py-3 bg-gray-800 dark:bg-gray-700 text-white rounded-xl font-bold hover:bg-black dark:hover:bg-gray-600 transition-all shadow-lg active:scale-95 flex items-center gap-2",children:[c.jsx(cl,{className:"w-4 h-4"})," Update Credentials"]})})]}),e==="cloud"&&c.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[c.jsx(oE,{className:"w-5 h-5 text-blue-500"})," System Backup"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Download a full snapshot of your current company data."})]}),c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-10 rounded-3xl border border-emerald-100 dark:border-emerald-800 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl",children:c.jsx(Xk,{className:"w-10 h-10 text-emerald-600"})}),c.jsx("h3",{className:"font-black text-emerald-900 dark:text-emerald-400 text-2xl mb-2",children:"Create Local Backup"}),c.jsxs("p",{className:"text-emerald-700 dark:text-emerald-500/80 text-sm max-w-md mx-auto mb-8 leading-relaxed",children:["Generate a secure ",c.jsx("b",{children:".json"})," file containing all transactions, inventory, and party ledgers. Store this file safely in your personal cloud or physical drive."]}),c.jsx("button",{onClick:M,className:"px-12 py-4 bg-brand-500 text-white rounded-2xl font-black uppercase tracking-widest text-xs hover:bg-brand-600 transition-all shadow-xl shadow-brand-500/30 active:scale-95",children:"Download Snapshot Now"})]}),c.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-100 dark:border-gray-600",children:[c.jsx(ex,{className:"w-5 h-5 text-gray-400 shrink-0 mt-0.5"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed",children:"Data is encrypted at rest within your browser. Local backups are recommended at the end of every business day."})]})]}),e==="import"&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4 mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[c.jsx(Js,{className:"w-5 h-5 text-brand-500"})," System Restore"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Reload an existing backup or import new spreadsheet data."})]}),c.jsx(WX,{onBack:()=>t("profile")})]}),e==="db-browser"&&c.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4 mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[c.jsx(Dt,{className:"w-5 h-5 text-brand-500"})," Advanced Explorer"]}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Direct technical view of the system's underlying tables."})]}),c.jsx(QX,{})]})]})})]})},eW=({onNew:e,refreshKey:t,onEdit:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState([]),[u,h]=C.useState(""),[f,p]=C.useState("All Category"),[m,v]=C.useState("All Payment Modes"),[b,N]=C.useState(""),[A,E]=C.useState([]),[T,P]=C.useState([]);C.useEffect(()=>{M()},[t]),C.useEffect(()=>{k()},[r,u,f,m,b]);const M=()=>{const G=pe.getTransactions().filter(O=>O.type==="EXPENSE");i(G);const U=Array.from(new Set(G.map(O=>O.category).filter(Boolean))),D=Array.from(new Set(G.map(O=>O.paymentMode).filter(Boolean)));E(["All Category",...U]),P(["All Payment Modes",...D])},k=()=>{let G=[...r];if(u){const U=u.toLowerCase();G=G.filter(D=>D.id.toLowerCase().includes(U)||D.notes&&D.notes.toLowerCase().includes(U)||D.totalAmount.toString().includes(U))}if(f!=="All Category"&&(G=G.filter(U=>U.category===f)),m!=="All Payment Modes"&&(G=G.filter(U=>U.paymentMode===m)),b){const U=b.split("T")[0];G=G.filter(D=>D.date.split("T")[0]===U)}l(G)},R=G=>{window.confirm("Are you sure you want to delete this expense?")&&(pe.deleteTransaction(G),M())},I=()=>{h(""),p("All Category"),v("All Payment Modes"),N("")},j=u||f!=="All Category"||m!=="All Payment Modes"||b;return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Expenses (",r.length,")"]}),c.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:[c.jsx(ei,{className:"w-4 h-4"}),"Add New Expense"]})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center bg-white rounded-lg px-3 py-2 border border-gray-200 flex-1 lg:max-w-xs shadow-sm focus-within:ring-2 focus-within:ring-emerald-500 focus-within:border-emerald-500",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search Expense...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full placeholder-gray-400",value:u,onChange:G=>h(G.target.value)})]}),c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-sm cursor-pointer",value:f,onChange:G=>p(G.target.value),children:A.length===0?c.jsx("option",{children:"All Category"}):A.map(G=>c.jsx("option",{value:G,children:G},G))}),c.jsx(Xr,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-sm cursor-pointer",value:m,onChange:G=>v(G.target.value),children:T.length===0?c.jsx("option",{children:"All Payment Modes"}):T.map(G=>c.jsx("option",{value:G,children:G},G))}),c.jsx(Xr,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),c.jsx("div",{className:"w-40",children:c.jsx(Wt,{value:b,onChange:N,placeholder:"All Date",className:"bg-white"})}),j&&c.jsx("button",{onClick:I,className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Clear Filters",children:c.jsx(xt,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"lg:ml-auto",children:c.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm text-gray-700 hover:bg-gray-50 shadow-sm",children:[c.jsx(Yk,{className:"w-4 h-4"}),"Sort By"]})})]}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Exp No."}),c.jsx("th",{className:"px-6 py-4",children:"Category"}),c.jsx("th",{className:"px-6 py-4",children:"Date"}),c.jsx("th",{className:"px-6 py-4",children:"Payment Mode"}),c.jsx("th",{className:"px-6 py-4",children:"Total Amount"}),c.jsx("th",{className:"px-6 py-4",children:"Remarks"}),c.jsx("th",{className:"px-6 py-4",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.map(G=>c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsxs("td",{className:"px-6 py-4 text-gray-900 font-medium",children:["#",G.id.slice(-6)]}),c.jsx("td",{className:"px-6 py-4 text-gray-700",children:G.category||"-"}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:Mt(G.date)}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:G.paymentMode||"Cash"}),c.jsx("td",{className:"px-6 py-4 text-gray-900 font-bold",children:ne(G.totalAmount)}),c.jsx("td",{className:"px-6 py-4 text-gray-500 max-w-xs truncate",title:G.notes,children:G.notes||"--"}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>n(G),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(ic,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(G.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(ia,{className:"w-4 h-4"})})]})})]},G.id)),o.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-400 bg-gray-50/50",children:"No expenses found matching your criteria."})})]})]})})})]})},my=[1e3,500,100,50,20,10,5,2,1],tW=["Rent","Utilities","Salary","Petrol","Transportation","Tea & Snacks","Maintenance","Office Supplies","Internet","Telephone","Marketing","Other"],nW=({initialData:e,onClose:t,onSave:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState(Date.now().toString().slice(-6)),[u,h]=C.useState(new Date().toISOString()),[f,p]=C.useState("Petrol"),[m,v]=C.useState("1"),[b,N]=C.useState(""),[A,E]=C.useState(""),[T,P]=C.useState(""),[M,k]=C.useState(!1),[R,I]=C.useState(my.map(z=>({denomination:z,count:0}))),[j,G]=C.useState(my.map(z=>({denomination:z,count:0}))),{addToast:U}=zr();C.useEffect(()=>{i(pe.getAccounts()),e&&(l(e.id),h(e.date),p(e.category||"Other"),N(e.totalAmount),E(e.notes||""),P(e.partyName!=="General Expense"?e.partyName:""),e.accountId&&v(e.accountId),e.cashBreakdown&&(I(e.cashBreakdown.received),G(e.cashBreakdown.returned)))},[e]);const D=z=>{if(z.preventDefault(),!b||!f)return;const B=r.find(Z=>Z.id===m),K=(B==null?void 0:B.type)==="Cash",ie={id:o,date:u,type:"EXPENSE",partyId:"",partyName:T||"General Expense",items:[],totalAmount:Number(b),notes:A,category:f,accountId:m,paymentMode:K?"Cash":"Bank",cashBreakdown:K?{received:R,returned:j}:void 0};e?pe.updateTransaction(e.id,ie):pe.addTransaction(ie),n()},O=r.find(z=>z.id===m),$=(O==null?void 0:O.type)==="Cash",F=j.reduce((z,B)=>z+B.denomination*B.count,0),V=()=>{const z=pe.getCashDrawer();let B=Number(b||0);if(B<=0)return;const K=[],ie=new Map(z.notes.map(Z=>[Z.denomination,Z.count]));for(const Z of my){const q=ie.get(Z)||0;if(q>0&&B>=Z){const Y=Math.min(Math.floor(B/Z),q);K.push({denomination:Z,count:Y}),B-=Y*Z}else K.push({denomination:Z,count:0})}G(K),U("Notes auto-suggested from drawer availability.","info")};return c.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 rounded-lg bg-orange-100 text-orange-600",children:c.jsx(tx,{className:"w-5 h-5"})}),c.jsx("div",{children:c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e?"Edit Expense":"Add New Expense"})})]}),c.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition-colors",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:D,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Expense No"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none font-mono bg-gray-50",value:o,readOnly:!!e,onChange:z=>l(z.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Date"}),c.jsx("div",{className:"w-full",children:c.jsx(Wt,{value:u,onChange:h})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Category"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",value:f,onChange:z=>p(z.target.value),children:tW.map(z=>c.jsx("option",{value:z,children:z},z))}),c.jsx(Xr,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Total Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:"Rs."}),c.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",className:"w-full border border-gray-300 rounded-lg pl-10 pr-4 py-3 text-xl font-bold text-gray-800 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:b,onChange:z=>N(z.target.value?Number(z.target.value):"")})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Paid From"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("select",{className:"flex-1 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",value:m,onChange:z=>v(z.target.value),children:r.map(z=>c.jsxs("option",{value:z.id,children:[z.name," (",z.type,")"]},z.id))}),$&&c.jsx("button",{type:"button",onClick:()=>k(!0),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${F>0?"bg-orange-50 border-orange-200 text-orange-600 shadow-sm":"bg-white border-gray-300 text-gray-400 hover:bg-gray-50"}`,title:"Cash Drawer Note Entry",children:c.jsx(Ir,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Paid To (Optional)"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Name of receiver...",value:T,onChange:z=>P(z.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Remarks"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none min-h-[80px] resize-none",placeholder:"Enter description...",value:A,onChange:z=>E(z.target.value)})]})]}),c.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",onClick:D,disabled:!b,className:"px-6 py-2.5 bg-emerald-500 text-white font-medium rounded-lg shadow-sm flex items-center gap-2 hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(cl,{className:"w-4 h-4"}),"Save Expense"]})]})]}),M&&c.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"bg-brand-600 p-6 text-white flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Ir,{className:"w-6 h-6"})," Cash Out Entry"]}),c.jsx("p",{className:"text-brand-100 text-xs mt-1",children:"Specify exact notes being removed from the drawer."})]}),c.jsx("button",{onClick:()=>k(!1),className:"text-white hover:opacity-70",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-200",children:[c.jsx("span",{className:"text-sm font-bold text-gray-600 uppercase",children:"Expense Amount:"}),c.jsx("span",{className:"text-xl font-black text-gray-900",children:ne(Number(b||0))})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h4",{className:"font-bold text-gray-800 text-sm uppercase",children:"Physical Notes Leaving Drawer"}),c.jsxs("button",{type:"button",onClick:V,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold border border-emerald-100 flex items-center gap-1",children:[c.jsx(Bu,{className:"w-3 h-3"})," Auto-Suggest"]})]}),c.jsx("div",{className:"space-y-2",children:j.map((z,B)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all ${z.count>0?"bg-brand-50 border-brand-200":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${z.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:z.denomination}),c.jsx(xt,{className:"w-3 h-3 text-gray-300"})]}),c.jsx("input",{type:"number",min:"0",className:"w-20 p-2 border border-gray-300 rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-brand-500",value:z.count||"",onChange:K=>{const ie=parseInt(K.target.value)||0;G(Z=>Z.map((q,Y)=>Y===B?{...q,count:ie}:q))}}),c.jsx("span",{className:"w-24 text-right font-bold text-gray-600",children:ne(z.denomination*z.count)})]},z.denomination))})]}),c.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Total Physical Value"}),c.jsx("div",{className:`text-lg font-bold ${F===Number(b||0)?"text-emerald-600":"text-orange-500"}`,children:ne(F)})]}),c.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-10 py-2.5 bg-brand-600 text-white rounded-xl font-bold shadow-lg hover:bg-brand-700 transition-all",children:"Done"})]})]})})]})},N_=({targetReport:e,onConsumeTarget:t,onConvertToPurchase:n})=>{const[r,i]=C.useState("DASHBOARD");C.useEffect(()=>{e&&(i(e),t&&t())},[e,t]);const o=()=>{switch(r){case"DASHBOARD":return c.jsx(E_,{onNavigate:i});case"SALES":return c.jsx(Au,{title:"Sales Report",type:"SALE",onBack:()=>i("DASHBOARD")});case"PURCHASE":return c.jsx(Au,{title:"Purchase Report",type:"PURCHASE",onBack:()=>i("DASHBOARD")});case"SALES_RETURN":return c.jsx(Au,{title:"Sales Return Report",type:"SALE_RETURN",onBack:()=>i("DASHBOARD")});case"PURCHASE_RETURN":return c.jsx(Au,{title:"Purchase Return Report",type:"PURCHASE_RETURN",onBack:()=>i("DASHBOARD")});case"DAY_BOOK":return c.jsx(rW,{onBack:()=>i("DASHBOARD")});case"ALL_TRANSACTIONS":return c.jsx(Au,{title:"All Transactions",type:"ALL",onBack:()=>i("DASHBOARD")});case"PROFIT_LOSS":return c.jsx(iW,{onBack:()=>i("DASHBOARD")});case"PARTY_STATEMENT":return c.jsx(aW,{onBack:()=>i("DASHBOARD")});case"ALL_PARTY_REPORT":return c.jsx(oW,{onBack:()=>i("DASHBOARD")});case"PARTY_AGING":return c.jsx(sW,{onBack:()=>i("DASHBOARD")});case"STOCK_QUANTITY":case"ITEM_LIST":return c.jsx(A_,{onBack:()=>i("DASHBOARD")});case"LOW_STOCK":return c.jsx(A_,{filter:"low",onBack:()=>i("DASHBOARD")});case"OUT_OF_STOCK":return c.jsx(lW,{onBack:()=>i("DASHBOARD"),onConvert:n});default:return c.jsx(E_,{onNavigate:i})}};return c.jsx("div",{className:"p-4 lg:p-8 max-w-full mx-auto h-full flex flex-col",children:o()})},E_=({onNavigate:e})=>{const[t,n]=C.useState("All Reports"),[r,i]=C.useState(""),l=[{title:"Transaction Report",category:"Transactions",items:[{id:"SALES",label:"Sales",desc:"View your sales data on a given time"},{id:"PURCHASE",label:"Purchase",desc:"View your purchase data on a given time"},{id:"SALES_RETURN",label:"Sales Return",desc:"View your sales return data on a given time"},{id:"PURCHASE_RETURN",label:"Purchase Return",desc:"View your purchase return data on a given time"},{id:"DAY_BOOK",label:"Day Book",desc:"View all of your daily transactions",highlight:!0},{id:"ALL_TRANSACTIONS",label:"All Transactions",desc:"View all party transactions in a given time"},{id:"PROFIT_LOSS",label:"Profit And Loss",desc:"View your profit & loss in a given time"}]},{title:"Party Report",category:"Parties",items:[{id:"PARTY_STATEMENT",label:"Party Statement",desc:"Check the transactions of certain party"},{id:"ALL_PARTY_REPORT",label:"All Party Statement",desc:"Print or download balance list of all parties"},{id:"PARTY_AGING",label:"Receivable Aging",desc:"Track overdue payments by date buckets (1wk to 4mo+)",highlight:!0}]},{title:"Inventory Report",category:"Inventory",items:[{id:"ITEM_LIST",label:"Item List Report",desc:"Detailed list of all items"},{id:"LOW_STOCK",label:"Low Stock Summary",desc:"Quick view of items running low"},{id:"OUT_OF_STOCK",label:"Restock / Auto Order",desc:"Calculate buy amount needed to replenish stock",highlight:!0},{id:"STOCK_QUANTITY",label:"Stock Quantity Report",desc:"View current stock levels"}]}].map(u=>({...u,items:u.items.filter(h=>h.label.toLowerCase().includes(r.toLowerCase())||h.desc.toLowerCase().includes(r.toLowerCase()))})).filter(u=>t!=="All Reports"&&u.category!==t&&t!=="Income Expense"&&t!=="Business Status"?!1:u.items.length>0);return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Browse Various Reports"}),c.jsxs("div",{className:"relative w-full md:w-64",children:[c.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search reports...",className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500",value:r,onChange:u=>i(u.target.value)})]})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["All Reports","Transactions","Parties","Inventory","Income Expense","Business Status"].map(u=>c.jsx("button",{onClick:()=>n(u),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-colors ${t===u?"bg-brand-500 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:u},u))}),l.length>0?l.map((u,h)=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-gray-600 font-semibold mb-4 text-lg",children:u.title}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.items.map(f=>c.jsxs("button",{onClick:()=>e(f.id),className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all text-left flex flex-col h-full group relative",children:[c.jsxs("div",{className:"flex justify-between items-start w-full mb-2",children:[c.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-brand-600 transition-colors",children:f.label}),f.highlight&&c.jsxs("span",{className:"text-xs text-brand-500 font-medium flex items-center",children:["View Report ",c.jsx(wf,{className:"w-3 h-3 ml-1"})]})]}),c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:f.desc})]},f.id))})]},h)):c.jsx("div",{className:"text-center py-12 text-gray-400",children:c.jsxs("p",{children:['No reports found matching "',r,'"']})})]})},Au=({title:e,type:t,onBack:n})=>{const[r,i]=C.useState([]),[o,l]=C.useState(""),[u,h]=C.useState(""),[f,p]=C.useState(null);C.useEffect(()=>{const A=pe.getProducts(),E=new Map;A.forEach(k=>E.set(k.id,k));const T=pe.getTransactions();let P=T;if(t!=="ALL"?P=P.filter(k=>k.type===t):P=P.filter(k=>k.type!=="EXPENSE"),o){const k=new Date(o);k.setHours(0,0,0,0),P=P.filter(R=>new Date(R.date)>=k)}if(u){const k=new Date(u);k.setHours(23,59,59,999),P=P.filter(R=>new Date(R.date)<=k)}const M=P.map(k=>{var j;let R=0;["SALE","SALE_RETURN","QUOTATION"].includes(k.type)&&((j=k.items)==null||j.forEach(G=>{const U=E.get(G.productId);if(U&&U.type!=="service"){let D=G.quantity;G.unit&&U.secondaryUnit&&G.unit===U.secondaryUnit&&U.conversionRatio&&(D=G.quantity/U.conversionRatio),R+=D*U.purchasePrice}}));let I=0;return k.type==="SALE"||k.type==="QUOTATION"?I=k.totalAmount-R:k.type==="SALE_RETURN"&&(I=R-k.totalAmount),{...k,profit:I}});if(i(M),t==="SALE"||t==="ALL"){let k=0,R=0;M.filter(O=>O.type==="SALE").forEach(O=>{var $;R+=O.totalAmount,($=O.items)==null||$.forEach(F=>{const V=E.get(F.productId);if(V&&V.type!=="service"){let z=F.quantity;F.unit&&V.secondaryUnit&&F.unit===V.secondaryUnit&&V.conversionRatio&&(z=F.quantity/V.conversionRatio),k+=z*V.purchasePrice}})});let I=T.filter(O=>O.type==="EXPENSE");if(o){const O=new Date(o);O.setHours(0,0,0,0),I=I.filter($=>new Date($.date)>=O)}if(u){const O=new Date(u);O.setHours(23,59,59,999),I=I.filter($=>new Date($.date)<=O)}const j=I.reduce((O,$)=>O+$.totalAmount,0),G=R-k,U=R>0?G/R*100:0,D=G-j;p({cogs:k,grossProfit:G,margin:U,expense:j,netProfit:D})}else p(null)},[t,o,u]);const m=r.reduce((A,E)=>A+E.totalAmount,0),v=r.reduce((A,E)=>A+E.profit,0),b=()=>{const A=r.map(E=>({...kv([E])[0],"Bill Profit":E.profit}));ai(A,e.replace(/ /g,"_"))},N=()=>{const A=["Date","Ref No","Party","Type","Amount","Profit"],E=r.map(T=>[Mt(T.date),T.id,T.partyName,T.type.replace("_"," "),ne(T.totalAmount),["SALE","SALE_RETURN"].includes(T.type)?ne(T.profit):"-"]);$o(e,A,E)};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[c.jsx("div",{className:"w-32",children:c.jsx(Wt,{value:o,onChange:l,placeholder:"From Date"})}),c.jsx("div",{className:"w-32",children:c.jsx(Wt,{value:u,onChange:h,placeholder:"To Date"})}),c.jsx("button",{onClick:b,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Export Excel",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:N,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Print",children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),f&&c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 p-4 bg-gray-50 border-b border-gray-200",children:[c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-blue-600",children:[c.jsx(Lo,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Cost of Goods"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(f.cogs)})]}),c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-emerald-600",children:[c.jsx(Nh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Gross Profit"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(f.grossProfit)})]}),c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-purple-600",children:[c.jsx(Qk,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Margin"})]}),c.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[f.margin.toFixed(1),"%"]})]}),c.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-orange-600",children:[c.jsx(Ir,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Total Expense"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(f.expense)})]}),c.jsxs("div",{className:`bg-white p-3 rounded-lg border shadow-sm ${f.netProfit>=0?"border-emerald-200":"border-red-200"}`,children:[c.jsxs("div",{className:`flex items-center gap-2 mb-1 ${f.netProfit>=0?"text-emerald-600":"text-red-600"}`,children:[c.jsx(Ah,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Net Profit"})]}),c.jsx("div",{className:`text-lg font-bold ${f.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:ne(f.netProfit)})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Date"}),c.jsx("th",{className:"px-4 py-3",children:"Ref No"}),c.jsx("th",{className:"px-4 py-3",children:"Party"}),c.jsx("th",{className:"px-4 py-3",children:"Type"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Amount"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Profit/Loss"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(A=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3",children:Mt(A.date)}),c.jsxs("td",{className:"px-4 py-3 text-gray-500 font-mono",children:["#",A.id]}),c.jsx("td",{className:"px-4 py-3 font-medium",children:A.partyName}),c.jsx("td",{className:"px-4 py-3",children:c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${A.type.includes("SALE")?"bg-emerald-50 text-emerald-600":A.type.includes("PURCHASE")?"bg-blue-50 text-blue-600":"bg-gray-100 text-gray-600"}`,children:A.type.replace("_"," ")})}),c.jsx("td",{className:"px-4 py-3 text-right font-bold text-gray-800",children:ne(A.totalAmount)}),c.jsx("td",{className:`px-4 py-3 text-right font-bold ${A.profit>=0?"text-emerald-600":"text-red-600"}`,children:["SALE","SALE_RETURN","QUOTATION"].includes(A.type)?ne(A.profit):"-"})]},A.id)),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No records found"})})]}),c.jsx("tfoot",{className:"border-t border-gray-200 bg-gray-50 font-bold",children:c.jsxs("tr",{children:[c.jsx("td",{colSpan:4,className:"px-4 py-3 text-right",children:"Total"}),c.jsx("td",{className:"px-4 py-3 text-right",children:ne(m)}),c.jsx("td",{className:`px-4 py-3 text-right ${v>=0?"text-emerald-700":"text-red-700"}`,children:ne(v)})]})})]})})]})},rW=({onBack:e})=>{const[t,n]=C.useState(new Date().toISOString()),[r,i]=C.useState([]),[o,l]=C.useState([]);C.useEffect(()=>{l(pe.getProducts())},[]),C.useEffect(()=>{const m=new Map;o.forEach(E=>m.set(E.id,E));const v=new Date(t);v.setHours(0,0,0,0);const b=new Date(t);b.setHours(23,59,59,999);const A=pe.getTransactions().filter(E=>{const T=new Date(E.date);return T>=v&&T<=b}).map(E=>{var M;let T=0;["SALE","SALE_RETURN"].includes(E.type)&&((M=E.items)==null||M.forEach(k=>{const R=m.get(k.productId);if(R&&R.type!=="service"){let I=k.quantity;k.unit&&R.secondaryUnit&&k.unit===R.secondaryUnit&&R.conversionRatio&&(I=k.quantity/R.conversionRatio),T+=I*R.purchasePrice}}));let P=0;return E.type==="SALE"?P=E.totalAmount-T:E.type==="SALE_RETURN"&&(P=T-E.totalAmount),{...E,profit:P}});i(A)},[t,o]);const u=C.useMemo(()=>{const m=r.filter(T=>T.type==="SALE").reduce((T,P)=>T+P.totalAmount,0),v=r.filter(T=>T.type==="PURCHASE").reduce((T,P)=>T+P.totalAmount,0),b=r.filter(T=>T.type==="PAYMENT_IN").reduce((T,P)=>T+P.totalAmount,0),N=r.filter(T=>T.type==="PAYMENT_OUT").reduce((T,P)=>T+P.totalAmount,0),A=r.filter(T=>T.type==="EXPENSE").reduce((T,P)=>T+P.totalAmount,0),E=r.reduce((T,P)=>T+P.profit,0)-A;return{sales:m,purchase:v,payIn:b,payOut:N,expense:A,profit:E}},[r]),h=()=>{const m=r.map(v=>{const b=v.type==="SALE"||v.type==="PAYMENT_IN"||v.type==="PURCHASE_RETURN",N=v.type==="PURCHASE"||v.type==="PAYMENT_OUT"||v.type==="EXPENSE"||v.type==="SALE_RETURN";return{Time:new Date(v.date).toLocaleTimeString(),Particulars:v.partyName,Type:v.type,"In Amount":b?v.totalAmount:0,"Out Amount":N?v.totalAmount:0,"Bill Profit":v.profit||0}});ai(m,`DayBook_${Mt(t)}`)},f=()=>{const m=["Time","Particulars","Type","In Amount","Out Amount","Profit"],v=r.map(b=>{const N=b.type==="SALE"||b.type==="PAYMENT_IN"||b.type==="PURCHASE_RETURN",A=b.type==="PURCHASE"||b.type==="PAYMENT_OUT"||b.type==="EXPENSE"||b.type==="SALE_RETURN";return[new Date(b.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),b.partyName,b.type,N?ne(b.totalAmount):"-",A?ne(b.totalAmount):"-",["SALE","SALE_RETURN"].includes(b.type)?ne(b.profit):"-"]});$o(`Day Book - ${Mt(t)}`,m,v)},p=({label:m,value:v,color:b,icon:N})=>c.jsxs("div",{className:"p-3 rounded-lg border flex flex-col justify-between h-full bg-white border-gray-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:`p-1.5 rounded-md bg-${b}-50 text-${b}-600`,children:c.jsx(N,{className:"w-4 h-4"})}),c.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase",children:m})]}),c.jsx("div",{className:`text-lg font-bold text-${b}-700`,children:ne(v)})]});return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Day Book"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-40",children:c.jsx(Wt,{value:t,onChange:n})}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Export Excel",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:f,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Print",children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 p-4 bg-gray-50 border-b border-gray-100",children:[c.jsx(p,{label:"Total Sales",value:u.sales,color:"emerald",icon:Lo}),c.jsx(p,{label:"Purchase",value:u.purchase,color:"blue",icon:Lo}),c.jsx(p,{label:"Payment In",value:u.payIn,color:"indigo",icon:WL}),c.jsx(p,{label:"Payment Out",value:u.payOut,color:"orange",icon:Nh}),c.jsx(p,{label:"Expenses",value:u.expense,color:"red",icon:Ir}),c.jsx(p,{label:"Net Profit",value:u.profit,color:u.profit>=0?"emerald":"red",icon:Ah})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Time"}),c.jsx("th",{className:"px-4 py-3",children:"Particulars"}),c.jsx("th",{className:"px-4 py-3",children:"Type"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"In Amount"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Out Amount"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Profit"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(m=>{const v=m.type==="SALE"||m.type==="PAYMENT_IN",b=m.type==="PURCHASE"||m.type==="PAYMENT_OUT"||m.type==="EXPENSE",N=m.type==="PURCHASE_RETURN",A=m.type==="SALE_RETURN",E=new Date(m.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 text-gray-500",children:E}),c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("div",{className:"font-medium text-gray-800",children:m.partyName}),c.jsxs("div",{className:"text-xs text-gray-400",children:["#",m.id]})]}),c.jsx("td",{className:"px-4 py-3 text-xs uppercase text-gray-500",children:m.type.replace("_"," ")}),c.jsx("td",{className:"px-4 py-3 text-right font-medium text-emerald-600",children:v||N?ne(m.totalAmount):"-"}),c.jsx("td",{className:"px-4 py-3 text-right font-medium text-red-600",children:b||A?ne(m.totalAmount):"-"}),c.jsx("td",{className:`px-4 py-3 text-right font-bold ${m.profit>=0?"text-emerald-600":"text-red-600"}`,children:["SALE","SALE_RETURN"].includes(m.type)?ne(m.profit):"-"})]},m.id)}),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No transactions for this day"})})]})]})})]})},iW=({onBack:e})=>{const[t,n]=C.useState(""),[r,i]=C.useState(""),[o,l]=C.useState(null),[u,h]=C.useState({totalSales:0,salesReturns:0,netSales:0,cogs:0,grossProfit:0,totalExpenses:0,netProfit:0,expensesByCategory:[]});C.useEffect(()=>{l(pe.getBusinessProfile());const m=pe.getProducts();let v=pe.getTransactions();if(t){const j=new Date(t);j.setHours(0,0,0,0),v=v.filter(G=>new Date(G.date)>=j)}if(r){const j=new Date(r);j.setHours(23,59,59,999),v=v.filter(G=>new Date(G.date)<=j)}let b=0,N=0,A=0;const E=new Map,T=new Map;m.forEach(j=>T.set(j.id,j)),v.forEach(j=>{var G,U;if(j.type==="SALE")b+=j.totalAmount,(G=j.items)==null||G.forEach(D=>{const O=T.get(D.productId);if(O&&O.type!=="service"){let $=D.quantity;D.unit&&O.secondaryUnit&&D.unit===O.secondaryUnit&&O.conversionRatio&&($=D.quantity/O.conversionRatio),A+=$*O.purchasePrice}});else if(j.type==="SALE_RETURN")N+=j.totalAmount,(U=j.items)==null||U.forEach(D=>{const O=T.get(D.productId);if(O&&O.type!=="service"){let $=D.quantity;D.unit&&O.secondaryUnit&&D.unit===O.secondaryUnit&&O.conversionRatio&&($=D.quantity/O.conversionRatio),A-=$*O.purchasePrice}});else if(j.type==="EXPENSE"){const D=j.category||"General";E.set(D,(E.get(D)||0)+j.totalAmount)}});const P=Array.from(E.entries()).map(([j,G])=>({category:j,amount:G})).sort((j,G)=>G.amount-j.amount),M=P.reduce((j,G)=>j+G.amount,0),k=b-N,R=k-A,I=R-M;h({totalSales:b,salesReturns:N,netSales:k,cogs:A,grossProfit:R,totalExpenses:M,netProfit:I,expensesByCategory:P})},[t,r]);const f=()=>{const m=[{Item:"Total Sales",Amount:u.totalSales},{Item:"Sales Return",Amount:u.salesReturns},{Item:"Net Sales",Amount:u.netSales},{Item:"COGS",Amount:u.cogs},{Item:"Gross Profit",Amount:u.grossProfit},{Item:"--- Operating Expenses ---",Amount:""},...u.expensesByCategory.map(v=>({Item:v.category,Amount:v.amount})),{Item:"Total Expenses",Amount:u.totalExpenses},{Item:"Net Profit",Amount:u.netProfit}];ai(m,"ProfitAndLoss")},p=(m,v)=>v?(m/v*100).toFixed(1)+"%":"0%";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full max-w-5xl mx-auto w-full print:hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Profit & Loss Statement"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("div",{className:"w-32",children:c.jsx(Wt,{value:t,onChange:n,placeholder:"From Date"})}),c.jsx("div",{className:"w-32",children:c.jsx(Wt,{value:r,onChange:i,placeholder:"To Date"})}),c.jsx("button",{onClick:f,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Export Excel",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>window.print(),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Print",children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex-1 overflow-auto p-6 bg-gray-50/50",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-emerald-100 shadow-sm",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Net Sales"}),c.jsx("h3",{className:"text-2xl font-bold text-emerald-600",children:ne(u.netSales)}),c.jsx("p",{className:"text-xs text-emerald-500 mt-1",children:"Gross Revenue"})]}),c.jsxs("div",{className:"bg-white p-5 rounded-xl border border-blue-100 shadow-sm",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Gross Profit"}),c.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:ne(u.grossProfit)}),c.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:[p(u.grossProfit,u.netSales)," of Sales"]})]}),c.jsxs("div",{className:`bg-white p-5 rounded-xl border shadow-sm ${u.netProfit>=0?"border-emerald-100":"border-red-100"}`,children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Net Profit"}),c.jsx("h3",{className:`text-2xl font-bold ${u.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:ne(u.netProfit)}),c.jsxs("p",{className:`text-xs mt-1 ${u.netProfit>=0?"text-emerald-600":"text-red-500"}`,children:[p(u.netProfit,u.netSales)," Net Margin"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm h-fit",children:[c.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 font-bold text-gray-700",children:"Trading Account (Income)"}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3",children:"Revenue from Operations"}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-1",children:[c.jsx("span",{className:"text-gray-600",children:"Total Sales"}),c.jsx("span",{className:"font-medium text-gray-900",children:ne(u.totalSales)})]}),u.salesReturns>0&&c.jsxs("div",{className:"flex justify-between items-center text-sm py-1 text-red-500",children:[c.jsx("span",{children:"Less: Sales Return"}),c.jsxs("span",{children:["(",ne(u.salesReturns),")"]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-2 border-t border-gray-100 mt-1 font-bold",children:[c.jsx("span",{className:"text-gray-800",children:"Net Sales"}),c.jsx("span",{className:"text-emerald-600",children:ne(u.netSales)})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-3 mt-2",children:"Cost of Goods Sold"}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-1",children:[c.jsx("span",{className:"text-gray-600",children:"Cost of Sales"}),c.jsxs("span",{className:"font-medium text-red-500",children:["(",ne(u.cogs),")"]})]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg flex justify-between items-center mt-4",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold text-blue-900 block",children:"Gross Profit"}),c.jsx("span",{className:"text-xs text-blue-700",children:"Net Sales - COGS"})]}),c.jsx("span",{className:"font-bold text-xl text-blue-700",children:ne(u.grossProfit)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm h-fit",children:[c.jsx("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-100 font-bold text-gray-700",children:"Operating Expenses"}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"space-y-3 mb-6",children:u.expensesByCategory.length===0?c.jsx("p",{className:"text-center text-gray-400 py-4 text-sm",children:"No expenses recorded for this period."}):u.expensesByCategory.map((m,v)=>c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex justify-between text-sm mb-1 z-10 relative",children:[c.jsx("span",{className:"text-gray-600 font-medium",children:m.category}),c.jsx("span",{className:"text-gray-900",children:ne(m.amount)})]}),c.jsx("div",{className:"h-1.5 w-full bg-gray-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-400 rounded-full",style:{width:`${m.amount/u.totalExpenses*100}%`}})})]},v))}),c.jsxs("div",{className:"flex justify-between items-center text-sm py-3 border-t border-gray-100 font-bold mb-4",children:[c.jsx("span",{className:"text-gray-800",children:"Total Operating Expenses"}),c.jsxs("span",{className:"text-red-600",children:["(",ne(u.totalExpenses),")"]})]}),c.jsxs("div",{className:`p-4 rounded-lg flex justify-between items-center ${u.netProfit>=0?"bg-emerald-50":"bg-red-50"}`,children:[c.jsxs("div",{children:[c.jsx("span",{className:`font-bold block ${u.netProfit>=0?"text-emerald-900":"text-red-900"}`,children:u.netProfit>=0?"Net Profit":"Net Loss"}),c.jsx("span",{className:`text-xs ${u.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:"Gross Profit - Expenses"})]}),c.jsx("span",{className:`font-bold text-2xl ${u.netProfit>=0?"text-emerald-700":"text-red-700"}`,children:ne(u.netProfit)})]})]})]})]})]})]}),c.jsxs("div",{className:"hidden print:block fixed inset-0 bg-white z-[200] p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold uppercase",children:(o==null?void 0:o.name)||"Company Name"}),c.jsx("p",{className:"text-sm",children:o==null?void 0:o.address}),c.jsx("h2",{className:"text-lg font-bold mt-4 underline decoration-double",children:"PROFIT & LOSS STATEMENT"}),c.jsxs("p",{className:"text-xs mt-1",children:["From: ",t||"Beginning"," To: ",r||"Today"]})]}),c.jsx("table",{className:"w-full text-sm border border-gray-400 mb-6",children:c.jsxs("tbody",{children:[c.jsx("tr",{className:"bg-gray-100 font-bold",children:c.jsx("td",{className:"p-2 border border-gray-400",colSpan:2,children:"Trading Account"})}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Total Sales"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.totalSales)})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Less: Sales Return"}),c.jsxs("td",{className:"p-2 border border-gray-400 text-right",children:["(",ne(u.salesReturns),")"]})]}),c.jsxs("tr",{className:"font-semibold",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Net Sales"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.netSales)})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Less: Cost of Goods Sold"}),c.jsxs("td",{className:"p-2 border border-gray-400 text-right",children:["(",ne(u.cogs),")"]})]}),c.jsxs("tr",{className:"bg-gray-100 font-bold text-base",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"GROSS PROFIT"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.grossProfit)})]})]})}),c.jsx("table",{className:"w-full text-sm border border-gray-400",children:c.jsxs("tbody",{children:[c.jsx("tr",{className:"bg-gray-100 font-bold",children:c.jsx("td",{className:"p-2 border border-gray-400",colSpan:2,children:"Operating Expenses"})}),u.expensesByCategory.map((m,v)=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-2 border border-gray-400",children:m.category}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(m.amount)})]},v)),c.jsxs("tr",{className:"font-semibold",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"Total Expenses"}),c.jsxs("td",{className:"p-2 border border-gray-400 text-right",children:["(",ne(u.totalExpenses),")"]})]}),c.jsxs("tr",{className:"bg-gray-100 font-bold text-lg",children:[c.jsx("td",{className:"p-2 border border-gray-400",children:"NET PROFIT / (LOSS)"}),c.jsx("td",{className:"p-2 border border-gray-400 text-right",children:ne(u.netProfit)})]})]})})]})]})},aW=({onBack:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState([]),[o,l]=C.useState(""),[u,h]=C.useState(""),[f,p]=C.useState(""),[m,v]=C.useState([]),[b,N]=C.useState(""),[A,E]=C.useState(!1),[T,P]=C.useState(0),M=C.useRef(null);C.useEffect(()=>{n(pe.getParties()),i(pe.getProducts())},[]),C.useEffect(()=>{if(o){let F=pe.getTransactions().filter(V=>V.partyId===o);v(F.sort((V,z)=>new Date(V.date).getTime()-new Date(z.date).getTime()))}else v([])},[o]),C.useEffect(()=>{function F(V){M.current&&!M.current.contains(V.target)&&E(!1)}return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const k=C.useMemo(()=>{if(!o||m.length===0)return{cogs:0,profit:0};const F=new Map;r.forEach(B=>F.set(B.id,B));let V=0,z=0;return m.forEach(B=>{var ie;let K=0;["SALE","SALE_RETURN","QUOTATION"].includes(B.type)&&((ie=B.items)==null||ie.forEach(Z=>{const q=F.get(Z.productId);if(q&&q.type!=="service"){let Y=Z.quantity;Z.unit&&q.secondaryUnit&&Z.unit===q.secondaryUnit&&q.conversionRatio&&(Y=Z.quantity/q.conversionRatio),K+=Y*q.purchasePrice}})),B.type==="SALE"||B.type==="QUOTATION"?(V+=K,z+=B.totalAmount-K):B.type==="SALE_RETURN"&&(V-=K,z-=B.totalAmount-K)}),{cogs:V,profit:z}},[m,r,o]),{bfBalance:R,ledgerRows:I}=C.useMemo(()=>{let F=0;const V=u?new Date(u):null;V&&V.setHours(0,0,0,0);const z=f?new Date(f):null;z&&z.setHours(23,59,59,999);const B=[];let K=0;return m.forEach(ie=>{let Z=0,q=0;["SALE","PAYMENT_OUT","PURCHASE_RETURN"].includes(ie.type)?Z=ie.totalAmount:["PURCHASE","PAYMENT_IN","SALE_RETURN"].includes(ie.type)?q=ie.totalAmount:ie.type==="BALANCE_ADJUSTMENT"&&(ie.totalAmount>=0?Z=ie.totalAmount:q=Math.abs(ie.totalAmount));const Y=new Date(ie.date);V&&Y<V?F+=Z-q:(!z||Y<=z)&&(B.length===0&&(K=F),K+=Z-q,B.push({...ie,debit:Z,credit:q,balance:Math.abs(K),indicator:K>=0?"Dr":"Cr"}))}),{bfBalance:F,ledgerRows:B}},[m,u,f]),j=t.find(F=>F.id===o),G=t.filter(F=>F.name.toLowerCase().includes(b.toLowerCase())||F.phone&&F.phone.includes(b)),U=F=>{l(F.id),N(F.name),E(!1)},D=F=>{F.key==="ArrowDown"?(F.preventDefault(),P(V=>(V+1)%G.length)):F.key==="ArrowUp"?(F.preventDefault(),P(V=>(V-1+G.length)%G.length)):F.key==="Enter"&&(F.preventDefault(),G.length>0&&U(G[T]))},O=()=>{const F=[{Date:"-",Type:"-",Voucher:"-",Debit:0,Credit:0,Balance:`${Math.abs(R)} ${R>=0?"Dr":"Cr"}`,Narration:"Opening Balance / B.F"},...I.map(V=>({Date:Mt(V.date),Type:V.type,Voucher:V.id,Debit:V.debit||0,Credit:V.credit||0,Balance:`${V.balance} ${V.indicator}`,Narration:V.notes||""}))];ai(F,`Ledger_${(j==null?void 0:j.name)||"Party"}`)},$=()=>{if(!j)return;const F=pe.getBusinessProfile(),V=window.open("","_blank");if(!V)return;const z=I.map(K=>{var q,Y;const ie=((q=K.items)==null?void 0:q.map(X=>`<div style="font-size: 10px; color: #555; margin-left: 10px;">${X.productName} &nbsp; ${X.quantity} pcs @ ${ne(X.rate)} = ${ne(X.amount)}</div>`).join(""))||"",Z=((Y=K.items)==null?void 0:Y.length)>0?`<div style="font-size: 10px; border-top: 1px dashed #ccc; margin-top: 4px; padding-top: 2px;">**** Total Qty. = ${K.items.reduce((X,H)=>X+H.quantity,0)} : Amt. = ${ne(K.totalAmount)}</div>`:"";return`
        <tr>
          <td>${Mt(K.date)}</td>
          <td>${K.type.substring(0,4)}</td>
          <td>${K.id.slice(-6)}</td>
          <td style="padding: 10px 8px;">
            <div style="font-weight: bold; color: #2563eb;">${K.type.replace("_"," ")}</div>
            ${ie}
            ${Z}
          </td>
          <td style="text-align: right;">${K.debit>0?ne(K.debit):""}</td>
          <td style="text-align: right;">${K.credit>0?ne(K.credit):""}</td>
          <td style="text-align: right; font-weight: bold;">${ne(K.balance)} <small style="color: #666;">${K.indicator}</small></td>
          <td>${K.notes||""}</td>
        </tr>
      `}).join(""),B=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Party Statement - ${j.name}</title>
          <style>
            @page { size: A4; margin: 10mm; }
            body { font-family: 'Inter', sans-serif; color: #1e293b; padding: 0; margin: 0; }
            .header { margin-bottom: 20px; border-bottom: 2px solid #333; padding-bottom: 10px; }
            .company-name { font-size: 24px; font-bold; color: #1e3a8a; text-transform: capitalize; }
            .address-bar { font-size: 14px; color: #666; }
            table { width: 100%; border-collapse: collapse; border: 1px solid #94a3b8; table-layout: fixed; }
            th { background-color: #0284c7; color: white; padding: 10px 8px; font-size: 13px; border: 1px solid #075985; text-align: center; }
            td { padding: 6px 8px; font-size: 12px; border: 1px solid #cbd5e1; vertical-align: top; word-wrap: break-word; }
            .opening-row { background-color: #fffbeb; font-weight: bold; }
            tr:nth-child(even) { background-color: #f8fafc; }
            .footer-note { margin-top: 30px; text-align: center; font-size: 10px; color: #94a3b8; }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="company-name">${F.name}</div>
            <div class="address-bar">${F.address}</div>
            <div class="address-bar">${F.phone}</div>
          </div>
          
          <div style="margin-bottom: 15px; display: flex; justify-content: space-between; align-items: flex-end;">
            <div>
              <div style="font-size: 16px; font-weight: bold;">Statement for: ${j.name}</div>
              <div style="font-size: 12px;">Contact: ${j.phone||"N/A"}</div>
            </div>
            <div style="text-align: right; font-size: 12px;">
              Period: ${u?Mt(u):"Beginning"} - ${f?Mt(f):"Today"}
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th style="width: 80px;">Date</th>
                <th style="width: 50px;">Type</th>
                <th style="width: 70px;">Vch/Bill No</th>
                <th style="width: 250px; text-align: left;">Account</th>
                <th style="width: 100px; text-align: right;">Debit(Rs.)</th>
                <th style="width: 100px; text-align: right;">Credit(Rs.)</th>
                <th style="width: 110px; text-align: right;">Balance(Rs.)</th>
                <th style="width: 100px;">Short Narration</th>
              </tr>
            </thead>
            <tbody>
              <tr class="opening-row">
                <td colspan="3"></td>
                <td colspan="3" style="text-align: left;">Opening Balance / B.F</td>
                <td style="text-align: right;">${ne(Math.abs(R))} ${R>=0?"Dr":"Cr"}</td>
                <td></td>
              </tr>
              ${z}
            </tbody>
          </table>
          <div class="footer-note">Generated by AA Pro Business Solutions</div>
          <script>window.onload = function() { window.print(); window.close(); }<\/script>
        </body>
      </html>
    `;V.document.write(B),V.document.close()};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Party Ledger Statement"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[c.jsxs("div",{className:"w-48 relative",ref:M,children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",className:"w-full pl-9 pr-8 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none transition-all",placeholder:"Search Party...",value:b,onChange:F=>{N(F.target.value),E(!0),P(0)},onKeyDown:D,onFocus:()=>E(!0)}),c.jsx(Dt,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),b&&c.jsx("button",{onClick:()=>{N(""),l("")},className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:c.jsx(xt,{className:"w-4 h-4"})})]}),A&&c.jsx("div",{className:"absolute top-full left-0 w-[300px] bg-white border border-gray-200 rounded-lg shadow-xl z-[60] mt-1 max-h-60 overflow-y-auto",children:G.length===0?c.jsx("div",{className:"p-3 text-sm text-gray-500 text-center italic",children:"No parties found."}):G.map((F,V)=>c.jsxs("div",{className:`p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group ${T===V?"bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>U(F),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800 text-sm",children:F.name}),c.jsx("div",{className:"text-[10px] text-gray-500",children:F.phone||"No Phone"})]}),c.jsx("div",{className:`text-[10px] px-1.5 py-0.5 rounded ${F.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:F.type.substring(0,4)})]},F.id))})]}),c.jsx("div",{className:"w-32",children:c.jsx(Wt,{value:u,onChange:h,placeholder:"From Date"})}),c.jsx("div",{className:"w-32",children:c.jsx(Wt,{value:f,onChange:p,placeholder:"To Date"})}),c.jsx("button",{onClick:O,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg disabled:opacity-50",disabled:!o,children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:$,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",disabled:!o,children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-auto bg-gray-50/30",children:o?c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 print:hidden",children:[c.jsxs("div",{className:"p-4 bg-white rounded-xl border border-gray-200 shadow-sm",children:[c.jsx("h3",{className:"font-bold text-gray-800 text-base",children:j==null?void 0:j.name}),c.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[j==null?void 0:j.phone," | ",(j==null?void 0:j.address)||"No Address"]})]}),c.jsxs("div",{className:"p-4 bg-white rounded-xl border border-blue-50 shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1 text-blue-600",children:[c.jsx(Lo,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Cost of Goods"})]}),c.jsx("div",{className:"text-lg font-bold text-gray-800",children:ne(k.cogs)})]}),c.jsxs("div",{className:`p-4 rounded-xl border shadow-sm ${k.profit>=0?"bg-white border-emerald-50":"bg-white border-red-50"}`,children:[c.jsxs("div",{className:`flex items-center gap-2 mb-1 ${k.profit>=0?"text-emerald-600":"text-red-600"}`,children:[c.jsx(Nh,{className:"w-4 h-4"}),c.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Profit (Estimated)"})]}),c.jsx("div",{className:`text-lg font-bold ${k.profit>=0?"text-emerald-700":"text-red-700"}`,children:ne(k.profit)})]}),c.jsxs("div",{className:"p-4 bg-white rounded-xl border border-gray-200 text-right flex flex-col justify-center shadow-sm",children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Closing Balance"}),c.jsxs("p",{className:`text-xl font-bold ${j.balance>=0?"text-emerald-600":"text-red-600"}`,children:[ne(Math.abs(j.balance)),c.jsx("span",{className:"text-[10px] ml-1 font-normal text-gray-400",children:j.balance>=0?"Dr":"Cr"})]})]})]}),c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:c.jsxs("table",{className:"w-full text-xs text-left border-collapse",children:[c.jsx("thead",{className:"bg-[#0284c7] text-white font-bold",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 border border-[#075985]",children:"Date"}),c.jsx("th",{className:"px-2 py-3 border border-[#075985]",children:"Type"}),c.jsx("th",{className:"px-2 py-3 border border-[#075985]",children:"Vch No"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-left",children:"Account (Details)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-right",children:"Debit(Rs.)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-right",children:"Credit(Rs.)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985] text-right",children:"Balance(Rs.)"}),c.jsx("th",{className:"px-4 py-3 border border-[#075985]",children:"Narration"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[c.jsxs("tr",{className:"bg-amber-50/30 font-bold italic",children:[c.jsx("td",{colSpan:3}),c.jsx("td",{className:"px-4 py-2 border-r border-gray-100",children:"Opening Balance / B.F"}),c.jsx("td",{}),c.jsx("td",{className:"border-r border-gray-100"}),c.jsxs("td",{className:"px-4 py-2 text-right border-r border-gray-100",children:[ne(Math.abs(R))," ",R>=0?"Dr":"Cr"]}),c.jsx("td",{})]}),I.map(F=>{var V,z;return c.jsxs("tr",{className:"hover:bg-gray-50 align-top",children:[c.jsx("td",{className:"px-4 py-3 border-r border-gray-100 whitespace-nowrap",children:Mt(F.date)}),c.jsx("td",{className:"px-2 py-3 border-r border-gray-100 uppercase text-[10px] font-bold text-gray-400",children:F.type.substring(0,4)}),c.jsxs("td",{className:"px-2 py-3 border-r border-gray-100 font-mono text-[10px]",children:["#",F.id.slice(-6)]}),c.jsxs("td",{className:"px-4 py-3 border-r border-gray-100",children:[c.jsx("div",{className:"font-bold text-blue-600 mb-1",children:F.type.replace("_"," ")}),(V=F.items)==null?void 0:V.map((B,K)=>c.jsxs("div",{className:"text-[10px] text-gray-500 pl-2 border-l border-gray-200 ml-1 mb-0.5",children:[B.productName," ",c.jsx("span",{className:"mx-1 opacity-50",children:""})," ",B.quantity," x ",ne(B.rate)," = ",ne(B.amount)]},K)),((z=F.items)==null?void 0:z.length)>0&&c.jsxs("div",{className:"text-[10px] text-gray-400 border-t border-dashed mt-1 pt-0.5 font-mono",children:["**** Total Qty. = ",F.items.reduce((B,K)=>B+K.quantity,0)," : Amt. = ",ne(F.totalAmount)]})]}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-right font-medium",children:F.debit>0?ne(F.debit):""}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-100 text-right font-medium",children:F.credit>0?ne(F.credit):""}),c.jsxs("td",{className:"px-4 py-3 border-r border-gray-100 text-right font-bold text-gray-900",children:[ne(F.balance),c.jsx("span",{className:"text-[10px] ml-1 font-normal text-gray-400",children:F.indicator})]}),c.jsx("td",{className:"px-4 py-3 text-gray-500 italic max-w-xs",children:F.notes||"-"})]},F.id)}),I.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"text-center py-20 text-gray-400 flex flex-col items-center gap-2",children:[c.jsx(Dt,{className:"w-10 h-10 opacity-20"}),"No transactions found for this period."]})})]})]})})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 space-y-4 py-32",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center",children:c.jsx(Eh,{className:"w-10 h-10 opacity-30"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"font-bold text-gray-600",children:"No Party Selected"}),c.jsx("p",{className:"text-sm",children:"Please search and select a party to view the ledger statement."})]})]})})]})},oW=({onBack:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState("");C.useEffect(()=>{n(pe.getParties())},[]);const o=t.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())),l=t.reduce((p,m)=>m.balance>0?p+m.balance:p,0),u=t.reduce((p,m)=>m.balance<0?p+Math.abs(m.balance):p,0),h=()=>{const p=_v(o);ai(p,"All_Parties_Balance")},f=()=>{const p=["Name","Type","Phone","Balance","Status"],m=o.map(v=>[v.name,v.type,v.phone||"-",ne(Math.abs(v.balance)),v.balance>=0?"To Receive":"To Give"]);$o("All Party Balances",p,m)};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"All Party Statement"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none",placeholder:"Search party...",value:r,onChange:p=>i(p.target.value)})]}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:f,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 border-b border-gray-100",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-emerald-100 shadow-sm",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total To Receive (Dr)"}),c.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:ne(l)})]}),c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-100 shadow-sm",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total To Give (Cr)"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:ne(u)})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Party Name"}),c.jsx("th",{className:"px-4 py-3",children:"Type"}),c.jsx("th",{className:"px-4 py-3",children:"Phone"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Balance"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Status"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.map(p=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:p.name}),c.jsx("td",{className:"px-4 py-3 capitalize text-gray-500",children:p.type}),c.jsx("td",{className:"px-4 py-3 text-gray-500",children:p.phone||"-"}),c.jsx("td",{className:`px-4 py-3 text-right font-bold ${p.balance>=0?"text-emerald-600":"text-red-600"}`,children:ne(Math.abs(p.balance))}),c.jsx("td",{className:"px-4 py-3 text-center",children:c.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${p.balance>=0?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:p.balance>=0?"RECEIVABLE":"PAYABLE"})})]},p.id)),o.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"text-center py-8 text-gray-400",children:"No parties found"})})]})]})})]})},sW=({onBack:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(""),o=new Date;C.useEffect(()=>{const f=pe.getParties().filter(v=>v.balance>0),p=pe.getTransactions(),m=f.map(v=>{const b=p.filter(E=>E.partyId===v.id&&["SALE","PAYMENT_IN","SALE_RETURN","BALANCE_ADJUSTMENT"].includes(E.type)).sort((E,T)=>new Date(E.date).getTime()-new Date(T.date).getTime());let N=v.balance;const A={current:0,w1:0,d15:0,d30:0,d60:0,d90:0,d120:0};for(let E=b.length-1;E>=0&&N>0;E--){const T=b[E];if(["SALE","BALANCE_ADJUSTMENT"].includes(T.type)&&T.totalAmount>0){const P=Math.min(N,T.totalAmount),M=Math.floor((o.getTime()-new Date(T.date).getTime())/(1e3*60*60*24));M>=120?A.d120+=P:M>=90?A.d90+=P:M>=60?A.d60+=P:M>=30?A.d30+=P:M>=15?A.d15+=P:M>=7?A.w1+=P:A.current+=P,N-=P}}return N>0&&(A.d120+=N),{...v,buckets:A}});n(m)},[]);const l=t.filter(f=>f.name.toLowerCase().includes(r.toLowerCase())),u=C.useMemo(()=>l.reduce((f,p)=>(f.total+=p.balance,f.current+=p.buckets.current,f.w1+=p.buckets.w1,f.d15+=p.buckets.d15,f.d30+=p.buckets.d30,f.d60+=p.buckets.d60,f.d90+=p.buckets.d90,f.d120+=p.buckets.d120,f),{total:0,current:0,w1:0,d15:0,d30:0,d60:0,d90:0,d120:0}),[l]),h=()=>{const f=l.map(p=>({"Party Name":p.name,"Total Due":p.balance,Current:p.buckets.current,"1 Week+":p.buckets.w1,"15 Days+":p.buckets.d15,"30 Days+":p.buckets.d30,"60 Days+":p.buckets.d60,"90 Days+":p.buckets.d90,"120 Days+":p.buckets.d120}));ai(f,"Receivable_Aging_Report")};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between gap-4 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Aged Receivables Report"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Classification of dues by time period"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none w-64",placeholder:"Search party...",value:r,onChange:f=>i(f.target.value)})]}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>window.print(),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-auto bg-gray-50/30",children:c.jsxs("table",{className:"w-full text-xs text-left border-collapse min-w-[1000px]",children:[c.jsx("thead",{className:"sticky top-0 z-10 font-bold uppercase tracking-wider text-[10px]",children:c.jsxs("tr",{className:"bg-gray-800 text-white",children:[c.jsx("th",{className:"px-4 py-4 border-r border-gray-700",children:"Party Name"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right",children:"Total Due"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-emerald-600",children:"Current"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-emerald-700",children:"1 Wk +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-yellow-600",children:"15 Days +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-orange-500",children:"30 Days +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-orange-600",children:"60 Days +"}),c.jsx("th",{className:"px-4 py-4 border-r border-gray-700 text-right bg-red-600",children:"90 Days +"}),c.jsx("th",{className:"px-4 py-4 text-right bg-red-700",children:"120 Days +"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100 bg-white",children:[l.map(f=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 font-bold text-gray-800",children:f.name}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right font-black text-blue-600",children:ne(f.balance)}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-emerald-50/30",children:f.buckets.current>0?ne(f.buckets.current):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-emerald-100/30",children:f.buckets.w1>0?ne(f.buckets.w1):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-yellow-50/30 font-medium",children:f.buckets.d15>0?ne(f.buckets.d15):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-orange-50/30 font-bold",children:f.buckets.d30>0?ne(f.buckets.d30):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-orange-100/30 font-bold",children:f.buckets.d60>0?ne(f.buckets.d60):"-"}),c.jsx("td",{className:"px-4 py-3 border-r border-gray-50 text-right bg-red-50/30 font-black text-red-600",children:f.buckets.d90>0?ne(f.buckets.d90):"-"}),c.jsx("td",{className:"px-4 py-3 text-right bg-red-100/30 font-black text-red-700 animate-pulse",children:f.buckets.d120>0?ne(f.buckets.d120):"-"})]},f.id)),l.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:9,className:"py-20 text-center text-gray-400",children:"No receivable balances found."})})]}),c.jsx("tfoot",{className:"sticky bottom-0 bg-gray-900 text-white font-black text-xs uppercase",children:c.jsxs("tr",{children:[c.jsx("td",{className:"px-4 py-4 border-r border-gray-800",children:"Total Company Credit"}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right text-blue-400",children:ne(u.total)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.current)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.w1)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d15)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d30)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d60)}),c.jsx("td",{className:"px-4 py-4 border-r border-gray-800 text-right",children:ne(u.d90)}),c.jsx("td",{className:"px-4 py-4 text-right text-red-400",children:ne(u.d120)})]})})]})})]})},A_=({filter:e,onBack:t})=>{const[n,r]=C.useState([]),[i,o]=C.useState("");C.useEffect(()=>{let p=pe.getProducts();e==="low"&&(p=p.filter(m=>m.type!=="service"&&m.stock<(m.minStockLevel||5))),r(p)},[e]);const l=n.filter(p=>p.name.toLowerCase().includes(i.toLowerCase())),u=l.reduce((p,m)=>p+m.stock*m.purchasePrice,0),h=()=>{const p=nD(l);ai(p,e==="low"?"Low_Stock_Report":"Full_Stock_Report")},f=()=>{const p=["Item Name","Category","Stock","Unit","Value (Purchase)"],m=l.map(v=>[v.name,v.category||"General",v.stock,v.unit,ne(v.stock*v.purchasePrice)]);$o(e==="low"?"Low Stock Report":"Stock Quantity Report",p,m)};return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e==="low"?"Low Stock Summary":"Stock Quantity Report"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Dt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",className:"pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none",placeholder:"Search items...",value:i,onChange:p=>o(p.target.value)})]}),c.jsx("button",{onClick:h,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:f,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:c.jsx(Un,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-100",children:c.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100 shadow-sm w-fit min-w-[200px]",children:[c.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Total Inventory Value (Cost)"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ne(u)})]})}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3",children:"Item Name"}),c.jsx("th",{className:"px-4 py-3",children:"Category"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Stock"}),c.jsx("th",{className:"px-4 py-3 text-center",children:"Unit"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Buy Price"}),c.jsx("th",{className:"px-4 py-3 text-right",children:"Total Value"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(p=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:p.name}),c.jsx("td",{className:"px-4 py-3 text-gray-500",children:p.category||"General"}),c.jsx("td",{className:`px-4 py-3 text-center font-bold ${p.stock<(p.minStockLevel||5)?"text-red-500":"text-gray-700"}`,children:p.stock}),c.jsx("td",{className:"px-4 py-3 text-center text-xs uppercase text-gray-400",children:p.unit}),c.jsx("td",{className:"px-4 py-3 text-right text-gray-600",children:ne(p.purchasePrice)}),c.jsx("td",{className:"px-4 py-3 text-right font-bold text-gray-800",children:ne(p.stock*p.purchasePrice)})]},p.id))})]})})]})},lW=({onBack:e,onConvert:t})=>{const[n,r]=C.useState([]),[i,o]=C.useState([]),[l,u]=C.useState(""),[h,f]=C.useState(!1),[p,m]=C.useState(!1),v=C.useRef(null),{addToast:b}=zr();C.useEffect(()=>{const U=pe.getProducts();r(U);const D=pe.getReplenishmentDraft();D&&D.length>0?o(D):N(U)},[]);const N=U=>{const D=U.filter(O=>O.type!=="service"&&O.stock<(O.minStockLevel||5)).map(O=>{const $=O.minStockLevel||5,F=Math.max(10,$*2)-O.stock;return{productId:O.id,productName:O.name,quantity:Math.ceil(F),unit:O.unit,rate:O.purchasePrice,amount:Math.ceil(F)*O.purchasePrice,currentStock:O.stock,threshold:$}});o(D)};C.useEffect(()=>{function U(D){v.current&&!v.current.contains(D.target)&&f(!1)}return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const A=(U,D)=>{const O=[...i],$=Math.max(0,D);O[U]={...O[U],quantity:$,amount:$*O[U].rate},o(O)},E=U=>{o(i.filter((D,O)=>O!==U))},T=U=>{if(i.some(O=>O.productId===U.id))return;const D={productId:U.id,productName:U.name,quantity:1,unit:U.unit,rate:U.purchasePrice,amount:U.purchasePrice,currentStock:U.stock,threshold:U.minStockLevel||0};o([...i,D]),f(!1),u("")},P=()=>{pe.updateReplenishmentDraft(i),b("Draft saved successfully","success")},M=()=>{m(!0),setTimeout(()=>{const U=pe.getProducts();N(U),m(!1),b("Inventory re-scanned. Order list updated.","info")},600)},k=()=>{const U=i.map((D,O)=>({"S.N.":O+1,"Item Details":D.productName,"Current Stock":D.currentStock,Threshold:D.threshold,"Order Quantity":D.quantity,Unit:D.unit,"Buy Rate":D.rate,"Estimated Subtotal":D.amount}));ai(U,"Auto_Order_Sheet")},R=()=>{const U=["S.N.","Item Details","Stock","Order Qty","Unit","Rate","Total"],D=i.map((O,$)=>[$+1,O.productName,O.currentStock,O.quantity,O.unit,ne(O.rate),ne(O.amount)]);$o("Purchase Replenishment Order Sheet",U,D)},I=()=>{i.length!==0&&t&&(t(i.map(({currentStock:U,threshold:D,...O})=>O)),pe.clearReplenishmentDraft())},j=i.reduce((U,D)=>U+D.amount,0),G=n.filter(U=>U.name.toLowerCase().includes(l.toLowerCase())).slice(0,10);return c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col h-full overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-center justify-between gap-4 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:c.jsx(ra,{className:"w-5 h-5"})}),c.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[c.jsx(My,{className:"w-5 h-5 text-brand-500"}),"Auto-Order Manager"]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right hidden sm:block mr-2",children:[c.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Est. Purchase Total"}),c.jsx("p",{className:"text-lg font-bold text-brand-600",children:ne(j)})]}),c.jsxs("div",{className:"flex items-center gap-2 pr-2 border-r border-gray-200",children:[c.jsx("button",{onClick:M,className:"p-2.5 text-gray-600 hover:bg-gray-50 rounded-lg transition-all border border-gray-200",title:"Check Inventory for Fresh Order",children:c.jsx(Js,{className:`w-5 h-5 ${p?"animate-spin":""}`})}),c.jsx("button",{onClick:P,disabled:i.length===0,className:"p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Save Edited Draft",children:c.jsx(cl,{className:"w-5 h-5"})}),c.jsx("button",{onClick:k,disabled:i.length===0,className:"p-2.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors border border-green-200",title:"Export to Excel",children:c.jsx(Ur,{className:"w-5 h-5"})}),c.jsx("button",{onClick:R,disabled:i.length===0,className:"p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",title:"Print Order Sheet",children:c.jsx(Un,{className:"w-5 h-5"})})]}),c.jsxs("button",{onClick:I,disabled:i.length===0,className:"flex items-center gap-2 px-6 py-2.5 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 shadow-lg shadow-brand-500/20 disabled:opacity-50 transition-all active:scale-95",children:[c.jsx(rx,{className:"w-4 h-4 fill-current"}),c.jsx("span",{className:"hidden md:inline",children:"Convert to Purchase Bill"}),c.jsx("span",{className:"md:hidden",children:"Bill"})]})]})]}),c.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-gray-50/30",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100 bg-white flex flex-col sm:flex-row items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[c.jsx(Ys,{className:"w-5 h-5 text-orange-500 shrink-0"}),c.jsxs("p",{children:["Listing items below ",c.jsx("b",{children:"reorder thresholds"}),". Adjust quantities and convert to a purchase bill."]})]}),c.jsxs("div",{className:"relative w-full sm:w-80",ref:v,children:[c.jsx("input",{type:"text",className:"w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"Search additional items...",value:l,onChange:U=>{u(U.target.value),f(!0)},onFocus:()=>f(!0)}),c.jsx(Dt,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),h&&l&&c.jsx("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-20 max-h-60 overflow-y-auto",children:G.map(U=>c.jsxs("div",{className:"p-3 border-b last:border-0 hover:bg-gray-50 cursor-pointer flex justify-between items-center",onClick:()=>T(U),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-sm text-gray-800",children:U.name}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Stock: ",U.stock," ",U.unit]})]}),c.jsx(ei,{className:"w-4 h-4 text-brand-500"})]},U.id))})]})]}),c.jsx("div",{className:"flex-1 overflow-auto p-4",children:c.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-[10px] tracking-wider border-b border-gray-100",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Item Details"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Order Qty"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Buy Price"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Subtotal"}),c.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map((U,D)=>c.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-bold text-gray-800",children:U.productName}),c.jsxs("div",{className:"text-[10px] text-gray-400 font-mono",children:["ID: ",U.productId]})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("span",{className:`font-bold px-2 py-0.5 rounded text-[10px] ${U.currentStock<U.threshold?"bg-red-50 text-red-600":"bg-gray-50 text-gray-500"}`,children:["STOCK: ",U.currentStock]}),c.jsxs("span",{className:"text-[9px] text-gray-400 uppercase mt-1",children:["Threshold: ",U.threshold]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("input",{type:"number",min:"0",className:"w-20 border border-gray-300 rounded-lg p-1.5 text-center font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:U.quantity,onChange:O=>A(D,Number(O.target.value))}),c.jsx("span",{className:"text-xs text-gray-400 uppercase",children:U.unit})]})}),c.jsx("td",{className:"px-6 py-4 text-right text-gray-600",children:ne(U.rate)}),c.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:ne(U.amount)}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("button",{onClick:()=>E(D),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(ia,{className:"w-4 h-4"})})})]},U.productId)),i.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:6,className:"text-center py-24 text-gray-400",children:[c.jsx(My,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),c.jsx("p",{className:"font-medium",children:"All items are above their reorder levels."}),c.jsx("p",{className:"text-xs mt-1",children:"Great job on stock management!"})]})})]})]})})})]})]})},uW=()=>{const[e,t]=C.useState([]),[n,r]=C.useState("1"),[i,o]=C.useState([]),[l,u]=C.useState(0),[h,f]=C.useState(!1),[p,m]=C.useState({name:"",type:"Bank",balance:0,bankName:"",accountNumber:""}),[v,b]=C.useState(!1),[N,A]=C.useState({toAccountId:"",amount:"",date:new Date().toISOString(),remarks:""}),[E,T]=C.useState(!1),[P,M]=C.useState({newBalance:"",date:new Date().toISOString(),remarks:""}),{addToast:k}=zr();C.useEffect(()=>{R()},[]),C.useEffect(()=>{n&&I(n)},[n,e]);const R=()=>{const V=pe.getAccounts();t(V),u(V.reduce((z,B)=>z+B.balance,0)),!V.find(z=>z.id===n)&&V.length>0&&r(V[0].id)},I=V=>{const B=pe.getTransactions().filter(K=>K.accountId===V||K.type==="TRANSFER"&&K.transferAccountId===V||!K.accountId&&V==="1"&&(K.paymentMode==="Cash"||!K.paymentMode)).sort((K,ie)=>new Date(ie.date).getTime()-new Date(K.date).getTime());o(B)},j=V=>{if(V.preventDefault(),p.name){const z={id:p.id||Date.now().toString(),name:p.name,type:p.type||"Bank",balance:Number(p.balance)||0,bankName:p.bankName,accountNumber:p.accountNumber,isDefault:!1};p.id?(pe.updateAccount(z),k("Account updated successfully","success")):(pe.addAccount(z),k("New account created","success")),f(!1),R(),m({name:"",type:"Bank",balance:0,bankName:"",accountNumber:""})}},G=V=>{window.confirm("Are you sure you want to delete this account?")&&(pe.deleteAccount(V)?(k("Account deleted successfully","success"),R()):k("Cannot delete default account or account with existing transactions.","error"))},U=V=>{m({...V}),f(!0)},D=V=>{if(V.preventDefault(),N.toAccountId&&N.amount&&F){const z=Number(N.amount);if(z<=0){k("Amount must be greater than 0","error");return}if(F.balance<z){k("Insufficient funds in source account","error");return}if(N.toAccountId===F.id){k("Cannot transfer to same account","error");return}const B=e.find(K=>K.id===N.toAccountId);pe.addTransaction({id:Date.now().toString(),date:N.date,type:"TRANSFER",partyId:"",partyName:`Transfer to ${B==null?void 0:B.name}`,items:[],totalAmount:z,notes:N.remarks,accountId:F.id,transferAccountId:N.toAccountId}),k("Transfer successful","success"),b(!1),A({toAccountId:"",amount:"",date:new Date().toISOString(),remarks:""}),R()}},O=V=>{if(V.preventDefault(),P.newBalance!==""&&F){const B=Number(P.newBalance)-F.balance;if(B===0){k("New balance is same as current balance","info");return}pe.addTransaction({id:Date.now().toString(),date:P.date,type:"BALANCE_ADJUSTMENT",partyId:"",partyName:"System Adjustment",items:[],totalAmount:B,notes:P.remarks||"Manual Balance Correction",accountId:F.id}),k("Balance adjusted successfully","success"),T(!1),M({newBalance:"",date:new Date().toISOString(),remarks:""}),R()}},$=V=>{switch(V){case"Cash":return c.jsx(Ir,{className:"w-6 h-6"});case"Bank":return c.jsx(rL,{className:"w-6 h-6"});case"Mobile Wallet":return c.jsx(Ah,{className:"w-6 h-6"});default:return c.jsx(V3,{className:"w-6 h-6"})}},F=e.find(V=>V.id===n);return c.jsxs("div",{className:"p-4 lg:p-8 h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Manage Accounts (",e.length,")"]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("button",{onClick:()=>{m({name:"",type:"Bank",balance:0}),f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:[c.jsx(ei,{className:"w-4 h-4"}),"Add Account"]})})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full min-h-[500px]",children:[c.jsxs("div",{className:"w-full lg:w-1/3 bg-white border border-gray-200 rounded-xl flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-gray-500 text-sm",children:"Total Balance:"}),c.jsx("span",{className:"font-bold text-gray-900 text-lg",children:ne(l)})]}),c.jsx("div",{className:"text-xs text-gray-400 uppercase font-semibold mt-4 mb-2",children:"Accounts"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:e.map(V=>c.jsxs("button",{onClick:()=>r(V.id),className:`w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ${n===V.id?"bg-emerald-50 border border-emerald-100":"hover:bg-gray-50 border border-transparent"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${n===V.id?"bg-white text-emerald-600":"bg-gray-100 text-gray-500"}`,children:$(V.type)}),c.jsxs("div",{children:[c.jsx("div",{className:`font-medium ${n===V.id?"text-emerald-900":"text-gray-900"}`,children:V.name}),c.jsx("div",{className:"text-xs text-gray-400",children:V.type})]})]}),c.jsx("div",{className:`font-bold ${V.balance<0?"text-red-500":n===V.id?"text-emerald-600":"text-gray-600"}`,children:ne(V.balance)})]},V.id))})]}),c.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-xl flex flex-col",children:F?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:$(F.type)}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:F.name}),c.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[F.accountNumber&&c.jsxs("span",{children:["Ac No: ",F.accountNumber]}),F.bankName&&c.jsx("span",{children:F.bankName})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors",children:[c.jsx(eP,{className:"w-4 h-4"}),"Transfer"]}),c.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:[c.jsx(Js,{className:"w-4 h-4"}),"Adjust"]}),c.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),c.jsx("button",{onClick:()=>U(F),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:c.jsx(ic,{className:"w-5 h-5"})}),!F.isDefault&&c.jsx("button",{onClick:()=>G(F.id),className:"p-2 text-gray-500 hover:bg-red-50 hover:text-red-500 rounded-lg",children:c.jsx(ia,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"px-6 py-6",children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Current Balance"}),c.jsx("div",{className:"text-3xl font-bold text-gray-900",children:ne(F.balance)})]}),c.jsxs("div",{className:"flex-1 flex flex-col border-t border-gray-100 min-h-0",children:[c.jsx("div",{className:"px-6 py-4 flex items-center justify-between",children:c.jsxs("h3",{className:"font-bold text-gray-800",children:["Transactions Activity (",i.length,")"]})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Type"}),c.jsx("th",{className:"px-6 py-3",children:"Date"}),c.jsx("th",{className:"px-6 py-3",children:"Rec/Paid Amount"}),c.jsx("th",{className:"px-6 py-3",children:"Remarks"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map(V=>{V.accountId;const z=V.transferAccountId===n;let B=V.totalAmount,K=["SALE","PAYMENT_IN","PURCHASE_RETURN"].includes(V.type);return V.type==="TRANSFER"&&(z?K=!0:K=!1),V.type==="BALANCE_ADJUSTMENT"&&(V.totalAmount>=0?K=!0:(K=!1,B=Math.abs(V.totalAmount))),["PURCHASE","PAYMENT_OUT","SALE_RETURN","EXPENSE"].includes(V.type)&&(K=!1),c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-medium text-gray-900",children:V.type==="TRANSFER"?z?"Received Transfer":"Transfer Out":V.type.replace("_"," ")}),c.jsxs("div",{className:"text-xs text-gray-400",children:["#",V.id," - ",V.partyName]})]}),c.jsx("td",{className:"px-6 py-4 text-gray-600",children:Mt(V.date)}),c.jsxs("td",{className:`px-6 py-4 font-bold ${K?"text-emerald-600":"text-red-500"}`,children:[K?"+":"-",ne(B)]}),c.jsx("td",{className:"px-6 py-4 text-gray-500 truncate max-w-[200px]",children:V.notes||"--"})]},V.id)}),i.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"text-center py-8 text-gray-400",children:"No transactions found"})})]})]})})]})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Select an account to view details"})})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-xl font-bold",children:p.id?"Edit Account":"Add New Account"}),c.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),c.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Laxmi Sunrise Bank",value:p.name,onChange:V=>m({...p,name:V.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",value:p.type,onChange:V=>m({...p,type:V.target.value}),children:[c.jsx("option",{value:"Bank",children:"Bank Account"}),c.jsx("option",{value:"Cash",children:"Cash In Hand"}),c.jsx("option",{value:"Mobile Wallet",children:"Mobile Wallet (Esewa/Khalti)"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),p.type==="Bank"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"e.g. Laxmi Sunrise",value:p.bankName||"",onChange:V=>m({...p,bankName:V.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"0000...",value:p.accountNumber||"",onChange:V=>m({...p,accountNumber:V.target.value})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Balance"}),c.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"0",value:p.balance,onChange:V=>m({...p,balance:Number(V.target.value)})})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:p.id?"Update":"Save"})]})]})]})}),v&&F&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-6 shadow-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg font-bold",children:"Transfer Funds"}),c.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mb-4",children:[c.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Source Account"}),c.jsx("div",{className:"font-bold text-gray-800",children:F.name}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Balance: ",ne(F.balance)]})]}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer To"}),c.jsxs("select",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",value:N.toAccountId,onChange:V=>A({...N,toAccountId:V.target.value}),children:[c.jsx("option",{value:"",children:"Select Destination Account"}),e.filter(V=>V.id!==F.id).map(V=>c.jsxs("option",{value:V.id,children:[V.name," (",ne(V.balance),")"]},V.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),c.jsx("input",{type:"number",required:!0,min:"1",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:N.amount,onChange:V=>A({...N,amount:V.target.value?Number(V.target.value):""})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("div",{className:"w-full",children:c.jsx(Wt,{value:N.date,onChange:V=>A({...N,date:V})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),c.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Bank Deposit",value:N.remarks,onChange:V=>A({...N,remarks:V.target.value})})]}),c.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium mt-2",children:"Confirm Transfer"})]})]})}),E&&F&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-6 shadow-xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h2",{className:"text-lg font-bold",children:"Adjust Balance"}),c.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"text-sm text-gray-600 mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-100",children:"This will create a correction entry to set your account balance to the actual physical amount."}),c.jsxs("div",{className:"flex justify-between mb-2 px-1",children:[c.jsx("span",{className:"text-sm text-gray-500",children:"Current System Balance:"}),c.jsx("span",{className:"font-bold",children:ne(F.balance)})]}),c.jsxs("form",{onSubmit:O,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Actual Physical Balance"}),c.jsx("input",{type:"number",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-lg font-bold text-gray-900 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:P.newBalance,onChange:V=>M({...P,newBalance:V.target.value?Number(V.target.value):""})})]}),P.newBalance!==""&&c.jsxs("div",{className:"text-right text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Difference: "}),c.jsx("span",{className:`font-bold ${Number(P.newBalance)-F.balance>=0?"text-green-600":"text-red-600"}`,children:ne(Number(P.newBalance)-F.balance)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),c.jsx("div",{className:"w-full",children:c.jsx(Wt,{value:P.date,onChange:V=>M({...P,date:V})})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),c.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Reconciliation correction",value:P.remarks,onChange:V=>M({...P,remarks:V.target.value})})]}),c.jsx("button",{type:"submit",className:"w-full py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 font-medium mt-2",children:"Save Adjustment"})]})]})})]})};var cW={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dW,fW;function hW(){return{geminiUrl:dW,vertexUrl:fW}}function pW(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=hW();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pa{}function Ae(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const h=e[u];if(Array.isArray(n))for(let f=0;f<h.length;f++){const p=h[f];x(p,t.slice(o+1),n[f])}else for(const f of h)x(f,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const h=e[u];x(h[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function y(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>y(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function mW(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let h=0;h<i.length;h++)if(i[h]==="*"){u=h;break}if(u!==-1&&o.length>u)for(let h=u;h<o.length;h++){const f=o[h];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Pv(e,i,o,0,l)}}function Pv(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const h of u[l])Pv(h,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),h={};for(const f of u)h[f]=l[f];for(const[f,p]of Object.entries(h)){const m=[];for(const v of n.slice(r))v==="*"?m.push(f):m.push(v);x(l,m,p)}for(const f of u)delete l[f]}}else{const l=e;o in l&&Pv(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gW(e){const t={},n=y(e,["operationName"]);n!=null&&x(t,["operationName"],n);const r=y(e,["resourceName"]);return r!=null&&x(t,["_url","resourceName"],r),t}function yW(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],xW(l)),t}function vW(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],bW(l)),t}function xW(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>wW(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function bW(e){const t={},n=y(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>SW(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function wW(e){const t={},n=y(e,["video"]);return n!=null&&x(t,["video"],_W(n)),t}function SW(e){const t={},n=y(e,["_self"]);return n!=null&&x(t,["video"],kW(n)),t}function NW(e){const t={},n=y(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function EW(e){const t={},n=y(e,["operationName"]);return n!=null&&x(t,["_url","operationName"],n),t}function AW(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],CW(l)),t}function CW(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function aD(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],TW(l)),t}function TW(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function _W(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],Rb(r));const i=y(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function kW(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],Rb(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var C_;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(C_||(C_={}));var T_;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(T_||(T_={}));var __;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(__||(__={}));var Ja;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ja||(Ja={}));var k_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(k_||(k_={}));var P_;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(P_||(P_={}));var M_;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(M_||(M_={}));var j_;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(j_||(j_={}));var I_;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(I_||(I_={}));var R_;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(R_||(R_={}));var D_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(D_||(D_={}));var O_;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(O_||(O_={}));var L_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(L_||(L_={}));var U_;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(U_||(U_={}));var B_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(B_||(B_={}));var z_;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(z_||(z_={}));var q_;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(q_||(q_={}));var H_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(H_||(H_={}));var F_;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(F_||(F_={}));var fh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(fh||(fh={}));var G_;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(G_||(G_={}));var V_;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(V_||(V_={}));var $_;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($_||($_={}));var Mv;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mv||(Mv={}));var Y_;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Y_||(Y_={}));var K_;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(K_||(K_={}));var J_;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(J_||(J_={}));var X_;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(X_||(X_={}));var W_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(W_||(W_={}));var Q_;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Q_||(Q_={}));var Z_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Z_||(Z_={}));var e2;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(e2||(e2={}));var t2;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(t2||(t2={}));var n2;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(n2||(n2={}));var r2;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(r2||(r2={}));var i2;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(i2||(i2={}));var a2;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(a2||(a2={}));var o2;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(o2||(o2={}));var s2;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(s2||(s2={}));var l2;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(l2||(l2={}));var u2;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(u2||(u2={}));var c2;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(c2||(c2={}));var d2;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(d2||(d2={}));var f2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(f2||(f2={}));var h2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(h2||(h2={}));var p2;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(p2||(p2={}));var m2;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(m2||(m2={}));var g2;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(g2||(g2={}));var y2;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(y2||(y2={}));var v2;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(v2||(v2={}));var x2;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(x2||(x2={}));var b2;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(b2||(b2={}));var w2;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(w2||(w2={}));var S2;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(S2||(S2={}));var N2;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(N2||(N2={}));var Vs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vs||(Vs={}));class jv{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Cu{get text(){var t,n,r,i,o,l,u,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const v of(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&h!==void 0?h:[]){for(const[b,N]of Object.entries(v))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&m.push(b);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,f+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,i,o,l,u,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&h!==void 0?h:[]){for(const[v,b]of Object.entries(m))v!=="inlineData"&&(b!==null||b!==void 0)&&p.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,l,u,h;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,l,u,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,l,u,h,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(h=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||h===void 0?void 0:h.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class E2{}class A2{}class PW{}class MW{}class jW{}class IW{}class C2{}class T2{}class _2{}class RW{}class hh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new hh;let i;const o=t;return n?i=vW(o):i=yW(o),Object.assign(r,i),r}}class k2{}class P2{}class M2{}class j2{}class DW{}class OW{}class LW{}class Db{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Db,o=AW(t);return Object.assign(r,o),r}}class UW{}class BW{}class zW{}class I2{}class qW{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[h,f]of Object.entries(u))h!=="text"&&h!=="thought"&&f!==null&&l.push(h);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,h]of Object.entries(l))u!=="inlineData"&&h!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class HW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ob{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Ob,o=aD(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function oD(e,t){const n=nt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function sD(e){return Array.isArray(e)?e.map(t=>ph(t)):[ph(e)]}function ph(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function lD(e){const t=ph(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function uD(e){const t=ph(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function R2(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function cD(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>R2(t)):[R2(e)]}function Iv(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function D2(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function O2(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function jn(e){if(e==null)throw new Error("ContentUnion is required");return Iv(e)?e:{role:"user",parts:cD(e)}}function Lb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=jn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>jn(n)):[jn(t)]}function jr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(D2(e)||O2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jn(e)]}const t=[],n=[],r=Iv(e[0]);for(const i of e){const o=Iv(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(D2(i)||O2(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:cD(n)}),t}function FW(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ja).includes(n[0].toUpperCase())?n[0].toUpperCase():Ja.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ja).includes(r.toUpperCase())?r.toUpperCase():Ja.TYPE_UNSPECIFIED})}}function Zs(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&FW(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ja).includes(u.toUpperCase())?u.toUpperCase():Ja.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Zs(u);else if(r.includes(l)){const h=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}h.push(Zs(f))}t[l]=h}else if(i.includes(l)){const h={};for(const[f,p]of Object.entries(u))h[f]=Zs(p);t[l]=h}else{if(l==="additionalProperties")continue;t[l]=u}return t}function Ub(e){return Zs(e)}function Bb(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function zb(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function bl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Zs(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Zs(t.response));return e}function wl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function GW(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ma(e,t){if(typeof t!="string")throw new Error("name must be a string");return GW(e,t,"cachedContents")}function dD(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function to(e){return Rb(e)}function VW(e){return e!=null&&typeof e=="object"&&"name"in e}function $W(e){return e!=null&&typeof e=="object"&&"video"in e}function YW(e){return e!=null&&typeof e=="object"&&"uri"in e}function fD(e){var t;let n;if(VW(e)&&(n=e.name),!(YW(e)&&(n=e.uri,n===void 0))&&!($W(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function hD(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function pD(e){for(const t of["models","tunedModels","publisherModels"])if(KW(e,t))return e[t];return[]}function KW(e,t){return e!==null&&typeof e=="object"&&t in e}function JW(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function XW(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=JW(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function mD(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function WW(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function gD(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const h=l.response;if(typeof h!="object"||h===null)continue;if(h.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Sl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yD(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QW(e){const t={},n=y(e,["responsesFile"]);n!=null&&x(t,["fileName"],n);const r=y(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>jQ(l))),x(t,["inlinedResponses"],o)}const i=y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["inlinedEmbedContentResponses"],o)}return t}function ZW(e){const t={},n=y(e,["predictionsFormat"]);n!=null&&x(t,["format"],n);const r=y(e,["gcsDestination","outputUriPrefix"]);r!=null&&x(t,["gcsUri"],r);const i=y(e,["bigqueryDestination","outputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function eQ(e){const t={},n=y(e,["format"]);n!=null&&x(t,["predictionsFormat"],n);const r=y(e,["gcsUri"]);r!=null&&x(t,["gcsDestination","outputUriPrefix"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&x(t,["bigqueryDestination","outputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function vf(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata","displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["metadata","state"]);i!=null&&x(t,["state"],yD(i));const o=y(e,["metadata","createTime"]);o!=null&&x(t,["createTime"],o);const l=y(e,["metadata","endTime"]);l!=null&&x(t,["endTime"],l);const u=y(e,["metadata","updateTime"]);u!=null&&x(t,["updateTime"],u);const h=y(e,["metadata","model"]);h!=null&&x(t,["model"],h);const f=y(e,["metadata","output"]);return f!=null&&x(t,["dest"],QW(gD(f))),t}function Rv(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["state"]);i!=null&&x(t,["state"],yD(i));const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["createTime"]);l!=null&&x(t,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(t,["startTime"],u);const h=y(e,["endTime"]);h!=null&&x(t,["endTime"],h);const f=y(e,["updateTime"]);f!=null&&x(t,["updateTime"],f);const p=y(e,["model"]);p!=null&&x(t,["model"],p);const m=y(e,["inputConfig"]);m!=null&&x(t,["src"],tQ(m));const v=y(e,["outputConfig"]);v!=null&&x(t,["dest"],ZW(gD(v)));const b=y(e,["completionStats"]);return b!=null&&x(t,["completionStats"],b),t}function tQ(e){const t={},n=y(e,["instancesFormat"]);n!=null&&x(t,["format"],n);const r=y(e,["gcsSource","uris"]);r!=null&&x(t,["gcsUri"],r);const i=y(e,["bigquerySource","inputUri"]);return i!=null&&x(t,["bigqueryUri"],i),t}function nQ(e,t){const n={};if(y(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(t,["fileName"]);r!=null&&x(n,["fileName"],r);const i=y(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>MQ(e,l))),x(n,["requests","requests"],o)}return n}function rQ(e){const t={},n=y(e,["format"]);n!=null&&x(t,["instancesFormat"],n);const r=y(e,["gcsUri"]);r!=null&&x(t,["gcsSource","uris"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&x(t,["bigquerySource","inputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function iQ(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function aQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],Sl(e,r)),n}function oQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],Sl(e,r)),n}function sQ(e){const t={},n=y(e,["content"]);n!=null&&x(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],lQ(r));const i=y(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=y(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=y(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const h=y(e,["index"]);h!=null&&x(t,["index"],h);const f=y(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const p=y(e,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>b)),x(t,["safetyRatings"],v)}const m=y(e,["urlContextMetadata"]);return m!=null&&x(t,["urlContextMetadata"],m),t}function lQ(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function vD(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BQ(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function uQ(e,t){const n={},r=y(e,["displayName"]);if(t!==void 0&&r!=null&&x(t,["batch","displayName"],r),y(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function cQ(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["dest"]);return t!==void 0&&i!=null&&x(t,["outputConfig"],eQ(WW(i))),n}function L2(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["src"]);i!=null&&x(n,["batch","inputConfig"],nQ(e,mD(e,i)));const o=y(t,["config"]);return o!=null&&uQ(o,n),n}function dQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],nt(e,r));const i=y(t,["src"]);i!=null&&x(n,["inputConfig"],rQ(mD(e,i)));const o=y(t,["config"]);return o!=null&&cQ(o,n),n}function fQ(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["batch","displayName"],r),n}function hQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["src"]);i!=null&&x(n,["batch","inputConfig"],bQ(e,i));const o=y(t,["config"]);return o!=null&&fQ(o,n),n}function pQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],Sl(e,r)),n}function mQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],Sl(e,r)),n}function gQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);return o!=null&&x(t,["error"],o),t}function yQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);return o!=null&&x(t,["error"],o),t}function vQ(e,t){const n={},r=y(t,["contents"]);if(r!=null){let o=Lb(e,r);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["requests[]","request","content"],o)}const i=y(t,["config"]);return i!=null&&(x(n,["_self"],xQ(i,n)),mW(n,{"requests[].*":"requests[].request.*"})),n}function xQ(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=y(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bQ(e,t){const n={},r=y(t,["fileName"]);r!=null&&x(n,["file_name"],r);const i=y(t,["inlinedRequests"]);return i!=null&&x(n,["requests"],vQ(e,i)),n}function wQ(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function SQ(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function NQ(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function EQ(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],vD(jn(i)));const o=y(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const h=y(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=y(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=y(t,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=y(t,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const N=y(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const A=y(t,["seed"]);A!=null&&x(r,["seed"],A);const E=y(t,["responseMimeType"]);E!=null&&x(r,["responseMimeType"],E);const T=y(t,["responseSchema"]);T!=null&&x(r,["responseSchema"],Ub(T));const P=y(t,["responseJsonSchema"]);if(P!=null&&x(r,["responseJsonSchema"],P),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(t,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(V=>zQ(V))),x(n,["safetySettings"],F)}const k=y(t,["tools"]);if(n!==void 0&&k!=null){let F=wl(k);Array.isArray(F)&&(F=F.map(V=>HQ(bl(V)))),x(n,["tools"],F)}const R=y(t,["toolConfig"]);if(n!==void 0&&R!=null&&x(n,["toolConfig"],qQ(R)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=y(t,["cachedContent"]);n!==void 0&&I!=null&&x(n,["cachedContent"],ma(e,I));const j=y(t,["responseModalities"]);j!=null&&x(r,["responseModalities"],j);const G=y(t,["mediaResolution"]);G!=null&&x(r,["mediaResolution"],G);const U=y(t,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],Bb(U)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=y(t,["thinkingConfig"]);D!=null&&x(r,["thinkingConfig"],D);const O=y(t,["imageConfig"]);O!=null&&x(r,["imageConfig"],PQ(O));const $=y(t,["enableEnhancedCivicAnswers"]);return $!=null&&x(r,["enableEnhancedCivicAnswers"],$),r}function AQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>sQ(f))),x(t,["candidates"],h)}const i=y(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=y(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=y(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function CQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],Sl(e,r)),n}function TQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],Sl(e,r)),n}function _Q(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function kQ(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function PQ(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function MQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["request","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let u=jr(i);Array.isArray(u)&&(u=u.map(h=>vD(h))),x(n,["request","contents"],u)}const o=y(t,["metadata"]);o!=null&&x(n,["metadata"],o);const l=y(t,["config"]);return l!=null&&x(n,["request","generationConfig"],EQ(e,l,y(n,["request"],{}))),n}function jQ(e){const t={},n=y(e,["response"]);n!=null&&x(t,["response"],AQ(n));const r=y(e,["error"]);return r!=null&&x(t,["error"],r),t}function IQ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);if(t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),y(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function RQ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);t!==void 0&&i!=null&&x(t,["_query","pageToken"],i);const o=y(e,["filter"]);return t!==void 0&&o!=null&&x(t,["_query","filter"],o),n}function DQ(e){const t={},n=y(e,["config"]);return n!=null&&IQ(n,t),t}function OQ(e){const t={},n=y(e,["config"]);return n!=null&&RQ(n,t),t}function LQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>vf(l))),x(t,["batchJobs"],o)}return t}function UQ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Rv(l))),x(t,["batchJobs"],o)}return t}function BQ(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],wQ(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],SQ(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],iQ(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function zQ(e){const t={},n=y(e,["category"]);if(n!=null&&x(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function qQ(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],NQ(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function HQ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],_Q(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],kQ(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var na;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(na||(na={}));class Yo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FQ extends pa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Yo(na.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=L2(this.apiClient,t),r=n._url,i=Ae("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,h=u.requests,f=[];for(const p of h){const m=Object.assign({},p);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const b=m.request;b.systemInstruction=v,m.request=b}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=dQ(this.apiClient,t);return u=Ae("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Rv(p))}else{const f=L2(this.apiClient,t);return u=Ae("{model}:batchGenerateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>vf(p))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hQ(this.apiClient,t);return o=Ae("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>vf(h))}}async get(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=TQ(this.apiClient,t);return u=Ae("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Rv(p))}else{const f=CQ(this.apiClient,t);return u=Ae("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>vf(p))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const h=oQ(this.apiClient,t);l=Ae("batchPredictionJobs/{name}:cancel",h._url),u=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const h=aQ(this.apiClient,t);l=Ae("batches/{name}:cancel",h._url),u=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=OQ(t);return u=Ae("batchPredictionJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=UQ(p),v=new I2;return Object.assign(v,m),v})}else{const f=DQ(t);return u=Ae("batches",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=LQ(p),v=new I2;return Object.assign(v,m),v})}}async delete(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=mQ(this.apiClient,t);return u=Ae("batchPredictionJobs/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>yQ(p))}else{const f=pQ(this.apiClient,t);return u=Ae("batches/{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>gQ(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GQ(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function U2(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hZ(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function VQ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=y(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let p=jr(l);Array.isArray(p)&&(p=p.map(m=>U2(m))),x(t,["contents"],p)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],U2(jn(u)));const h=y(e,["tools"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>mZ(m))),x(t,["tools"],p)}const f=y(e,["toolConfig"]);if(t!==void 0&&f!=null&&x(t,["toolConfig"],pZ(f)),y(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $Q(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&x(t,["expireTime"],i);const o=y(e,["displayName"]);t!==void 0&&o!=null&&x(t,["displayName"],o);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let m=jr(l);Array.isArray(m)&&(m=m.map(v=>v)),x(t,["contents"],m)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&x(t,["systemInstruction"],jn(u));const h=y(e,["tools"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>gZ(v))),x(t,["tools"],m)}const f=y(e,["toolConfig"]);t!==void 0&&f!=null&&x(t,["toolConfig"],f);const p=y(e,["kmsKeyName"]);return t!==void 0&&p!=null&&x(t,["encryption_spec","kmsKeyName"],p),n}function YQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],oD(e,r));const i=y(t,["config"]);return i!=null&&VQ(i,n),n}function KQ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["model"],oD(e,r));const i=y(t,["config"]);return i!=null&&$Q(i,n),n}function JQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ma(e,r)),n}function XQ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ma(e,r)),n}function WQ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function QQ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function ZQ(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function eZ(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tZ(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nZ(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function rZ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ma(e,r)),n}function iZ(e,t){const n={},r=y(t,["name"]);return r!=null&&x(n,["_url","name"],ma(e,r)),n}function aZ(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function oZ(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function sZ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function lZ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function uZ(e){const t={},n=y(e,["config"]);return n!=null&&sZ(n,t),t}function cZ(e){const t={},n=y(e,["config"]);return n!=null&&lZ(n,t),t}function dZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function fZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["cachedContents"],o)}return t}function hZ(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],ZQ(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],eZ(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],GQ(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function pZ(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],tZ(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function mZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],aZ(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],oZ(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function gZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>nZ(v))),x(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const o=y(e,["computerUse"]);if(o!=null&&x(t,["computerUse"],o),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const h=y(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],f);const p=y(e,["urlContext"]);return p!=null&&x(t,["urlContext"],p),t}function yZ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function vZ(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&x(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&x(t,["expireTime"],i),n}function xZ(e,t){const n={},r=y(t,["name"]);r!=null&&x(n,["_url","name"],ma(e,r));const i=y(t,["config"]);return i!=null&&yZ(i,n),n}function bZ(e,t){const n={},r=y(t,["name"]);r!=null&&x(n,["_url","name"],ma(e,r));const i=y(t,["config"]);return i!=null&&vZ(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wZ extends pa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Yo(na.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=KQ(this.apiClient,t);return u=Ae("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=YQ(this.apiClient,t);return u=Ae("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=iZ(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=rZ(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=XQ(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=QQ(p),v=new M2;return Object.assign(v,m),v})}else{const f=JQ(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=WQ(p),v=new M2;return Object.assign(v,m),v})}}async update(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=bZ(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=xZ(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=cZ(t);return u=Ae("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=fZ(p),v=new j2;return Object.assign(v,m),v})}else{const f=uZ(t);return u=Ae("cachedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=dZ(p),v=new j2;return Object.assign(v,m),v})}}}function mh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function B2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ze(e){return this instanceof ze?(this.v=e,this):new ze(e)}function Qr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(N){return Promise.resolve(N).then(b,m)}}function u(b,N){r[b]&&(i[b]=function(A){return new Promise(function(E,T){o.push([b,A,E,T])>1||h(b,A)})},N&&(i[b]=N(i[b])))}function h(b,N){try{f(r[b](N))}catch(A){v(o[0][3],A)}}function f(b){b.value instanceof ze?Promise.resolve(b.value.v).then(p,m):v(o[0][2],b)}function p(b){h("next",b)}function m(b){h("throw",b)}function v(b,N){b(N),o.shift(),o.length&&h(o[0][0],o[0][1])}}function Zr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof B2=="function"?B2(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,h){l=e[o](l),i(u,h,l.done,l.value)})}}function i(o,l,u,h){Promise.resolve(h).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SZ(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:xD(n)}function xD(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function NZ(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function z2(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!xD(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class EZ{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new AZ(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class AZ{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),NZ(o)}async sendMessage(t){var n;await this.sendPromise;const r=jn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const h=await i,f=(l=(o=h.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,p=h.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];p!=null&&(v=(u=p.slice(m))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=jn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?z2(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Qr(this,arguments,function*(){var i,o,l,u,h,f;const p=[];try{for(var m=!0,v=Zr(t),b;b=yield ze(v.next()),i=b.done,!i;m=!0){u=b.value,m=!1;const N=u;if(SZ(N)){const A=(f=(h=N.candidates)===null||h===void 0?void 0:h[0])===null||f===void 0?void 0:f.content;A!==void 0&&p.push(A)}yield yield ze(N)}}catch(N){o={error:N}}finally{try{!m&&!i&&(l=v.return)&&(yield ze(l.call(v)))}finally{if(o)throw o.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...z2(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cp extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,cp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CZ(e){const t={},n=y(e,["file"]);return n!=null&&x(t,["file"],n),t}function TZ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function _Z(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","file"],fD(n)),t}function kZ(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function PZ(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","file"],fD(n)),t}function MZ(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function jZ(e){const t={},n=y(e,["config"]);return n!=null&&MZ(n,t),t}function IZ(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RZ extends pa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Yo(na.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jZ(t);return o=Ae("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=IZ(h),p=new UW;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CZ(t);return o=Ae("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=TZ(h),p=new BW;return Object.assign(p,f),p})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PZ(t);return o=Ae("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_Z(t);return o=Ae("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=kZ(h),p=new zW;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xf(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function DZ(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>WZ(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function OZ(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function LZ(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UZ(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function BZ(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=y(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=y(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=y(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const h=y(e,["logprobs"]);h!=null&&x(t,["logprobs"],h);const f=y(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const p=y(e,["mediaResolution"]);p!=null&&x(t,["mediaResolution"],p);const m=y(e,["presencePenalty"]);m!=null&&x(t,["presencePenalty"],m);const v=y(e,["responseLogprobs"]);v!=null&&x(t,["responseLogprobs"],v);const b=y(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const N=y(e,["responseModalities"]);N!=null&&x(t,["responseModalities"],N);const A=y(e,["responseSchema"]);A!=null&&x(t,["responseSchema"],A);const E=y(e,["routingConfig"]);E!=null&&x(t,["routingConfig"],E);const T=y(e,["seed"]);T!=null&&x(t,["seed"],T);const P=y(e,["speechConfig"]);P!=null&&x(t,["speechConfig"],P);const M=y(e,["stopSequences"]);M!=null&&x(t,["stopSequences"],M);const k=y(e,["temperature"]);k!=null&&x(t,["temperature"],k);const R=y(e,["thinkingConfig"]);R!=null&&x(t,["thinkingConfig"],R);const I=y(e,["topK"]);I!=null&&x(t,["topK"],I);const j=y(e,["topP"]);if(j!=null&&x(t,["topP"],j),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function zZ(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function qZ(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function HZ(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const h=y(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=y(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const p=y(e,["seed"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","seed"],p);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","speechConfig"],zb(m));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=y(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],DZ(jn(N)));const A=y(e,["tools"]);if(t!==void 0&&A!=null){let I=wl(A);Array.isArray(I)&&(I=I.map(j=>ZZ(bl(j)))),x(t,["setup","tools"],I)}const E=y(e,["sessionResumption"]);t!==void 0&&E!=null&&x(t,["setup","sessionResumption"],QZ(E));const T=y(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&x(t,["setup","inputAudioTranscription"],T);const P=y(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&x(t,["setup","outputAudioTranscription"],P);const M=y(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&x(t,["setup","realtimeInputConfig"],M);const k=y(e,["contextWindowCompression"]);t!==void 0&&k!=null&&x(t,["setup","contextWindowCompression"],k);const R=y(e,["proactivity"]);if(t!==void 0&&R!=null&&x(t,["setup","proactivity"],R),y(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function FZ(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],BZ(r));const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const h=y(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=y(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const p=y(e,["seed"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","seed"],p);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","speechConfig"],zb(m));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=y(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],jn(N));const A=y(e,["tools"]);if(t!==void 0&&A!=null){let j=wl(A);Array.isArray(j)&&(j=j.map(G=>eee(bl(G)))),x(t,["setup","tools"],j)}const E=y(e,["sessionResumption"]);t!==void 0&&E!=null&&x(t,["setup","sessionResumption"],E);const T=y(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&x(t,["setup","inputAudioTranscription"],T);const P=y(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&x(t,["setup","outputAudioTranscription"],P);const M=y(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&x(t,["setup","realtimeInputConfig"],M);const k=y(e,["contextWindowCompression"]);t!==void 0&&k!=null&&x(t,["setup","contextWindowCompression"],k);const R=y(e,["proactivity"]);t!==void 0&&R!=null&&x(t,["setup","proactivity"],R);const I=y(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&x(t,["setup","explicitVadSignal"],I),n}function GZ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],nt(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],HZ(i,n)),n}function VZ(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],nt(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],FZ(i,n)),n}function $Z(e){const t={},n=y(e,["musicGenerationConfig"]);return n!=null&&x(t,["musicGenerationConfig"],n),t}function YZ(e){const t={},n=y(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["weightedPrompts"],r)}return t}function KZ(e){const t={},n=y(e,["media"]);if(n!=null){let f=sD(n);Array.isArray(f)&&(f=f.map(p=>xf(p))),x(t,["mediaChunks"],f)}const r=y(e,["audio"]);r!=null&&x(t,["audio"],xf(uD(r)));const i=y(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=y(e,["video"]);o!=null&&x(t,["video"],xf(lD(o)));const l=y(e,["text"]);l!=null&&x(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const h=y(e,["activityEnd"]);return h!=null&&x(t,["activityEnd"],h),t}function JZ(e){const t={},n=y(e,["media"]);if(n!=null){let f=sD(n);Array.isArray(f)&&(f=f.map(p=>p)),x(t,["mediaChunks"],f)}const r=y(e,["audio"]);r!=null&&x(t,["audio"],uD(r));const i=y(e,["audioStreamEnd"]);i!=null&&x(t,["audioStreamEnd"],i);const o=y(e,["video"]);o!=null&&x(t,["video"],lD(o));const l=y(e,["text"]);l!=null&&x(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&x(t,["activityStart"],u);const h=y(e,["activityEnd"]);return h!=null&&x(t,["activityEnd"],h),t}function XZ(e){const t={},n=y(e,["setupComplete"]);n!=null&&x(t,["setupComplete"],n);const r=y(e,["serverContent"]);r!=null&&x(t,["serverContent"],r);const i=y(e,["toolCall"]);i!=null&&x(t,["toolCall"],i);const o=y(e,["toolCallCancellation"]);o!=null&&x(t,["toolCallCancellation"],o);const l=y(e,["usageMetadata"]);l!=null&&x(t,["usageMetadata"],tee(l));const u=y(e,["goAway"]);u!=null&&x(t,["goAway"],u);const h=y(e,["sessionResumptionUpdate"]);h!=null&&x(t,["sessionResumptionUpdate"],h);const f=y(e,["voiceActivityDetectionSignal"]);return f!=null&&x(t,["voiceActivityDetectionSignal"],f),t}function WZ(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],OZ(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],LZ(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],xf(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function QZ(e){const t={},n=y(e,["handle"]);if(n!=null&&x(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ZZ(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],zZ(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],qZ(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function eee(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>UZ(v))),x(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const o=y(e,["computerUse"]);if(o!=null&&x(t,["computerUse"],o),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const h=y(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],f);const p=y(e,["urlContext"]);return p!=null&&x(t,["urlContext"],p),t}function tee(e){const t={},n=y(e,["promptTokenCount"]);n!=null&&x(t,["promptTokenCount"],n);const r=y(e,["cachedContentTokenCount"]);r!=null&&x(t,["cachedContentTokenCount"],r);const i=y(e,["candidatesTokenCount"]);i!=null&&x(t,["responseTokenCount"],i);const o=y(e,["toolUsePromptTokenCount"]);o!=null&&x(t,["toolUsePromptTokenCount"],o);const l=y(e,["thoughtsTokenCount"]);l!=null&&x(t,["thoughtsTokenCount"],l);const u=y(e,["totalTokenCount"]);u!=null&&x(t,["totalTokenCount"],u);const h=y(e,["promptTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["promptTokensDetails"],b)}const f=y(e,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["cacheTokensDetails"],b)}const p=y(e,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["responseTokensDetails"],b)}const m=y(e,["toolUsePromptTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(N=>N)),x(t,["toolUsePromptTokensDetails"],b)}const v=y(e,["trafficType"]);return v!=null&&x(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nee(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function ree(e){const t={},n=y(e,["content"]);n!=null&&x(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&x(t,["citationMetadata"],iee(r));const i=y(e,["tokenCount"]);i!=null&&x(t,["tokenCount"],i);const o=y(e,["finishReason"]);o!=null&&x(t,["finishReason"],o);const l=y(e,["avgLogprobs"]);l!=null&&x(t,["avgLogprobs"],l);const u=y(e,["groundingMetadata"]);u!=null&&x(t,["groundingMetadata"],u);const h=y(e,["index"]);h!=null&&x(t,["index"],h);const f=y(e,["logprobsResult"]);f!=null&&x(t,["logprobsResult"],f);const p=y(e,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>b)),x(t,["safetyRatings"],v)}const m=y(e,["urlContextMetadata"]);return m!=null&&x(t,["urlContextMetadata"],m),t}function iee(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(t,["citations"],r)}return t}function aee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let o=jr(i);Array.isArray(o)&&(o=o.map(l=>l)),x(n,["contents"],o)}return n}function oee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["tokensInfo"],i)}return t}function see(e){const t={},n=y(e,["values"]);n!=null&&x(t,["values"],n);const r=y(e,["statistics"]);return r!=null&&x(t,["statistics"],lee(r)),t}function lee(e){const t={},n=y(e,["truncated"]);n!=null&&x(t,["truncated"],n);const r=y(e,["token_count"]);return r!=null&&x(t,["tokenCount"],r),t}function dp(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yte(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function uee(e){const t={},n=y(e,["controlType"]);n!=null&&x(t,["controlType"],n);const r=y(e,["enableControlImageComputation"]);return r!=null&&x(t,["computeControl"],r),t}function cee(e){const t={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function dee(e,t){const n={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&x(t,["systemInstruction"],jn(r));const i=y(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>ND(u))),x(t,["tools"],l)}const o=y(e,["generationConfig"]);return t!==void 0&&o!=null&&x(t,["generationConfig"],nte(o)),n}function fee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let l=jr(i);Array.isArray(l)&&(l=l.map(u=>dp(u))),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&cee(o),n}function hee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let l=jr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&dee(o,n),n}function pee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);r!=null&&x(t,["totalTokens"],r);const i=y(e,["cachedContentTokenCount"]);return i!=null&&x(t,["cachedContentTokenCount"],i),t}function mee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);return r!=null&&x(t,["totalTokens"],r),t}function gee(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],nt(e,r)),n}function yee(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],nt(e,r)),n}function vee(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function xee(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}function bee(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const o=y(e,["numberOfImages"]);t!==void 0&&o!=null&&x(t,["parameters","sampleCount"],o);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const h=y(e,["seed"]);t!==void 0&&h!=null&&x(t,["parameters","seed"],h);const f=y(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const p=y(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const m=y(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&x(t,["parameters","includeSafetyAttributes"],m);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&x(t,["parameters","includeRaiReason"],v);const b=y(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const N=y(e,["outputMimeType"]);t!==void 0&&N!=null&&x(t,["parameters","outputOptions","mimeType"],N);const A=y(e,["outputCompressionQuality"]);t!==void 0&&A!=null&&x(t,["parameters","outputOptions","compressionQuality"],A);const E=y(e,["addWatermark"]);t!==void 0&&E!=null&&x(t,["parameters","addWatermark"],E);const T=y(e,["labels"]);t!==void 0&&T!=null&&x(t,["labels"],T);const P=y(e,["editMode"]);t!==void 0&&P!=null&&x(t,["parameters","editMode"],P);const M=y(e,["baseSteps"]);return t!==void 0&&M!=null&&x(t,["parameters","editConfig","baseSteps"],M),n}function wee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>Nte(h))),x(n,["instances[0]","referenceImages"],u)}const l=y(t,["config"]);return l!=null&&bee(l,n),n}function See(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>fp(o))),x(t,["generatedImages"],i)}return t}function Nee(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["requests[]","title"],i);const o=y(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&x(t,["requests[]","outputDimensionality"],o),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Eee(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&x(t,["instances[]","task_type"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&x(t,["instances[]","title"],i);const o=y(e,["outputDimensionality"]);t!==void 0&&o!=null&&x(t,["parameters","outputDimensionality"],o);const l=y(e,["mimeType"]);t!==void 0&&l!=null&&x(t,["instances[]","mimeType"],l);const u=y(e,["autoTruncate"]);return t!==void 0&&u!=null&&x(t,["parameters","autoTruncate"],u),n}function Aee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let u=Lb(e,i);Array.isArray(u)&&(u=u.map(h=>h)),x(n,["requests[]","content"],u)}const o=y(t,["config"]);o!=null&&Nee(o,n);const l=y(t,["model"]);return l!==void 0&&x(n,["requests[]","model"],nt(e,l)),n}function Cee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let l=Lb(e,i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["instances[]","content"],l)}const o=y(t,["config"]);return o!=null&&Eee(o,n),n}function Tee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["embeddings"],o)}const i=y(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function _ee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>see(l))),x(t,["embeddings"],o)}const i=y(e,["metadata"]);return i!=null&&x(t,["metadata"],i),t}function kee(e){const t={},n=y(e,["endpoint"]);n!=null&&x(t,["name"],n);const r=y(e,["deployedModelId"]);return r!=null&&x(t,["deployedModelId"],r),t}function Pee(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Mee(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jee(e){const t={},n=y(e,["mode"]);n!=null&&x(t,["mode"],n);const r=y(e,["allowedFunctionNames"]);if(r!=null&&x(t,["allowedFunctionNames"],r),y(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Iee(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&x(t,["description"],n);const r=y(e,["name"]);r!=null&&x(t,["name"],r);const i=y(e,["parameters"]);i!=null&&x(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&x(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&x(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&x(t,["responseJsonSchema"],u),t}function Ree(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],dp(jn(i)));const o=y(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const h=y(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=y(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=y(t,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=y(t,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const N=y(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const A=y(t,["seed"]);A!=null&&x(r,["seed"],A);const E=y(t,["responseMimeType"]);E!=null&&x(r,["responseMimeType"],E);const T=y(t,["responseSchema"]);T!=null&&x(r,["responseSchema"],Ub(T));const P=y(t,["responseJsonSchema"]);if(P!=null&&x(r,["responseJsonSchema"],P),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=y(t,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(V=>Ete(V))),x(n,["safetySettings"],F)}const k=y(t,["tools"]);if(n!==void 0&&k!=null){let F=wl(k);Array.isArray(F)&&(F=F.map(V=>Mte(bl(V)))),x(n,["tools"],F)}const R=y(t,["toolConfig"]);if(n!==void 0&&R!=null&&x(n,["toolConfig"],Pte(R)),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=y(t,["cachedContent"]);n!==void 0&&I!=null&&x(n,["cachedContent"],ma(e,I));const j=y(t,["responseModalities"]);j!=null&&x(r,["responseModalities"],j);const G=y(t,["mediaResolution"]);G!=null&&x(r,["mediaResolution"],G);const U=y(t,["speechConfig"]);if(U!=null&&x(r,["speechConfig"],Bb(U)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=y(t,["thinkingConfig"]);D!=null&&x(r,["thinkingConfig"],D);const O=y(t,["imageConfig"]);O!=null&&x(r,["imageConfig"],ste(O));const $=y(t,["enableEnhancedCivicAnswers"]);return $!=null&&x(r,["enableEnhancedCivicAnswers"],$),r}function Dee(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],jn(i));const o=y(t,["temperature"]);o!=null&&x(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&x(r,["topP"],l);const u=y(t,["topK"]);u!=null&&x(r,["topK"],u);const h=y(t,["candidateCount"]);h!=null&&x(r,["candidateCount"],h);const f=y(t,["maxOutputTokens"]);f!=null&&x(r,["maxOutputTokens"],f);const p=y(t,["stopSequences"]);p!=null&&x(r,["stopSequences"],p);const m=y(t,["responseLogprobs"]);m!=null&&x(r,["responseLogprobs"],m);const v=y(t,["logprobs"]);v!=null&&x(r,["logprobs"],v);const b=y(t,["presencePenalty"]);b!=null&&x(r,["presencePenalty"],b);const N=y(t,["frequencyPenalty"]);N!=null&&x(r,["frequencyPenalty"],N);const A=y(t,["seed"]);A!=null&&x(r,["seed"],A);const E=y(t,["responseMimeType"]);E!=null&&x(r,["responseMimeType"],E);const T=y(t,["responseSchema"]);T!=null&&x(r,["responseSchema"],Ub(T));const P=y(t,["responseJsonSchema"]);P!=null&&x(r,["responseJsonSchema"],P);const M=y(t,["routingConfig"]);M!=null&&x(r,["routingConfig"],M);const k=y(t,["modelSelectionConfig"]);k!=null&&x(r,["modelConfig"],k);const R=y(t,["safetySettings"]);if(n!==void 0&&R!=null){let B=R;Array.isArray(B)&&(B=B.map(K=>K)),x(n,["safetySettings"],B)}const I=y(t,["tools"]);if(n!==void 0&&I!=null){let B=wl(I);Array.isArray(B)&&(B=B.map(K=>ND(bl(K)))),x(n,["tools"],B)}const j=y(t,["toolConfig"]);n!==void 0&&j!=null&&x(n,["toolConfig"],j);const G=y(t,["labels"]);n!==void 0&&G!=null&&x(n,["labels"],G);const U=y(t,["cachedContent"]);n!==void 0&&U!=null&&x(n,["cachedContent"],ma(e,U));const D=y(t,["responseModalities"]);D!=null&&x(r,["responseModalities"],D);const O=y(t,["mediaResolution"]);O!=null&&x(r,["mediaResolution"],O);const $=y(t,["speechConfig"]);$!=null&&x(r,["speechConfig"],Bb($));const F=y(t,["audioTimestamp"]);F!=null&&x(r,["audioTimestamp"],F);const V=y(t,["thinkingConfig"]);V!=null&&x(r,["thinkingConfig"],V);const z=y(t,["imageConfig"]);if(z!=null&&x(r,["imageConfig"],lte(z)),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function q2(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let l=jr(i);Array.isArray(l)&&(l=l.map(u=>dp(u))),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&x(n,["generationConfig"],Ree(e,o,n)),n}function H2(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["contents"]);if(i!=null){let l=jr(i);Array.isArray(l)&&(l=l.map(u=>u)),x(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&x(n,["generationConfig"],Dee(e,o,n)),n}function F2(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(f=>ree(f))),x(t,["candidates"],h)}const i=y(e,["modelVersion"]);i!=null&&x(t,["modelVersion"],i);const o=y(e,["promptFeedback"]);o!=null&&x(t,["promptFeedback"],o);const l=y(e,["responseId"]);l!=null&&x(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&x(t,["usageMetadata"],u),t}function G2(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),x(t,["candidates"],f)}const i=y(e,["createTime"]);i!=null&&x(t,["createTime"],i);const o=y(e,["modelVersion"]);o!=null&&x(t,["modelVersion"],o);const l=y(e,["promptFeedback"]);l!=null&&x(t,["promptFeedback"],l);const u=y(e,["responseId"]);u!=null&&x(t,["responseId"],u);const h=y(e,["usageMetadata"]);return h!=null&&x(t,["usageMetadata"],h),t}function Oee(e,t){const n={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["aspectRatio"]);t!==void 0&&i!=null&&x(t,["parameters","aspectRatio"],i);const o=y(e,["guidanceScale"]);if(t!==void 0&&o!=null&&x(t,["parameters","guidanceScale"],o),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=y(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&x(t,["parameters","safetySetting"],l);const u=y(e,["personGeneration"]);t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u);const h=y(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&x(t,["parameters","includeSafetyAttributes"],h);const f=y(e,["includeRaiReason"]);t!==void 0&&f!=null&&x(t,["parameters","includeRaiReason"],f);const p=y(e,["language"]);t!==void 0&&p!=null&&x(t,["parameters","language"],p);const m=y(e,["outputMimeType"]);t!==void 0&&m!=null&&x(t,["parameters","outputOptions","mimeType"],m);const v=y(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&x(t,["parameters","outputOptions","compressionQuality"],v),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=y(e,["imageSize"]);if(t!==void 0&&b!=null&&x(t,["parameters","sampleImageSize"],b),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Lee(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&x(t,["parameters","negativePrompt"],i);const o=y(e,["numberOfImages"]);t!==void 0&&o!=null&&x(t,["parameters","sampleCount"],o);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&x(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&x(t,["parameters","guidanceScale"],u);const h=y(e,["seed"]);t!==void 0&&h!=null&&x(t,["parameters","seed"],h);const f=y(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&x(t,["parameters","safetySetting"],f);const p=y(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const m=y(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&x(t,["parameters","includeSafetyAttributes"],m);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&x(t,["parameters","includeRaiReason"],v);const b=y(e,["language"]);t!==void 0&&b!=null&&x(t,["parameters","language"],b);const N=y(e,["outputMimeType"]);t!==void 0&&N!=null&&x(t,["parameters","outputOptions","mimeType"],N);const A=y(e,["outputCompressionQuality"]);t!==void 0&&A!=null&&x(t,["parameters","outputOptions","compressionQuality"],A);const E=y(e,["addWatermark"]);t!==void 0&&E!=null&&x(t,["parameters","addWatermark"],E);const T=y(e,["labels"]);t!==void 0&&T!=null&&x(t,["labels"],T);const P=y(e,["imageSize"]);t!==void 0&&P!=null&&x(t,["parameters","sampleImageSize"],P);const M=y(e,["enhancePrompt"]);return t!==void 0&&M!=null&&x(t,["parameters","enhancePrompt"],M),n}function Uee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["config"]);return o!=null&&Oee(o,n),n}function Bee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["config"]);return o!=null&&Lee(o,n),n}function zee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Qee(l))),x(t,["generatedImages"],o)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],wD(i)),t}function qee(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>fp(l))),x(t,["generatedImages"],o)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&x(t,["positivePromptSafetyAttributes"],SD(i)),t}function Hee(e,t){const n={},r=y(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(e,["durationSeconds"]);if(t!==void 0&&i!=null&&x(t,["parameters","durationSeconds"],i),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(e,["aspectRatio"]);t!==void 0&&o!=null&&x(t,["parameters","aspectRatio"],o);const l=y(e,["resolution"]);t!==void 0&&l!=null&&x(t,["parameters","resolution"],l);const u=y(e,["personGeneration"]);if(t!==void 0&&u!=null&&x(t,["parameters","personGeneration"],u),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=y(e,["negativePrompt"]);t!==void 0&&h!=null&&x(t,["parameters","negativePrompt"],h);const f=y(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&x(t,["parameters","enhancePrompt"],f),y(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=y(e,["lastFrame"]);t!==void 0&&p!=null&&x(t,["instances[0]","lastFrame"],hp(p));const m=y(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>Gte(b))),x(t,["instances[0]","referenceImages"],v)}if(y(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Fee(e,t){const n={},r=y(e,["numberOfVideos"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["outputGcsUri"]);t!==void 0&&i!=null&&x(t,["parameters","storageUri"],i);const o=y(e,["fps"]);t!==void 0&&o!=null&&x(t,["parameters","fps"],o);const l=y(e,["durationSeconds"]);t!==void 0&&l!=null&&x(t,["parameters","durationSeconds"],l);const u=y(e,["seed"]);t!==void 0&&u!=null&&x(t,["parameters","seed"],u);const h=y(e,["aspectRatio"]);t!==void 0&&h!=null&&x(t,["parameters","aspectRatio"],h);const f=y(e,["resolution"]);t!==void 0&&f!=null&&x(t,["parameters","resolution"],f);const p=y(e,["personGeneration"]);t!==void 0&&p!=null&&x(t,["parameters","personGeneration"],p);const m=y(e,["pubsubTopic"]);t!==void 0&&m!=null&&x(t,["parameters","pubsubTopic"],m);const v=y(e,["negativePrompt"]);t!==void 0&&v!=null&&x(t,["parameters","negativePrompt"],v);const b=y(e,["enhancePrompt"]);t!==void 0&&b!=null&&x(t,["parameters","enhancePrompt"],b);const N=y(e,["generateAudio"]);t!==void 0&&N!=null&&x(t,["parameters","generateAudio"],N);const A=y(e,["lastFrame"]);t!==void 0&&A!=null&&x(t,["instances[0]","lastFrame"],oi(A));const E=y(e,["referenceImages"]);if(t!==void 0&&E!=null){let M=E;Array.isArray(M)&&(M=M.map(k=>Vte(k))),x(t,["instances[0]","referenceImages"],M)}const T=y(e,["mask"]);t!==void 0&&T!=null&&x(t,["instances[0]","mask"],Fte(T));const P=y(e,["compressionQuality"]);return t!==void 0&&P!=null&&x(t,["parameters","compressionQuality"],P),n}function Gee(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response","generateVideoResponse"]);return l!=null&&x(t,["response"],Kee(l)),t}function Vee(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],Jee(l)),t}function $ee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["image"]);o!=null&&x(n,["instances[0]","image"],hp(o));const l=y(t,["video"]);l!=null&&x(n,["instances[0]","video"],ED(l));const u=y(t,["source"]);u!=null&&Xee(u,n);const h=y(t,["config"]);return h!=null&&Hee(h,n),n}function Yee(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["prompt"]);i!=null&&x(n,["instances[0]","prompt"],i);const o=y(t,["image"]);o!=null&&x(n,["instances[0]","image"],oi(o));const l=y(t,["video"]);l!=null&&x(n,["instances[0]","video"],AD(l));const u=y(t,["source"]);u!=null&&Wee(u,n);const h=y(t,["config"]);return h!=null&&Fee(h,n),n}function Kee(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>ete(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function Jee(e){const t={},n=y(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>tte(l))),x(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&x(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&x(t,["raiMediaFilteredReasons"],i),t}function Xee(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],hp(i));const o=y(e,["video"]);return t!==void 0&&o!=null&&x(t,["instances[0]","video"],ED(o)),n}function Wee(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],oi(i));const o=y(e,["video"]);return t!==void 0&&o!=null&&x(t,["instances[0]","video"],AD(o)),n}function Qee(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["image"],ute(n));const r=y(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=y(e,["_self"]);return i!=null&&x(t,["safetyAttributes"],wD(i)),t}function fp(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["image"],bD(n));const r=y(e,["raiFilteredReason"]);r!=null&&x(t,["raiFilteredReason"],r);const i=y(e,["_self"]);i!=null&&x(t,["safetyAttributes"],SD(i));const o=y(e,["prompt"]);return o!=null&&x(t,["enhancedPrompt"],o),t}function Zee(e){const t={},n=y(e,["_self"]);n!=null&&x(t,["mask"],bD(n));const r=y(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(t,["labels"],i)}return t}function ete(e){const t={},n=y(e,["video"]);return n!=null&&x(t,["video"],qte(n)),t}function tte(e){const t={},n=y(e,["_self"]);return n!=null&&x(t,["video"],Hte(n)),t}function nte(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&x(t,["modelConfig"],n);const r=y(e,["responseJsonSchema"]);r!=null&&x(t,["responseJsonSchema"],r);const i=y(e,["audioTimestamp"]);i!=null&&x(t,["audioTimestamp"],i);const o=y(e,["candidateCount"]);o!=null&&x(t,["candidateCount"],o);const l=y(e,["enableAffectiveDialog"]);l!=null&&x(t,["enableAffectiveDialog"],l);const u=y(e,["frequencyPenalty"]);u!=null&&x(t,["frequencyPenalty"],u);const h=y(e,["logprobs"]);h!=null&&x(t,["logprobs"],h);const f=y(e,["maxOutputTokens"]);f!=null&&x(t,["maxOutputTokens"],f);const p=y(e,["mediaResolution"]);p!=null&&x(t,["mediaResolution"],p);const m=y(e,["presencePenalty"]);m!=null&&x(t,["presencePenalty"],m);const v=y(e,["responseLogprobs"]);v!=null&&x(t,["responseLogprobs"],v);const b=y(e,["responseMimeType"]);b!=null&&x(t,["responseMimeType"],b);const N=y(e,["responseModalities"]);N!=null&&x(t,["responseModalities"],N);const A=y(e,["responseSchema"]);A!=null&&x(t,["responseSchema"],A);const E=y(e,["routingConfig"]);E!=null&&x(t,["routingConfig"],E);const T=y(e,["seed"]);T!=null&&x(t,["seed"],T);const P=y(e,["speechConfig"]);P!=null&&x(t,["speechConfig"],P);const M=y(e,["stopSequences"]);M!=null&&x(t,["stopSequences"],M);const k=y(e,["temperature"]);k!=null&&x(t,["temperature"],k);const R=y(e,["thinkingConfig"]);R!=null&&x(t,["thinkingConfig"],R);const I=y(e,["topK"]);I!=null&&x(t,["topK"],I);const j=y(e,["topP"]);if(j!=null&&x(t,["topP"],j),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function rte(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],nt(e,r)),n}function ite(e,t){const n={},r=y(t,["model"]);return r!=null&&x(n,["_url","name"],nt(e,r)),n}function ate(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function ote(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function ste(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);if(r!=null&&x(t,["imageSize"],r),y(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function lte(e){const t={},n=y(e,["aspectRatio"]);n!=null&&x(t,["aspectRatio"],n);const r=y(e,["imageSize"]);r!=null&&x(t,["imageSize"],r);const i=y(e,["outputMimeType"]);i!=null&&x(t,["imageOutputOptions","mimeType"],i);const o=y(e,["outputCompressionQuality"]);return o!=null&&x(t,["imageOutputOptions","compressionQuality"],o),t}function ute(e){const t={},n=y(e,["bytesBase64Encoded"]);n!=null&&x(t,["imageBytes"],to(n));const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function bD(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["imageBytes"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function hp(e){const t={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(e,["imageBytes"]);n!=null&&x(t,["bytesBase64Encoded"],to(n));const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function oi(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["imageBytes"]);r!=null&&x(t,["bytesBase64Encoded"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function cte(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=y(t,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const l=y(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],hD(e,u)),r}function dte(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=y(t,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const l=y(t,["filter"]);n!==void 0&&l!=null&&x(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&x(n,["_url","models_url"],hD(e,u)),r}function fte(e,t){const n={},r=y(t,["config"]);return r!=null&&cte(e,r,n),n}function hte(e,t){const n={},r=y(t,["config"]);return r!=null&&dte(e,r,n),n}function pte(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let o=pD(i);Array.isArray(o)&&(o=o.map(l=>Dv(l))),x(t,["models"],o)}return t}function mte(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let o=pD(i);Array.isArray(o)&&(o=o.map(l=>Ov(l))),x(t,["models"],o)}return t}function gte(e){const t={},n=y(e,["maskMode"]);n!=null&&x(t,["maskMode"],n);const r=y(e,["segmentationClasses"]);r!=null&&x(t,["maskClasses"],r);const i=y(e,["maskDilation"]);return i!=null&&x(t,["dilation"],i),t}function Dv(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);i!=null&&x(t,["description"],i);const o=y(e,["version"]);o!=null&&x(t,["version"],o);const l=y(e,["_self"]);l!=null&&x(t,["tunedModelInfo"],jte(l));const u=y(e,["inputTokenLimit"]);u!=null&&x(t,["inputTokenLimit"],u);const h=y(e,["outputTokenLimit"]);h!=null&&x(t,["outputTokenLimit"],h);const f=y(e,["supportedGenerationMethods"]);f!=null&&x(t,["supportedActions"],f);const p=y(e,["temperature"]);p!=null&&x(t,["temperature"],p);const m=y(e,["maxTemperature"]);m!=null&&x(t,["maxTemperature"],m);const v=y(e,["topP"]);v!=null&&x(t,["topP"],v);const b=y(e,["topK"]);b!=null&&x(t,["topK"],b);const N=y(e,["thinking"]);return N!=null&&x(t,["thinking"],N),t}function Ov(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["displayName"]);r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);i!=null&&x(t,["description"],i);const o=y(e,["versionId"]);o!=null&&x(t,["version"],o);const l=y(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>kee(v))),x(t,["endpoints"],m)}const u=y(e,["labels"]);u!=null&&x(t,["labels"],u);const h=y(e,["_self"]);h!=null&&x(t,["tunedModelInfo"],Ite(h));const f=y(e,["defaultCheckpointId"]);f!=null&&x(t,["defaultCheckpointId"],f);const p=y(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(v=>v)),x(t,["checkpoints"],m)}return t}function yte(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],Pee(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],Mee(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],nee(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function vte(e){const t={},n=y(e,["productImage"]);return n!=null&&x(t,["image"],oi(n)),t}function xte(e,t){const n={},r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&x(t,["parameters","sampleCount"],r);const i=y(e,["baseSteps"]);t!==void 0&&i!=null&&x(t,["parameters","baseSteps"],i);const o=y(e,["outputGcsUri"]);t!==void 0&&o!=null&&x(t,["parameters","storageUri"],o);const l=y(e,["seed"]);t!==void 0&&l!=null&&x(t,["parameters","seed"],l);const u=y(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&x(t,["parameters","safetySetting"],u);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&x(t,["parameters","personGeneration"],h);const f=y(e,["addWatermark"]);t!==void 0&&f!=null&&x(t,["parameters","addWatermark"],f);const p=y(e,["outputMimeType"]);t!==void 0&&p!=null&&x(t,["parameters","outputOptions","mimeType"],p);const m=y(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&x(t,["parameters","outputOptions","compressionQuality"],m);const v=y(e,["enhancePrompt"]);t!==void 0&&v!=null&&x(t,["parameters","enhancePrompt"],v);const b=y(e,["labels"]);return t!==void 0&&b!=null&&x(t,["labels"],b),n}function bte(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["source"]);i!=null&&Ste(i,n);const o=y(t,["config"]);return o!=null&&xte(o,n),n}function wte(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fp(i))),x(t,["generatedImages"],r)}return t}function Ste(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["personImage"]);t!==void 0&&i!=null&&x(t,["instances[0]","personImage","image"],oi(i));const o=y(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>vte(u))),x(t,["instances[0]","productImages"],l)}return n}function Nte(e){const t={},n=y(e,["referenceImage"]);n!=null&&x(t,["referenceImage"],oi(n));const r=y(e,["referenceId"]);r!=null&&x(t,["referenceId"],r);const i=y(e,["referenceType"]);i!=null&&x(t,["referenceType"],i);const o=y(e,["maskImageConfig"]);o!=null&&x(t,["maskImageConfig"],gte(o));const l=y(e,["controlImageConfig"]);l!=null&&x(t,["controlImageConfig"],uee(l));const u=y(e,["styleImageConfig"]);u!=null&&x(t,["styleImageConfig"],u);const h=y(e,["subjectImageConfig"]);return h!=null&&x(t,["subjectImageConfig"],h),t}function wD(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function SD(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&x(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&x(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&x(t,["contentType"],i),t}function Ete(e){const t={},n=y(e,["category"]);if(n!=null&&x(t,["category"],n),y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(e,["threshold"]);return r!=null&&x(t,["threshold"],r),t}function Ate(e){const t={},n=y(e,["image"]);return n!=null&&x(t,["image"],oi(n)),t}function Cte(e,t){const n={},r=y(e,["mode"]);t!==void 0&&r!=null&&x(t,["parameters","mode"],r);const i=y(e,["maxPredictions"]);t!==void 0&&i!=null&&x(t,["parameters","maxPredictions"],i);const o=y(e,["confidenceThreshold"]);t!==void 0&&o!=null&&x(t,["parameters","confidenceThreshold"],o);const l=y(e,["maskDilation"]);t!==void 0&&l!=null&&x(t,["parameters","maskDilation"],l);const u=y(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&x(t,["parameters","binaryColorThreshold"],u);const h=y(e,["labels"]);return t!==void 0&&h!=null&&x(t,["labels"],h),n}function Tte(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["source"]);i!=null&&kte(i,n);const o=y(t,["config"]);return o!=null&&Cte(o,n),n}function _te(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Zee(i))),x(t,["generatedMasks"],r)}return t}function kte(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&x(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&x(t,["instances[0]","image"],oi(i));const o=y(e,["scribbleImage"]);return t!==void 0&&o!=null&&x(t,["instances[0]","scribble"],Ate(o)),n}function Pte(e){const t={},n=y(e,["functionCallingConfig"]);n!=null&&x(t,["functionCallingConfig"],jee(n));const r=y(e,["retrievalConfig"]);return r!=null&&x(t,["retrievalConfig"],r),t}function Mte(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],ate(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],ote(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}function ND(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Iee(v))),x(t,["functionDeclarations"],m)}const r=y(e,["retrieval"]);r!=null&&x(t,["retrieval"],r);const i=y(e,["googleSearchRetrieval"]);i!=null&&x(t,["googleSearchRetrieval"],i);const o=y(e,["computerUse"]);if(o!=null&&x(t,["computerUse"],o),y(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=y(e,["codeExecution"]);l!=null&&x(t,["codeExecution"],l);const u=y(e,["enterpriseWebSearch"]);u!=null&&x(t,["enterpriseWebSearch"],u);const h=y(e,["googleMaps"]);h!=null&&x(t,["googleMaps"],h);const f=y(e,["googleSearch"]);f!=null&&x(t,["googleSearch"],f);const p=y(e,["urlContext"]);return p!=null&&x(t,["urlContext"],p),t}function jte(e){const t={},n=y(e,["baseModel"]);n!=null&&x(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function Ite(e){const t={},n=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&x(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&x(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&x(t,["updateTime"],i),t}function Rte(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const o=y(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&x(t,["defaultCheckpointId"],o),n}function Dte(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&x(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&x(t,["description"],i);const o=y(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&x(t,["defaultCheckpointId"],o),n}function Ote(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","name"],nt(e,r));const i=y(t,["config"]);return i!=null&&Rte(i,n),n}function Lte(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["config"]);return i!=null&&Dte(i,n),n}function Ute(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&x(t,["parameters","storageUri"],r);const i=y(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&x(t,["parameters","safetySetting"],i);const o=y(e,["personGeneration"]);t!==void 0&&o!=null&&x(t,["parameters","personGeneration"],o);const l=y(e,["includeRaiReason"]);t!==void 0&&l!=null&&x(t,["parameters","includeRaiReason"],l);const u=y(e,["outputMimeType"]);t!==void 0&&u!=null&&x(t,["parameters","outputOptions","mimeType"],u);const h=y(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&x(t,["parameters","outputOptions","compressionQuality"],h);const f=y(e,["enhanceInputImage"]);t!==void 0&&f!=null&&x(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=y(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&x(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=y(e,["labels"]);t!==void 0&&m!=null&&x(t,["labels"],m);const v=y(e,["numberOfImages"]);t!==void 0&&v!=null&&x(t,["parameters","sampleCount"],v);const b=y(e,["mode"]);return t!==void 0&&b!=null&&x(t,["parameters","mode"],b),n}function Bte(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["_url","model"],nt(e,r));const i=y(t,["image"]);i!=null&&x(n,["instances[0]","image"],oi(i));const o=y(t,["upscaleFactor"]);o!=null&&x(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=y(t,["config"]);return l!=null&&Ute(l,n),n}function zte(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>fp(o))),x(t,["generatedImages"],i)}return t}function qte(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&x(t,["videoBytes"],to(r));const i=y(e,["encoding"]);return i!=null&&x(t,["mimeType"],i),t}function Hte(e){const t={},n=y(e,["gcsUri"]);n!=null&&x(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&x(t,["videoBytes"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}function Fte(e){const t={},n=y(e,["image"]);n!=null&&x(t,["_self"],oi(n));const r=y(e,["maskMode"]);return r!=null&&x(t,["maskMode"],r),t}function Gte(e){const t={},n=y(e,["image"]);n!=null&&x(t,["image"],hp(n));const r=y(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function Vte(e){const t={},n=y(e,["image"]);n!=null&&x(t,["image"],oi(n));const r=y(e,["referenceType"]);return r!=null&&x(t,["referenceType"],r),t}function ED(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["uri"],n);const r=y(e,["videoBytes"]);r!=null&&x(t,["encodedVideo"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["encoding"],i),t}function AD(e){const t={},n=y(e,["uri"]);n!=null&&x(t,["gcsUri"],n);const r=y(e,["videoBytes"]);r!=null&&x(t,["bytesBase64Encoded"],to(r));const i=y(e,["mimeType"]);return i!=null&&x(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $te(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&x(t,["displayName"],r),n}function Yte(e){const t={},n=y(e,["config"]);return n!=null&&$te(n,t),t}function Kte(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function Jte(e){const t={},n=y(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&Kte(r,t),t}function Xte(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Wte(e,t){const n={},r=y(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["customMetadata"],o)}const i=y(e,["chunkingConfig"]);return t!==void 0&&i!=null&&x(t,["chunkingConfig"],i),n}function Qte(e){const t={},n=y(e,["name"]);n!=null&&x(t,["name"],n);const r=y(e,["metadata"]);r!=null&&x(t,["metadata"],r);const i=y(e,["done"]);i!=null&&x(t,["done"],i);const o=y(e,["error"]);o!=null&&x(t,["error"],o);const l=y(e,["response"]);return l!=null&&x(t,["response"],ene(l)),t}function Zte(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=y(e,["fileName"]);r!=null&&x(t,["fileName"],r);const i=y(e,["config"]);return i!=null&&Wte(i,t),t}function ene(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["parent"]);r!=null&&x(t,["parent"],r);const i=y(e,["documentName"]);return i!=null&&x(t,["documentName"],i),t}function tne(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function nne(e){const t={},n=y(e,["config"]);return n!=null&&tne(n,t),t}function rne(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["fileSearchStores"],o)}return t}function CD(e,t){const n={},r=y(e,["mimeType"]);t!==void 0&&r!=null&&x(t,["mimeType"],r);const i=y(e,["displayName"]);t!==void 0&&i!=null&&x(t,["displayName"],i);const o=y(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>h)),x(t,["customMetadata"],u)}const l=y(e,["chunkingConfig"]);return t!==void 0&&l!=null&&x(t,["chunkingConfig"],l),n}function ine(e){const t={},n=y(e,["fileSearchStoreName"]);n!=null&&x(t,["_url","file_search_store_name"],n);const r=y(e,["config"]);return r!=null&&CD(r,t),t}function ane(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&x(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const one="Content-Type",sne="X-Server-Timeout",lne="User-Agent",Lv="x-goog-api-client",une="1.34.0",cne=`google-genai-sdk/${une}`,dne="v1beta1",fne="v1beta";class hne{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:dne,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:fne,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&pne(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await V2(i),new jv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await V2(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Qr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",h=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield ze(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(p,{stream:!0});try{const N=JSON.parse(m);if("error"in N){const A=JSON.parse(JSON.stringify(N.error)),E=A.status,T=A.code,P=`got status: ${E}. ${JSON.stringify(N)}`;if(T>=400&&T<600)throw new cp({message:P,status:T})}}catch(N){if(N.name==="ApiError")throw N}l+=m;let v=-1,b=0;for(;;){v=-1,b=0;for(const E of h){const T=l.indexOf(E);T!==-1&&(v===-1||T<v)&&(v=T,b=E.length)}if(v===-1)break;const N=l.substring(0,v);l=l.substring(v+b);const A=N.trim();if(A.startsWith(u)){const E=A.substring(u.length).trim();try{const T=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ze(new jv(T))}catch(T){throw new Error(`exception parsing stream chunk ${E}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=cne+" "+this.clientOptions.userAgentExtra;return t[lne]=n,t[Lv]=n,t[one]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(sne,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const h={file:i},f=this.getFileName(t),p=Ae("upload/v1beta/files",h._url),m=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,h,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),h=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&CD(r,m);const v=await this.fetchUploadUrl(f,u,h,p,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let h={};l?h=l:h={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:h});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function V2(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new cp({message:i,status:n}):new Error(i)}}function pne(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const h in l)if(Object.prototype.hasOwnProperty.call(l,h)){const f=l[h],p=u[h];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[h]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${h}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[h]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mne="mcp_used/unknown";let gne=!1;function TD(e){for(const t of e)if(yne(t)||typeof t=="object"&&"inputSchema"in t)return!0;return gne}function _D(e){var t;const n=(t=e[Lv])!==null&&t!==void 0?t:"";e[Lv]=(n+` ${mne}`).trimStart()}function yne(e){return e!==null&&typeof e=="object"&&e instanceof qb}function vne(e){return Qr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield ze(n.listTools({cursor:i}));for(const u of l.tools)yield yield ze(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class qb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new qb(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const p of this.mcpClients)try{for(var u=!0,h=(n=void 0,Zr(vne(p))),f;f=await h.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const m=i;l.push(m);const v=m.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=p}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),XW(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xne(e,t,n){const r=new HW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class bne{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=Nne(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),h=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(M=>{f=M}),m=t.callbacks,v=function(){f({})},b=this.apiClient,N={onopen:v,onmessage:M=>{xne(b,m.onmessage,M)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(M){}},A=this.webSocketFactory.create(h,Sne(l),N);A.connect(),await p;const P={setup:{model:nt(this.apiClient,t.model)}};return A.send(JSON.stringify(P)),new wne(A,this.apiClient)}}class wne{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=YZ(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=$Z(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vs.PLAY)}pause(){this.sendPlaybackControl(Vs.PAUSE)}stop(){this.sendPlaybackControl(Vs.STOP)}resetContext(){this.sendPlaybackControl(Vs.RESET_CONTEXT)}close(){this.conn.close()}}function Sne(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Nne(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ene="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ane(e,t,n){const r=new qW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=XZ(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class Cne{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new bne(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const h=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&TD(t.config.tools)&&_D(m);const v=Pne(m);if(this.apiClient.isVertexAI())p=`${h}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,p);else{const U=this.apiClient.getApiKey();let D="BidiGenerateContent",O="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",O="access_token"),p=`${h}/ws/google.ai.generativelanguage.${f}.GenerativeService.${D}?${O}=${U}`}let b=()=>{};const N=new Promise(U=>{b=U}),A=t.callbacks,E=function(){var U;(U=A==null?void 0:A.onopen)===null||U===void 0||U.call(A),b({})},T=this.apiClient,P={onopen:E,onmessage:U=>{Ane(T,A.onmessage,U)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(U){}},M=this.webSocketFactory.create(p,kne(v),P);M.connect(),await N;let k=nt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const U=this.apiClient.getProject(),D=this.apiClient.getLocation();k=`projects/${U}/locations/${D}/`+k}let R={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[fh.AUDIO]}:t.config.responseModalities=[fh.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],j=[];for(const U of I)if(this.isCallableTool(U)){const D=U;j.push(await D.tool())}else j.push(U);j.length>0&&(t.config.tools=j);const G={model:k,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?R=VZ(this.apiClient,G):R=GZ(this.apiClient,G),delete R.config,M.send(JSON.stringify(R)),new _ne(M,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Tne={turnComplete:!0};class _ne{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=jr(n.turns),t.isVertexAI()||(r=r.map(i=>dp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(Ene)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},Tne),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:JZ(t)}:n={realtimeInput:KZ(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function kne(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Pne(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $2=10;function Y2(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(el(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function el(e){return"callTool"in e&&typeof e.callTool=="function"}function Mne(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>el(i)))!==null&&r!==void 0?r:!1}function K2(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(el(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function J2(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jne extends pa{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const h=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Mne(n)||Y2(n.config))return await this.generateContentInternal(h);const f=K2(n);if(f.length>0){const A=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let p,m;const v=jr(h.contents),b=(o=(i=(r=h.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:$2;let N=0;for(;N<b&&(p=await this.generateContentInternal(h),!(!p.functionCalls||p.functionCalls.length===0));){const A=p.candidates[0].content,E=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(el(T)){const M=await T.callTool(p.functionCalls);E.push(...M)}N++,m={role:"user",parts:E},h.contents=jr(h.contents),h.contents.push(A),h.contents.push(m),J2(h.config)&&(v.push(A),v.push(m))}return J2(h.config)&&(p.automaticFunctionCallingHistory=v),p},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),Y2(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const h=K2(n);if(h.length>0){const m=h.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,p=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const h of r.generatedImages)h&&(h!=null&&h.safetyAttributes)&&((i=h==null?void 0:h.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=h==null?void 0:h.safetyAttributes:l.push(h);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Yo(na.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,h;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((h=(u=n.source)===null||u===void 0?void 0:u.video)===null||h===void 0)&&h.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async h=>el(h)?await h.tool():h)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&TD(t.config.tools)){const h=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},h);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),_D(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(el(l)){const u=l,h=await u.tool();for(const f of(i=h.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:$2;let l=!1,u=0;const h=await this.initAfcToolsMap(t);return(function(f,p,m){return Qr(this,arguments,function*(){for(var v,b,N,A,E,T;u<o;){l&&(u++,l=!1);const R=yield ze(f.processParamsMaybeAddMcpUsage(m)),I=yield ze(f.generateContentStreamInternal(R)),j=[],G=[];try{for(var P=!0,M=(b=void 0,Zr(I)),k;k=yield ze(M.next()),v=k.done,!v;P=!0){A=k.value,P=!1;const U=A;if(yield yield ze(U),U.candidates&&(!((E=U.candidates[0])===null||E===void 0)&&E.content)){G.push(U.candidates[0].content);for(const D of(T=U.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(u<o&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(D.functionCall.name)){const O=yield ze(p.get(D.functionCall.name).callTool([D.functionCall]));j.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(U){b={error:U}}finally{try{!P&&!v&&(N=M.return)&&(yield ze(N.call(M)))}finally{if(b)throw b.error}}if(j.length>0){l=!0;const U=new Cu;U.candidates=[{content:{role:"user",parts:j}}],yield yield ze(U);const D=[];D.push(...G),D.push({role:"user",parts:j});const O=jr(m.contents).concat(D);m.contents=O}else break}})})(this,h,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=H2(this.apiClient,t);return u=Ae("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=G2(p),v=new Cu;return Object.assign(v,m),v})}else{const f=q2(this.apiClient,t);return u=Ae("{model}:generateContent",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=F2(p),v=new Cu;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=H2(this.apiClient,t);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Qr(this,arguments,function*(){var v,b,N,A;try{for(var E=!0,T=Zr(m),P;P=yield ze(T.next()),v=P.done,!v;E=!0){A=P.value,E=!1;const M=A,k=G2(yield ze(M.json()));k.sdkHttpResponse={headers:M.headers};const R=new Cu;Object.assign(R,k),yield yield ze(R)}}catch(M){b={error:M}}finally{try{!E&&!v&&(N=T.return)&&(yield ze(N.call(T)))}finally{if(b)throw b.error}}})})}else{const f=q2(this.apiClient,t);return u=Ae("{model}:streamGenerateContent?alt=sse",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Qr(this,arguments,function*(){var v,b,N,A;try{for(var E=!0,T=Zr(m),P;P=yield ze(T.next()),v=P.done,!v;E=!0){A=P.value,E=!1;const M=A,k=F2(yield ze(M.json()));k.sdkHttpResponse={headers:M.headers};const R=new Cu;Object.assign(R,k),yield yield ze(R)}}catch(M){b={error:M}}finally{try{!E&&!v&&(N=T.return)&&(yield ze(N.call(T)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Cee(this.apiClient,t);return u=Ae("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=_ee(p),v=new E2;return Object.assign(v,m),v})}else{const f=Aee(this.apiClient,t);return u=Ae("{model}:batchEmbedContents",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Tee(p),v=new E2;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Bee(this.apiClient,t);return u=Ae("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=qee(p),v=new A2;return Object.assign(v,m),v})}else{const f=Uee(this.apiClient,t);return u=Ae("{model}:predict",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=zee(p),v=new A2;return Object.assign(v,m),v})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=wee(this.apiClient,t);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=See(h),p=new PW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Bte(this.apiClient,t);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=zte(h),p=new MW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=bte(this.apiClient,t);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=wte(h),p=new jW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Tte(this.apiClient,t);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=_te(h),p=new IW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=ite(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Ov(p))}else{const f=rte(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Dv(p))}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=hte(this.apiClient,t);return u=Ae("{models_url}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=mte(p),v=new C2;return Object.assign(v,m),v})}else{const f=fte(this.apiClient,t);return u=Ae("{models_url}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=pte(p),v=new C2;return Object.assign(v,m),v})}}async update(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Lte(this.apiClient,t);return u=Ae("{model}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Ov(p))}else{const f=Ote(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>Dv(p))}}async delete(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=yee(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=xee(p),v=new T2;return Object.assign(v,m),v})}else{const f=gee(this.apiClient,t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=vee(p),v=new T2;return Object.assign(v,m),v})}}async countTokens(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=hee(this.apiClient,t);return u=Ae("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=mee(p),v=new _2;return Object.assign(v,m),v})}else{const f=fee(this.apiClient,t);return u=Ae("{model}:countTokens",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=pee(p),v=new _2;return Object.assign(v,m),v})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=aee(this.apiClient,t);return o=Ae("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>{const f=oee(h),p=new RW;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Yee(this.apiClient,t);return u=Ae("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const m=Vee(p),v=new hh;return Object.assign(v,m),v})}else{const f=$ee(this.apiClient,t);return u=Ae("{model}:predictLongRunning",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l.then(p=>{const m=Gee(p),v=new hh;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ine extends pa{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=EW(t);return u=Ae("{operationName}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=NW(t);return u=Ae("{operationName}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=gW(t);return o=Ae("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rne(e){const t={},n=y(e,["data"]);if(n!=null&&x(t,["data"],n),y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Dne(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Gne(o))),x(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&x(t,["role"],r),t}function One(e,t,n){const r={},i=y(t,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const o=y(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&x(n,["newSessionExpireTime"],o);const l=y(t,["uses"]);n!==void 0&&l!=null&&x(n,["uses"],l);const u=y(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&x(n,["bidiGenerateContentSetup"],Fne(e,u));const h=y(t,["lockAdditionalFields"]);return n!==void 0&&h!=null&&x(n,["fieldMask"],h),r}function Lne(e,t){const n={},r=y(t,["config"]);return r!=null&&x(n,["config"],One(e,r,n)),n}function Une(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&x(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&x(t,["mimeType"],r),t}function Bne(e){const t={},n=y(e,["id"]);n!=null&&x(t,["id"],n);const r=y(e,["args"]);r!=null&&x(t,["args"],r);const i=y(e,["name"]);if(i!=null&&x(t,["name"],i),y(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zne(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&x(t,["enableWidget"],n),t}function qne(e){const t={};if(y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(e,["timeRangeFilter"]);return n!=null&&x(t,["timeRangeFilter"],n),t}function Hne(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&x(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&x(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&x(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&x(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&x(t,["setup","generationConfig","topK"],u);const h=y(e,["maxOutputTokens"]);t!==void 0&&h!=null&&x(t,["setup","generationConfig","maxOutputTokens"],h);const f=y(e,["mediaResolution"]);t!==void 0&&f!=null&&x(t,["setup","generationConfig","mediaResolution"],f);const p=y(e,["seed"]);t!==void 0&&p!=null&&x(t,["setup","generationConfig","seed"],p);const m=y(e,["speechConfig"]);t!==void 0&&m!=null&&x(t,["setup","generationConfig","speechConfig"],zb(m));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&x(t,["setup","generationConfig","thinkingConfig"],v);const b=y(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&x(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=y(e,["systemInstruction"]);t!==void 0&&N!=null&&x(t,["setup","systemInstruction"],Dne(jn(N)));const A=y(e,["tools"]);if(t!==void 0&&A!=null){let I=wl(A);Array.isArray(I)&&(I=I.map(j=>$ne(bl(j)))),x(t,["setup","tools"],I)}const E=y(e,["sessionResumption"]);t!==void 0&&E!=null&&x(t,["setup","sessionResumption"],Vne(E));const T=y(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&x(t,["setup","inputAudioTranscription"],T);const P=y(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&x(t,["setup","outputAudioTranscription"],P);const M=y(e,["realtimeInputConfig"]);t!==void 0&&M!=null&&x(t,["setup","realtimeInputConfig"],M);const k=y(e,["contextWindowCompression"]);t!==void 0&&k!=null&&x(t,["setup","contextWindowCompression"],k);const R=y(e,["proactivity"]);if(t!==void 0&&R!=null&&x(t,["setup","proactivity"],R),y(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Fne(e,t){const n={},r=y(t,["model"]);r!=null&&x(n,["setup","model"],nt(e,r));const i=y(t,["config"]);return i!=null&&x(n,["config"],Hne(i,n)),n}function Gne(e){const t={},n=y(e,["mediaResolution"]);n!=null&&x(t,["mediaResolution"],n);const r=y(e,["codeExecutionResult"]);r!=null&&x(t,["codeExecutionResult"],r);const i=y(e,["executableCode"]);i!=null&&x(t,["executableCode"],i);const o=y(e,["fileData"]);o!=null&&x(t,["fileData"],Une(o));const l=y(e,["functionCall"]);l!=null&&x(t,["functionCall"],Bne(l));const u=y(e,["functionResponse"]);u!=null&&x(t,["functionResponse"],u);const h=y(e,["inlineData"]);h!=null&&x(t,["inlineData"],Rne(h));const f=y(e,["text"]);f!=null&&x(t,["text"],f);const p=y(e,["thought"]);p!=null&&x(t,["thought"],p);const m=y(e,["thoughtSignature"]);m!=null&&x(t,["thoughtSignature"],m);const v=y(e,["videoMetadata"]);return v!=null&&x(t,["videoMetadata"],v),t}function Vne(e){const t={},n=y(e,["handle"]);if(n!=null&&x(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function $ne(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),x(t,["functionDeclarations"],p)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearchRetrieval"]);r!=null&&x(t,["googleSearchRetrieval"],r);const i=y(e,["computerUse"]);i!=null&&x(t,["computerUse"],i);const o=y(e,["fileSearch"]);o!=null&&x(t,["fileSearch"],o);const l=y(e,["codeExecution"]);if(l!=null&&x(t,["codeExecution"],l),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=y(e,["googleMaps"]);u!=null&&x(t,["googleMaps"],zne(u));const h=y(e,["googleSearch"]);h!=null&&x(t,["googleSearch"],qne(h));const f=y(e,["urlContext"]);return f!=null&&x(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yne(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function Kne(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=Yne(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const h=[];o&&h.push(o),u.length>0&&h.push(...u),h.length>0?e.fieldMask=h.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Jne extends pa{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Lne(this.apiClient,t);o=Ae("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const h=Kne(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xne(e,t){const n={},r=y(e,["force"]);return t!==void 0&&r!=null&&x(t,["_query","force"],r),n}function Wne(e){const t={},n=y(e,["name"]);n!=null&&x(t,["_url","name"],n);const r=y(e,["config"]);return r!=null&&Xne(r,t),t}function Qne(e){const t={},n=y(e,["name"]);return n!=null&&x(t,["_url","name"],n),t}function Zne(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&x(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&x(t,["_query","pageToken"],i),n}function ere(e){const t={},n=y(e,["parent"]);n!=null&&x(t,["_url","parent"],n);const r=y(e,["config"]);return r!=null&&Zne(r,t),t}function tre(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&x(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&x(t,["nextPageToken"],r);const i=y(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),x(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nre extends pa{constructor(t){super(),this.apiClient=t,this.list=async n=>new Yo(na.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qne(t);return o=Ae("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wne(t);i=Ae("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ere(t);return o=Ae("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=tre(h),p=new DW;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rre extends pa{constructor(t,n=new nre(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Yo(na.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yte(t);return o=Ae("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xte(t);return o=Ae("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jte(t);i=Ae("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nne(t);return o=Ae("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=rne(h),p=new OW;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ine(t);return o=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=ane(h),p=new LW;return Object.assign(p,f),p})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zte(t);return o=Ae("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>{const f=Qte(h),p=new Db;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kD=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return kD=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const ire=()=>kD();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uv(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Bv=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lr extends Error{}class zn extends Lr{constructor(t,n,r,i){super(`${zn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new pp({message:r,cause:Bv(n)});const o=n;return t===400?new MD(t,o,r,i):t===401?new jD(t,o,r,i):t===403?new ID(t,o,r,i):t===404?new RD(t,o,r,i):t===409?new DD(t,o,r,i):t===422?new OD(t,o,r,i):t===429?new LD(t,o,r,i):t>=500?new UD(t,o,r,i):new zn(t,o,r,i)}}class zv extends zn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class pp extends zn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class PD extends pp{constructor({message:t}={}){super({message:t??"Request timed out."})}}class MD extends zn{}class jD extends zn{}class ID extends zn{}class RD extends zn{}class DD extends zn{}class OD extends zn{}class LD extends zn{}class UD extends zn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const are=/^[a-z][a-z0-9+.-]*:/i,ore=e=>are.test(e);let qv=e=>(qv=Array.isArray,qv(e));const sre=qv;let lre=sre;const X2=lre;function ure(e){if(!e)return!0;for(const t in e)return!1;return!0}function cre(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const dre=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Lr(`${e} must be an integer`);if(t<0)throw new Lr(`${e} must be a positive integer`);return t},fre=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hre=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pre(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const mre=()=>{var e,t,n,r,i;const o=pre();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qs,"X-Stainless-OS":Q2(Deno.build.os),"X-Stainless-Arch":W2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qs,"X-Stainless-OS":Q2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":W2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=gre();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gre(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const W2=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Q2=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let tf;const yre=()=>tf??(tf=mre());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vre(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function BD(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function xre(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return BD({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function zD(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bre(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wre=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qD=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gy(e,t,n){return qD(),new File(e,t??"unknown_file",n)}function Sre(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Nre=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HD=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Ere=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&HD(e),Are=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Cre(e,t,n){if(qD(),e=await e,Ere(e))return e instanceof File?e:gy([await e.arrayBuffer()],e.name);if(Are(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),gy(await Hv(i),t,n)}const r=await Hv(e);if(t||(t=Sre(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return gy(r,t,n)}async function Hv(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(HD(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(Nre(e))try{for(var u=!0,h=Zr(e),f;f=await h.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const p=i;l.push(...await Hv(p))}}catch(p){n={error:p}}finally{try{!u&&!t&&(r=h.return)&&await r.call(h)}finally{if(n)throw n.error}}else{const p=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${Tre(e)}`)}return l}function Tre(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FD{constructor(t){this._client=t}}FD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GD(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Z2=Object.freeze(Object.create(null)),_re=(e=GD)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((p,m,v)=>{var b,N,A;/[?#]/.test(m)&&(i=!0);const E=r[v];let T=(i?encodeURIComponent:e)(""+E);return v!==r.length&&(E==null||typeof E=="object"&&E.toString===((A=Object.getPrototypeOf((N=Object.getPrototypeOf((b=E.hasOwnProperty)!==null&&b!==void 0?b:Z2))!==null&&N!==void 0?N:Z2))===null||A===void 0?void 0:A.toString))&&(T=E+"",o.push({start:p.length+m.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),p+m+(v===r.length?"":T)},""),u=l.split(/[?#]/,1)[0],h=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=h.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((p,m)=>p.start-m.start),o.length>0){let p=0;const m=o.reduce((v,b)=>{const N=" ".repeat(b.start-p),A="^".repeat(b.length);return p=b.start+b.length,v+N+A},"");throw new Lr(`Path parameters result in path with invalid segments:
${o.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),nf=_re(GD);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VD extends FD{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=mh(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new Lr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Lr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(nf`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(nf`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(nf`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=mh(o,["api_version"]);return this._client.get(nf`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}VD._key=Object.freeze(["interactions"]);class $D extends VD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kre(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let rf;function Hb(e){let t;return(rf??(t=new globalThis.TextEncoder,rf=t.encode.bind(t)))(e)}let af;function ek(e){let t;return(af??(t=new globalThis.TextDecoder,af=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Hb(t):t;this.buffer=kre([this.buffer,n]);const r=[];let i;for(;(i=Pre(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(ek(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=ek(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}mp.NEWLINE_CHARS=new Set([`
`,"\r"]);mp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Pre(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Mre(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gh={off:0,error:200,warn:300,info:400,debug:500},tk=(e,t,n)=>{if(e){if(cre(gh,e))return e;Dn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(gh))}`)}};function Ru(){}function of(e,t,n){return!t||gh[e]>gh[n]?Ru:t[e].bind(t)}const jre={error:Ru,warn:Ru,info:Ru,debug:Ru};let nk=new WeakMap;function Dn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return jre;const i=nk.get(n);if(i&&i[0]===r)return i[1];const o={error:of("error",n,r),warn:of("warn",n,r),info:of("info",n,r),debug:of("debug",n,r)};return nk.set(n,[r,o]),o}const To=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $s{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Dn(r):console;function l(){return Qr(this,arguments,function*(){var h,f,p,m;if(i)throw new Lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var b=!0,N=Zr(Ire(t,n)),A;A=yield ze(N.next()),h=A.done,!h;b=!0){m=A.value,b=!1;const E=m;if(!v)if(E.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield ze(JSON.parse(E.data))}catch(T){throw o.error("Could not parse message into JSON:",E.data),o.error("From chunk:",E.raw),T}}}catch(E){f={error:E}}finally{try{!b&&!h&&(p=N.return)&&(yield ze(p.call(N)))}finally{if(f)throw f.error}}v=!0}catch(E){if(Uv(E))return yield ze(void 0);throw E}finally{v||n.abort()}})}return new $s(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Qr(this,arguments,function*(){var h,f,p,m;const v=new mp,b=zD(t);try{for(var N=!0,A=Zr(b),E;E=yield ze(A.next()),h=E.done,!h;N=!0){m=E.value,N=!1;const T=m;for(const P of v.decode(T))yield yield ze(P)}}catch(T){f={error:T}}finally{try{!N&&!h&&(p=A.return)&&(yield ze(p.call(A)))}finally{if(f)throw f.error}}for(const T of v.flush())yield yield ze(T)})}function l(){return Qr(this,arguments,function*(){var h,f,p,m;if(i)throw new Lr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var b=!0,N=Zr(o()),A;A=yield ze(N.next()),h=A.done,!h;b=!0){m=A.value,b=!1;const E=m;v||E&&(yield yield ze(JSON.parse(E)))}}catch(E){f={error:E}}finally{try{!b&&!h&&(p=N.return)&&(yield ze(p.call(N)))}finally{if(f)throw f.error}}v=!0}catch(E){if(Uv(E))return yield ze(void 0);throw E}finally{v||n.abort()}})}return new $s(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new $s(()=>i(t),this.controller,this.client),new $s(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return BD({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=Hb(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Ire(e,t){return Qr(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Lr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Lr("Attempted to iterate over a response with no body");const u=new Dre,h=new mp,f=zD(e.body);try{for(var p=!0,m=Zr(Rre(f)),v;v=yield ze(m.next()),r=v.done,!r;p=!0){l=v.value,p=!1;const b=l;for(const N of h.decode(b)){const A=u.decode(N);A&&(yield yield ze(A))}}}catch(b){i={error:b}}finally{try{!p&&!r&&(o=m.return)&&(yield ze(o.call(m)))}finally{if(i)throw i.error}}for(const b of h.flush()){const N=u.decode(b);N&&(yield yield ze(N))}})}function Rre(e){return Qr(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,h=Zr(e),f;f=yield ze(h.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const p=o;if(p==null)continue;const m=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Hb(p):p;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let b;for(;(b=Mre(l))!==-1;)yield yield ze(l.slice(0,b)),l=l.slice(b)}}catch(p){r={error:p}}finally{try{!u&&!n&&(i=h.return)&&(yield ze(i.call(h)))}finally{if(r)throw r.error}}l.length>0&&(yield yield ze(l))})}class Dre{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Ore(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Ore(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Lre(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var u;if(t.options.stream)return Dn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):$s.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const h=n.headers.get("content-type"),f=(u=h==null?void 0:h.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Dn(e).debug(`[${r}] response parsed`,To({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fb extends Promise{constructor(t,n,r=Lre){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Fb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YD=Symbol("brand.privateNullableHeaders");function*Ure(e){if(!e)return;if(YD in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():X2(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=X2(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Tu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of Ure(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[YD]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yy=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=cW)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KD;class gp{constructor(t){var n,r,i,o,l,u,h,{baseURL:f=yy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=yy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,v=mh(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:p,apiVersion:m},v),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:gp.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const N="warn";this.logLevel=N,this.logLevel=(l=(o=tk(b.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:tk(yy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:N,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(h=b.fetch)!==null&&h!==void 0?h:vre(),this.encoder=wre,this._options=b,this.apiKey=p,this.apiVersion=m,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Tu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Tu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Tu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Lr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${qs}`}defaultIdempotencyKey(){return`stainless-node-retry-${ire()}`}makeStatusError(t,n,r,i){return zn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=ore(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return ure(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Fb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const u=await t,h=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=h),await this.prepareOptions(u);const{req:f,url:p,timeout:m}=await this.buildRequest(u,{retryCount:h-n});await this.prepareRequest(f,{url:p,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,N=Date.now();if(Dn(this).debug(`[${v}] sending request`,To({retryOfRequestLogID:r,method:u.method,url:p,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new zv;const A=new AbortController,E=await this.fetchWithTimeout(p,f,m,A).catch(Bv),T=Date.now();if(E instanceof globalThis.Error){const M=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new zv;const k=Uv(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Dn(this).info(`[${v}] connection ${k?"timed out":"failed"} - ${M}`),Dn(this).debug(`[${v}] connection ${k?"timed out":"failed"} (${M})`,To({retryOfRequestLogID:r,url:p,durationMs:T-N,message:E.message})),this.retryRequest(u,n,r??v);throw Dn(this).info(`[${v}] connection ${k?"timed out":"failed"} - error; no more retries left`),Dn(this).debug(`[${v}] connection ${k?"timed out":"failed"} (error; no more retries left)`,To({retryOfRequestLogID:r,url:p,durationMs:T-N,message:E.message})),k?new PD:new pp({cause:E})}const P=`[${v}${b}] ${f.method} ${p} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${T-N}ms`;if(!E.ok){const M=await this.shouldRetry(E);if(n&&M){const U=`retrying, ${n} attempts remaining`;return await bre(E.body),Dn(this).info(`${P} - ${U}`),Dn(this).debug(`[${v}] response error (${U})`,To({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:T-N})),this.retryRequest(u,n,r??v,E.headers)}const k=M?"error; no more retries left":"error; not retryable";Dn(this).info(`${P} - ${k}`);const R=await E.text().catch(U=>Bv(U).message),I=fre(R),j=I?void 0:R;throw Dn(this).debug(`[${v}] response error (${k})`,To({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:j,durationMs:Date.now()-N})),this.makeStatusError(E.status,I,j,E.headers)}return Dn(this).info(P),Dn(this).debug(`[${v}] response start`,To({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:T-N})),{response:E,options:u,controller:A,requestLogID:v,retryOfRequestLogID:r,startTime:N}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:u}=o,h=mh(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),p=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),h);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const h=i==null?void 0:i.get("retry-after");if(h&&!l){const f=parseFloat(h);Number.isNaN(f)?l=Date.parse(h)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await hre(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:u,path:h,query:f,defaultBaseURL:p}=l,m=this.buildURL(h,f,p);"timeout"in l&&dre("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:b}=this.buildBody({options:l}),N=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:N},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=Tu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),yre()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Tu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:xre(t)}:this.encoder({body:t,headers:r})}}gp.DEFAULT_TIMEOUT=6e4;class fn extends gp{constructor(){super(...arguments),this.interactions=new $D(this)}}KD=fn;fn.GeminiNextGenAPIClient=KD;fn.GeminiNextGenAPIClientError=Lr;fn.APIError=zn;fn.APIConnectionError=pp;fn.APIConnectionTimeoutError=PD;fn.APIUserAbortError=zv;fn.NotFoundError=RD;fn.ConflictError=DD;fn.RateLimitError=LD;fn.BadRequestError=MD;fn.AuthenticationError=jD;fn.InternalServerError=UD;fn.PermissionDeniedError=ID;fn.UnprocessableEntityError=OD;fn.toFile=Cre;fn.Interactions=$D;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bre(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function zre(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function qre(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Hre(e,t){const n={},r=y(e,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Fre(e,t,n){const r={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&x(t,["displayName"],i),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(e,["epochCount"]);t!==void 0&&o!=null&&x(t,["tuningTask","hyperparameters","epochCount"],o);const l=y(e,["learningRateMultiplier"]);if(l!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),y(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(e,["batchSize"]);t!==void 0&&u!=null&&x(t,["tuningTask","hyperparameters","batchSize"],u);const h=y(e,["learningRate"]);if(t!==void 0&&h!=null&&x(t,["tuningTask","hyperparameters","learningRate"],h),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Gre(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec"],rk(b))}else if(i==="PREFERENCE_TUNING"){const b=y(e,["validationDataset"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec"],rk(b))}const o=y(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&x(t,["tunedModelDisplayName"],o);const l=y(e,["description"]);t!==void 0&&l!=null&&x(t,["description"],l);let u=y(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(u==="PREFERENCE_TUNING"){const b=y(e,["epochCount"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(h==="PREFERENCE_TUNING"){const b=y(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=y(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=y(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=y(e,["adapterSize"]);t!==void 0&&b!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=y(e,["labels"]);t!==void 0&&m!=null&&x(t,["labels"],m);const v=y(e,["beta"]);return t!==void 0&&v!=null&&x(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function Vre(e,t){const n={},r=y(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=y(e,["trainingDataset"]);o!=null&&nie(o);const l=y(e,["config"]);return l!=null&&Fre(l,n),n}function $re(e,t){const n={},r=y(e,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const o=y(e,["trainingDataset"]);o!=null&&rie(o,n,t);const l=y(e,["config"]);return l!=null&&Gre(l,n,t),n}function Yre(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Kre(e,t){const n={},r=y(e,["name"]);return r!=null&&x(n,["_url","name"],r),n}function Jre(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=y(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=y(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Xre(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&x(t,["_query","pageSize"],i);const o=y(e,["pageToken"]);t!==void 0&&o!=null&&x(t,["_query","pageToken"],o);const l=y(e,["filter"]);return t!==void 0&&l!=null&&x(t,["_query","filter"],l),r}function Wre(e,t){const n={},r=y(e,["config"]);return r!=null&&Jre(r,n),n}function Qre(e,t){const n={},r=y(e,["config"]);return r!=null&&Xre(r,n),n}function Zre(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=y(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>JD(u))),x(n,["tuningJobs"],l)}return n}function eie(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const o=y(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Fv(u))),x(n,["tuningJobs"],l)}return n}function tie(e,t){const n={},r=y(e,["name"]);r!=null&&x(n,["model"],r);const i=y(e,["name"]);return i!=null&&x(n,["endpoint"],i),n}function nie(e,t){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["examples","examples"],i)}return n}function rie(e,t,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=y(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=y(e,["gcsUri"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=y(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=y(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&x(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function JD(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const o=y(e,["state"]);o!=null&&x(n,["state"],dD(o));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["tuningTask","startTime"]);u!=null&&x(n,["startTime"],u);const h=y(e,["tuningTask","completeTime"]);h!=null&&x(n,["endTime"],h);const f=y(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=y(e,["description"]);p!=null&&x(n,["description"],p);const m=y(e,["baseModel"]);m!=null&&x(n,["baseModel"],m);const v=y(e,["_self"]);return v!=null&&x(n,["tunedModel"],tie(v)),n}function Fv(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const o=y(e,["state"]);o!=null&&x(n,["state"],dD(o));const l=y(e,["createTime"]);l!=null&&x(n,["createTime"],l);const u=y(e,["startTime"]);u!=null&&x(n,["startTime"],u);const h=y(e,["endTime"]);h!=null&&x(n,["endTime"],h);const f=y(e,["updateTime"]);f!=null&&x(n,["updateTime"],f);const p=y(e,["error"]);p!=null&&x(n,["error"],p);const m=y(e,["description"]);m!=null&&x(n,["description"],m);const v=y(e,["baseModel"]);v!=null&&x(n,["baseModel"],v);const b=y(e,["tunedModel"]);b!=null&&x(n,["tunedModel"],b);const N=y(e,["preTunedModel"]);N!=null&&x(n,["preTunedModel"],N);const A=y(e,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const E=y(e,["preferenceOptimizationSpec"]);E!=null&&x(n,["preferenceOptimizationSpec"],E);const T=y(e,["tuningDataStats"]);T!=null&&x(n,["tuningDataStats"],T);const P=y(e,["encryptionSpec"]);P!=null&&x(n,["encryptionSpec"],P);const M=y(e,["partnerModelTuningSpec"]);M!=null&&x(n,["partnerModelTuningSpec"],M);const k=y(e,["customBaseModel"]);k!=null&&x(n,["customBaseModel"],k);const R=y(e,["experiment"]);R!=null&&x(n,["experiment"],R);const I=y(e,["labels"]);I!=null&&x(n,["labels"],I);const j=y(e,["outputUri"]);j!=null&&x(n,["outputUri"],j);const G=y(e,["pipelineJob"]);G!=null&&x(n,["pipelineJob"],G);const U=y(e,["serviceAccount"]);U!=null&&x(n,["serviceAccount"],U);const D=y(e,["tunedModelDisplayName"]);D!=null&&x(n,["tunedModelDisplayName"],D);const O=y(e,["veoTuningSpec"]);return O!=null&&x(n,["veoTuningSpec"],O),n}function iie(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&x(n,["name"],i);const o=y(e,["metadata"]);o!=null&&x(n,["metadata"],o);const l=y(e,["done"]);l!=null&&x(n,["done"],l);const u=y(e,["error"]);return u!=null&&x(n,["error"],u),n}function rk(e,t){const n={},r=y(e,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=y(e,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aie extends pa{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Yo(na.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:Mv.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Kre(t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>Fv(p))}else{const f=Yre(t);return u=Ae("{name}",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>JD(p))}}async listInternal(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=Qre(t);return u=Ae("tuningJobs",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=eie(p),v=new k2;return Object.assign(v,m),v})}else{const f=Wre(t);return u=Ae("tunedModels",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Zre(p),v=new k2;return Object.assign(v,m),v})}}async cancel(t){var n,r,i,o;let l,u="",h={};if(this.apiClient.isVertexAI()){const f=zre(t);return u=Ae("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=Hre(p),v=new P2;return Object.assign(v,m),v})}else{const f=Bre(t);return u=Ae("{name}:cancel",f._url),h=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const m=qre(p),v=new P2;return Object.assign(v,m),v})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=$re(t,t);return o=Ae("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>Fv(h))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vre(t);return o=Ae("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:h.headers},p})),i.then(h=>iie(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oie{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sie=1024*1024*8,lie=3,uie=1e3,cie=2,yh="x-goog-upload-status";async function die(e,t,n){var r;const i=await XD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[yh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function fie(e,t,n){var r;const i=await XD(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[yh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=aD(o),u=new Ob;return Object.assign(u,l),u}async function XD(e,t,n){var r,i;let o=0,l=0,u=new jv(new Response),h="upload";for(o=e.size;l<o;){const f=Math.min(sie,o-l),p=e.slice(l,l+f);l+f>=o&&(h+=", finalize");let m=0,v=uie;for(;m<lie&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[yh]));)m++,await pie(v),v=v*cie;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[yh])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function hie(e){return{size:e.size,type:e.type}}function pie(e){return new Promise(t=>setTimeout(t,e))}class mie{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await die(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fie(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hie(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gie{create(t,n,r){return new yie(t,n,r)}}class yie{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ik="x-goog-api-key";class vie{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(ik)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ik,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xie="gl-node/";class bie{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new fn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=pW(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new vie(this.apiKey);this.apiClient=new hne({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:xie+"web",uploader:new mie,downloader:new oie}),this.models=new jne(this.apiClient),this.live=new Cne(this.apiClient,i,new gie),this.batches=new FQ(this.apiClient),this.chats=new EZ(this.models,this.apiClient),this.caches=new wZ(this.apiClient),this.files=new RZ(this.apiClient),this.operations=new Ine(this.apiClient),this.authTokens=new Jne(this.apiClient),this.tunings=new aie(this.apiClient),this.fileSearchStores=new rre(this.apiClient)}}var wie={};const Sie=()=>{const e=pe.getBusinessProfile(),t=pe.getProducts(),n=pe.getParties(),r=pe.getTransactions(),i=pe.getAccounts(),o=n.reduce((k,R)=>R.balance>0?k+R.balance:k,0),l=n.reduce((k,R)=>R.balance<0?k+Math.abs(R.balance):k,0),u=t.filter(k=>k.type!=="service"&&k.stock<5).map(k=>`${k.name} (${k.stock})`),h=t.reduce((k,R)=>k+R.stock*R.purchasePrice,0),f=new Map;t.forEach(k=>f.set(k.id,k));let p=0,m=0,v=0,b=0;const N={};r.forEach(k=>{var R,I;if(k.type==="SALE")p+=k.totalAmount,(R=k.items)==null||R.forEach(j=>{const G=f.get(j.productId);if(G&&G.type!=="service"){let U=j.quantity;j.unit&&G.secondaryUnit&&j.unit===G.secondaryUnit&&G.conversionRatio&&(U=j.quantity/G.conversionRatio),v+=U*G.purchasePrice}});else if(k.type==="SALE_RETURN")m+=k.totalAmount,(I=k.items)==null||I.forEach(j=>{const G=f.get(j.productId);if(G&&G.type!=="service"){let U=j.quantity;j.unit&&G.secondaryUnit&&j.unit===G.secondaryUnit&&G.conversionRatio&&(U=j.quantity/G.conversionRatio),v-=U*G.purchasePrice}});else if(k.type==="EXPENSE"){b+=k.totalAmount;const j=k.category||"Other";N[j]=(N[j]||0)+k.totalAmount}});const A=p-m,E=A-v,T=E-b,P=i.map(k=>`- ${k.name} (${k.type}): ${ne(k.balance)}`).join(`
`),M=r.slice(-20).reverse().map(k=>`- ${Mt(k.date)}: ${k.type} | ${k.partyName} | ${ne(k.totalAmount)}`).join(`
`);return`
    You are an expert business analyst for "${e.name}".
    Current Date: AD ${new Date().toISOString().split("T")[0]} / BS ${S6()}
    
    --- FINANCIAL OVERVIEW ---
    - Total Sales: ${ne(p)}
    - Sales Returns: ${ne(m)}
    - Net Sales: ${ne(A)}
    - Total COGS (Cost of Goods Sold): ${ne(v)}
    - Gross Profit: ${ne(E)}
    - Total Operating Expenses: ${ne(b)}
    - NET PROFIT: ${ne(T)} (Net Margin: ${A>0?(T/A*100).toFixed(1):0}%)

    --- EXPENSE BREAKDOWN ---
    ${Object.entries(N).map(([k,R])=>`- ${k}: ${ne(R)}`).join(`
`)}

    --- CASH & BANK BALANCES ---
    ${P}

    --- PARTY BALANCES ---
    - Total Receivable (To Receive): ${ne(o)}
    - Total Payable (To Give): ${ne(l)}

    --- INVENTORY STATUS ---
    - Total Stock Valuation (at Cost): ${ne(h)}
    - Critical Low Stock Items: ${u.length>0?u.join(", "):"None"}

    --- RECENT TRANSACTIONS (Last 20) ---
    ${M}
  `},Nie=async e=>{try{const t=typeof process<"u"&&wie?"AIzaSyBCezRn3rCu91PsI-qI8AT5xceGw5o3xOc":null;if(!t)return"AI Assistant is not fully configured for this environment (API Key missing). Please ensure your build environment injects the API_KEY variable.";const n=new bie({apiKey:t}),r=Sie();return(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`
        SYSTEM CONTEXT DATA:
        ${r}

        USER QUESTION: 
        "${e}"

        AI INSTRUCTIONS:
        1. Use the provided financial data to answer the user query accurately.
        2. If asked about "Profit", refer to Net Profit unless Gross Profit is specified.
        3. If asked about "Cash", combine balances of all Cash and Wallet accounts.
        4. When the user uses Nepali names or dates, respond appropriately using the BS/Nepali format.
        5. Provide suggestions if metrics look bad (e.g., high expenses or low profit margins).
        6. Keep the tone professional but accessible.
      `,config:{systemInstruction:"You are a world-class Business Intelligence Assistant. You analyze sales, inventory, and profit data to help shop owners make better decisions."}})).text||"I was unable to analyze that data. Could you please try rephrasing your question?"}catch(t){return console.error("AI Service Error:",t),"I am currently unable to reach my analytical engine. Please ensure your internet connection is stable and the API key is valid."}};function Eie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Aie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Tie={};function ak(e,t){return(Tie.jsx?Cie:Aie).test(e)}const _ie=/[ \t\n\f\r]/g;function kie(e){return typeof e=="object"?e.type==="text"?ok(e.value):!1:ok(e)}function ok(e){return e.replace(_ie,"")===""}class Ec{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Ec.prototype.normal={};Ec.prototype.property={};Ec.prototype.space=void 0;function WD(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ec(n,r,t)}function Gv(e){return e.toLowerCase()}class er{constructor(t,n){this.attribute=n,this.property=t}}er.prototype.attribute="";er.prototype.booleanish=!1;er.prototype.boolean=!1;er.prototype.commaOrSpaceSeparated=!1;er.prototype.commaSeparated=!1;er.prototype.defined=!1;er.prototype.mustUseProperty=!1;er.prototype.number=!1;er.prototype.overloadedBoolean=!1;er.prototype.property="";er.prototype.spaceSeparated=!1;er.prototype.space=void 0;let Pie=0;const Ge=Ko(),Ft=Ko(),Vv=Ko(),xe=Ko(),yt=Ko(),tl=Ko(),cr=Ko();function Ko(){return 2**++Pie}const $v=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:Ft,commaOrSpaceSeparated:cr,commaSeparated:tl,number:xe,overloadedBoolean:Vv,spaceSeparated:yt},Symbol.toStringTag,{value:"Module"})),vy=Object.keys($v);class Gb extends er{constructor(t,n,r,i){let o=-1;if(super(t,n),sk(this,"space",i),typeof r=="number")for(;++o<vy.length;){const l=vy[o];sk(this,vy[o],(r&$v[l])===$v[l])}}}Gb.prototype.defined=!0;function sk(e,t,n){n&&(e[t]=n)}function Nl(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Gb(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Gv(r)]=r,n[Gv(o.attribute)]=r}return new Ec(t,n,e.space)}const QD=Nl({properties:{ariaActiveDescendant:null,ariaAtomic:Ft,ariaAutoComplete:null,ariaBusy:Ft,ariaChecked:Ft,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:yt,ariaCurrent:null,ariaDescribedBy:yt,ariaDetails:null,ariaDisabled:Ft,ariaDropEffect:yt,ariaErrorMessage:null,ariaExpanded:Ft,ariaFlowTo:yt,ariaGrabbed:Ft,ariaHasPopup:null,ariaHidden:Ft,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yt,ariaLevel:xe,ariaLive:null,ariaModal:Ft,ariaMultiLine:Ft,ariaMultiSelectable:Ft,ariaOrientation:null,ariaOwns:yt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:Ft,ariaReadOnly:Ft,ariaRelevant:null,ariaRequired:Ft,ariaRoleDescription:yt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:Ft,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function ZD(e,t){return t in e?e[t]:t}function eO(e,t){return ZD(e,t.toLowerCase())}const Mie=Nl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tl,acceptCharset:yt,accessKey:yt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:yt,autoFocus:Ge,autoPlay:Ge,blocking:yt,capture:null,charSet:null,checked:Ge,cite:null,className:yt,cols:xe,colSpan:null,content:null,contentEditable:Ft,controls:Ge,controlsList:yt,coords:xe|tl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:Vv,draggable:Ft,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:yt,height:xe,hidden:Vv,high:xe,href:null,hrefLang:null,htmlFor:yt,httpEquiv:yt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:yt,itemRef:yt,itemScope:Ge,itemType:yt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:xe,pattern:null,ping:yt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:yt,required:Ge,reversed:Ge,rows:xe,rowSpan:xe,sandbox:yt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:Ft,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:Ft,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:Ft,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:eO}),jie=Nl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:cr,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:yt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tl,g2:tl,glyphName:tl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:cr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:cr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:cr,rev:cr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:cr,requiredFeatures:cr,requiredFonts:cr,requiredFormats:cr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:cr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:cr,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:cr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ZD}),tO=Nl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),nO=Nl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eO}),rO=Nl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Iie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Rie=/[A-Z]/g,lk=/-[a-z]/g,Die=/^data[-\w.:]+$/i;function Oie(e,t){const n=Gv(t);let r=t,i=er;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Die.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(lk,Uie);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!lk.test(o)){let l=o.replace(Rie,Lie);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=Gb}return new i(r,t)}function Lie(e){return"-"+e.toLowerCase()}function Uie(e){return e.charAt(1).toUpperCase()}const Bie=WD([QD,Mie,tO,nO,rO],"html"),Vb=WD([QD,jie,tO,nO,rO],"svg");function zie(e){return e.join(" ").trim()}var Us={},xy,uk;function qie(){if(uk)return xy;uk=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,h=`
`,f="/",p="*",m="",v="comment",b="declaration";function N(E,T){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];T=T||{};var P=1,M=1;function k(V){var z=V.match(t);z&&(P+=z.length);var B=V.lastIndexOf(h);M=~B?V.length-B:M+V.length}function R(){var V={line:P,column:M};return function(z){return z.position=new I(V),U(),z}}function I(V){this.start=V,this.end={line:P,column:M},this.source=T.source}I.prototype.content=E;function j(V){var z=new Error(T.source+":"+P+":"+M+": "+V);if(z.reason=V,z.filename=T.source,z.line=P,z.column=M,z.source=E,!T.silent)throw z}function G(V){var z=V.exec(E);if(z){var B=z[0];return k(B),E=E.slice(B.length),z}}function U(){G(n)}function D(V){var z;for(V=V||[];z=O();)z!==!1&&V.push(z);return V}function O(){var V=R();if(!(f!=E.charAt(0)||p!=E.charAt(1))){for(var z=2;m!=E.charAt(z)&&(p!=E.charAt(z)||f!=E.charAt(z+1));)++z;if(z+=2,m===E.charAt(z-1))return j("End of comment missing");var B=E.slice(2,z-2);return M+=2,k(B),E=E.slice(z),M+=2,V({type:v,comment:B})}}function $(){var V=R(),z=G(r);if(z){if(O(),!G(i))return j("property missing ':'");var B=G(o),K=V({type:b,property:A(z[0].replace(e,m)),value:B?A(B[0].replace(e,m)):m});return G(l),K}}function F(){var V=[];D(V);for(var z;z=$();)z!==!1&&(V.push(z),D(V));return V}return U(),F()}function A(E){return E?E.replace(u,m):m}return xy=N,xy}var ck;function Hie(){if(ck)return Us;ck=1;var e=Us&&Us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Us,"__esModule",{value:!0}),Us.default=n;const t=e(qie());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const l=(0,t.default)(r),u=typeof i=="function";return l.forEach(h=>{if(h.type!=="declaration")return;const{property:f,value:p}=h;u?i(f,p,h):p&&(o=o||{},o[f]=p)}),o}return Us}var _u={},dk;function Fie(){if(dk)return _u;dk=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},u=function(f,p){return"".concat(p,"-")},h=function(f,p){return p===void 0&&(p={}),o(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(i,u):f=f.replace(r,u),f.replace(t,l))};return _u.camelCase=h,_u}var ku,fk;function Gie(){if(fk)return ku;fk=1;var e=ku&&ku.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Hie()),n=Fie();function r(i,o){var l={};return!i||typeof i!="string"||(0,t.default)(i,function(u,h){u&&h&&(l[(0,n.camelCase)(u,o)]=h)}),l}return r.default=r,ku=r,ku}var Vie=Gie();const $ie=ii(Vie),iO=aO("end"),$b=aO("start");function aO(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Yie(e){const t=$b(e),n=iO(e);if(t&&n)return{start:t,end:n}}function Ou(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?hk(e.position):"start"in e||"end"in e?hk(e):"line"in e||"column"in e?Yv(e):""}function Yv(e){return pk(e&&e.line)+":"+pk(e&&e.column)}function hk(e){return Yv(e&&e.start)+"-"+Yv(e&&e.end)}function pk(e){return e&&typeof e=="number"?e:1}class In extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?o.ruleId=r:(o.source=r.slice(0,h),o.ruleId=r.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ou(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}In.prototype.file="";In.prototype.name="";In.prototype.reason="";In.prototype.message="";In.prototype.stack="";In.prototype.column=void 0;In.prototype.line=void 0;In.prototype.ancestors=void 0;In.prototype.cause=void 0;In.prototype.fatal=void 0;In.prototype.place=void 0;In.prototype.ruleId=void 0;In.prototype.source=void 0;const Yb={}.hasOwnProperty,Kie=new Map,Jie=/[A-Z]/g,Xie=new Set(["table","tbody","thead","tfoot","tr"]),Wie=new Set(["td","th"]),oO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Qie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=oae(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=aae(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Vb:Bie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=sO(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function sO(e,t,n){if(t.type==="element")return Zie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return eae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return nae(e,t,n);if(t.type==="mdxjsEsm")return tae(e,t);if(t.type==="root")return rae(e,t,n);if(t.type==="text")return iae(e,t)}function Zie(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Vb,e.schema=i),e.ancestors.push(t);const o=uO(e,t.tagName,!1),l=sae(e,t);let u=Jb(e,t);return Xie.has(t.tagName)&&(u=u.filter(function(h){return typeof h=="string"?!kie(h):!0})),lO(e,l,o,t),Kb(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function eae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}rc(e,t.position)}function tae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rc(e,t.position)}function nae(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Vb,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:uO(e,t.name,!0),l=lae(e,t),u=Jb(e,t);return lO(e,l,o,t),Kb(l,u),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function rae(e,t,n){const r={};return Kb(r,Jb(e,t)),e.create(t,e.Fragment,r,n)}function iae(e,t){return t.value}function lO(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Kb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function aae(e,t,n){return r;function r(i,o,l,u){const f=Array.isArray(l.children)?n:t;return u?f(o,l,u):f(o,l)}}function oae(e,t){return n;function n(r,i,o,l){const u=Array.isArray(o.children),h=$b(r);return t(i,o,l,u,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function sae(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Yb.call(t.properties,i)){const o=uae(e,i,t.properties[i]);if(o){const[l,u]=o;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&Wie.has(t.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function lae(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else rc(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,o=e.evaluater.evaluateExpression(u.expression)}else rc(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Jb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Kie;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const f=i.get(h)||0;l=h+"-"+f,i.set(h,f+1)}}const u=sO(e,o,l);u!==void 0&&n.push(u)}return n}function uae(e,t,n){const r=Oie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Eie(n):zie(n)),r.property==="style"){let i=typeof n=="object"?n:cae(e,String(n));return e.stylePropertyNameCase==="css"&&(i=dae(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Iie[r.property]||r.property:r.attribute,n]}}function cae(e,t){try{return $ie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new In("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=oO+"#cannot-parse-style-attribute",i}}function uO(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const u=ak(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=ak(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Yb.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);rc(e)}function rc(e,t){const n=new In("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=oO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function dae(e){const t={};let n;for(n in e)Yb.call(e,n)&&(t[fae(n)]=e[n]);return t}function fae(e){let t=e.replace(Jie,hae);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function hae(e){return"-"+e.toLowerCase()}const by={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},pae={};function mae(e,t){const n=pae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cO(e,r,i)}function cO(e,t,n){if(gae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return mk(e.children,t,n)}return Array.isArray(e)?mk(e,t,n):""}function mk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=cO(e[i],t,n);return r.join("")}function gae(e){return!!(e&&typeof e=="object")}const gk=document.createElement("i");function Xb(e){const t="&"+e+";";gk.innerHTML=t;const n=gk.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wi(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function kr(e,t){return e.length>0?(wi(e,e.length,0,t),e):t}const yk={}.hasOwnProperty;function yae(e){const t={};let n=-1;for(;++n<e.length;)vae(t,e[n]);return t}function vae(e,t){let n;for(n in t){const i=(yk.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){yk.call(i,l)||(i[l]=[]);const u=o[l];xae(i[l],Array.isArray(u)?u:u?[u]:[])}}}function xae(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wi(e,0,0,r)}function dO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function nl(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pi=no(/[A-Za-z]/),pr=no(/[\dA-Za-z]/),bae=no(/[#-'*+\--9=?A-Z^-~]/);function Kv(e){return e!==null&&(e<32||e===127)}const Jv=no(/\d/),wae=no(/[\dA-Fa-f]/),Sae=no(/[!-/:-@[-`{-~]/);function Le(e){return e!==null&&e<-2}function Wn(e){return e!==null&&(e<0||e===32)}function at(e){return e===-2||e===-1||e===32}const Nae=no(new RegExp("\\p{P}|\\p{S}","u")),Eae=no(/\s/);function no(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function El(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&pr(e.charCodeAt(n+1))&&pr(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=e.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function vt(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(h){return at(h)?(e.enter(n),u(h)):t(h)}function u(h){return at(h)&&o++<i?(e.consume(h),u):(e.exit(n),t(h))}}const Aae={tokenize:Cae};function Cae(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),vt(e,t,"linePrefix")}function i(u){return e.enter("paragraph"),o(u)}function o(u){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Le(u)?(e.consume(u),e.exit("chunkText"),o):(e.consume(u),l)}}const Tae={tokenize:_ae},vk={tokenize:kae};function _ae(e){const t=this,n=[];let r=0,i,o,l;return u;function u(M){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,h,f)(M)}return f(M)}function h(M){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&P();const k=t.events.length;let R=k,I;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){I=t.events[R][1].end;break}T(r);let j=k;for(;j<t.events.length;)t.events[j][1].end={...I},j++;return wi(t.events,R+1,0,t.events.slice(k)),t.events.length=j,f(M)}return u(M)}function f(M){if(r===n.length){if(!i)return v(M);if(i.currentConstruct&&i.currentConstruct.concrete)return N(M);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(vk,p,m)(M)}function p(M){return i&&P(),T(r),v(M)}function m(M){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,N(M)}function v(M){return t.containerState={},e.attempt(vk,b,N)(M)}function b(M){return r++,n.push([t.currentConstruct,t.containerState]),v(M)}function N(M){if(M===null){i&&P(),T(0),e.consume(M);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),A(M)}function A(M){if(M===null){E(e.exit("chunkFlow"),!0),T(0),e.consume(M);return}return Le(M)?(e.consume(M),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(M),A)}function E(M,k){const R=t.sliceStream(M);if(k&&R.push(null),M.previous=o,o&&(o.next=M),o=M,i.defineSkip(M.start),i.write(R),t.parser.lazy[M.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<l&&(!i.events[I][1].end||i.events[I][1].end.offset>l))return;const j=t.events.length;let G=j,U,D;for(;G--;)if(t.events[G][0]==="exit"&&t.events[G][1].type==="chunkFlow"){if(U){D=t.events[G][1].end;break}U=!0}for(T(r),I=j;I<t.events.length;)t.events[I][1].end={...D},I++;wi(t.events,G+1,0,t.events.slice(j)),t.events.length=I}}function T(M){let k=n.length;for(;k-- >M;){const R=n[k];t.containerState=R[1],R[0].exit.call(t,e)}n.length=M}function P(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function kae(e,t,n){return vt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xk(e){if(e===null||Wn(e)||Eae(e))return 1;if(Nae(e))return 2}function Wb(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Xv={name:"attention",resolveAll:Pae,tokenize:Mae};function Pae(e,t){let n=-1,r,i,o,l,u,h,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const m={...e[r][1].end},v={...e[n][1].start};bk(m,-h),bk(v,h),l={type:h>1?"strongSequence":"emphasisSequence",start:m,end:{...e[r][1].end}},u={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},o={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:h>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=kr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=kr(f,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),f=kr(f,Wb(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=kr(f,[["exit",o,t],["enter",u,t],["exit",u,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=kr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,wi(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Mae(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=xk(r);let o;return l;function l(h){return o=h,e.enter("attentionSequence"),u(h)}function u(h){if(h===o)return e.consume(h),u;const f=e.exit("attentionSequence"),p=xk(h),m=!p||p===2&&i||n.includes(h),v=!i||i===2&&p||n.includes(r);return f._open=!!(o===42?m:m&&(i||!v)),f._close=!!(o===42?v:v&&(p||!m)),t(h)}}function bk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jae={name:"autolink",tokenize:Iae};function Iae(e,t,n){let r=0;return i;function i(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(b){return pi(b)?(e.consume(b),l):b===64?n(b):f(b)}function l(b){return b===43||b===45||b===46||pr(b)?(r=1,u(b)):f(b)}function u(b){return b===58?(e.consume(b),r=0,h):(b===43||b===45||b===46||pr(b))&&r++<32?(e.consume(b),u):(r=0,f(b))}function h(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||Kv(b)?n(b):(e.consume(b),h)}function f(b){return b===64?(e.consume(b),p):bae(b)?(e.consume(b),f):n(b)}function p(b){return pr(b)?m(b):n(b)}function m(b){return b===46?(e.consume(b),r=0,p):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):v(b)}function v(b){if((b===45||pr(b))&&r++<63){const N=b===45?v:m;return e.consume(b),N}return n(b)}}const yp={partial:!0,tokenize:Rae};function Rae(e,t,n){return r;function r(o){return at(o)?vt(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Le(o)?t(o):n(o)}}const fO={continuation:{tokenize:Oae},exit:Lae,name:"blockQuote",tokenize:Dae};function Dae(e,t,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return at(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function Oae(e,t,n){const r=this;return i;function i(l){return at(l)?vt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(fO,t,n)(l)}}function Lae(e){e.exit("blockQuote")}const hO={name:"characterEscape",tokenize:Uae};function Uae(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return Sae(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const pO={name:"characterReference",tokenize:Bae};function Bae(e,t,n){const r=this;let i=0,o,l;return u;function u(m){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),h}function h(m){return m===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(m),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,l=pr,p(m))}function f(m){return m===88||m===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(m),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=wae,p):(e.enter("characterReferenceValue"),o=7,l=Jv,p(m))}function p(m){if(m===59&&i){const v=e.exit("characterReferenceValue");return l===pr&&!Xb(r.sliceSerialize(v))?n(m):(e.enter("characterReferenceMarker"),e.consume(m),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(m)&&i++<o?(e.consume(m),p):n(m)}}const wk={partial:!0,tokenize:qae},Sk={concrete:!0,name:"codeFenced",tokenize:zae};function zae(e,t,n){const r=this,i={partial:!0,tokenize:R};let o=0,l=0,u;return h;function h(I){return f(I)}function f(I){const j=r.events[r.events.length-1];return o=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,u=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===u?(l++,e.consume(I),p):l<3?n(I):(e.exit("codeFencedFenceSequence"),at(I)?vt(e,m,"whitespace")(I):m(I))}function m(I){return I===null||Le(I)?(e.exit("codeFencedFence"),r.interrupt?t(I):e.check(wk,A,k)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===null||Le(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),m(I)):at(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vt(e,b,"whitespace")(I)):I===96&&I===u?n(I):(e.consume(I),v)}function b(I){return I===null||Le(I)?m(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),N(I))}function N(I){return I===null||Le(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),m(I)):I===96&&I===u?n(I):(e.consume(I),N)}function A(I){return e.attempt(i,k,E)(I)}function E(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),T}function T(I){return o>0&&at(I)?vt(e,P,"linePrefix",o+1)(I):P(I)}function P(I){return I===null||Le(I)?e.check(wk,A,k)(I):(e.enter("codeFlowValue"),M(I))}function M(I){return I===null||Le(I)?(e.exit("codeFlowValue"),P(I)):(e.consume(I),M)}function k(I){return e.exit("codeFenced"),t(I)}function R(I,j,G){let U=0;return D;function D(z){return I.enter("lineEnding"),I.consume(z),I.exit("lineEnding"),O}function O(z){return I.enter("codeFencedFence"),at(z)?vt(I,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):$(z)}function $(z){return z===u?(I.enter("codeFencedFenceSequence"),F(z)):G(z)}function F(z){return z===u?(U++,I.consume(z),F):U>=l?(I.exit("codeFencedFenceSequence"),at(z)?vt(I,V,"whitespace")(z):V(z)):G(z)}function V(z){return z===null||Le(z)?(I.exit("codeFencedFence"),j(z)):G(z)}}}function qae(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const wy={name:"codeIndented",tokenize:Fae},Hae={partial:!0,tokenize:Gae};function Fae(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),vt(e,o,"linePrefix",5)(f)}function o(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?h(f):Le(f)?e.attempt(Hae,l,h)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Le(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function h(f){return e.exit("codeIndented"),t(f)}}function Gae(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):Le(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):vt(e,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Le(l)?i(l):n(l)}}const Vae={name:"codeText",previous:Yae,resolve:$ae,tokenize:Kae};function $ae(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Yae(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Kae(e,t,n){let r=0,i,o;return l;function l(m){return e.enter("codeText"),e.enter("codeTextSequence"),u(m)}function u(m){return m===96?(e.consume(m),r++,u):(e.exit("codeTextSequence"),h(m))}function h(m){return m===null?n(m):m===32?(e.enter("space"),e.consume(m),e.exit("space"),h):m===96?(o=e.enter("codeTextSequence"),i=0,p(m)):Le(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||Le(m)?(e.exit("codeTextData"),h(m)):(e.consume(m),f)}function p(m){return m===96?(e.consume(m),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(m)):(o.type="codeTextData",f(m))}}class Jae{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Pu(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Pu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Pu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Pu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Pu(this.left,n.reverse())}}}function Pu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function mO(e){const t={};let n=-1,r,i,o,l,u,h,f;const p=new Jae(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Xae(p,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=p.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},u=p.slice(i,n),u.unshift(r),p.splice(i,n-i+1,u))}}return wi(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function Xae(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,h=[],f={};let p,m,v=-1,b=n,N=0,A=0;const E=[A];for(;b;){for(;e.get(++i)[1]!==b;);o.push(i),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),m&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(A=v+1,E.push(A),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):E.pop(),v=E.length;v--;){const T=u.slice(E[v],E[v+1]),P=o.pop();h.push([P,P+T.length-1]),e.splice(P,2,T)}for(h.reverse(),v=-1;++v<h.length;)f[N+h[v][0]]=N+h[v][1],N+=h[v][1]-h[v][0]-1;return f}const Wae={resolve:Zae,tokenize:eoe},Qae={partial:!0,tokenize:toe};function Zae(e){return mO(e),e}function eoe(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):Le(u)?e.check(Qae,l,o)(u):(e.consume(u),i)}function o(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function toe(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),vt(e,o,"linePrefix")}function o(l){if(l===null||Le(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function gO(e,t,n,r,i,o,l,u,h){const f=h||Number.POSITIVE_INFINITY;let p=0;return m;function m(T){return T===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(T),e.exit(o),v):T===null||T===32||T===41||Kv(T)?n(T):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),A(T))}function v(T){return T===62?(e.enter(o),e.consume(T),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),b(T))}function b(T){return T===62?(e.exit("chunkString"),e.exit(u),v(T)):T===null||T===60||Le(T)?n(T):(e.consume(T),T===92?N:b)}function N(T){return T===60||T===62||T===92?(e.consume(T),b):b(T)}function A(T){return!p&&(T===null||T===41||Wn(T))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(T)):p<f&&T===40?(e.consume(T),p++,A):T===41?(e.consume(T),p--,A):T===null||T===32||T===40||Kv(T)?n(T):(e.consume(T),T===92?E:A)}function E(T){return T===40||T===41||T===92?(e.consume(T),A):A(T)}}function yO(e,t,n,r,i,o){const l=this;let u=0,h;return f;function f(b){return e.enter(r),e.enter(i),e.consume(b),e.exit(i),e.enter(o),p}function p(b){return u>999||b===null||b===91||b===93&&!h||b===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(b):b===93?(e.exit(o),e.enter(i),e.consume(b),e.exit(i),e.exit(r),t):Le(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Le(b)||u++>999?(e.exit("chunkString"),p(b)):(e.consume(b),h||(h=!at(b)),b===92?v:m)}function v(b){return b===91||b===92||b===93?(e.consume(b),u++,m):m(b)}}function vO(e,t,n,r,i,o){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(i),e.consume(v),e.exit(i),l=v===40?41:v,h):n(v)}function h(v){return v===l?(e.enter(i),e.consume(v),e.exit(i),e.exit(r),t):(e.enter(o),f(v))}function f(v){return v===l?(e.exit(o),h(l)):v===null?n(v):Le(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),vt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===l||v===null||Le(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?m:p)}function m(v){return v===l||v===92?(e.consume(v),p):p(v)}}function Lu(e,t){let n;return r;function r(i){return Le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):at(i)?vt(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const noe={name:"definition",tokenize:ioe},roe={partial:!0,tokenize:aoe};function ioe(e,t,n){const r=this;let i;return o;function o(b){return e.enter("definition"),l(b)}function l(b){return yO.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function u(b){return i=nl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),h):n(b)}function h(b){return Wn(b)?Lu(e,f)(b):f(b)}function f(b){return gO(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return e.attempt(roe,m,m)(b)}function m(b){return at(b)?vt(e,v,"whitespace")(b):v(b)}function v(b){return b===null||Le(b)?(e.exit("definition"),r.parser.defined.push(i),t(b)):n(b)}}function aoe(e,t,n){return r;function r(u){return Wn(u)?Lu(e,i)(u):n(u)}function i(u){return vO(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return at(u)?vt(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Le(u)?t(u):n(u)}}const ooe={name:"hardBreakEscape",tokenize:soe};function soe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Le(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const loe={name:"headingAtx",resolve:uoe,tokenize:coe};function uoe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wi(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function coe(e,t,n){let r=0;return i;function i(p){return e.enter("atxHeading"),o(p)}function o(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||Wn(p)?(e.exit("atxHeadingSequence"),u(p)):n(p)}function u(p){return p===35?(e.enter("atxHeadingSequence"),h(p)):p===null||Le(p)?(e.exit("atxHeading"),t(p)):at(p)?vt(e,u,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function h(p){return p===35?(e.consume(p),h):(e.exit("atxHeadingSequence"),u(p))}function f(p){return p===null||p===35||Wn(p)?(e.exit("atxHeadingText"),u(p)):(e.consume(p),f)}}const doe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Nk=["pre","script","style","textarea"],foe={concrete:!0,name:"htmlFlow",resolveTo:moe,tokenize:goe},hoe={partial:!0,tokenize:voe},poe={partial:!0,tokenize:yoe};function moe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function goe(e,t,n){const r=this;let i,o,l,u,h;return f;function f(H){return p(H)}function p(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),m}function m(H){return H===33?(e.consume(H),v):H===47?(e.consume(H),o=!0,A):H===63?(e.consume(H),i=3,r.interrupt?t:q):pi(H)?(e.consume(H),l=String.fromCharCode(H),E):n(H)}function v(H){return H===45?(e.consume(H),i=2,b):H===91?(e.consume(H),i=5,u=0,N):pi(H)?(e.consume(H),i=4,r.interrupt?t:q):n(H)}function b(H){return H===45?(e.consume(H),r.interrupt?t:q):n(H)}function N(H){const me="CDATA[";return H===me.charCodeAt(u++)?(e.consume(H),u===me.length?r.interrupt?t:$:N):n(H)}function A(H){return pi(H)?(e.consume(H),l=String.fromCharCode(H),E):n(H)}function E(H){if(H===null||H===47||H===62||Wn(H)){const me=H===47,Ne=l.toLowerCase();return!me&&!o&&Nk.includes(Ne)?(i=1,r.interrupt?t(H):$(H)):doe.includes(l.toLowerCase())?(i=6,me?(e.consume(H),T):r.interrupt?t(H):$(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):o?P(H):M(H))}return H===45||pr(H)?(e.consume(H),l+=String.fromCharCode(H),E):n(H)}function T(H){return H===62?(e.consume(H),r.interrupt?t:$):n(H)}function P(H){return at(H)?(e.consume(H),P):D(H)}function M(H){return H===47?(e.consume(H),D):H===58||H===95||pi(H)?(e.consume(H),k):at(H)?(e.consume(H),M):D(H)}function k(H){return H===45||H===46||H===58||H===95||pr(H)?(e.consume(H),k):R(H)}function R(H){return H===61?(e.consume(H),I):at(H)?(e.consume(H),R):M(H)}function I(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),h=H,j):at(H)?(e.consume(H),I):G(H)}function j(H){return H===h?(e.consume(H),h=null,U):H===null||Le(H)?n(H):(e.consume(H),j)}function G(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Wn(H)?R(H):(e.consume(H),G)}function U(H){return H===47||H===62||at(H)?M(H):n(H)}function D(H){return H===62?(e.consume(H),O):n(H)}function O(H){return H===null||Le(H)?$(H):at(H)?(e.consume(H),O):n(H)}function $(H){return H===45&&i===2?(e.consume(H),B):H===60&&i===1?(e.consume(H),K):H===62&&i===4?(e.consume(H),Y):H===63&&i===3?(e.consume(H),q):H===93&&i===5?(e.consume(H),Z):Le(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(hoe,X,F)(H)):H===null||Le(H)?(e.exit("htmlFlowData"),F(H)):(e.consume(H),$)}function F(H){return e.check(poe,V,X)(H)}function V(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),z}function z(H){return H===null||Le(H)?F(H):(e.enter("htmlFlowData"),$(H))}function B(H){return H===45?(e.consume(H),q):$(H)}function K(H){return H===47?(e.consume(H),l="",ie):$(H)}function ie(H){if(H===62){const me=l.toLowerCase();return Nk.includes(me)?(e.consume(H),Y):$(H)}return pi(H)&&l.length<8?(e.consume(H),l+=String.fromCharCode(H),ie):$(H)}function Z(H){return H===93?(e.consume(H),q):$(H)}function q(H){return H===62?(e.consume(H),Y):H===45&&i===2?(e.consume(H),q):$(H)}function Y(H){return H===null||Le(H)?(e.exit("htmlFlowData"),X(H)):(e.consume(H),Y)}function X(H){return e.exit("htmlFlow"),t(H)}}function yoe(e,t,n){const r=this;return i;function i(l){return Le(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function voe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(yp,t,n)}}const xoe={name:"htmlText",tokenize:boe};function boe(e,t,n){const r=this;let i,o,l;return u;function u(q){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(q),h}function h(q){return q===33?(e.consume(q),f):q===47?(e.consume(q),R):q===63?(e.consume(q),M):pi(q)?(e.consume(q),G):n(q)}function f(q){return q===45?(e.consume(q),p):q===91?(e.consume(q),o=0,N):pi(q)?(e.consume(q),P):n(q)}function p(q){return q===45?(e.consume(q),b):n(q)}function m(q){return q===null?n(q):q===45?(e.consume(q),v):Le(q)?(l=m,K(q)):(e.consume(q),m)}function v(q){return q===45?(e.consume(q),b):m(q)}function b(q){return q===62?B(q):q===45?v(q):m(q)}function N(q){const Y="CDATA[";return q===Y.charCodeAt(o++)?(e.consume(q),o===Y.length?A:N):n(q)}function A(q){return q===null?n(q):q===93?(e.consume(q),E):Le(q)?(l=A,K(q)):(e.consume(q),A)}function E(q){return q===93?(e.consume(q),T):A(q)}function T(q){return q===62?B(q):q===93?(e.consume(q),T):A(q)}function P(q){return q===null||q===62?B(q):Le(q)?(l=P,K(q)):(e.consume(q),P)}function M(q){return q===null?n(q):q===63?(e.consume(q),k):Le(q)?(l=M,K(q)):(e.consume(q),M)}function k(q){return q===62?B(q):M(q)}function R(q){return pi(q)?(e.consume(q),I):n(q)}function I(q){return q===45||pr(q)?(e.consume(q),I):j(q)}function j(q){return Le(q)?(l=j,K(q)):at(q)?(e.consume(q),j):B(q)}function G(q){return q===45||pr(q)?(e.consume(q),G):q===47||q===62||Wn(q)?U(q):n(q)}function U(q){return q===47?(e.consume(q),B):q===58||q===95||pi(q)?(e.consume(q),D):Le(q)?(l=U,K(q)):at(q)?(e.consume(q),U):B(q)}function D(q){return q===45||q===46||q===58||q===95||pr(q)?(e.consume(q),D):O(q)}function O(q){return q===61?(e.consume(q),$):Le(q)?(l=O,K(q)):at(q)?(e.consume(q),O):U(q)}function $(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(e.consume(q),i=q,F):Le(q)?(l=$,K(q)):at(q)?(e.consume(q),$):(e.consume(q),V)}function F(q){return q===i?(e.consume(q),i=void 0,z):q===null?n(q):Le(q)?(l=F,K(q)):(e.consume(q),F)}function V(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||Wn(q)?U(q):(e.consume(q),V)}function z(q){return q===47||q===62||Wn(q)?U(q):n(q)}function B(q){return q===62?(e.consume(q),e.exit("htmlTextData"),e.exit("htmlText"),t):n(q)}function K(q){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),ie}function ie(q){return at(q)?vt(e,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):Z(q)}function Z(q){return e.enter("htmlTextData"),l(q)}}const Qb={name:"labelEnd",resolveAll:Eoe,resolveTo:Aoe,tokenize:Coe},woe={tokenize:Toe},Soe={tokenize:_oe},Noe={tokenize:koe};function Eoe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&wi(e,0,e.length,n),e}function Aoe(e,t){let n=e.length,r=0,i,o,l,u;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const h={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",h,t],["enter",f,t]],u=kr(u,e.slice(o+1,o+r+3)),u=kr(u,[["enter",p,t]]),u=kr(u,Wb(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),u=kr(u,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),u=kr(u,e.slice(l+1)),u=kr(u,[["exit",h,t]]),wi(e,o,e.length,u),e}function Coe(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(v){return o?o._inactive?m(v):(l=r.parser.defined.includes(nl(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),h):n(v)}function h(v){return v===40?e.attempt(woe,p,l?p:m)(v):v===91?e.attempt(Soe,p,l?f:m)(v):l?p(v):m(v)}function f(v){return e.attempt(Noe,p,m)(v)}function p(v){return t(v)}function m(v){return o._balanced=!0,n(v)}}function Toe(e,t,n){return r;function r(m){return e.enter("resource"),e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),i}function i(m){return Wn(m)?Lu(e,o)(m):o(m)}function o(m){return m===41?p(m):gO(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return Wn(m)?Lu(e,h)(m):p(m)}function u(m){return n(m)}function h(m){return m===34||m===39||m===40?vO(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function f(m){return Wn(m)?Lu(e,p)(m):p(m)}function p(m){return m===41?(e.enter("resourceMarker"),e.consume(m),e.exit("resourceMarker"),e.exit("resource"),t):n(m)}}function _oe(e,t,n){const r=this;return i;function i(u){return yO.call(r,e,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes(nl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function koe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const Poe={name:"labelStartImage",resolveAll:Qb.resolveAll,tokenize:Moe};function Moe(e,t,n){const r=this;return i;function i(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),o}function o(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const joe={name:"labelStartLink",resolveAll:Qb.resolveAll,tokenize:Ioe};function Ioe(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Sy={name:"lineEnding",tokenize:Roe};function Roe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vt(e,t,"linePrefix")}}const bf={name:"thematicBreak",tokenize:Doe};function Doe(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),l(f)}function l(f){return i=f,u(f)}function u(f){return f===i?(e.enter("thematicBreakSequence"),h(f)):r>=3&&(f===null||Le(f))?(e.exit("thematicBreak"),t(f)):n(f)}function h(f){return f===i?(e.consume(f),r++,h):(e.exit("thematicBreakSequence"),at(f)?vt(e,u,"whitespace")(f):u(f))}}const Jn={continuation:{tokenize:Boe},exit:qoe,name:"list",tokenize:Uoe},Ooe={partial:!0,tokenize:Hoe},Loe={partial:!0,tokenize:zoe};function Uoe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(b){const N=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:Jv(b)){if(r.containerState.type||(r.containerState.type=N,e.enter(N,{_container:!0})),N==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(bf,n,f)(b):f(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(b)}return n(b)}function h(b){return Jv(b)&&++l<10?(e.consume(b),h):(!r.interrupt||l<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),f(b)):n(b)}function f(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(yp,r.interrupt?n:p,e.attempt(Ooe,v,m))}function p(b){return r.containerState.initialBlankLine=!0,o++,v(b)}function m(b){return at(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):n(b)}function v(b){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function Boe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(yp,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vt(e,t,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!at(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Loe,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,vt(e,e.attempt(Jn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function zoe(e,t,n){const r=this;return vt(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function qoe(e){e.exit(this.containerState.type)}function Hoe(e,t,n){const r=this;return vt(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!at(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Ek={name:"setextUnderline",resolveTo:Foe,tokenize:Goe};function Foe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function Goe(e,t,n){const r=this;let i;return o;function o(f){let p=r.events.length,m;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){m=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(e.enter("setextHeadingLine"),i=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===i?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),at(f)?vt(e,h,"lineSuffix")(f):h(f))}function h(f){return f===null||Le(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const Voe={tokenize:$oe};function $oe(e){const t=this,n=e.attempt(yp,r,e.attempt(this.parser.constructs.flowInitial,i,vt(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Wae,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Yoe={resolveAll:bO()},Koe=xO("string"),Joe=xO("text");function xO(e){return{resolveAll:bO(e==="text"?Xoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,u);return l;function l(p){return f(p)?o(p):u(p)}function u(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),h}function h(p){return f(p)?(n.exit("data"),o(p)):(n.consume(p),h)}function f(p){if(p===null)return!0;const m=i[p];let v=-1;if(m)for(;++v<m.length;){const b=m[v];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function bO(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Xoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,u=0,h;for(;o--;){const f=i[o];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)h=!0,u++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(u=0),u){const f={type:n===e.length||h||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const Woe={42:Jn,43:Jn,45:Jn,48:Jn,49:Jn,50:Jn,51:Jn,52:Jn,53:Jn,54:Jn,55:Jn,56:Jn,57:Jn,62:fO},Qoe={91:noe},Zoe={[-2]:wy,[-1]:wy,32:wy},ese={35:loe,42:bf,45:[Ek,bf],60:foe,61:Ek,95:bf,96:Sk,126:Sk},tse={38:pO,92:hO},nse={[-5]:Sy,[-4]:Sy,[-3]:Sy,33:Poe,38:pO,42:Xv,60:[jae,xoe],91:joe,92:[ooe,hO],93:Qb,95:Xv,96:Vae},rse={null:[Xv,Yoe]},ise={null:[42,95]},ase={null:[]},ose=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ise,contentInitial:Qoe,disable:ase,document:Woe,flow:ese,flowInitial:Zoe,insideSpan:rse,string:tse,text:nse},Symbol.toStringTag,{value:"Module"}));function sse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const h={attempt:j(R),check:j(I),consume:P,enter:M,exit:k,interrupt:j(I,{interrupt:!0})},f={code:null,containerState:{},defineSkip:A,events:[],now:N,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:m};let p=t.tokenize.call(f,h);return t.resolveAll&&o.push(t),f;function m(O){return l=kr(l,O),E(),l[l.length-1]!==null?[]:(G(t,0),f.events=Wb(o,f.events,f),f.events)}function v(O,$){return use(b(O),$)}function b(O){return lse(l,O)}function N(){const{_bufferIndex:O,_index:$,line:F,column:V,offset:z}=r;return{_bufferIndex:O,_index:$,line:F,column:V,offset:z}}function A(O){i[O.line]=O.column,D()}function E(){let O;for(;r._index<l.length;){const $=l[r._index];if(typeof $=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<$.length;)T($.charCodeAt(r._bufferIndex));else T($)}}function T(O){p=p(O)}function P(O){Le(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,D()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=O}function M(O,$){const F=$||{};return F.type=O,F.start=N(),f.events.push(["enter",F,f]),u.push(F),F}function k(O){const $=u.pop();return $.end=N(),f.events.push(["exit",$,f]),$}function R(O,$){G(O,$.from)}function I(O,$){$.restore()}function j(O,$){return F;function F(V,z,B){let K,ie,Z,q;return Array.isArray(V)?X(V):"tokenize"in V?X([V]):Y(V);function Y(ue){return we;function we(Ue){const ae=Ue!==null&&ue[Ue],Ee=Ue!==null&&ue.null,Pe=[...Array.isArray(ae)?ae:ae?[ae]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return X(Pe)(Ue)}}function X(ue){return K=ue,ie=0,ue.length===0?B:H(ue[ie])}function H(ue){return we;function we(Ue){return q=U(),Z=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?Ne():ue.tokenize.call($?Object.assign(Object.create(f),$):f,h,me,Ne)(Ue)}}function me(ue){return O(Z,q),z}function Ne(ue){return q.restore(),++ie<K.length?H(K[ie]):B}}}function G(O,$){O.resolveAll&&!o.includes(O)&&o.push(O),O.resolve&&wi(f.events,$,f.events.length-$,O.resolve(f.events.slice($),f)),O.resolveTo&&(f.events=O.resolveTo(f.events,f))}function U(){const O=N(),$=f.previous,F=f.currentConstruct,V=f.events.length,z=Array.from(u);return{from:V,restore:B};function B(){r=O,f.previous=$,f.currentConstruct=F,f.events.length=V,u=z,D()}}function D(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function lse(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function use(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function cse(e){const r={constructs:yae([ose,...(e||{}).extensions||[]]),content:i(Aae),defined:[],document:i(Tae),flow:i(Voe),lazy:{},string:i(Koe),text:i(Joe)};return r;function i(o){return l;function l(u){return sse(r,o,u)}}}function dse(e){for(;!mO(e););return e}const Ak=/[\0\t\n\r]/g;function fse(){let e=1,t="",n=!0,r;return i;function i(o,l,u){const h=[];let f,p,m,v,b;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),m=0,t="",n&&(o.charCodeAt(0)===65279&&m++,n=void 0);m<o.length;){if(Ak.lastIndex=m,f=Ak.exec(o),v=f&&f.index!==void 0?f.index:o.length,b=o.charCodeAt(v),!f){t=o.slice(m);break}if(b===10&&m===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),m<v&&(h.push(o.slice(m,v)),e+=v-m),b){case 0:{h.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,h.push(-2);e++<p;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}m=v+1}return u&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const hse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pse(e){return e.replace(hse,mse)}function mse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return dO(n.slice(o?2:1),o?16:10)}return Xb(n)||e}const wO={}.hasOwnProperty;function gse(e,t,n){return typeof t!="string"&&(n=t,t=void 0),yse(n)(dse(cse(n).document().write(fse()(e,t,!0))))}function yse(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Si),autolinkProtocol:U,autolinkEmail:U,atxHeading:o(Ct),blockQuote:o(Ee),characterEscape:U,characterReference:U,codeFenced:o(Pe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Pe,l),codeText:o(ge,l),codeTextData:U,data:U,codeFlowValue:U,definition:o(wt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o($e),hardBreakEscape:o(gt),hardBreakTrailing:o(gt),htmlFlow:o(Cn,l),htmlFlowData:U,htmlText:o(Cn,l),htmlTextData:U,image:o(qr),label:l,link:o(Si),listItem:o(Ni),listItemValue:v,listOrdered:o(tr,m),listUnordered:o(tr),paragraph:o(Al),reference:H,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ct),strong:o(ro),thematicBreak:o(Cl)},exit:{atxHeading:h(),atxHeadingSequence:R,autolink:h(),autolinkEmail:ae,autolinkProtocol:Ue,blockQuote:h(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:ue,characterReference:we,codeFenced:h(E),codeFencedFence:A,codeFencedFenceInfo:b,codeFencedFenceMeta:N,codeFlowValue:D,codeIndented:h(T),codeText:h(z),codeTextData:D,data:D,definition:h(),definitionDestinationString:k,definitionLabelString:P,definitionTitleString:M,emphasis:h(),hardBreakEscape:h($),hardBreakTrailing:h($),htmlFlow:h(F),htmlFlowData:D,htmlText:h(V),htmlTextData:D,image:h(K),label:Z,labelText:ie,lineEnding:O,link:h(B),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:me,resourceDestinationString:q,resourceTitleString:Y,resource:X,setextHeading:h(G),setextHeadingLineSequence:j,setextHeadingText:I,strong:h(),thematicBreak:h()}};SO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(de){let be={type:"root",children:[]};const De={stack:[be],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:p,data:n},Ve=[];let We=-1;for(;++We<de.length;)if(de[We][1].type==="listOrdered"||de[We][1].type==="listUnordered")if(de[We][0]==="enter")Ve.push(We);else{const Tn=Ve.pop();We=i(de,Tn,We)}for(We=-1;++We<de.length;){const Tn=t[de[We][0]];wO.call(Tn,de[We][1].type)&&Tn[de[We][1].type].call(Object.assign({sliceSerialize:de[We][2].sliceSerialize},De),de[We][1])}if(De.tokenStack.length>0){const Tn=De.tokenStack[De.tokenStack.length-1];(Tn[1]||Ck).call(De,void 0,Tn[0])}for(be.position={start:Fa(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:Fa(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)be=t.transforms[We](be)||be;return be}function i(de,be,De){let Ve=be-1,We=-1,Tn=!1,Hr,nn,ct,$t;for(;++Ve<=De;){const ot=de[Ve];switch(ot[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ot[0]==="enter"?We++:We--,$t=void 0;break}case"lineEndingBlank":{ot[0]==="enter"&&(Hr&&!$t&&!We&&!ct&&(ct=Ve),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!We&&ot[0]==="enter"&&ot[1].type==="listItemPrefix"||We===-1&&ot[0]==="exit"&&(ot[1].type==="listUnordered"||ot[1].type==="listOrdered")){if(Hr){let rn=Ve;for(nn=void 0;rn--;){const Yt=de[rn];if(Yt[1].type==="lineEnding"||Yt[1].type==="lineEndingBlank"){if(Yt[0]==="exit")continue;nn&&(de[nn][1].type="lineEndingBlank",Tn=!0),Yt[1].type="lineEnding",nn=rn}else if(!(Yt[1].type==="linePrefix"||Yt[1].type==="blockQuotePrefix"||Yt[1].type==="blockQuotePrefixWhitespace"||Yt[1].type==="blockQuoteMarker"||Yt[1].type==="listItemIndent"))break}ct&&(!nn||ct<nn)&&(Hr._spread=!0),Hr.end=Object.assign({},nn?de[nn][1].start:ot[1].end),de.splice(nn||Ve,0,["exit",Hr,ot[2]]),Ve++,De++}if(ot[1].type==="listItemPrefix"){const rn={type:"listItem",_spread:!1,start:Object.assign({},ot[1].start),end:void 0};Hr=rn,de.splice(Ve,0,["enter",rn,ot[2]]),Ve++,De++,ct=void 0,$t=!0}}}return de[be][1]._spread=Tn,De}function o(de,be){return De;function De(Ve){u.call(this,de(Ve),Ve),be&&be.call(this,Ve)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(de,be,De){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([be,De||void 0]),de.position={start:Fa(be.start),end:void 0}}function h(de){return be;function be(De){de&&de.call(this,De),f.call(this,De)}}function f(de,be){const De=this.stack.pop(),Ve=this.tokenStack.pop();if(Ve)Ve[0].type!==de.type&&(be?be.call(this,de,Ve[0]):(Ve[1]||Ck).call(this,de,Ve[0]));else throw new Error("Cannot close `"+de.type+"` ("+Ou({start:de.start,end:de.end})+"): its not open");De.position.end=Fa(de.end)}function p(){return mae(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function v(de){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function b(){const de=this.resume(),be=this.stack[this.stack.length-1];be.lang=de}function N(){const de=this.resume(),be=this.stack[this.stack.length-1];be.meta=de}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de.replace(/(\r?\n|\r)$/g,"")}function P(de){const be=this.resume(),De=this.stack[this.stack.length-1];De.label=be,De.identifier=nl(this.sliceSerialize(de)).toLowerCase()}function M(){const de=this.resume(),be=this.stack[this.stack.length-1];be.title=de}function k(){const de=this.resume(),be=this.stack[this.stack.length-1];be.url=de}function R(de){const be=this.stack[this.stack.length-1];if(!be.depth){const De=this.sliceSerialize(de).length;be.depth=De}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function j(de){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function U(de){const De=this.stack[this.stack.length-1].children;let Ve=De[De.length-1];(!Ve||Ve.type!=="text")&&(Ve=hn(),Ve.position={start:Fa(de.start),end:void 0},De.push(Ve)),this.stack.push(Ve)}function D(de){const be=this.stack.pop();be.value+=this.sliceSerialize(de),be.position.end=Fa(de.end)}function O(de){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=be.children[be.children.length-1];De.position.end=Fa(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(be.type)&&(U.call(this,de),D.call(this,de))}function $(){this.data.atHardBreak=!0}function F(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de}function V(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de}function z(){const de=this.resume(),be=this.stack[this.stack.length-1];be.value=de}function B(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=be,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function K(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=be,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function ie(de){const be=this.sliceSerialize(de),De=this.stack[this.stack.length-2];De.label=pse(be),De.identifier=nl(be).toLowerCase()}function Z(){const de=this.stack[this.stack.length-1],be=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const Ve=de.children;De.children=Ve}else De.alt=be}function q(){const de=this.resume(),be=this.stack[this.stack.length-1];be.url=de}function Y(){const de=this.resume(),be=this.stack[this.stack.length-1];be.title=de}function X(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function me(de){const be=this.resume(),De=this.stack[this.stack.length-1];De.label=be,De.identifier=nl(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function Ne(de){this.data.characterReferenceType=de.type}function ue(de){const be=this.sliceSerialize(de),De=this.data.characterReferenceType;let Ve;De?(Ve=dO(be,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ve=Xb(be);const We=this.stack[this.stack.length-1];We.value+=Ve}function we(de){const be=this.stack.pop();be.position.end=Fa(de.end)}function Ue(de){D.call(this,de);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(de)}function ae(de){D.call(this,de);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(de)}function Ee(){return{type:"blockquote",children:[]}}function Pe(){return{type:"code",lang:null,meta:null,value:""}}function ge(){return{type:"inlineCode",value:""}}function wt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function Ct(){return{type:"heading",depth:0,children:[]}}function gt(){return{type:"break"}}function Cn(){return{type:"html",value:""}}function qr(){return{type:"image",title:null,url:"",alt:null}}function Si(){return{type:"link",title:null,url:"",children:[]}}function tr(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function Ni(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function Al(){return{type:"paragraph",children:[]}}function ro(){return{type:"strong",children:[]}}function hn(){return{type:"text",value:""}}function Cl(){return{type:"thematicBreak"}}}function Fa(e){return{line:e.line,column:e.column,offset:e.offset}}function SO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?SO(e,r):vse(e,r)}}function vse(e,t){let n;for(n in t)if(wO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Ck(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ou({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ou({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ou({start:t.start,end:t.end})+") is still open")}function xse(e){const t=this;t.parser=n;function n(r){return gse(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function bse(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function wse(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Sse(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function Nse(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ese(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ase(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=El(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,u+=1,e.footnoteCounts.set(r,u);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,h);const f={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,f),e.applyData(t,f)}function Cse(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Tse(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function NO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function _se(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return NO(e,t);const i={src:El(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function kse(e,t){const n={src:El(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Pse(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Mse(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return NO(e,t);const i={href:El(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function jse(e,t){const n={href:El(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ise(e,t,n){const r=e.all(t),i=n?Rse(n):EO(t),o={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const p=r[u];(i||u!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?l.push(...p.children):l.push(p)}const h=r[r.length-1];h&&(i||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,f),e.applyData(t,f)}function Rse(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=EO(n[r])}return t}function EO(e){const t=e.spread;return t??e.children.length>1}function Dse(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function Ose(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Lse(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Use(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Bse(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=$b(t.children[1]),h=iO(t.children[t.children.length-1]);u&&h&&(l.position={start:u,end:h}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function zse(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let h=-1;const f=[];for(;++h<u;){const m=t.children[h],v={},b=l?l[h]:void 0;b&&(v.align=b);let N={type:"element",tagName:o,properties:v,children:[]};m&&(N.children=e.all(m),e.patch(m,N),N=e.applyData(m,N)),f.push(N)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function qse(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Tk=9,_k=32;function Hse(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(kk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(kk(t.slice(i),i>0,!1)),o.join("")}function kk(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Tk||o===_k;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Tk||o===_k;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Fse(e,t){const n={type:"text",value:Hse(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Gse(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Vse={blockquote:bse,break:wse,code:Sse,delete:Nse,emphasis:Ese,footnoteReference:Ase,heading:Cse,html:Tse,imageReference:_se,image:kse,inlineCode:Pse,linkReference:Mse,link:jse,listItem:Ise,list:Dse,paragraph:Ose,root:Lse,strong:Use,table:Bse,tableCell:qse,tableRow:zse,text:Fse,thematicBreak:Gse,toml:sf,yaml:sf,definition:sf,footnoteDefinition:sf};function sf(){}const AO=-1,vp=0,Uu=1,vh=2,Zb=3,ew=4,tw=5,nw=6,CO=7,TO=8,Pk=typeof self=="object"?self:globalThis,$se=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case vp:case AO:return n(l,i);case Uu:{const u=n([],i);for(const h of l)u.push(r(h));return u}case vh:{const u=n({},i);for(const[h,f]of l)u[r(h)]=r(f);return u}case Zb:return n(new Date(l),i);case ew:{const{source:u,flags:h}=l;return n(new RegExp(u,h),i)}case tw:{const u=n(new Map,i);for(const[h,f]of l)u.set(r(h),r(f));return u}case nw:{const u=n(new Set,i);for(const h of l)u.add(r(h));return u}case CO:{const{name:u,message:h}=l;return n(new Pk[u](h),i)}case TO:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new Pk[o](l),i)};return r},Mk=e=>$se(new Map,e)(0),Bs="",{toString:Yse}={},{keys:Kse}=Object,Mu=e=>{const t=typeof e;if(t!=="object"||!e)return[vp,t];const n=Yse.call(e).slice(8,-1);switch(n){case"Array":return[Uu,Bs];case"Object":return[vh,Bs];case"Date":return[Zb,Bs];case"RegExp":return[ew,Bs];case"Map":return[tw,Bs];case"Set":return[nw,Bs];case"DataView":return[Uu,n]}return n.includes("Array")?[Uu,n]:n.includes("Error")?[CO,n]:[vh,n]},lf=([e,t])=>e===vp&&(t==="function"||t==="symbol"),Jse=(e,t,n,r)=>{const i=(l,u)=>{const h=r.push(l)-1;return n.set(u,h),h},o=l=>{if(n.has(l))return n.get(l);let[u,h]=Mu(l);switch(u){case vp:{let p=l;switch(h){case"bigint":u=TO,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);p=null;break;case"undefined":return i([AO],l)}return i([u,p],l)}case Uu:{if(h){let v=l;return h==="DataView"?v=new Uint8Array(l.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(l)),i([h,[...v]],l)}const p=[],m=i([u,p],l);for(const v of l)p.push(o(v));return m}case vh:{if(h)switch(h){case"BigInt":return i([h,l.toString()],l);case"Boolean":case"Number":case"String":return i([h,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const p=[],m=i([u,p],l);for(const v of Kse(l))(e||!lf(Mu(l[v])))&&p.push([o(v),o(l[v])]);return m}case Zb:return i([u,l.toISOString()],l);case ew:{const{source:p,flags:m}=l;return i([u,{source:p,flags:m}],l)}case tw:{const p=[],m=i([u,p],l);for(const[v,b]of l)(e||!(lf(Mu(v))||lf(Mu(b))))&&p.push([o(v),o(b)]);return m}case nw:{const p=[],m=i([u,p],l);for(const v of l)(e||!lf(Mu(v)))&&p.push(o(v));return m}}const{message:f}=l;return i([u,{name:h,message:f}],l)};return o},jk=(e,{json:t,lossy:n}={})=>{const r=[];return Jse(!(t||n),!!t,new Map,r)(e),r},xh=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Mk(jk(e,t)):structuredClone(e):(e,t)=>Mk(jk(e,t));function Xse(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Wse(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Qse(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Xse,r=e.options.footnoteBackLabel||Wse,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let h=-1;for(;++h<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[h]);if(!f)continue;const p=e.all(f),m=String(f.identifier).toUpperCase(),v=El(m.toLowerCase());let b=0;const N=[],A=e.footnoteCounts.get(m);for(;A!==void 0&&++b<=A;){N.length>0&&N.push({type:"text",value:" "});let P=typeof n=="string"?n:n(h,b);typeof P=="string"&&(P={type:"text",value:P}),N.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,b),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const E=p[p.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const P=E.children[E.children.length-1];P&&P.type==="text"?P.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...N)}else p.push(...N);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(p,!0)};e.patch(f,T),u.push(T)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...xh(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const _O=(function(e){if(e==null)return nle;if(typeof e=="function")return xp(e);if(typeof e=="object")return Array.isArray(e)?Zse(e):ele(e);if(typeof e=="string")return tle(e);throw new Error("Expected function, string, or object as test")});function Zse(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=_O(e[n]);return xp(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function ele(e){const t=e;return xp(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function tle(e){return xp(t);function t(n){return n&&n.type===e}}function xp(e){return t;function t(n,r,i){return!!(rle(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function nle(){return!0}function rle(e){return e!==null&&typeof e=="object"&&"type"in e}const kO=[],ile=!0,Ik=!1,ale="skip";function ole(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=_O(i),l=r?-1:1;u(e,void 0,[])();function u(h,f,p){const m=h&&typeof h=="object"?h:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=kO,N,A,E;if((!t||o(h,f,p[p.length-1]||void 0))&&(b=sle(n(h,p)),b[0]===Ik))return b;if("children"in h&&h.children){const T=h;if(T.children&&b[0]!==ale)for(A=(r?T.children.length:-1)+l,E=p.concat(T);A>-1&&A<T.children.length;){const P=T.children[A];if(N=u(P,A,E)(),N[0]===Ik)return N;A=typeof N[1]=="number"?N[1]:A+l}}return b}}}function sle(e){return Array.isArray(e)?e:typeof e=="number"?[ile,e]:e==null?kO:[e]}function PO(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),ole(e,o,u,i);function u(h,f){const p=f[f.length-1],m=p?p.children.indexOf(h):void 0;return l(h,m,p)}}const Wv={}.hasOwnProperty,lle={};function ule(e,t){const n=t||lle,r=new Map,i=new Map,o=new Map,l={...Vse,...n.handlers},u={all:f,applyData:dle,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:h,options:n,patch:cle,wrap:hle};return PO(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?r:i,v=String(p.identifier).toUpperCase();m.has(v)||m.set(v,p)}}),u;function h(p,m){const v=p.type,b=u.handlers[v];if(Wv.call(u.handlers,v)&&b)return b(u,p,m);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in p){const{children:A,...E}=p,T=xh(E);return T.children=u.all(p),T}return xh(p)}return(u.options.unknownHandler||fle)(u,p,m)}function f(p){const m=[];if("children"in p){const v=p.children;let b=-1;for(;++b<v.length;){const N=u.one(v[b],p);if(N){if(b&&v[b-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=Rk(N.value)),!Array.isArray(N)&&N.type==="element")){const A=N.children[0];A&&A.type==="text"&&(A.value=Rk(A.value))}Array.isArray(N)?m.push(...N):m.push(N)}}}return m}}function cle(e,t){e.position&&(t.position=Yie(e))}function dle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,xh(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function fle(e,t){const n=t.data||{},r="value"in t&&!(Wv.call(n,"hProperties")||Wv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Rk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Dk(e,t){const n=ule(e,t),r=n.one(e,void 0),i=Qse(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function ple(e,t){return e&&"run"in e?async function(n,r){const i=Dk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Dk(n,{file:r,...e||t})}}function Ok(e){if(e)throw e}var Ny,Lk;function mle(){if(Lk)return Ny;Lk=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!m)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},u=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return Ny=function h(){var f,p,m,v,b,N,A=arguments[0],E=1,T=arguments.length,P=!1;for(typeof A=="boolean"&&(P=A,A=arguments[1]||{},E=2),(A==null||typeof A!="object"&&typeof A!="function")&&(A={});E<T;++E)if(f=arguments[E],f!=null)for(p in f)m=u(A,p),v=u(f,p),A!==v&&(P&&v&&(o(v)||(b=i(v)))?(b?(b=!1,N=m&&i(m)?m:[]):N=m&&o(m)?m:{},l(A,{name:p,newValue:h(P,N,v)})):typeof v<"u"&&l(A,{name:p,newValue:v}));return A},Ny}var gle=mle();const Ey=ii(gle);function Qv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yle(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(h,...f){const p=e[++o];let m=-1;if(h){l(h);return}for(;++m<i.length;)(f[m]===null||f[m]===void 0)&&(f[m]=i[m]);i=f,p?vle(p,u)(...f):l(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function vle(e,t){let n;return r;function r(...l){const u=e.length>l.length;let h;u&&l.push(i);try{h=e.apply(this,l)}catch(f){const p=f;if(u&&n)throw p;return i(p)}u||(h&&h.then&&typeof h.then=="function"?h.then(o,i):h instanceof Error?i(h):o(h))}function i(l,...u){n||(n=!0,t(l,...u))}function o(l){i(null,l)}}const fi={basename:xle,dirname:ble,extname:wle,join:Sle,sep:"/"};function xle(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ac(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(e.codePointAt(i)===t.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function ble(e){if(Ac(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wle(e){Ac(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Sle(...e){let t=-1,n;for(;++t<e.length;)Ac(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Nle(n)}function Nle(e){Ac(e);const t=e.codePointAt(0)===47;let n=Ele(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Ele(e,t){let n="",r=0,i=-1,o=0,l=-1,u,h;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function Ac(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ale={cwd:Cle};function Cle(){return"/"}function Zv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Tle(e){if(typeof e=="string")e=new URL(e);else if(!Zv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _le(e)}function _le(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ay=["history","path","basename","stem","extname","dirname"];class MO{constructor(t){let n;t?Zv(t)?n={path:t}:typeof t=="string"||kle(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ale.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ay.length;){const o=Ay[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Ay.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?fi.basename(this.path):void 0}set basename(t){Ty(t,"basename"),Cy(t,"basename"),this.path=fi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fi.dirname(this.path):void 0}set dirname(t){Uk(this.basename,"dirname"),this.path=fi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fi.extname(this.path):void 0}set extname(t){if(Cy(t,"extname"),Uk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Zv(t)&&(t=Tle(t)),Ty(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fi.basename(this.path,this.extname):void 0}set stem(t){Ty(t,"stem"),Cy(t,"stem"),this.path=fi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new In(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Cy(e,t){if(e&&e.includes(fi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fi.sep+"`")}function Ty(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Uk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function kle(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ple=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),Mle={}.hasOwnProperty;class rw extends Ple{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yle()}copy(){const t=new rw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ey(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Py("data",this.frozen),this.namespace[t]=n,this):Mle.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Py("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=uf(t),r=this.parser||this.Parser;return _y("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_y("process",this.parser||this.Parser),ky("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=uf(t),h=r.parse(u);r.run(h,u,function(p,m,v){if(p||!m||!v)return f(p);const b=m,N=r.stringify(b,v);Rle(N)?v.value=N:v.result=N,f(p,v)});function f(p,m){p||!m?l(p):o?o(m):n(void 0,m)}}}processSync(t){let n=!1,r;return this.freeze(),_y("processSync",this.parser||this.Parser),ky("processSync",this.compiler||this.Compiler),this.process(t,i),zk("processSync","process",n),r;function i(o,l){n=!0,Ok(o),r=l}}run(t,n,r){Bk(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const h=uf(n);i.run(t,h,f);function f(p,m,v){const b=m||t;p?u(p):l?l(b):r(void 0,b,v)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),zk("runSync","run",r),i;function o(l,u){Ok(l),i=u,r=!0}}stringify(t,n){this.freeze();const r=uf(n),i=this.compiler||this.Compiler;return ky("stringify",i),Bk(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Py("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")h(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...m]=f;h(p,m)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(i.settings=Ey(!0,i.settings,f.settings))}function u(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const m=f[p];o(m)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function h(f,p){let m=-1,v=-1;for(;++m<r.length;)if(r[m][0]===f){v=m;break}if(v===-1)r.push([f,...p]);else if(p.length>0){let[b,...N]=p;const A=r[v][1];Qv(A)&&Qv(b)&&(b=Ey(!0,A,b)),r[v]=[f,b,...N]}}}}const jle=new rw().freeze();function _y(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ky(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Py(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bk(e){if(!Qv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function zk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function uf(e){return Ile(e)?e:new MO(e)}function Ile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Rle(e){return typeof e=="string"||Dle(e)}function Dle(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ole="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",qk=[],Hk={allowDangerousHtml:!0},Lle=/^(https?|ircs?|mailto|xmpp)$/i,Ule=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ble(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,l=e.disallowedElements,u=e.rehypePlugins||qk,h=e.remarkPlugins||qk,f=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Hk}:Hk,p=e.skipHtml,m=e.unwrapDisallowed,v=e.urlTransform||zle,b=jle().use(xse).use(h).use(ple,f).use(u),N=new MO;typeof r=="string"&&(N.value=r);for(const P of Ule)Object.hasOwn(e,P.from)&&(""+P.from+(P.to?"use `"+P.to+"` instead":"remove it")+Ole+P.id,void 0);const A=b.parse(N);let E=b.runSync(A,N);return i&&(E={type:"element",tagName:"div",properties:{className:i},children:E.type==="root"?E.children:[E]}),PO(E,T),Qie(E,{Fragment:c.Fragment,components:o,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function T(P,M,k){if(P.type==="raw"&&k&&typeof M=="number")return p?k.children.splice(M,1):k.children[M]={type:"text",value:P.value},M;if(P.type==="element"){let R;for(R in by)if(Object.hasOwn(by,R)&&Object.hasOwn(P.properties,R)){const I=P.properties[R],j=by[R];(j===null||j.includes(P.tagName))&&(P.properties[R]=v(String(I||""),R,P))}}if(P.type==="element"){let R=t?!t.includes(P.tagName):l?l.includes(P.tagName):!1;if(!R&&n&&typeof M=="number"&&(R=!n(P,M,k)),R&&k&&typeof M=="number")return m&&P.children?k.children.splice(M,1,...P.children):k.children.splice(M,1),M}}}function zle(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||Lle.test(e.slice(0,t))?e:""}const qle=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(""),[i,o]=C.useState(!1),[l,u]=C.useState([{id:"welcome",role:"assistant",content:"Hello! I can analyze your business data. Ask me about stock levels, today's sales, or party balances."}]),h=C.useRef(null),f=()=>{var v;(v=h.current)==null||v.scrollIntoView({behavior:"smooth"})};C.useEffect(()=>{e&&f()},[l,e]);const p=async v=>{if(v==null||v.preventDefault(),!n.trim()||i)return;const b={id:Date.now().toString(),role:"user",content:n};u(E=>[...E,b]),r(""),o(!0);const N=await Nie(b.content),A={id:(Date.now()+1).toString(),role:"assistant",content:N};u(E=>[...E,A]),o(!1)},m=["How much sales did we do today?","List items with low stock","Who are my top debtors?","Total value of inventory?"];return c.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none font-sans",children:[e&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 w-[350px] sm:w-[380px] h-[500px] flex flex-col mb-4 overflow-hidden pointer-events-auto animate-in fade-in slide-in-from-bottom-4 duration-200",children:[c.jsxs("div",{className:"bg-[#10b981] p-4 flex items-center justify-between text-white shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:c.jsx(sE,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-sm leading-tight",children:"Business Assistant"}),c.jsxs("div",{className:"flex items-center gap-1.5 opacity-90",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-green-300 animate-pulse"}),c.jsx("p",{className:"text-[10px] font-medium",children:"Online"})]})]})]}),c.jsx("button",{onClick:()=>t(!1),className:"p-1.5 hover:bg-white/20 rounded-full transition-colors",children:c.jsx(Xr,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 scroll-smooth",children:[l.map(v=>c.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"flex-row-reverse":"flex-row"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 shadow-sm ${v.role==="user"?"bg-gray-800 text-white":"bg-[#10b981] text-white"}`,children:v.role==="user"?c.jsx(xL,{className:"w-4 h-4"}):c.jsx(Bu,{className:"w-4 h-4"})}),c.jsx("div",{className:`rounded-2xl px-4 py-3 text-sm max-w-[85%] shadow-sm leading-relaxed ${v.role==="user"?"bg-gray-800 text-white rounded-tr-sm":"bg-white text-gray-800 border border-gray-100 rounded-tl-sm markdown-body"}`,children:c.jsx(Ble,{components:{ul:({node:b,...N})=>c.jsx("ul",{className:"list-disc pl-4 my-1 space-y-1",...N}),li:({node:b,...N})=>c.jsx("li",{className:"marker:text-gray-400",...N}),p:({node:b,...N})=>c.jsx("p",{className:"mb-2 last:mb-0",...N}),strong:({node:b,...N})=>c.jsx("span",{className:"font-bold text-[#10b981]",...N})},children:v.content})})]},v.id)),i&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-[#10b981] text-white flex items-center justify-center shrink-0 opacity-50",children:c.jsx(sE,{className:"w-5 h-5"})}),c.jsxs("div",{className:"bg-white border border-gray-100 px-4 py-3 rounded-2xl rounded-tl-sm shadow-sm flex items-center gap-2",children:[c.jsx(Ks,{className:"w-4 h-4 animate-spin text-[#10b981]"}),c.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Analyzing data..."})]})]}),c.jsx("div",{ref:h})]}),l.length<3&&!i&&c.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 flex gap-2 overflow-x-auto scrollbar-hide",children:m.map((v,b)=>c.jsx("button",{onClick:()=>{r(v),p()},className:"whitespace-nowrap px-3 py-1.5 bg-white border border-gray-200 text-gray-600 rounded-full text-xs font-medium hover:border-[#10b981] hover:text-[#10b981] transition-colors shadow-sm",children:v},b))}),c.jsx("div",{className:"p-3 bg-white border-t border-gray-100",children:c.jsxs("form",{onSubmit:p,className:"relative flex items-center gap-2",children:[c.jsx("input",{type:"text",value:n,onChange:v=>r(v.target.value),placeholder:"Ask about inventory, sales...",className:"flex-1 pl-4 pr-10 py-2.5 bg-gray-100 border-transparent rounded-xl text-sm focus:outline-none focus:bg-white focus:ring-2 focus:ring-[#10b981] transition-all placeholder-gray-400 text-gray-800",disabled:i}),c.jsx("button",{type:"submit",disabled:!n.trim()||i,className:"p-2.5 bg-[#10b981] text-white rounded-xl hover:bg-emerald-600 disabled:opacity-50 disabled:hover:bg-[#10b981] transition-all shadow-md shadow-emerald-500/20 active:scale-95",children:c.jsx(eP,{className:"w-4 h-4"})})]})})]}),c.jsxs("button",{onClick:()=>t(!e),className:`group relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-300 pointer-events-auto hover:scale-105 active:scale-95 ${e?"bg-gray-800 rotate-90":"bg-[#10b981] hover:bg-emerald-600 shadow-emerald-500/40"}`,children:[e?c.jsx(xt,{className:"w-6 h-6 text-white"}):c.jsxs(c.Fragment,{children:[c.jsx(Bu,{className:"w-6 h-6 text-white animate-pulse"}),c.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500 border-2 border-white"})]})]}),!e&&c.jsxs("span",{className:"absolute right-full mr-4 top-1/2 -translate-y-1/2 bg-gray-900 text-white text-xs font-bold px-3 py-1.5 rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity shadow-xl translate-x-2 group-hover:translate-x-0",children:["Ask AI Assistant",c.jsx("div",{className:"absolute top-1/2 -right-1 -translate-y-1/2 border-4 border-transparent border-l-gray-900"})]})]})]})},Hle=({onSelect:e})=>{const[t,n]=C.useState([]),[r,i]=C.useState(!0),[o,l]=C.useState(!1),[u,h]=C.useState(""),[f,p]=C.useState(!1),[m,v]=C.useState(null);C.useEffect(()=>{b()},[]);const b=async()=>{try{const E=await pe.getCompanies();n(E)}catch(E){console.error("Failed to load companies",E)}finally{i(!1)}},N=async E=>{try{v(E),await pe.switchCompany(E),e()}catch(T){console.error("Failed to switch company",T),v(null)}},A=async E=>{if(E.preventDefault(),!!u.trim()){p(!0);try{const T=await pe.createCompany(u);await N(T.id)}catch(T){console.error("Failed to create company",T),p(!1)}}};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:c.jsx(Ks,{className:"w-8 h-8 animate-spin text-brand-500"})}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:c.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700",children:[c.jsxs("div",{className:"bg-brand-500 p-8 text-center text-white",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm",children:c.jsx(bh,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Welcome to AA Pro"}),c.jsx("p",{className:"text-brand-100 text-sm",children:"Select a company to manage"})]}),c.jsx("div",{className:"p-6",children:o?c.jsxs("form",{onSubmit:A,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),c.jsx("input",{autoFocus:!0,type:"text",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-brand-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g. My Business Pvt Ltd",value:u,onChange:E=>h(E.target.value)})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:f||!u.trim(),className:"flex-1 py-3 bg-brand-500 text-white rounded-xl font-medium hover:bg-brand-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:f?c.jsx(Ks,{className:"w-5 h-5 animate-spin"}):"Create Company"})]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-1",children:t.map(E=>c.jsx("button",{onClick:()=>N(E.id),disabled:m!==null,className:"w-full text-left p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-brand-500 dark:hover:border-brand-500 hover:shadow-md transition-all group bg-white dark:bg-gray-800 disabled:opacity-50 disabled:cursor-wait",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-gray-900 dark:text-white group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors",children:E.name}),c.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["ID: ",E.id.substring(0,8)]})]}),m===E.id?c.jsx(Ks,{className:"w-5 h-5 text-brand-500 animate-spin"}):c.jsx(wf,{className:"w-5 h-5 text-gray-300 group-hover:text-brand-500 transition-colors"})]})},E.id))}),c.jsxs("button",{onClick:()=>l(!0),disabled:m!==null,className:"w-full py-3 border-2 border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 rounded-xl font-medium hover:border-brand-500 hover:text-brand-500 dark:hover:text-brand-400 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[c.jsx(ei,{className:"w-5 h-5"}),"Create New Company"]})]})})]})})},Fle={PENDING:"bg-yellow-50 text-yellow-700 border-yellow-200",IN_PROGRESS:"bg-blue-50 text-blue-700 border-blue-200",COMPLETED:"bg-emerald-50 text-emerald-700 border-emerald-200",DELIVERED:"bg-gray-100 text-gray-700 border-gray-200",CANCELLED:"bg-red-50 text-red-700 border-red-200"},Gle=()=>{const[e,t]=C.useState([]),[n,r]=C.useState([]),[i,o]=C.useState("ALL"),[l,u]=C.useState(""),[h,f]=C.useState(!1),[p,m]=C.useState({}),[v,b]=C.useState(!1),[N,A]=C.useState(null),{addToast:E}=zr();C.useEffect(()=>{T()},[]),C.useEffect(()=>{P()},[e,i,l]);const T=()=>{t(pe.getServiceJobs())},P=()=>{let j=e;if(i!=="ALL"&&(j=j.filter(G=>G.status===i)),l){const G=l.toLowerCase();j=j.filter(U=>U.ticketNumber.toLowerCase().includes(G)||U.customerName.toLowerCase().includes(G)||U.customerPhone.includes(G)||U.deviceModel&&U.deviceModel.toLowerCase().includes(G))}r(j.sort((G,U)=>new Date(U.date).getTime()-new Date(G.date).getTime()))},M=()=>{const j=`JOB-${new Date().getFullYear()}-${(e.length+1).toString().padStart(4,"0")}`;m({ticketNumber:j,date:new Date().toISOString(),status:"PENDING",customerName:"",customerPhone:"",deviceModel:"",devicePassword:"",problemDescription:"",estimatedCost:0,advanceAmount:0,laborCharge:0,usedParts:[],finalAmount:0}),b(!1),f(!0)},k=j=>{m({...j}),b(!0),f(!0)},R=j=>{window.confirm("Are you sure you want to delete this job record?")&&(pe.deleteServiceJob(j),T(),E("Job deleted successfully","success"))},I=j=>{try{v?(pe.updateServiceJob(j),E("Job updated successfully","success")):(pe.addServiceJob(j),E("New Job Created","success")),f(!1),T()}catch(G){console.error(G),E("Failed to save job","error")}};return c.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto h-full flex flex-col",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(Ef,{className:"w-6 h-6 text-brand-500"}),"Service Center"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage repairs, job sheets, and billing"})]}),c.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-medium",children:[c.jsx(ei,{className:"w-4 h-4"}),"Create New Job"]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-600 text-xs font-bold uppercase mb-1",children:[c.jsx(Jk,{className:"w-3 h-3"})," Pending"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.status==="PENDING").length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-600 text-xs font-bold uppercase mb-1",children:[c.jsx(Ef,{className:"w-3 h-3"})," In Progress"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.status==="IN_PROGRESS").length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-emerald-600 text-xs font-bold uppercase mb-1",children:[c.jsx(Sh,{className:"w-3 h-3"})," Completed"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.status==="COMPLETED").length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600 text-xs font-bold uppercase mb-1",children:[c.jsx(t6,{className:"w-3 h-3"})," Delivered"]}),c.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.filter(j=>j.status==="DELIVERED").length})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-lg px-3 py-2 flex-1 max-w-md shadow-sm",children:[c.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search Ticket, Phone or Model...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:l,onChange:j=>u(j.target.value)})]}),c.jsx("div",{className:"flex overflow-x-auto pb-1 gap-2 scrollbar-hide",children:["ALL","PENDING","IN_PROGRESS","COMPLETED","DELIVERED","CANCELLED"].map(j=>c.jsx("button",{onClick:()=>o(j),className:`px-4 py-2 rounded-lg text-xs font-bold whitespace-nowrap transition-colors ${i===j?"bg-gray-800 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:j.replace("_"," ")},j))})]}),c.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm flex flex-col",children:c.jsx("div",{className:"overflow-x-auto flex-1",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3",children:"Ticket"}),c.jsx("th",{className:"px-6 py-3",children:"Date"}),c.jsx("th",{className:"px-6 py-3",children:"Customer Info"}),c.jsx("th",{className:"px-6 py-3",children:"Device & Issue"}),c.jsx("th",{className:"px-6 py-3",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-right",children:"Est. Cost"}),c.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.map(j=>c.jsxs("tr",{className:"hover:bg-gray-50 group",children:[c.jsx("td",{className:"px-6 py-4 font-mono font-medium text-gray-900",children:j.ticketNumber}),c.jsx("td",{className:"px-6 py-4 text-gray-500",children:Mt(j.date)}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-bold text-gray-800",children:j.customerName}),c.jsx("div",{className:"text-xs text-gray-500",children:j.customerPhone})]}),c.jsxs("td",{className:"px-6 py-4 max-w-xs",children:[c.jsx("div",{className:"font-medium text-gray-800",children:j.deviceModel||"N/A"}),c.jsx("div",{className:"text-xs text-gray-500 truncate",title:j.problemDescription,children:j.problemDescription})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${Fle[j.status]}`,children:j.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 text-right font-medium text-gray-900",children:ne(j.estimatedCost)}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>k(j),className:"p-1.5 text-gray-500 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-colors",title:"Edit Job",children:c.jsx(EL,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>A(j),className:"p-1.5 text-gray-500 hover:bg-gray-100 hover:text-gray-900 rounded-lg transition-colors",title:"Print Receipt",children:c.jsx(Un,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>R(j.id),className:"p-1.5 text-gray-500 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",title:"Delete",children:c.jsx(ia,{className:"w-4 h-4"})})]})})]},j.id)),n.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:7,className:"text-center py-12 text-gray-400",children:"No jobs found matching your criteria."})})]})]})})}),h&&c.jsx(Vle,{jobData:p,isEdit:v,onClose:()=>f(!1),onSave:I}),N&&c.jsx($le,{job:N,onClose:()=>A(null)})]})},Vle=({jobData:e,isEdit:t,onClose:n,onSave:r})=>{var j,G,U;const[i,o]=C.useState(e),[l,u]=C.useState([]),[h,f]=C.useState(""),[p,m]=C.useState(!1),{addToast:v}=zr();C.useEffect(()=>{u(pe.getProducts())},[]);const b=((j=i.usedParts)==null?void 0:j.reduce((D,O)=>D+O.amount,0))||0,N=Number(i.laborCharge)||0,A=Number(i.advanceAmount)||0,E=b+N,T=E-A,P=D=>{const O=i.usedParts||[],$=O.find(V=>V.productId===D.id);let F;$?F=O.map(V=>V.productId===D.id?{...V,quantity:Math.floor(V.quantity+1),amount:Math.floor(V.quantity+1)*V.rate-(V.discount||0)}:V):F=[...O,{productId:D.id,productName:D.name,quantity:1,rate:D.salePrice,discount:0,amount:D.salePrice,unit:D.unit}],o({...i,usedParts:F}),f(""),m(!1)},M=(D,O,$)=>{const F=[...i.usedParts||[]],V={...F[D]};O==="quantity"?$=Math.max(1,parseInt($)||1):V[O]=$,V[O]=$;const z=Number(V.quantity)||0,B=Number(V.rate)||0,K=Number(V.discount)||0;V.amount=z*B-K,F[D]=V,o({...i,usedParts:F})},k=D=>{const O=[...i.usedParts||[]];O.splice(D,1),o({...i,usedParts:O})},R=D=>{if(D.preventDefault(),!i.customerName){v("Please fill Customer Name","error");return}const O={id:i.id||Date.now().toString(),ticketNumber:i.ticketNumber||`JOB-${Date.now()}`,date:i.date||new Date().toISOString(),customerId:i.customerId,customerName:i.customerName,customerPhone:i.customerPhone||"",customerAddress:i.customerAddress||"",deviceModel:i.deviceModel||"",deviceImei:i.deviceImei||"",devicePassword:i.devicePassword||"",problemDescription:i.problemDescription||"",status:i.status||"PENDING",estimatedDelivery:i.estimatedDelivery,estimatedCost:Number(i.estimatedCost)||0,advanceAmount:Number(i.advanceAmount)||0,technicianNotes:i.technicianNotes||"",usedParts:i.usedParts||[],laborCharge:Number(i.laborCharge)||0,finalAmount:E};r(O)},I=l.filter(D=>D.name.toLowerCase().includes(h.toLowerCase())).slice(0,10);return c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl w-full max-w-5xl shadow-2xl flex flex-col max-h-[90vh]",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900",children:t?"Update Job Card":"Create New Job"}),c.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["Ticket: ",i.ticketNumber]})]}),c.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-200 rounded-full text-gray-500",children:c.jsx(xt,{className:"w-5 h-5"})})]}),c.jsx("form",{id:"job-form",onSubmit:R,className:"flex-1 overflow-y-auto p-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[c.jsxs("div",{className:"lg:col-span-4 space-y-4",children:[c.jsxs("h3",{className:"font-bold text-gray-800 border-b pb-2 mb-3 flex items-center gap-2",children:[c.jsx(a6,{className:"w-4 h-4"})," Customer Info"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:["Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",value:i.customerName,onChange:D=>o({...i,customerName:D.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Phone"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",value:i.customerPhone,onChange:D=>o({...i,customerPhone:D.target.value})})]}),c.jsxs("h3",{className:"font-bold text-gray-800 border-b pb-2 mb-3 mt-6 flex items-center gap-2",children:[c.jsx(GL,{className:"w-4 h-4"})," Device Details"]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Model Name"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"e.g. iPhone 15",value:i.deviceModel,onChange:D=>o({...i,deviceModel:D.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"IMEI / Serial"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",value:i.deviceImei,onChange:D=>o({...i,deviceImei:D.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Password"}),c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"e.g. 1234",value:i.devicePassword,onChange:D=>o({...i,devicePassword:D.target.value})})]})]}),c.jsxs("div",{className:"pt-4",children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Problem Description"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500 min-h-[60px]",value:i.problemDescription,onChange:D=>o({...i,problemDescription:D.target.value})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Intake Date"}),c.jsx(Wt,{value:i.date||"",onChange:D=>o({...i,date:D})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Est. Delivery"}),c.jsx(Wt,{value:i.estimatedDelivery||"",onChange:D=>o({...i,estimatedDelivery:D})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Current Status"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500 bg-white",value:i.status,onChange:D=>o({...i,status:D.target.value}),children:[c.jsx("option",{value:"PENDING",children:"Pending"}),c.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),c.jsx("option",{value:"COMPLETED",children:"Completed"}),c.jsx("option",{value:"DELIVERED",children:"Delivered"}),c.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]})]}),c.jsx("div",{className:"lg:col-span-8 flex flex-col",children:c.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 flex flex-col h-full",children:[c.jsxs("h3",{className:"font-bold text-gray-800 border-b pb-2 mb-4 flex justify-between items-center",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(nx,{className:"w-4 h-4"})," Spare Parts & Billing"]}),c.jsxs("span",{className:"text-xs text-brand-600",children:["Total Parts: ",ne(b)]})]}),c.jsxs("div",{className:"relative mb-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2.5 pl-9 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Search products to add as spare parts...",value:h,onChange:D=>{f(D.target.value),m(!0)},onFocus:()=>m(!0)}),c.jsx(Dt,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"})]}),p&&h&&c.jsxs("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 mt-1 max-h-60 overflow-y-auto",children:[I.map(D=>c.jsxs("div",{className:"p-3 text-sm hover:bg-gray-50 cursor-pointer flex justify-between items-center border-b last:border-0",onClick:()=>P(D),children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-gray-800",children:D.name}),c.jsxs("div",{className:"text-[10px] text-gray-500",children:["Stock: ",D.stock," ",D.unit]})]}),c.jsx("span",{className:"font-bold text-brand-600",children:ne(D.salePrice)})]},D.id)),I.length===0&&c.jsx("div",{className:"p-3 text-center text-gray-400 text-xs italic",children:"No items found"})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg flex-1 overflow-hidden flex flex-col min-h-[250px]",children:[c.jsxs("div",{className:"grid grid-cols-[1fr_60px_60px_100px_80px_100px_40px] gap-2 bg-gray-100 px-3 py-2 text-[10px] font-bold text-gray-500 uppercase",children:[c.jsx("div",{children:"Part Name"}),c.jsx("div",{className:"text-center",children:"Qty"}),c.jsx("div",{children:"Unit"}),c.jsx("div",{className:"text-right",children:"Rate"}),c.jsx("div",{className:"text-right",children:"Dis."}),c.jsx("div",{className:"text-right",children:"Amount"}),c.jsx("div",{})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[((G=i.usedParts)==null?void 0:G.length)===0&&c.jsx("div",{className:"text-sm text-center text-gray-400 py-10",children:"No spare parts added yet."}),(U=i.usedParts)==null?void 0:U.map((D,O)=>c.jsxs("div",{className:"grid grid-cols-[1fr_60px_60px_100px_80px_100px_40px] gap-2 items-center text-xs bg-white border border-transparent hover:border-gray-200 p-1.5 rounded transition-all",children:[c.jsx("div",{className:"font-medium text-gray-800 truncate",title:D.productName,children:D.productName}),c.jsx("div",{children:c.jsx("input",{type:"number",min:"1",step:"1",className:"w-full border rounded p-1 text-center",value:D.quantity,onChange:$=>M(O,"quantity",$.target.value)})}),c.jsx("div",{children:c.jsx("input",{className:"w-full border rounded p-1 text-center uppercase text-[10px]",value:D.unit,onChange:$=>M(O,"unit",$.target.value)})}),c.jsx("div",{children:c.jsx("input",{type:"number",className:"w-full border rounded p-1 text-right",value:D.rate,onChange:$=>M(O,"rate",Number($.target.value))})}),c.jsx("div",{children:c.jsx("input",{type:"number",className:"w-full border rounded p-1 text-right",value:D.discount||0,onChange:$=>M(O,"discount",Number($.target.value))})}),c.jsx("div",{className:"text-right font-bold text-gray-700",children:ne(D.amount)}),c.jsx("div",{className:"text-center",children:c.jsx("button",{type:"button",onClick:()=>k(O),className:"text-red-400 hover:text-red-600 p-1",children:c.jsx(ia,{className:"w-3.5 h-3.5"})})})]},O))]})]}),c.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Internal Technician Notes"}),c.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500 min-h-[80px]",placeholder:"Add repair status updates...",value:i.technicianNotes,onChange:D=>o({...i,technicianNotes:D.target.value})})]}),c.jsxs("div",{className:"space-y-2 bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Subtotal Parts:"}),c.jsx("span",{className:"font-medium text-gray-900",children:ne(b)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Labor Charge:"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-[10px]",children:"Rs."}),c.jsx("input",{type:"number",className:"w-24 border border-gray-300 rounded p-1.5 pl-7 text-right text-sm focus:ring-1 focus:ring-brand-500 outline-none font-bold",value:i.laborCharge,onChange:D=>o({...i,laborCharge:Number(D.target.value)})})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t border-dashed",children:[c.jsx("span",{className:"text-gray-500",children:"Service Estimate:"}),c.jsx("input",{type:"number",className:"w-24 border border-gray-300 rounded p-1 text-right text-sm",value:i.estimatedCost,onChange:D=>o({...i,estimatedCost:Number(D.target.value)})})]}),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[c.jsx("span",{className:"font-bold text-gray-800",children:"Grand Total:"}),c.jsx("span",{className:"font-bold text-gray-900 text-lg",children:ne(E)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm text-red-600 font-medium",children:[c.jsx("span",{children:"Advance Paid:"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-red-300 text-[10px]",children:"Rs."}),c.jsx("input",{type:"number",className:"w-24 border border-red-200 bg-red-50/30 rounded p-1.5 pl-7 text-right text-sm focus:ring-1 focus:ring-red-400 outline-none",value:i.advanceAmount,onChange:D=>o({...i,advanceAmount:Number(D.target.value)})})]})]}),c.jsxs("div",{className:"flex justify-between items-center text-base border-t-2 border-brand-500 pt-2 mt-2 bg-brand-50 p-2 rounded",children:[c.jsx("span",{className:"font-bold text-brand-900",children:"Balance Payable:"}),c.jsx("span",{className:"font-black text-brand-700 text-xl",children:ne(T)})]})]})]})]})})]})}),c.jsxs("div",{className:"p-4 border-t border-gray-100 flex justify-between bg-gray-50 rounded-b-xl",children:[c.jsx("div",{className:"text-[10px] text-gray-400 self-center italic",children:"* Parts stock will be updated if status is set to Delivered or Completed."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",form:"job-form",className:"px-8 py-2.5 bg-brand-500 text-white font-bold rounded-lg hover:bg-brand-600 transition-colors shadow-lg shadow-brand-500/20 flex items-center gap-2",children:[c.jsx(cl,{className:"w-4 h-4"})," ",t?"Update Record":"Save Job Card"]})]})]})]})})},$le=({job:e,onClose:t})=>{const n=pe.getBusinessProfile();C.useEffect(()=>{},[]);const r=({title:i})=>c.jsxs("div",{className:"border border-gray-800 p-6 mb-8 bg-white text-black min-h-[400px]",children:[c.jsxs("div",{className:"flex justify-between border-b-2 border-gray-800 pb-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold uppercase",children:n.name}),c.jsx("p",{className:"text-sm",children:n.address}),c.jsx("p",{className:"text-sm",children:n.phone})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h2",{className:"text-xl font-bold uppercase",children:i}),c.jsx("p",{className:"font-mono text-lg font-bold",children:e.ticketNumber}),c.jsxs("p",{className:"text-sm",children:["Date: ",Mt(e.date)]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Customer Details"}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Name:"})," ",e.customerName]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.customerPhone]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Device Details"}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Model:"})," ",e.deviceModel||"N/A"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"IMEI:"})," ",e.deviceImei||"N/A"]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Password:"})," ",e.devicePassword||"N/A"]})]})]}),c.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-4",children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Problem / Issue"}),c.jsx("p",{className:"italic mb-4",children:e.problemDescription}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h3",{className:"font-bold border-b border-gray-400 mb-2 uppercase text-sm",children:"Technician Notes"}),c.jsx("p",{className:"italic min-h-[40px] font-mono text-sm",children:e.technicianNotes||"_________________________________________________"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-auto pt-4",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-bold",children:"Terms & Conditions:"}),c.jsxs("ul",{className:"list-disc pl-4 text-xs",children:[c.jsx("li",{children:"Goods once sold or repaired are not returnable."}),c.jsx("li",{children:"We are not responsible for data loss during repair."}),c.jsx("li",{children:"Device must be collected within 30 days."})]})]}),c.jsxs("div",{className:"text-right space-y-1",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Est. Cost:"})," ",ne(e.estimatedCost)]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"Advance:"})," ",ne(e.advanceAmount)]}),c.jsx("div",{className:"mt-8 pt-4 border-t border-gray-800 inline-block w-32 text-center text-xs",children:"Authorized Signature"})]})]})]});return c.jsxs("div",{className:"fixed inset-0 z-[100] bg-gray-900/80 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 print:hidden",children:[c.jsx("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white p-2 rounded-full shadow hover:bg-blue-700",children:c.jsx(Un,{className:"w-6 h-6"})}),c.jsx("button",{onClick:t,className:"bg-gray-600 text-white p-2 rounded-full shadow hover:bg-gray-700",children:c.jsx(xt,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"bg-white w-[210mm] min-h-[297mm] p-8 overflow-y-auto print:p-0 print:w-full print:h-full print:absolute print:inset-0",children:[c.jsx(r,{title:"Job Sheet (Customer Copy)"}),c.jsx("div",{className:"border-t-2 border-dashed border-gray-400 my-8 relative",children:c.jsx("span",{className:"absolute left-1/2 -top-3 bg-white px-2 text-xs text-gray-500 -translate-x-1/2",children:"Cut Here"})}),c.jsx(r,{title:"Job Sheet (Shop Copy)"})]})]})},Yle=()=>{const[e,t]=C.useState(null),[n,r]=C.useState(!1),{addToast:i}=zr();C.useEffect(()=>{t(pe.getCashDrawer())},[]);const o=(h,f)=>{if(!e)return;const p=e.notes.map(m=>m.denomination===h?{...m,count:Math.max(0,f)}:m);t({...e,notes:p})},l=()=>{e&&(pe.updateCashDrawer({...e,lastUpdated:new Date().toISOString()}),r(!1),i("Cash drawer reconciled successfully","success"))};if(!e)return null;const u=e.notes.reduce((h,f)=>h+f.denomination*f.count,0);return c.jsxs("div",{className:"p-4 lg:p-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[c.jsx(Ir,{className:"w-6 h-6 text-brand-500"}),"Cash Drawer"]}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage physical note counts and reconciliation"})]}),c.jsx("div",{className:"flex gap-2",children:n?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{t(pe.getCashDrawer()),r(!1)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors text-sm font-medium",children:"Cancel"}),c.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-medium",children:[c.jsx(cl,{className:"w-4 h-4"}),"Save Reconciliation"]})]}):c.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors shadow-sm font-medium",children:[c.jsx(Zk,{className:"w-4 h-4"}),"Reconcile Drawer"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm text-center",children:[c.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-wider mb-2",children:"Total Physical Cash"}),c.jsx("p",{className:"text-3xl font-black text-brand-600",children:ne(u)}),c.jsxs("p",{className:"text-[10px] text-gray-400 mt-4 uppercase",children:["Last Updated: ",new Date(e.lastUpdated).toLocaleString()]})]}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 text-sm text-blue-800 flex gap-3",children:[c.jsx(ex,{className:"w-5 h-5 shrink-0 text-blue-600"}),c.jsx("p",{children:'This count represents physical cash inside the register. It should match your "Cash In Hand" account balance.'})]})]}),c.jsxs("div",{className:"md:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[c.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase",children:"Physical Denominations"}),c.jsxs("span",{className:"text-xs text-gray-500",children:[e.notes.filter(h=>h.count>0).length," note types present"]})]}),c.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.notes.map(h=>c.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${h.count>0?"bg-brand-50/30 border-brand-100":"bg-white border-gray-100"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-12 h-8 rounded flex items-center justify-center font-bold text-sm shadow-sm ${h.denomination>=500?"bg-red-100 text-red-700 border border-red-200":h.denomination>=50?"bg-green-100 text-green-700 border border-green-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:h.denomination}),c.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"X"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[n?c.jsx("input",{type:"number",min:"0",className:"w-20 p-2 border border-gray-300 rounded-lg text-center font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:h.count,onChange:f=>o(h.denomination,parseInt(f.target.value)||0)}):c.jsx("span",{className:"text-xl font-black text-gray-800",children:h.count}),c.jsxs("div",{className:"w-24 text-right",children:[c.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Subtotal"}),c.jsx("p",{className:"text-sm font-bold text-gray-700",children:ne(h.denomination*h.count)})]})]})]},h.denomination))})]})]})]})},Kle=({onLoginSuccess:e})=>{const[t,n]=C.useState(""),[r,i]=C.useState(""),[o,l]=C.useState(!1),[u,h]=C.useState(""),f=async p=>{p.preventDefault(),l(!0),h(""),setTimeout(()=>{zu.login(t,r)?e():(h("Invalid email or password. Please try again."),l(!1))},800)};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 font-sans transition-colors duration-200",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-brand-500 rounded-3xl shadow-xl shadow-brand-500/20 mb-6 transform hover:rotate-12 transition-transform duration-300",children:c.jsx(Lo,{className:"w-10 h-10 text-white"})}),c.jsx("h1",{className:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter",children:"AA Pro"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-medium",children:"Business Management & POS System"})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"p-8",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"Sign In"}),c.jsxs("form",{onSubmit:f,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-2 tracking-widest",children:"Email Address"}),c.jsxs("div",{className:"relative group",children:[c.jsx(mL,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-brand-500 transition-colors"}),c.jsx("input",{type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none text-gray-800 dark:text-white font-medium transition-all",placeholder:"name@business.com",value:t,onChange:p=>n(p.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-gray-400 dark:text-gray-500 uppercase mb-2 tracking-widest",children:"Password"}),c.jsxs("div",{className:"relative group",children:[c.jsx(Wk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-brand-500 transition-colors"}),c.jsx("input",{type:"password",required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none text-gray-800 dark:text-white font-medium transition-all",placeholder:"",value:r,onChange:p=>i(p.target.value)})]})]}),u&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 p-3 rounded-xl flex items-center gap-3 text-red-600 dark:text-red-400 text-sm animate-shake",children:[c.jsx(Ys,{className:"w-4 h-4 shrink-0"}),u]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 bg-brand-500 hover:bg-brand-600 text-white rounded-xl font-bold shadow-lg shadow-brand-500/30 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2",children:o?c.jsx(Ks,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(dL,{className:"w-5 h-5"}),"Access Dashboard"]})})]})]}),c.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-4 border-t border-gray-100 dark:border-gray-600 text-center",children:c.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Authorized Personnel Only  IP: 127.0.0.1"})})]}),c.jsx("p",{className:"text-center mt-8 text-gray-400 dark:text-gray-600 text-xs uppercase font-bold tracking-widest",children:"Powered by AA Pro Enterprise"})]})})},Jle=()=>{const[e,t]=C.useState(!1),[n,r]=C.useState(!1),[i,o]=C.useState(!1),[l,u]=C.useState(!1),[h,f]=C.useState("dashboard"),[p,m]=C.useState(null),[v,b]=C.useState(null),[N,A]=C.useState(null),[E,T]=C.useState(null),[P,M]=C.useState(0),[k,R]=C.useState(0),[I,j]=C.useState(0),[G,U]=C.useState(null);C.useEffect(()=>{r(zu.isAuthenticated()),(async()=>{const X=localStorage.getItem("active_company_id");X?(await pe.init(X),pe.getActiveCompanyId()?(o(!0),t(!0)):(localStorage.removeItem("active_company_id"),t(!0))):t(!0)})();const q=()=>M(X=>X+1),Y=()=>{o(!1),f("dashboard")};return window.addEventListener("db-updated",q),window.addEventListener("db-logout",Y),()=>{window.removeEventListener("db-updated",q),window.removeEventListener("db-logout",Y)}},[]),C.useEffect(()=>{const Z=q=>{if(n&&q.altKey)switch(q.key.toLowerCase()){case"s":q.preventDefault(),m("SALE"),A(null);break;case"p":q.preventDefault(),m("PURCHASE"),A(null);break;case"i":q.preventDefault(),b("PAYMENT_IN"),T(null);break;case"o":q.preventDefault(),b("PAYMENT_OUT"),T(null);break;case"c":q.preventDefault(),m("SALE_RETURN"),A(null);break;case"d":q.preventDefault(),m("PURCHASE_RETURN"),A(null);break;case"q":q.preventDefault(),m("QUOTATION"),A(null);break;case"e":q.preventDefault(),b("EXPENSE"),T(null);break;case"m":q.preventDefault(),f("inventory"),R(X=>X+1);break;case"n":q.preventDefault(),f("parties"),j(X=>X+1);break;case"l":q.preventDefault(),f("reports"),U("PARTY_STATEMENT");break}};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[n]);const D=()=>{m(null),A(null),M(Z=>Z+1)},O=()=>{b(null),T(null),M(Z=>Z+1)},$=Z=>{["PAYMENT_IN","PAYMENT_OUT","EXPENSE"].includes(Z.type)?(T(Z),b(Z.type)):(A(Z),m(Z.type))},F=(Z,q)=>{const Y={...Z,type:q,id:"",date:new Date().toISOString()};A(Y),m(q)},V=Z=>{const q={id:"",date:new Date().toISOString(),type:"PURCHASE",partyId:"",partyName:"",items:Z,totalAmount:Z.reduce((Y,X)=>Y+X.amount,0)};A(q),m("PURCHASE")},z=()=>{m(null),A(null)},B=()=>{b(null),T(null)},K=()=>{f("reports"),U("OUT_OF_STOCK")},ie=()=>{switch(h){case"dashboard":return c.jsx(S_,{onNavigate:f});case"parties":return c.jsx(FX,{triggerAdd:I});case"inventory":return c.jsx(GX,{triggerAdd:k,refreshKey:P,onNavigateToRestock:K});case"pricelist":return c.jsx(VX,{});case"service-center":return c.jsx(Gle,{});case"cash-drawer":return c.jsx(Yle,{});case"sales-invoices":return c.jsx(qa,{type:"SALE",onNew:()=>{A(null),m("SALE")},refreshKey:P,onEdit:$},"sales");case"sales-payment-in":return c.jsx(qa,{type:"PAYMENT_IN",onNew:()=>{T(null),b("PAYMENT_IN")},refreshKey:P,onEdit:$},"payment-in");case"sales-quotations":return c.jsx(qa,{type:"QUOTATION",onNew:()=>{A(null),m("QUOTATION")},refreshKey:P,onEdit:$,onConvert:Z=>F(Z,"SALE")},"quotations");case"sales-return":return c.jsx(qa,{type:"SALE_RETURN",onNew:()=>{A(null),m("SALE_RETURN")},refreshKey:P,onEdit:$},"sales-return");case"purchase-bills":return c.jsx(qa,{type:"PURCHASE",onNew:()=>{A(null),m("PURCHASE")},refreshKey:P,onEdit:$},"purchase");case"purchase-payment-out":return c.jsx(qa,{type:"PAYMENT_OUT",onNew:()=>{T(null),b("PAYMENT_OUT")},refreshKey:P,onEdit:$},"payment-out");case"purchase-auto-order":return c.jsx(N_,{targetReport:"OUT_OF_STOCK",onConsumeTarget:()=>U(null),onConvertToPurchase:V});case"purchase-orders":return c.jsx(qa,{type:"PURCHASE_ORDER",onNew:()=>{A(null),m("PURCHASE_ORDER")},refreshKey:P,onEdit:$,onConvert:Z=>F(Z,"PURCHASE")},"purchase-orders");case"purchase-return":return c.jsx(qa,{type:"PURCHASE_RETURN",onNew:()=>{A(null),m("PURCHASE_RETURN")},refreshKey:P,onEdit:$},"purchase-return");case"expense":return c.jsx(eW,{onNew:()=>{T(null),b("EXPENSE")},refreshKey:P,onEdit:$});case"reports":return c.jsx(N_,{targetReport:G,onConsumeTarget:()=>U(null),onConvertToPurchase:V});case"manage-accounts":return c.jsx(uW,{});case"settings":return c.jsx(ZX,{});default:return c.jsx(S_,{onNavigate:f})}};return n?e?i?c.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 overflow-hidden transition-colors duration-200",children:[c.jsx(d6,{isOpen:l,activeTab:h,setActiveTab:f,onClose:()=>u(!1)}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[c.jsx(y6,{onMenuClick:()=>u(!l)}),c.jsx("main",{className:"flex-1 overflow-y-auto",children:ie()}),c.jsx(qle,{})]}),p&&c.jsx(KX,{type:p,initialData:N,onClose:z,onSave:D}),v&&c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:[(v==="PAYMENT_IN"||v==="PAYMENT_OUT")&&c.jsx(JX,{type:v,initialData:E,onClose:B,onSave:O}),v==="EXPENSE"&&c.jsx(nW,{initialData:E,onClose:B,onSave:O})]})]},P):c.jsx(Hle,{onSelect:()=>o(!0)}):c.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50 dark:bg-gray-900",children:c.jsx(Ks,{className:"w-10 h-10 animate-spin text-brand-500"})}):c.jsx(Kle,{onLoginSuccess:()=>r(!0)})},jO=document.getElementById("root");if(!jO)throw new Error("Could not find root element to mount to");const Xle=r3.createRoot(jO);Xle.render(c.jsx(Fk.StrictMode,{children:c.jsx(m6,{children:c.jsx(HX,{children:c.jsx(Jle,{})})})}));
