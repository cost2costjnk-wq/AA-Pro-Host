var J7=Object.defineProperty;var X7=(e,t,n)=>t in e?J7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var s1=(e,t,n)=>X7(e,typeof t!="symbol"?t+"":t,n);function Q7(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Z7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ns(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var l1={exports:{}},Rp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p4;function t9(){if(p4)return Rp;p4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Rp.Fragment=t,Rp.jsx=n,Rp.jsxs=n,Rp}var m4;function n9(){return m4||(m4=1,l1.exports=t9()),l1.exports}var d=n9(),c1={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g4;function r9(){if(g4)return Zt;g4=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function g(ie){return ie===null||typeof ie!="object"?null:(ie=y&&ie[y]||ie["@@iterator"],typeof ie=="function"?ie:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function _(ie,V,H){this.props=ie,this.context=V,this.refs=A,this.updater=H||w}_.prototype.isReactComponent={},_.prototype.setState=function(ie,V){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,V,"setState")},_.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function k(){}k.prototype=_.prototype;function P(ie,V,H){this.props=ie,this.context=V,this.refs=A,this.updater=H||w}var M=P.prototype=new k;M.constructor=P,N(M,_.prototype),M.isPureReactComponent=!0;var B=Array.isArray;function U(){}var D={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function q(ie,V,H){var re=H.ref;return{$$typeof:e,type:ie,key:V,ref:re!==void 0?re:null,props:H}}function G(ie,V){return q(ie.type,V,ie.props)}function R(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===e}function O(ie){var V={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(H){return V[H]})}var K=/\/+/g;function $(ie,V){return typeof ie=="object"&&ie!==null&&ie.key!=null?O(""+ie.key):V.toString(36)}function ne(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(U,U):(ie.status="pending",ie.then(function(V){ie.status==="pending"&&(ie.status="fulfilled",ie.value=V)},function(V){ie.status==="pending"&&(ie.status="rejected",ie.reason=V)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function z(ie,V,H,re,de){var fe=typeof ie;(fe==="undefined"||fe==="boolean")&&(ie=null);var pe=!1;if(ie===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(ie.$$typeof){case e:case t:pe=!0;break;case h:return pe=ie._init,z(pe(ie._payload),V,H,re,de)}}if(pe)return de=de(ie),pe=re===""?"."+$(ie,0):re,B(de)?(H="",pe!=null&&(H=pe.replace(K,"$&/")+"/"),z(de,V,H,"",function(me){return me})):de!=null&&(R(de)&&(de=G(de,H+(de.key==null||ie&&ie.key===de.key?"":(""+de.key).replace(K,"$&/")+"/")+pe)),V.push(de)),1;pe=0;var he=re===""?".":re+":";if(B(ie))for(var te=0;te<ie.length;te++)re=ie[te],fe=he+$(re,te),pe+=z(re,V,H,fe,de);else if(te=g(ie),typeof te=="function")for(ie=te.call(ie),te=0;!(re=ie.next()).done;)re=re.value,fe=he+$(re,te++),pe+=z(re,V,H,fe,de);else if(fe==="object"){if(typeof ie.then=="function")return z(ne(ie),V,H,re,de);throw V=String(ie),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return pe}function Y(ie,V,H){if(ie==null)return ie;var re=[],de=0;return z(ie,re,"","",function(fe){return V.call(H,fe,de++)}),re}function ee(ie){if(ie._status===-1){var V=ie._result;V=V(),V.then(function(H){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=H)},function(H){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=H)}),ie._status===-1&&(ie._status=0,ie._result=V)}if(ie._status===1)return ie._result.default;throw ie._result}var se=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)},X={map:Y,forEach:function(ie,V,H){Y(ie,function(){V.apply(this,arguments)},H)},count:function(ie){var V=0;return Y(ie,function(){V++}),V},toArray:function(ie){return Y(ie,function(V){return V})||[]},only:function(ie){if(!R(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}};return Zt.Activity=p,Zt.Children=X,Zt.Component=_,Zt.Fragment=n,Zt.Profiler=i,Zt.PureComponent=P,Zt.StrictMode=r,Zt.Suspense=u,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return D.H.useMemoCache(ie)}},Zt.cache=function(ie){return function(){return ie.apply(null,arguments)}},Zt.cacheSignal=function(){return null},Zt.cloneElement=function(ie,V,H){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var re=N({},ie.props),de=ie.key;if(V!=null)for(fe in V.key!==void 0&&(de=""+V.key),V)!F.call(V,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&V.ref===void 0||(re[fe]=V[fe]);var fe=arguments.length-2;if(fe===1)re.children=H;else if(1<fe){for(var pe=Array(fe),he=0;he<fe;he++)pe[he]=arguments[he+2];re.children=pe}return q(ie.type,de,re)},Zt.createContext=function(ie){return ie={$$typeof:o,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:a,_context:ie},ie},Zt.createElement=function(ie,V,H){var re,de={},fe=null;if(V!=null)for(re in V.key!==void 0&&(fe=""+V.key),V)F.call(V,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=V[re]);var pe=arguments.length-2;if(pe===1)de.children=H;else if(1<pe){for(var he=Array(pe),te=0;te<pe;te++)he[te]=arguments[te+2];de.children=he}if(ie&&ie.defaultProps)for(re in pe=ie.defaultProps,pe)de[re]===void 0&&(de[re]=pe[re]);return q(ie,fe,de)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(ie){return{$$typeof:l,render:ie}},Zt.isValidElement=R,Zt.lazy=function(ie){return{$$typeof:h,_payload:{_status:-1,_result:ie},_init:ee}},Zt.memo=function(ie,V){return{$$typeof:f,type:ie,compare:V===void 0?null:V}},Zt.startTransition=function(ie){var V=D.T,H={};D.T=H;try{var re=ie(),de=D.S;de!==null&&de(H,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(U,se)}catch(fe){se(fe)}finally{V!==null&&H.types!==null&&(V.types=H.types),D.T=V}},Zt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Zt.use=function(ie){return D.H.use(ie)},Zt.useActionState=function(ie,V,H){return D.H.useActionState(ie,V,H)},Zt.useCallback=function(ie,V){return D.H.useCallback(ie,V)},Zt.useContext=function(ie){return D.H.useContext(ie)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(ie,V){return D.H.useDeferredValue(ie,V)},Zt.useEffect=function(ie,V){return D.H.useEffect(ie,V)},Zt.useEffectEvent=function(ie){return D.H.useEffectEvent(ie)},Zt.useId=function(){return D.H.useId()},Zt.useImperativeHandle=function(ie,V,H){return D.H.useImperativeHandle(ie,V,H)},Zt.useInsertionEffect=function(ie,V){return D.H.useInsertionEffect(ie,V)},Zt.useLayoutEffect=function(ie,V){return D.H.useLayoutEffect(ie,V)},Zt.useMemo=function(ie,V){return D.H.useMemo(ie,V)},Zt.useOptimistic=function(ie,V){return D.H.useOptimistic(ie,V)},Zt.useReducer=function(ie,V,H){return D.H.useReducer(ie,V,H)},Zt.useRef=function(ie){return D.H.useRef(ie)},Zt.useState=function(ie){return D.H.useState(ie)},Zt.useSyncExternalStore=function(ie,V,H){return D.H.useSyncExternalStore(ie,V,H)},Zt.useTransition=function(){return D.H.useTransition()},Zt.version="19.2.3",Zt}var y4;function Rh(){return y4||(y4=1,c1.exports=r9()),c1.exports}var j=Rh();const hj=ns(j),i9=Q7({__proto__:null,default:hj},[j]);var u1={exports:{}},Lp={},d1={exports:{}},f1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v4;function a9(){return v4||(v4=1,(function(e){function t(z,Y){var ee=z.length;z.push(Y);e:for(;0<ee;){var se=ee-1>>>1,X=z[se];if(0<i(X,Y))z[se]=Y,z[ee]=X,ee=se;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],ee=z.pop();if(ee!==Y){z[0]=ee;e:for(var se=0,X=z.length,ie=X>>>1;se<ie;){var V=2*(se+1)-1,H=z[V],re=V+1,de=z[re];if(0>i(H,ee))re<X&&0>i(de,H)?(z[se]=de,z[re]=ee,se=re):(z[se]=H,z[V]=ee,se=V);else if(re<X&&0>i(de,ee))z[se]=de,z[re]=ee,se=re;else break e}}return Y}function i(z,Y){var ee=z.sortIndex-Y.sortIndex;return ee!==0?ee:z.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,y=3,g=!1,w=!1,N=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=z)r(f),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(f)}}function B(z){if(N=!1,M(z),!w)if(n(u)!==null)w=!0,U||(U=!0,O());else{var Y=n(f);Y!==null&&ne(B,Y.startTime-z)}}var U=!1,D=-1,F=5,q=-1;function G(){return A?!0:!(e.unstable_now()-q<F)}function R(){if(A=!1,U){var z=e.unstable_now();q=z;var Y=!0;try{e:{w=!1,N&&(N=!1,k(D),D=-1),g=!0;var ee=y;try{t:{for(M(z),p=n(u);p!==null&&!(p.expirationTime>z&&G());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var X=se(p.expirationTime<=z);if(z=e.unstable_now(),typeof X=="function"){p.callback=X,M(z),Y=!0;break t}p===n(u)&&r(u),M(z)}else r(u);p=n(u)}if(p!==null)Y=!0;else{var ie=n(f);ie!==null&&ne(B,ie.startTime-z),Y=!1}}break e}finally{p=null,y=ee,g=!1}Y=void 0}}finally{Y?O():U=!1}}}var O;if(typeof P=="function")O=function(){P(R)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,$=K.port2;K.port1.onmessage=R,O=function(){$.postMessage(null)}}else O=function(){_(R,0)};function ne(z,Y){D=_(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(z){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var ee=y;y=Y;try{return z()}finally{y=ee}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=y;y=z;try{return Y()}finally{y=ee}},e.unstable_scheduleCallback=function(z,Y,ee){var se=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?se+ee:se):ee=se,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ee+X,z={id:h++,callback:Y,priorityLevel:z,startTime:ee,expirationTime:X,sortIndex:-1},ee>se?(z.sortIndex=ee,t(f,z),n(u)===null&&z===n(f)&&(N?(k(D),D=-1):N=!0,ne(B,ee-se))):(z.sortIndex=X,t(u,z),w||g||(w=!0,U||(U=!0,O()))),z},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(z){var Y=y;return function(){var ee=y;y=Y;try{return z.apply(this,arguments)}finally{y=ee}}}})(f1)),f1}var x4;function o9(){return x4||(x4=1,d1.exports=a9()),d1.exports}var h1={exports:{}},na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b4;function s9(){if(b4)return na;b4=1;var e=Rh();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,na.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,h)},na.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},na.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},na.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},na.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:g}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},na.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},na.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},na.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},na.requestFormReset=function(u){r.d.r(u)},na.unstable_batchedUpdates=function(u,f){return u(f)},na.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},na.useFormStatus=function(){return o.H.useHostTransitionStatus()},na.version="19.2.3",na}var w4;function pj(){if(w4)return h1.exports;w4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),h1.exports=s9(),h1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4;function l9(){if(N4)return Lp;N4=1;var e=o9(),t=Rh(),n=pj();function r(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,m=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(m=c.return),s=c.return;while(s)}return c.tag===3?m:null}function o(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function l(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function u(s){if(a(s)!==s)throw Error(r(188))}function f(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(r(188));return c!==s?null:s}for(var m=s,v=c;;){var C=m.return;if(C===null)break;var T=C.alternate;if(T===null){if(v=C.return,v!==null){m=v;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===m)return u(C),s;if(T===v)return u(C),c;T=T.sibling}throw Error(r(188))}if(m.return!==v.return)m=C,v=T;else{for(var J=!1,ce=C.child;ce;){if(ce===m){J=!0,m=C,v=T;break}if(ce===v){J=!0,v=C,m=T;break}ce=ce.sibling}if(!J){for(ce=T.child;ce;){if(ce===m){J=!0,m=T,v=C;break}if(ce===v){J=!0,v=T,m=C;break}ce=ce.sibling}if(!J)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:c}function h(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=h(s),c!==null)return c;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),P=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=R&&s[R]||s["@@iterator"],typeof s=="function"?s:null)}var K=Symbol.for("react.client.reference");function $(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===K?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case U:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case P:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case M:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return c=s.displayName||null,c!==null?c:$(s.type)||"Memo";case F:c=s._payload,s=s._init;try{return $(s(c))}catch{}}return null}var ne=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},se=[],X=-1;function ie(s){return{current:s}}function V(s){0>X||(s.current=se[X],se[X]=null,X--)}function H(s,c){X++,se[X]=s.current,s.current=c}var re=ie(null),de=ie(null),fe=ie(null),pe=ie(null);function he(s,c){switch(H(fe,c),H(de,s),H(re,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?O_(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=O_(c),s=B_(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(re),H(re,s)}function te(){V(re),V(de),V(fe)}function me(s){s.memoizedState!==null&&H(pe,s);var c=re.current,m=B_(c,s.type);c!==m&&(H(de,s),H(re,m))}function xe(s){de.current===s&&(V(re),V(de)),pe.current===s&&(V(pe),jp._currentValue=ee)}var we,Ue;function Ye(s){if(we===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);we=c&&c[1]||"",Ue=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+s+Ue}var Pe=!1;function ge(s,c){if(!s||Pe)return"";Pe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(He){var Oe=He}Reflect.construct(s,[],et)}else{try{et.call()}catch(He){Oe=He}s.call(et.prototype)}}else{try{throw Error()}catch(He){Oe=He}(et=s())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(He){if(He&&Oe&&typeof He.stack=="string")return[He.stack,Oe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=v.DetermineComponentFrameRoot(),J=T[0],ce=T[1];if(J&&ce){var be=J.split(`
`),Le=ce.split(`
`);for(C=v=0;v<be.length&&!be[v].includes("DetermineComponentFrameRoot");)v++;for(;C<Le.length&&!Le[C].includes("DetermineComponentFrameRoot");)C++;if(v===be.length||C===Le.length)for(v=be.length-1,C=Le.length-1;1<=v&&0<=C&&be[v]!==Le[C];)C--;for(;1<=v&&0<=C;v--,C--)if(be[v]!==Le[C]){if(v!==1||C!==1)do if(v--,C--,0>C||be[v]!==Le[C]){var We=`
`+be[v].replace(" at new "," at ");return s.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",s.displayName)),We}while(1<=v&&0<=C);break}}}finally{Pe=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Ye(m):""}function mt(s,c){switch(s.tag){case 26:case 27:case 5:return Ye(s.type);case 16:return Ye("Lazy");case 13:return s.child!==c&&c!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return ge(s.type,!1);case 11:return ge(s.type.render,!1);case 1:return ge(s.type,!0);case 31:return Ye("Activity");default:return""}}function ot(s){try{var c="",m=null;do c+=mt(s,m),m=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var tt=Object.prototype.hasOwnProperty,it=e.unstable_scheduleCallback,ct=e.unstable_cancelCallback,ut=e.unstable_shouldYield,kt=e.unstable_requestPaint,Nt=e.unstable_now,Ot=e.unstable_getCurrentPriorityLevel,De=e.unstable_ImmediatePriority,Qe=e.unstable_UserBlockingPriority,ht=e.unstable_NormalPriority,dt=e.unstable_LowPriority,vt=e.unstable_IdlePriority,lt=e.log,Bn=e.unstable_setDisableYieldValue,qt=null,vn=null;function Kt(s){if(typeof lt=="function"&&Bn(s),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(qt,s)}catch{}}var Dt=Math.clz32?Math.clz32:as,dr=Math.log,Wt=Math.LN2;function as(s){return s>>>=0,s===0?32:31-(dr(s)/Wt|0)|0}var Pn=256,Gn=262144,Yi=4194304;function gn(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ut(s,c,m){var v=s.pendingLanes;if(v===0)return 0;var C=0,T=s.suspendedLanes,J=s.pingedLanes;s=s.warmLanes;var ce=v&134217727;return ce!==0?(v=ce&~T,v!==0?C=gn(v):(J&=ce,J!==0?C=gn(J):m||(m=ce&~s,m!==0&&(C=gn(m))))):(ce=v&~T,ce!==0?C=gn(ce):J!==0?C=gn(J):m||(m=v&~s,m!==0&&(C=gn(m)))),C===0?0:c!==0&&c!==C&&(c&T)===0&&(T=C&-C,m=c&-c,T>=m||T===32&&(m&4194048)!==0)?c:C}function nn(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function ro(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tr(){var s=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),s}function Fr(s){for(var c=[],m=0;31>m;m++)c.push(s);return c}function Pr(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function It(s,c,m,v,C,T){var J=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var ce=s.entanglements,be=s.expirationTimes,Le=s.hiddenUpdates;for(m=J&~m;0<m;){var We=31-Dt(m),et=1<<We;ce[We]=0,be[We]=-1;var Oe=Le[We];if(Oe!==null)for(Le[We]=null,We=0;We<Oe.length;We++){var He=Oe[We];He!==null&&(He.lane&=-536870913)}m&=~et}v!==0&&Ki(s,v,0),T!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=T&~(J&~c))}function Ki(s,c,m){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-Dt(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|m&261930}function Mi(s,c){var m=s.entangledLanes|=c;for(s=s.entanglements;m;){var v=31-Dt(m),C=1<<v;C&c|s[v]&c&&(s[v]|=c),m&=~C}}function jr(s,c){var m=c&-c;return m=(m&42)!==0?1:_e(m),(m&(s.suspendedLanes|c))!==0?0:m}function _e(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ze(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $e(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:s4(s.type))}function St(s,c){var m=Y.p;try{return Y.p=s,c()}finally{Y.p=m}}var xt=Math.random().toString(36).slice(2),yt="__reactFiber$"+xt,tn="__reactProps$"+xt,ii="__reactContainer$"+xt,Qt="__reactEvents$"+xt,fr="__reactListeners$"+xt,ir="__reactHandles$"+xt,Ji="__reactResources$"+xt,ko="__reactMarker$"+xt;function Us(s){delete s[yt],delete s[tn],delete s[Qt],delete s[fr],delete s[ir]}function io(s){var c=s[yt];if(c)return c;for(var m=s.parentNode;m;){if(c=m[ii]||m[yt]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(s=G_(s);s!==null;){if(m=s[yt])return m;s=G_(s)}return c}s=m,m=s.parentNode}return null}function ao(s){if(s=s[yt]||s[ii]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Fs(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(r(33))}function zs(s){var c=s[Ji];return c||(c=s[Ji]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ir(s){s[ko]=!0}var Pl=new Set,Vu={};function os(s,c){To(s,c),To(s+"Capture",c)}function To(s,c){for(Vu[s]=c,s=0;s<c.length;s++)Pl.add(c[s])}var Qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},rf={};function Dc(s){return tt.call(rf,s)?!0:tt.call(Gu,s)?!1:Qh.test(s)?rf[s]=!0:(Gu[s]=!0,!1)}function Rc(s,c,m){if(Dc(c))if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+m)}}function Xn(s,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+m)}}function Ea(s,c,m,v){if(v===null)s.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(c,m,""+v)}}function Di(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function $u(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Wu(s,c,m){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var C=v.get,T=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(J){m=""+J,T.call(this,J)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(J){m=""+J},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Yu(s){if(!s._valueTracker){var c=$u(s)?"checked":"value";s._valueTracker=Wu(s,c,""+s[c])}}function ka(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return s&&(v=$u(s)?s.checked?"true":"false":s.value),s=v,s!==m?(c.setValue(s),!0):!1}function ss(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Xi=/[\n"\\]/g;function vi(s){return s.replace(Xi,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Lc(s,c,m,v,C,T,J,ce){s.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.type=J:s.removeAttribute("type"),c!=null?J==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Di(c)):s.value!==""+Di(c)&&(s.value=""+Di(c)):J!=="submit"&&J!=="reset"||s.removeAttribute("value"),c!=null?Oc(s,J,Di(c)):m!=null?Oc(s,J,Di(m)):v!=null&&s.removeAttribute("value"),C==null&&T!=null&&(s.defaultChecked=!!T),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?s.name=""+Di(ce):s.removeAttribute("name")}function af(s,c,m,v,C,T,J,ce){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),c!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){Yu(s);return}m=m!=null?""+Di(m):"",c=c!=null?""+Di(c):m,ce||c===s.value||(s.value=c),s.defaultValue=c}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=ce?s.checked:!!v,s.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(s.name=J),Yu(s)}function Oc(s,c,m){c==="number"&&ss(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function qs(s,c,m,v){if(s=s.options,c){c={};for(var C=0;C<m.length;C++)c["$"+m[C]]=!0;for(m=0;m<s.length;m++)C=c.hasOwnProperty("$"+s[m].value),s[m].selected!==C&&(s[m].selected=C),C&&v&&(s[m].defaultSelected=!0)}else{for(m=""+Di(m),c=null,C=0;C<s.length;C++){if(s[C].value===m){s[C].selected=!0,v&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function Ku(s,c,m){if(c!=null&&(c=""+Di(c),c!==s.value&&(s.value=c),m==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=m!=null?""+Di(m):""}function of(s,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(r(92));if(ne(v)){if(1<v.length)throw Error(r(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Di(c),s.defaultValue=m,v=s.textContent,v===m&&v!==""&&v!==null&&(s.value=v),Yu(s)}function Po(s,c){if(c){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=c;return}}s.textContent=c}var Zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(s,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,m):typeof m!="number"||m===0||Zh.has(c)?c==="float"?s.cssFloat=m:s[c]=(""+m).trim():s[c]=m+"px"}function lf(s,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(s=s.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var C in c)v=c[C],c.hasOwnProperty(C)&&m[C]!==v&&sf(s,C,v)}else for(var T in c)c.hasOwnProperty(T)&&sf(s,T,c[T])}function oo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jl(s){return Uc.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Qn(){}var Ju=null;function Fc(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Bt=null,Hs=null;function cf(s){var c=ao(s);if(c&&(s=c.stateNode)){var m=s[tn]||null;e:switch(s=c.stateNode,c.type){case"input":if(Lc(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+vi(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==s&&v.form===s.form){var C=v[tn]||null;if(!C)throw Error(r(90));Lc(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===s.form&&ka(v)}break e;case"textarea":Ku(s,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&qs(s,!!m.multiple,c,!1)}}}var Ta=!1;function Xu(s,c,m){if(Ta)return s(c,m);Ta=!0;try{var v=s(c);return v}finally{if(Ta=!1,(Bt!==null||Hs!==null)&&(T0(),Bt&&(c=Bt,s=Hs,Hs=Bt=null,cf(c),s)))for(c=0;c<s.length;c++)cf(s[c])}}function Vs(s,c){var m=s.stateNode;if(m===null)return null;var v=m[tn]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(Qi)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Il=!1}var jo=null,Qu=null,Gs=null;function $s(){if(Gs)return Gs;var s,c=Qu,m=c.length,v,C="value"in jo?jo.value:jo.textContent,T=C.length;for(s=0;s<m&&c[s]===C[s];s++);var J=m-s;for(v=1;v<=J&&c[m-v]===C[T-v];v++);return Gs=C.slice(s,1<v?1-v:void 0)}function so(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function zc(){return!0}function Ws(){return!1}function Wr(s){function c(m,v,C,T,J){this._reactName=m,this._targetInst=C,this.type=v,this.nativeEvent=T,this.target=J,this.currentTarget=null;for(var ce in s)s.hasOwnProperty(ce)&&(m=s[ce],this[ce]=m?m(T):T[ce]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?zc:Ws,this.isPropagationStopped=Ws,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),c}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Wr(Pa),Ys=p({},Pa,{view:0,detail:0}),uf=Wr(Ys),qc,lo,ja,Hc=p({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ja&&(ja&&s.type==="mousemove"?(qc=s.screenX-ja.screenX,lo=s.screenY-ja.screenY):lo=qc=0,ja=s),qc)},movementY:function(s){return"movementY"in s?s.movementY:lo}}),ls=Wr(Hc),co=p({},Hc,{dataTransfer:0}),Zu=Wr(co),Rl=p({},Ys,{relatedTarget:0}),ed=Wr(Rl),Vc=p({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=Wr(Vc),td=p({},Pa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),nd=Wr(td),df=p({},Pa,{data:0}),Ll=Wr(df),rd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},id={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ff={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=ff[s])?!!c[s]:!1}function Ks(){return tp}var Ol=p({},Ys,{key:function(s){if(s.key){var c=rd[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=so(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?id[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(s){return s.type==="keypress"?so(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?so(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ad=Wr(Ol),Js=p({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gc=Wr(Js),I=p({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),Z=Wr(I),ve=p({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ne=Wr(ve),je=p({},Hc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Wr(je),at=p({},Pa,{newState:0,oldState:0}),bt=Wr(at),Mt=[9,13,27,32],Vt=Qi&&"CompositionEvent"in window,Yt=null;Qi&&"documentMode"in document&&(Yt=document.documentMode);var fn=Qi&&"TextEvent"in window&&!Yt,Zn=Qi&&(!Vt||Yt&&8<Yt&&11>=Yt),ar=" ",Sr=!1;function ai(s,c){switch(s){case"keyup":return Mt.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xi=!1;function ha(s,c){switch(s){case"compositionend":return zr(c);case"keypress":return c.which!==32?null:(Sr=!0,ar);case"textInput":return s=c.data,s===ar&&Sr?null:s;default:return null}}function cs(s,c){if(xi)return s==="compositionend"||!Vt&&ai(s,c)?(s=$s(),Gs=Qu=jo=null,xi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Zn&&c.locale!=="ko"?null:c.data;default:return null}}var hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!hf[s.type]:c==="textarea"}function Wc(s,c,m,v){Bt?Hs?Hs.push(v):Hs=[v]:Bt=v,c=L0(c,"onChange"),0<c.length&&(m=new Dl("onChange","change",null,m,v),s.push({event:m,listeners:c}))}var Io=null,us=null;function od(s){j_(s,0)}function ds(s){var c=Fs(s);if(ka(c))return s}function Ri(s,c){if(s==="change")return c}var Bl=!1;if(Qi){var Xs;if(Qi){var Qs="oninput"in document;if(!Qs){var Yc=document.createElement("div");Yc.setAttribute("oninput","return;"),Qs=typeof Yc.oninput=="function"}Xs=Qs}else Xs=!1;Bl=Xs&&(!document.documentMode||9<document.documentMode)}function Li(){Io&&(Io.detachEvent("onpropertychange",pf),us=Io=null)}function pf(s){if(s.propertyName==="value"&&ds(us)){var c=[];Wc(c,us,s,Fc(s)),Xu(od,c)}}function sd(s,c,m){s==="focusin"?(Li(),Io=c,us=m,Io.attachEvent("onpropertychange",pf)):s==="focusout"&&Li()}function mf(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ds(us)}function uo(s,c){if(s==="click")return ds(c)}function ld(s,c){if(s==="input"||s==="change")return ds(c)}function np(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Oi=typeof Object.is=="function"?Object.is:np;function Ia(s,c){if(Oi(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var m=Object.keys(s),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var C=m[v];if(!tt.call(c,C)||!Oi(s[C],c[C]))return!1}return!0}function pa(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ma(s,c){var m=pa(s);s=0;for(var v;m;){if(m.nodeType===3){if(v=s+m.textContent.length,s<=c&&v>=c)return{node:m,offset:c-s};s=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=pa(m)}}function fs(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?fs(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function fo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=ss(s.document);c instanceof s.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)s=c.contentWindow;else break;c=ss(s.document)}return c}function ho(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var Kc=Qi&&"documentMode"in document&&11>=document.documentMode,bi=null,Zs=null,hs=null,Mo=!1;function Da(s,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Mo||bi==null||bi!==ss(v)||(v=bi,"selectionStart"in v&&ho(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),hs&&Ia(hs,v)||(hs=v,v=L0(Zs,"onSelect"),0<v.length&&(c=new Dl("onSelect","select",null,c,m),s.push({event:c,listeners:v}),c.target=bi)))}function Bi(s,c){var m={};return m[s.toLowerCase()]=c.toLowerCase(),m["Webkit"+s]="webkit"+c,m["Moz"+s]="moz"+c,m}var Ra={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},el={},tl={};Qi&&(tl=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Zi(s){if(el[s])return el[s];if(!Ra[s])return s;var c=Ra[s],m;for(m in c)if(c.hasOwnProperty(m)&&m in tl)return el[s]=c[m];return s}var Jc=Zi("animationend"),ma=Zi("animationiteration"),Do=Zi("animationstart"),Un=Zi("transitionrun"),Fn=Zi("transitionstart"),Ar=Zi("transitioncancel"),Mr=Zi("transitionend"),Ro=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function wi(s,c){Ro.set(s,c),os(c,[s])}var Ul=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ga=[],Fl=0,gf=0;function cd(){for(var s=Fl,c=gf=Fl=0;c<s;){var m=ga[c];ga[c++]=null;var v=ga[c];ga[c++]=null;var C=ga[c];ga[c++]=null;var T=ga[c];if(ga[c++]=null,v!==null&&C!==null){var J=v.pending;J===null?C.next=C:(C.next=J.next,J.next=C),v.pending=C}T!==0&&dd(m,C,T)}}function ud(s,c,m,v){ga[Fl++]=s,ga[Fl++]=c,ga[Fl++]=m,ga[Fl++]=v,gf|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function yf(s,c,m,v){return ud(s,c,m,v),Ni(s)}function ps(s,c){return ud(s,null,null,c),Ni(s)}function dd(s,c,m){s.lanes|=m;var v=s.alternate;v!==null&&(v.lanes|=m);for(var C=!1,T=s.return;T!==null;)T.childLanes|=m,v=T.alternate,v!==null&&(v.childLanes|=m),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(C=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,C&&c!==null&&(C=31-Dt(m),s=T.hiddenUpdates,v=s[C],v===null?s[C]=[c]:v.push(c),c.lane=m|536870912),T):null}function Ni(s){if(50<Ap)throw Ap=0,jx=null,Error(r(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var oi={};function vf(s,c,m,v){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(s,c,m,v){return new vf(s,c,m,v)}function xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function La(s,c){var m=s.alternate;return m===null?(m=Si(s.tag,c,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=c,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,c=s.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function fd(s,c){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,c=m.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function Xc(s,c,m,v,C,T){var J=0;if(v=s,typeof s=="function")xf(s)&&(J=1);else if(typeof s=="string")J=B7(s,m,re.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Si(31,m,c,C),s.elementType=q,s.lanes=T,s;case N:return nl(m.children,C,T,c);case A:J=8,C|=24;break;case _:return s=Si(12,m,c,C|2),s.elementType=_,s.lanes=T,s;case B:return s=Si(13,m,c,C),s.elementType=B,s.lanes=T,s;case U:return s=Si(19,m,c,C),s.elementType=U,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:J=10;break e;case k:J=9;break e;case M:J=11;break e;case D:J=14;break e;case F:J=16,v=null;break e}J=29,m=Error(r(130,s===null?"null":typeof s,"")),v=null}return c=Si(J,m,c,C),c.elementType=s,c.type=v,c.lanes=T,c}function nl(s,c,m,v){return s=Si(7,s,v,c),s.lanes=m,s}function hd(s,c,m){return s=Si(6,s,null,c),s.lanes=m,s}function bf(s){var c=Si(18,null,null,0);return c.stateNode=s,c}function Qc(s,c,m){return c=Si(4,s.children!==null?s.children:[],s.key,c),c.lanes=m,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var wf=new WeakMap;function Oa(s,c){if(typeof s=="object"&&s!==null){var m=wf.get(s);return m!==void 0?m:(c={value:s,source:c,stack:ot(c)},wf.set(s,c),c)}return{value:s,source:c,stack:ot(c)}}var Zc=[],zl=0,Nf=null,pd=0,Ba=[],Ua=0,rl=null,Fa=1,za="";function ya(s,c){Zc[zl++]=pd,Zc[zl++]=Nf,Nf=s,pd=c}function l0(s,c,m){Ba[Ua++]=Fa,Ba[Ua++]=za,Ba[Ua++]=rl,rl=s;var v=Fa;s=za;var C=32-Dt(v)-1;v&=~(1<<C),m+=1;var T=32-Dt(c)+C;if(30<T){var J=C-C%5;T=(v&(1<<J)-1).toString(32),v>>=J,C-=J,Fa=1<<32-Dt(c)+C|m<<C|v,za=T+s}else Fa=1<<T|m<<C|v,za=s}function rp(s){s.return!==null&&(ya(s,1),l0(s,1,0))}function Sf(s){for(;s===Nf;)Nf=Zc[--zl],Zc[zl]=null,pd=Zc[--zl],Zc[zl]=null;for(;s===rl;)rl=Ba[--Ua],Ba[Ua]=null,za=Ba[--Ua],Ba[Ua]=null,Fa=Ba[--Ua],Ba[Ua]=null}function c0(s,c){Ba[Ua++]=Fa,Ba[Ua++]=za,Ba[Ua++]=rl,Fa=c.id,za=c.overflow,rl=s}var si=null,$n=null,ln=!1,Ui=null,hr=!1,po=Error(r(519));function il(s){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(Oa(c,s)),po}function ip(s){var c=s.stateNode,m=s.type,v=s.memoizedProps;switch(c[yt]=s,c[tn]=v,m){case"dialog":dn("cancel",c),dn("close",c);break;case"iframe":case"object":case"embed":dn("load",c);break;case"video":case"audio":for(m=0;m<Cp.length;m++)dn(Cp[m],c);break;case"source":dn("error",c);break;case"img":case"image":case"link":dn("error",c),dn("load",c);break;case"details":dn("toggle",c);break;case"input":dn("invalid",c),af(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":dn("invalid",c);break;case"textarea":dn("invalid",c),of(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||R_(c.textContent,m)?(v.popover!=null&&(dn("beforetoggle",c),dn("toggle",c)),v.onScroll!=null&&dn("scroll",c),v.onScrollEnd!=null&&dn("scrollend",c),v.onClick!=null&&(c.onclick=Qn),c=!0):c=!1,c||il(s,!0)}function ms(s){for(si=s.return;si;)switch(si.tag){case 5:case 31:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:si=si.return}}function li(s){if(s!==si)return!1;if(!ln)return ms(s),ln=!0,!1;var c=s.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||$x(s.type,s.memoizedProps)),m=!m),m&&$n&&il(s),ms(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));$n=V_(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));$n=V_(s)}else c===27?(c=$n,pu(s.type)?(s=Xx,Xx=null,$n=s):$n=c):$n=si?Ho(s.stateNode.nextSibling):null;return!0}function ql(){$n=si=null,ln=!1}function ap(){var s=Ui;return s!==null&&(Wa===null?Wa=s:Wa.push.apply(Wa,s),Ui=null),s}function eu(s){Ui===null?Ui=[s]:Ui.push(s)}var Af=ie(null),al=null,Oo=null;function ol(s,c,m){H(Af,c._currentValue),c._currentValue=m}function qa(s){s._currentValue=Af.current,V(Af)}function tu(s,c,m){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===m)break;s=s.return}}function Hl(s,c,m,v){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var T=C.dependencies;if(T!==null){var J=C.child;T=T.firstContext;e:for(;T!==null;){var ce=T;T=C;for(var be=0;be<c.length;be++)if(ce.context===c[be]){T.lanes|=m,ce=T.alternate,ce!==null&&(ce.lanes|=m),tu(T.return,m,s),v||(J=null);break e}T=ce.next}}else if(C.tag===18){if(J=C.return,J===null)throw Error(r(341));J.lanes|=m,T=J.alternate,T!==null&&(T.lanes|=m),tu(J,m,s),J=null}else J=C.child;if(J!==null)J.return=C;else for(J=C;J!==null;){if(J===s){J=null;break}if(C=J.sibling,C!==null){C.return=J.return,J=C;break}J=J.return}C=J}}function sl(s,c,m,v){s=null;for(var C=c,T=!1;C!==null;){if(!T){if((C.flags&524288)!==0)T=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var J=C.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var ce=C.type;Oi(C.pendingProps.value,J.value)||(s!==null?s.push(ce):s=[ce])}}else if(C===pe.current){if(J=C.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(jp):s=[jp])}C=C.return}s!==null&&Hl(c,s,m,v),c.flags|=262144}function _f(s){for(s=s.firstContext;s!==null;){if(!Oi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ll(s){al=s,Oo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ci(s){return u0(al,s)}function Cf(s,c){return al===null&&ll(s),u0(s,c)}function u0(s,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Oo===null){if(s===null)throw Error(r(308));Oo=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else Oo=Oo.next=c;return m}var Jv=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(m,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(m){return m()})}},Xv=e.unstable_scheduleCallback,Qv=e.unstable_NormalPriority,_r={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new Jv,data:new Map,refCount:0}}function md(s){s.refCount--,s.refCount===0&&Xv(Qv,function(){s.controller.abort()})}var gd=null,Ef=0,b=0,E=null;function L(s,c){if(gd===null){var m=gd=[];Ef=0,b=Ox(),E={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Ef++,c.then(W,W),c}function W(){if(--Ef===0&&gd!==null){E!==null&&(E.status="fulfilled");var s=gd;gd=null,b=0,E=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function Q(s,c){var m=[],v={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var C=0;C<m.length;C++)(0,m[C])(c)},function(C){for(v.status="rejected",v.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),v}var ae=z.S;z.S=function(s,c){a_=Nt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&L(s,c),ae!==null&&ae(s,c)};var oe=ie(null);function le(){var s=oe.current;return s!==null?s:Yn.pooledCache}function ue(s,c){c===null?H(oe,oe.current):H(oe,c.pool)}function ye(){var s=le();return s===null?null:{parent:_r._currentValue,pool:s}}var Se=Error(r(460)),Me=Error(r(474)),Ie=Error(r(542)),ke={then:function(){}};function Ze(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ve(s,c,m){switch(m=s[m],m===void 0?s.push(c):m!==c&&(c.then(Qn,Qn),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,nt(s),s;default:if(typeof c.status=="string")c.then(Qn,Qn);else{if(s=Yn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var C=c;C.status="fulfilled",C.value=v}},function(v){if(c.status==="pending"){var C=c;C.status="rejected",C.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,nt(s),s}throw Ee=c,Se}}function Ae(s){try{var c=s._init;return c(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ee=m,Se):m}}var Ee=null;function Je(){if(Ee===null)throw Error(r(459));var s=Ee;return Ee=null,s}function nt(s){if(s===Se||s===Ie)throw Error(r(483))}var Ke=null,gt=0;function ft(s){var c=gt;return gt+=1,Ke===null&&(Ke=[]),Ve(Ke,s,c)}function jt(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function pt(s,c){throw c.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function xn(s){function c(Te,Ce){if(s){var Re=Te.deletions;Re===null?(Te.deletions=[Ce],Te.flags|=16):Re.push(Ce)}}function m(Te,Ce){if(!s)return null;for(;Ce!==null;)c(Te,Ce),Ce=Ce.sibling;return null}function v(Te){for(var Ce=new Map;Te!==null;)Te.key!==null?Ce.set(Te.key,Te):Ce.set(Te.index,Te),Te=Te.sibling;return Ce}function C(Te,Ce){return Te=La(Te,Ce),Te.index=0,Te.sibling=null,Te}function T(Te,Ce,Re){return Te.index=Re,s?(Re=Te.alternate,Re!==null?(Re=Re.index,Re<Ce?(Te.flags|=67108866,Ce):Re):(Te.flags|=67108866,Ce)):(Te.flags|=1048576,Ce)}function J(Te){return s&&Te.alternate===null&&(Te.flags|=67108866),Te}function ce(Te,Ce,Re,Xe){return Ce===null||Ce.tag!==6?(Ce=hd(Re,Te.mode,Xe),Ce.return=Te,Ce):(Ce=C(Ce,Re),Ce.return=Te,Ce)}function be(Te,Ce,Re,Xe){var Rt=Re.type;return Rt===N?We(Te,Ce,Re.props.children,Xe,Re.key):Ce!==null&&(Ce.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===F&&Ae(Rt)===Ce.type)?(Ce=C(Ce,Re.props),jt(Ce,Re),Ce.return=Te,Ce):(Ce=Xc(Re.type,Re.key,Re.props,null,Te.mode,Xe),jt(Ce,Re),Ce.return=Te,Ce)}function Le(Te,Ce,Re,Xe){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Re.containerInfo||Ce.stateNode.implementation!==Re.implementation?(Ce=Qc(Re,Te.mode,Xe),Ce.return=Te,Ce):(Ce=C(Ce,Re.children||[]),Ce.return=Te,Ce)}function We(Te,Ce,Re,Xe,Rt){return Ce===null||Ce.tag!==7?(Ce=nl(Re,Te.mode,Xe,Rt),Ce.return=Te,Ce):(Ce=C(Ce,Re),Ce.return=Te,Ce)}function et(Te,Ce,Re){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=hd(""+Ce,Te.mode,Re),Ce.return=Te,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case g:return Re=Xc(Ce.type,Ce.key,Ce.props,null,Te.mode,Re),jt(Re,Ce),Re.return=Te,Re;case w:return Ce=Qc(Ce,Te.mode,Re),Ce.return=Te,Ce;case F:return Ce=Ae(Ce),et(Te,Ce,Re)}if(ne(Ce)||O(Ce))return Ce=nl(Ce,Te.mode,Re,null),Ce.return=Te,Ce;if(typeof Ce.then=="function")return et(Te,ft(Ce),Re);if(Ce.$$typeof===P)return et(Te,Cf(Te,Ce),Re);pt(Te,Ce)}return null}function Oe(Te,Ce,Re,Xe){var Rt=Ce!==null?Ce.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Rt!==null?null:ce(Te,Ce,""+Re,Xe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:return Re.key===Rt?be(Te,Ce,Re,Xe):null;case w:return Re.key===Rt?Le(Te,Ce,Re,Xe):null;case F:return Re=Ae(Re),Oe(Te,Ce,Re,Xe)}if(ne(Re)||O(Re))return Rt!==null?null:We(Te,Ce,Re,Xe,null);if(typeof Re.then=="function")return Oe(Te,Ce,ft(Re),Xe);if(Re.$$typeof===P)return Oe(Te,Ce,Cf(Te,Re),Xe);pt(Te,Re)}return null}function He(Te,Ce,Re,Xe,Rt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Te=Te.get(Re)||null,ce(Ce,Te,""+Xe,Rt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case g:return Te=Te.get(Xe.key===null?Re:Xe.key)||null,be(Ce,Te,Xe,Rt);case w:return Te=Te.get(Xe.key===null?Re:Xe.key)||null,Le(Ce,Te,Xe,Rt);case F:return Xe=Ae(Xe),He(Te,Ce,Re,Xe,Rt)}if(ne(Xe)||O(Xe))return Te=Te.get(Re)||null,We(Ce,Te,Xe,Rt,null);if(typeof Xe.then=="function")return He(Te,Ce,Re,ft(Xe),Rt);if(Xe.$$typeof===P)return He(Te,Ce,Re,Cf(Ce,Xe),Rt);pt(Ce,Xe)}return null}function _t(Te,Ce,Re,Xe){for(var Rt=null,Nn=null,Tt=Ce,rn=Ce=0,mn=null;Tt!==null&&rn<Re.length;rn++){Tt.index>rn?(mn=Tt,Tt=null):mn=Tt.sibling;var Sn=Oe(Te,Tt,Re[rn],Xe);if(Sn===null){Tt===null&&(Tt=mn);break}s&&Tt&&Sn.alternate===null&&c(Te,Tt),Ce=T(Sn,Ce,rn),Nn===null?Rt=Sn:Nn.sibling=Sn,Nn=Sn,Tt=mn}if(rn===Re.length)return m(Te,Tt),ln&&ya(Te,rn),Rt;if(Tt===null){for(;rn<Re.length;rn++)Tt=et(Te,Re[rn],Xe),Tt!==null&&(Ce=T(Tt,Ce,rn),Nn===null?Rt=Tt:Nn.sibling=Tt,Nn=Tt);return ln&&ya(Te,rn),Rt}for(Tt=v(Tt);rn<Re.length;rn++)mn=He(Tt,Te,rn,Re[rn],Xe),mn!==null&&(s&&mn.alternate!==null&&Tt.delete(mn.key===null?rn:mn.key),Ce=T(mn,Ce,rn),Nn===null?Rt=mn:Nn.sibling=mn,Nn=mn);return s&&Tt.forEach(function(xu){return c(Te,xu)}),ln&&ya(Te,rn),Rt}function zt(Te,Ce,Re,Xe){if(Re==null)throw Error(r(151));for(var Rt=null,Nn=null,Tt=Ce,rn=Ce=0,mn=null,Sn=Re.next();Tt!==null&&!Sn.done;rn++,Sn=Re.next()){Tt.index>rn?(mn=Tt,Tt=null):mn=Tt.sibling;var xu=Oe(Te,Tt,Sn.value,Xe);if(xu===null){Tt===null&&(Tt=mn);break}s&&Tt&&xu.alternate===null&&c(Te,Tt),Ce=T(xu,Ce,rn),Nn===null?Rt=xu:Nn.sibling=xu,Nn=xu,Tt=mn}if(Sn.done)return m(Te,Tt),ln&&ya(Te,rn),Rt;if(Tt===null){for(;!Sn.done;rn++,Sn=Re.next())Sn=et(Te,Sn.value,Xe),Sn!==null&&(Ce=T(Sn,Ce,rn),Nn===null?Rt=Sn:Nn.sibling=Sn,Nn=Sn);return ln&&ya(Te,rn),Rt}for(Tt=v(Tt);!Sn.done;rn++,Sn=Re.next())Sn=He(Tt,Te,rn,Sn.value,Xe),Sn!==null&&(s&&Sn.alternate!==null&&Tt.delete(Sn.key===null?rn:Sn.key),Ce=T(Sn,Ce,rn),Nn===null?Rt=Sn:Nn.sibling=Sn,Nn=Sn);return s&&Tt.forEach(function(K7){return c(Te,K7)}),ln&&ya(Te,rn),Rt}function Hn(Te,Ce,Re,Xe){if(typeof Re=="object"&&Re!==null&&Re.type===N&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:e:{for(var Rt=Re.key;Ce!==null;){if(Ce.key===Rt){if(Rt=Re.type,Rt===N){if(Ce.tag===7){m(Te,Ce.sibling),Xe=C(Ce,Re.props.children),Xe.return=Te,Te=Xe;break e}}else if(Ce.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===F&&Ae(Rt)===Ce.type){m(Te,Ce.sibling),Xe=C(Ce,Re.props),jt(Xe,Re),Xe.return=Te,Te=Xe;break e}m(Te,Ce);break}else c(Te,Ce);Ce=Ce.sibling}Re.type===N?(Xe=nl(Re.props.children,Te.mode,Xe,Re.key),Xe.return=Te,Te=Xe):(Xe=Xc(Re.type,Re.key,Re.props,null,Te.mode,Xe),jt(Xe,Re),Xe.return=Te,Te=Xe)}return J(Te);case w:e:{for(Rt=Re.key;Ce!==null;){if(Ce.key===Rt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Re.containerInfo&&Ce.stateNode.implementation===Re.implementation){m(Te,Ce.sibling),Xe=C(Ce,Re.children||[]),Xe.return=Te,Te=Xe;break e}else{m(Te,Ce);break}else c(Te,Ce);Ce=Ce.sibling}Xe=Qc(Re,Te.mode,Xe),Xe.return=Te,Te=Xe}return J(Te);case F:return Re=Ae(Re),Hn(Te,Ce,Re,Xe)}if(ne(Re))return _t(Te,Ce,Re,Xe);if(O(Re)){if(Rt=O(Re),typeof Rt!="function")throw Error(r(150));return Re=Rt.call(Re),zt(Te,Ce,Re,Xe)}if(typeof Re.then=="function")return Hn(Te,Ce,ft(Re),Xe);if(Re.$$typeof===P)return Hn(Te,Ce,Cf(Te,Re),Xe);pt(Te,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,Ce!==null&&Ce.tag===6?(m(Te,Ce.sibling),Xe=C(Ce,Re),Xe.return=Te,Te=Xe):(m(Te,Ce),Xe=hd(Re,Te.mode,Xe),Xe.return=Te,Te=Xe),J(Te)):m(Te,Ce)}return function(Te,Ce,Re,Xe){try{gt=0;var Rt=Hn(Te,Ce,Re,Xe);return Ke=null,Rt}catch(Tt){if(Tt===Se||Tt===Ie)throw Tt;var Nn=Si(29,Tt,null,Te.mode);return Nn.lanes=Xe,Nn.return=Te,Nn}finally{}}}var cn=xn(!0),hn=xn(!1),Jt=!1;function Cn(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wn(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ft(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function jn(s,c,m){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(En&2)!==0){var C=v.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),v.pending=c,c=Ni(s),dd(s,null,m),c}return ud(s,v,c,m),Ni(s)}function Yr(s,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Mi(s,m)}}function pr(s,c){var m=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var C=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var J={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?C=T=J:T=T.next=J,m=m.next}while(m!==null);T===null?C=T=c:T=T.next=c}else C=T=c;m={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:v.shared,callbacks:v.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=c:s.next=c,m.lastBaseUpdate=c}var Ai=!1;function yn(){if(Ai){var s=E;if(s!==null)throw s}}function ui(s,c,m,v){Ai=!1;var C=s.updateQueue;Jt=!1;var T=C.firstBaseUpdate,J=C.lastBaseUpdate,ce=C.shared.pending;if(ce!==null){C.shared.pending=null;var be=ce,Le=be.next;be.next=null,J===null?T=Le:J.next=Le,J=be;var We=s.alternate;We!==null&&(We=We.updateQueue,ce=We.lastBaseUpdate,ce!==J&&(ce===null?We.firstBaseUpdate=Le:ce.next=Le,We.lastBaseUpdate=be))}if(T!==null){var et=C.baseState;J=0,We=Le=be=null,ce=T;do{var Oe=ce.lane&-536870913,He=Oe!==ce.lane;if(He?(pn&Oe)===Oe:(v&Oe)===Oe){Oe!==0&&Oe===b&&(Ai=!0),We!==null&&(We=We.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var _t=s,zt=ce;Oe=c;var Hn=m;switch(zt.tag){case 1:if(_t=zt.payload,typeof _t=="function"){et=_t.call(Hn,et,Oe);break e}et=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=zt.payload,Oe=typeof _t=="function"?_t.call(Hn,et,Oe):_t,Oe==null)break e;et=p({},et,Oe);break e;case 2:Jt=!0}}Oe=ce.callback,Oe!==null&&(s.flags|=64,He&&(s.flags|=8192),He=C.callbacks,He===null?C.callbacks=[Oe]:He.push(Oe))}else He={lane:Oe,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},We===null?(Le=We=He,be=et):We=We.next=He,J|=Oe;if(ce=ce.next,ce===null){if(ce=C.shared.pending,ce===null)break;He=ce,ce=He.next,He.next=null,C.lastBaseUpdate=He,C.shared.pending=null}}while(!0);We===null&&(be=et),C.baseState=be,C.firstBaseUpdate=Le,C.lastBaseUpdate=We,T===null&&(C.shared.lanes=0),cu|=J,s.lanes=J,s.memoizedState=et}}function ea(s,c){if(typeof s!="function")throw Error(r(191,s));s.call(c)}function qr(s,c){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)ea(m[s],c)}var mr=ie(null),Kr=ie(0);function va(s,c){s=tc,H(Kr,s),H(mr,c),tc=s|c.baseLanes}function Ha(){H(Kr,tc),H(mr,mr.current)}function Dr(){tc=Kr.current,V(mr),V(Kr)}var Cr=ie(null),Jr=null;function xa(s){var c=s.alternate;H(gr,gr.current&1),H(Cr,s),Jr===null&&(c===null||mr.current!==null||c.memoizedState!==null)&&(Jr=s)}function Bo(s){H(gr,gr.current),H(Cr,s),Jr===null&&(Jr=s)}function or(s){s.tag===22?(H(gr,gr.current),H(Cr,s),Jr===null&&(Jr=s)):Uo()}function Uo(){H(gr,gr.current),H(Cr,Cr.current)}function ta(s){V(Cr),Jr===s&&(Jr=null),V(gr)}var gr=ie(0);function Vl(s){for(var c=s;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Kx(m)||Jx(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ba=0,Gt=null,on=null,Wn=null,gs=!1,Gl=!1,Fo=!1,yd=0,cl=0,ul=null,kf=0;function zn(){throw Error(r(321))}function op(s,c){if(c===null)return!1;for(var m=0;m<c.length&&m<s.length;m++)if(!Oi(s[m],c[m]))return!1;return!0}function sp(s,c,m,v,C,T){return ba=T,Gt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,z.H=s===null||s.memoizedState===null?gA:ox,Fo=!1,T=m(v,C),Fo=!1,Gl&&(T=ys(c,m,v,C)),Tf(s),T}function Tf(s){z.H=mp;var c=on!==null&&on.next!==null;if(ba=0,Wn=on=Gt=null,gs=!1,cl=0,ul=null,c)throw Error(r(300));s===null||Qr||(s=s.dependencies,s!==null&&_f(s)&&(Qr=!0))}function ys(s,c,m,v){Gt=s;var C=0;do{if(Gl&&(ul=null),cl=0,Gl=!1,25<=C)throw Error(r(301));if(C+=1,Wn=on=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}z.H=yA,T=c(m,v)}while(Gl);return T}function Zv(){var s=z.H,c=s.useState()[0];return c=typeof c.then=="function"?dl(c):c,s=s.useState()[0],(on!==null?on.memoizedState:null)!==s&&(Gt.flags|=1024),c}function lp(){var s=yd!==0;return yd=0,s}function cp(s,c,m){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~m}function Pf(s){if(gs){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}gs=!1}ba=0,Wn=on=Gt=null,Gl=!1,cl=yd=0,ul=null}function Xr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?Gt.memoizedState=Wn=s:Wn=Wn.next=s,Wn}function yr(){if(on===null){var s=Gt.alternate;s=s!==null?s.memoizedState:null}else s=on.next;var c=Wn===null?Gt.memoizedState:Wn.next;if(c!==null)Wn=c,on=s;else{if(s===null)throw Gt.alternate===null?Error(r(467)):Error(r(310));on=s,s={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Wn===null?Gt.memoizedState=Wn=s:Wn=Wn.next=s}return Wn}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(s){var c=cl;return cl+=1,ul===null&&(ul=[]),s=Ve(ul,s,c),c=Gt,(Wn===null?c.memoizedState:Wn.next)===null&&(c=c.alternate,z.H=c===null||c.memoizedState===null?gA:ox),s}function ru(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return dl(s);if(s.$$typeof===P)return ci(s)}throw Error(r(438,String(s)))}function $l(s){var c=null,m=Gt.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=Gt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(C){return C.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=vd(),Gt.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(s),v=0;v<s;v++)m[v]=G;return c.index++,m}function zo(s,c){return typeof c=="function"?c(s):c}function jf(s){var c=yr();return iu(c,on,s)}function iu(s,c,m){var v=s.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=m;var C=s.baseQueue,T=v.pending;if(T!==null){if(C!==null){var J=C.next;C.next=T.next,T.next=J}c.baseQueue=C=T,v.pending=null}if(T=s.baseState,C===null)s.memoizedState=T;else{c=C.next;var ce=J=null,be=null,Le=c,We=!1;do{var et=Le.lane&-536870913;if(et!==Le.lane?(pn&et)===et:(ba&et)===et){var Oe=Le.revertLane;if(Oe===0)be!==null&&(be=be.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),et===b&&(We=!0);else if((ba&Oe)===Oe){Le=Le.next,Oe===b&&(We=!0);continue}else et={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},be===null?(ce=be=et,J=T):be=be.next=et,Gt.lanes|=Oe,cu|=Oe;et=Le.action,Fo&&m(T,et),T=Le.hasEagerState?Le.eagerState:m(T,et)}else Oe={lane:et,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},be===null?(ce=be=Oe,J=T):be=be.next=Oe,Gt.lanes|=et,cu|=et;Le=Le.next}while(Le!==null&&Le!==c);if(be===null?J=T:be.next=ce,!Oi(T,s.memoizedState)&&(Qr=!0,We&&(m=E,m!==null)))throw m;s.memoizedState=T,s.baseState=J,s.baseQueue=be,v.lastRenderedState=T}return C===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function If(s){var c=yr(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var v=m.dispatch,C=m.pending,T=c.memoizedState;if(C!==null){m.pending=null;var J=C=C.next;do T=s(T,J.action),J=J.next;while(J!==C);Oi(T,c.memoizedState)||(Qr=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),m.lastRenderedState=T}return[T,v]}function Mf(s,c,m){var v=Gt,C=yr(),T=ln;if(T){if(m===void 0)throw Error(r(407));m=m()}else m=c();var J=!Oi((on||C).memoizedState,m);if(J&&(C.memoizedState=m,Qr=!0),C=C.queue,ex(dp.bind(null,v,C,s),[s]),C.getSnapshot!==c||J||Wn!==null&&Wn.memoizedState.tag&1){if(v.flags|=2048,Yl(9,{destroy:void 0},up.bind(null,v,C,m,c),null),Yn===null)throw Error(r(349));T||(ba&127)!==0||vs(v,c,m)}return m}function vs(s,c,m){s.flags|=16384,s={getSnapshot:c,value:m},c=Gt.updateQueue,c===null?(c=vd(),Gt.updateQueue=c,c.stores=[s]):(m=c.stores,m===null?c.stores=[s]:m.push(s))}function up(s,c,m,v){c.value=m,c.getSnapshot=v,d0(c)&&fp(s)}function dp(s,c,m){return m(function(){d0(c)&&fp(s)})}function d0(s){var c=s.getSnapshot;s=s.value;try{var m=c();return!Oi(s,m)}catch{return!0}}function fp(s){var c=ps(s,2);c!==null&&Ya(c,s,2)}function fl(s){var c=Xr();if(typeof s=="function"){var m=s;if(s=m(),Fo){Kt(!0);try{m()}finally{Kt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},c}function f0(s,c,m,v){return s.baseState=m,iu(s,on,typeof v=="function"?v:zo)}function h0(s,c,m,v,C){if(y0(s))throw Error(r(485));if(s=c.action,s!==null){var T={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){T.listeners.push(J)}};z.T!==null?m(!0):T.isTransition=!1,v(T),m=c.pending,m===null?(T.next=c.pending=T,p0(c,T)):(T.next=m.next,c.pending=m.next=T)}}function p0(s,c){var m=c.action,v=c.payload,C=s.state;if(c.isTransition){var T=z.T,J={};z.T=J;try{var ce=m(C,v),be=z.S;be!==null&&be(J,ce),hp(s,c,ce)}catch(Le){Wl(s,c,Le)}finally{T!==null&&J.types!==null&&(T.types=J.types),z.T=T}}else try{T=m(C,v),hp(s,c,T)}catch(Le){Wl(s,c,Le)}}function hp(s,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){m0(s,c,v)},function(v){return Wl(s,c,v)}):m0(s,c,m)}function m0(s,c,m){c.status="fulfilled",c.value=m,Df(c),s.state=m,c=s.pending,c!==null&&(m=c.next,m===c?s.pending=null:(m=m.next,c.next=m,p0(s,m)))}function Wl(s,c,m){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,Df(c),c=c.next;while(c!==v)}s.action=null}function Df(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function xd(s,c){return c}function qo(s,c){if(ln){var m=Yn.formState;if(m!==null){e:{var v=Gt;if(ln){if($n){t:{for(var C=$n,T=hr;C.nodeType!==8;){if(!T){C=null;break t}if(C=Ho(C.nextSibling),C===null){C=null;break t}}T=C.data,C=T==="F!"||T==="F"?C:null}if(C){$n=Ho(C.nextSibling),v=C.data==="F!";break e}}il(v)}v=!1}v&&(c=m[0])}}return m=Xr(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:c},m.queue=v,m=hA.bind(null,Gt,v),v.dispatch=m,v=fl(!1),T=ax.bind(null,Gt,!1,v.queue),v=Xr(),C={state:c,dispatch:null,action:s,pending:null},v.queue=C,m=h0.bind(null,Gt,C,T,m),C.dispatch=m,v.memoizedState=s,[c,m,!1]}function xs(s){var c=yr();return bs(c,on,s)}function bs(s,c,m){if(c=iu(s,c,xd)[0],s=jf(zo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=dl(c)}catch(J){throw J===Se?Ie:J}else v=c;c=yr();var C=c.queue,T=C.dispatch;return m!==c.memoizedState&&(Gt.flags|=2048,Yl(9,{destroy:void 0},Rf.bind(null,C,m),null)),[v,T,s]}function Rf(s,c){s.action=c}function Lf(s){var c=yr(),m=on;if(m!==null)return bs(c,m,s);yr(),c=c.memoizedState,m=yr();var v=m.queue.dispatch;return m.memoizedState=s,[c,v,!1]}function Yl(s,c,m,v){return s={tag:s,create:m,deps:v,inst:c,next:null},c=Gt.updateQueue,c===null&&(c=vd(),Gt.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=s.next=s:(v=m.next,m.next=s,s.next=v,c.lastEffect=s),s}function g0(){return yr().memoizedState}function au(s,c,m,v){var C=Xr();Gt.flags|=s,C.memoizedState=Yl(1|c,{destroy:void 0},m,v===void 0?null:v)}function ou(s,c,m,v){var C=yr();v=v===void 0?null:v;var T=C.memoizedState.inst;on!==null&&v!==null&&op(v,on.memoizedState.deps)?C.memoizedState=Yl(c,T,m,v):(Gt.flags|=s,C.memoizedState=Yl(1|c,T,m,v))}function ZS(s,c){au(8390656,8,s,c)}function ex(s,c){ou(2048,8,s,c)}function H8(s){Gt.flags|=4;var c=Gt.updateQueue;if(c===null)c=vd(),Gt.updateQueue=c,c.events=[s];else{var m=c.events;m===null?c.events=[s]:m.push(s)}}function eA(s){var c=yr().memoizedState;return H8({ref:c,nextImpl:s}),function(){if((En&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function tA(s,c){return ou(4,2,s,c)}function nA(s,c){return ou(4,4,s,c)}function rA(s,c){if(typeof c=="function"){s=s();var m=c(s);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function iA(s,c,m){m=m!=null?m.concat([s]):null,ou(4,4,rA.bind(null,c,s),m)}function tx(){}function aA(s,c){var m=yr();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&op(c,v[1])?v[0]:(m.memoizedState=[s,c],s)}function oA(s,c){var m=yr();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&op(c,v[1]))return v[0];if(v=s(),Fo){Kt(!0);try{s()}finally{Kt(!1)}}return m.memoizedState=[v,c],v}function nx(s,c,m){return m===void 0||(ba&1073741824)!==0&&(pn&261930)===0?s.memoizedState=c:(s.memoizedState=m,s=s_(),Gt.lanes|=s,cu|=s,m)}function sA(s,c,m,v){return Oi(m,c)?m:mr.current!==null?(s=nx(s,m,v),Oi(s,c)||(Qr=!0),s):(ba&42)===0||(ba&1073741824)!==0&&(pn&261930)===0?(Qr=!0,s.memoizedState=m):(s=s_(),Gt.lanes|=s,cu|=s,c)}function lA(s,c,m,v,C){var T=Y.p;Y.p=T!==0&&8>T?T:8;var J=z.T,ce={};z.T=ce,ax(s,!1,c,m);try{var be=C(),Le=z.S;if(Le!==null&&Le(ce,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var We=Q(be,v);pp(s,c,We,yo(s))}else pp(s,c,v,yo(s))}catch(et){pp(s,c,{then:function(){},status:"rejected",reason:et},yo())}finally{Y.p=T,J!==null&&ce.types!==null&&(J.types=ce.types),z.T=J}}function V8(){}function rx(s,c,m,v){if(s.tag!==5)throw Error(r(476));var C=cA(s).queue;lA(s,C,c,ee,m===null?V8:function(){return uA(s),m(v)})}function cA(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:ee},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:m},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function uA(s){var c=cA(s);c.next===null&&(c=s.alternate.memoizedState),pp(s,c.next.queue,{},yo())}function ix(){return ci(jp)}function dA(){return yr().memoizedState}function fA(){return yr().memoizedState}function G8(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var m=yo();s=Ft(m);var v=jn(c,s,m);v!==null&&(Ya(v,c,m),Yr(v,c,m)),c={cache:nu()},s.payload=c;return}c=c.return}}function $8(s,c,m){var v=yo();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},y0(s)?pA(c,m):(m=yf(s,c,m,v),m!==null&&(Ya(m,s,v),mA(m,c,v)))}function hA(s,c,m){var v=yo();pp(s,c,m,v)}function pp(s,c,m,v){var C={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(y0(s))pA(c,C);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var J=c.lastRenderedState,ce=T(J,m);if(C.hasEagerState=!0,C.eagerState=ce,Oi(ce,J))return ud(s,c,C,0),Yn===null&&cd(),!1}catch{}finally{}if(m=yf(s,c,C,v),m!==null)return Ya(m,s,v),mA(m,c,v),!0}return!1}function ax(s,c,m,v){if(v={lane:2,revertLane:Ox(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},y0(s)){if(c)throw Error(r(479))}else c=yf(s,m,v,2),c!==null&&Ya(c,s,2)}function y0(s){var c=s.alternate;return s===Gt||c!==null&&c===Gt}function pA(s,c){Gl=gs=!0;var m=s.pending;m===null?c.next=c:(c.next=m.next,m.next=c),s.pending=c}function mA(s,c,m){if((m&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,m|=v,c.lanes=m,Mi(s,m)}}var mp={readContext:ci,use:ru,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};mp.useEffectEvent=zn;var gA={readContext:ci,use:ru,useCallback:function(s,c){return Xr().memoizedState=[s,c===void 0?null:c],s},useContext:ci,useEffect:ZS,useImperativeHandle:function(s,c,m){m=m!=null?m.concat([s]):null,au(4194308,4,rA.bind(null,c,s),m)},useLayoutEffect:function(s,c){return au(4194308,4,s,c)},useInsertionEffect:function(s,c){au(4,2,s,c)},useMemo:function(s,c){var m=Xr();c=c===void 0?null:c;var v=s();if(Fo){Kt(!0);try{s()}finally{Kt(!1)}}return m.memoizedState=[v,c],v},useReducer:function(s,c,m){var v=Xr();if(m!==void 0){var C=m(c);if(Fo){Kt(!0);try{m(c)}finally{Kt(!1)}}}else C=c;return v.memoizedState=v.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},v.queue=s,s=s.dispatch=$8.bind(null,Gt,s),[v.memoizedState,s]},useRef:function(s){var c=Xr();return s={current:s},c.memoizedState=s},useState:function(s){s=fl(s);var c=s.queue,m=hA.bind(null,Gt,c);return c.dispatch=m,[s.memoizedState,m]},useDebugValue:tx,useDeferredValue:function(s,c){var m=Xr();return nx(m,s,c)},useTransition:function(){var s=fl(!1);return s=lA.bind(null,Gt,s.queue,!0,!1),Xr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,m){var v=Gt,C=Xr();if(ln){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),Yn===null)throw Error(r(349));(pn&127)!==0||vs(v,c,m)}C.memoizedState=m;var T={value:m,getSnapshot:c};return C.queue=T,ZS(dp.bind(null,v,T,s),[s]),v.flags|=2048,Yl(9,{destroy:void 0},up.bind(null,v,T,m,c),null),m},useId:function(){var s=Xr(),c=Yn.identifierPrefix;if(ln){var m=za,v=Fa;m=(v&~(1<<32-Dt(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=yd++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=kf++,c="_"+c+"r_"+m.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:ix,useFormState:qo,useActionState:qo,useOptimistic:function(s){var c=Xr();c.memoizedState=c.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=ax.bind(null,Gt,!0,m),m.dispatch=c,[s,c]},useMemoCache:$l,useCacheRefresh:function(){return Xr().memoizedState=G8.bind(null,Gt)},useEffectEvent:function(s){var c=Xr(),m={impl:s};return c.memoizedState=m,function(){if((En&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},ox={readContext:ci,use:ru,useCallback:aA,useContext:ci,useEffect:ex,useImperativeHandle:iA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:oA,useReducer:jf,useRef:g0,useState:function(){return jf(zo)},useDebugValue:tx,useDeferredValue:function(s,c){var m=yr();return sA(m,on.memoizedState,s,c)},useTransition:function(){var s=jf(zo)[0],c=yr().memoizedState;return[typeof s=="boolean"?s:dl(s),c]},useSyncExternalStore:Mf,useId:dA,useHostTransitionStatus:ix,useFormState:xs,useActionState:xs,useOptimistic:function(s,c){var m=yr();return f0(m,on,s,c)},useMemoCache:$l,useCacheRefresh:fA};ox.useEffectEvent=eA;var yA={readContext:ci,use:ru,useCallback:aA,useContext:ci,useEffect:ex,useImperativeHandle:iA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:oA,useReducer:If,useRef:g0,useState:function(){return If(zo)},useDebugValue:tx,useDeferredValue:function(s,c){var m=yr();return on===null?nx(m,s,c):sA(m,on.memoizedState,s,c)},useTransition:function(){var s=If(zo)[0],c=yr().memoizedState;return[typeof s=="boolean"?s:dl(s),c]},useSyncExternalStore:Mf,useId:dA,useHostTransitionStatus:ix,useFormState:Lf,useActionState:Lf,useOptimistic:function(s,c){var m=yr();return on!==null?f0(m,on,s,c):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:$l,useCacheRefresh:fA};yA.useEffectEvent=eA;function sx(s,c,m,v){c=s.memoizedState,m=m(v,c),m=m==null?c:p({},c,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var lx={enqueueSetState:function(s,c,m){s=s._reactInternals;var v=yo(),C=Ft(v);C.payload=c,m!=null&&(C.callback=m),c=jn(s,C,v),c!==null&&(Ya(c,s,v),Yr(c,s,v))},enqueueReplaceState:function(s,c,m){s=s._reactInternals;var v=yo(),C=Ft(v);C.tag=1,C.payload=c,m!=null&&(C.callback=m),c=jn(s,C,v),c!==null&&(Ya(c,s,v),Yr(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var m=yo(),v=Ft(m);v.tag=2,c!=null&&(v.callback=c),c=jn(s,v,m),c!==null&&(Ya(c,s,m),Yr(c,s,m))}};function vA(s,c,m,v,C,T,J){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,T,J):c.prototype&&c.prototype.isPureReactComponent?!Ia(m,v)||!Ia(C,T):!0}function xA(s,c,m,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==s&&lx.enqueueReplaceState(c,c.state,null)}function bd(s,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(s=s.defaultProps){m===c&&(m=p({},m));for(var C in s)m[C]===void 0&&(m[C]=s[C])}return m}function bA(s){Ul(s)}function wA(s){console.error(s)}function NA(s){Ul(s)}function v0(s,c){try{var m=s.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function SA(s,c,m){try{var v=s.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function cx(s,c,m){return m=Ft(m),m.tag=3,m.payload={element:null},m.callback=function(){v0(s,c)},m}function AA(s){return s=Ft(s),s.tag=3,s}function _A(s,c,m,v){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var T=v.value;s.payload=function(){return C(T)},s.callback=function(){SA(c,m,v)}}var J=m.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(s.callback=function(){SA(c,m,v),typeof C!="function"&&(uu===null?uu=new Set([this]):uu.add(this));var ce=v.stack;this.componentDidCatch(v.value,{componentStack:ce!==null?ce:""})})}function W8(s,c,m,v,C){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&sl(c,m,C,!0),m=Cr.current,m!==null){switch(m.tag){case 31:case 13:return Jr===null?P0():m.alternate===null&&Rr===0&&(Rr=3),m.flags&=-257,m.flags|=65536,m.lanes=C,v===ke?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),Dx(s,v,C)),!1;case 22:return m.flags|=65536,v===ke?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),Dx(s,v,C)),!1}throw Error(r(435,m.tag))}return Dx(s,v,C),P0(),!1}if(ln)return c=Cr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=C,v!==po&&(s=Error(r(422),{cause:v}),eu(Oa(s,m)))):(v!==po&&(c=Error(r(423),{cause:v}),eu(Oa(c,m))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,v=Oa(v,m),C=cx(s.stateNode,v,C),pr(s,C),Rr!==4&&(Rr=2)),!1;var T=Error(r(520),{cause:v});if(T=Oa(T,m),Sp===null?Sp=[T]:Sp.push(T),Rr!==4&&(Rr=2),c===null)return!0;v=Oa(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,s=C&-C,m.lanes|=s,s=cx(m.stateNode,v,s),pr(m,s),!1;case 1:if(c=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(uu===null||!uu.has(T))))return m.flags|=65536,C&=-C,m.lanes|=C,C=AA(C),_A(C,s,m,v),pr(m,C),!1}m=m.return}while(m!==null);return!1}var ux=Error(r(461)),Qr=!1;function Fi(s,c,m,v){c.child=s===null?hn(c,null,m,v):cn(c,s.child,m,v)}function CA(s,c,m,v,C){m=m.render;var T=c.ref;if("ref"in v){var J={};for(var ce in v)ce!=="ref"&&(J[ce]=v[ce])}else J=v;return ll(c),v=sp(s,c,m,J,T,C),ce=lp(),s!==null&&!Qr?(cp(s,c,C),Kl(s,c,C)):(ln&&ce&&rp(c),c.flags|=1,Fi(s,c,v,C),c.child)}function EA(s,c,m,v,C){if(s===null){var T=m.type;return typeof T=="function"&&!xf(T)&&T.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=T,kA(s,c,T,v,C)):(s=Xc(m.type,null,v,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(T=s.child,!vx(s,C)){var J=T.memoizedProps;if(m=m.compare,m=m!==null?m:Ia,m(J,v)&&s.ref===c.ref)return Kl(s,c,C)}return c.flags|=1,s=La(T,v),s.ref=c.ref,s.return=c,c.child=s}function kA(s,c,m,v,C){if(s!==null){var T=s.memoizedProps;if(Ia(T,v)&&s.ref===c.ref)if(Qr=!1,c.pendingProps=v=T,vx(s,C))(s.flags&131072)!==0&&(Qr=!0);else return c.lanes=s.lanes,Kl(s,c,C)}return dx(s,c,m,v,C)}function TA(s,c,m,v){var C=v.children,T=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|m:m,s!==null){for(v=c.child=s.child,C=0;v!==null;)C=C|v.lanes|v.childLanes,v=v.sibling;v=C&~T}else v=0,c.child=null;return PA(s,c,T,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&ue(c,T!==null?T.cachePool:null),T!==null?va(c,T):Ha(),or(c);else return v=c.lanes=536870912,PA(s,c,T!==null?T.baseLanes|m:m,m,v)}else T!==null?(ue(c,T.cachePool),va(c,T),Uo(),c.memoizedState=null):(s!==null&&ue(c,null),Ha(),Uo());return Fi(s,c,C,m),c.child}function gp(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function PA(s,c,m,v,C){var T=le();return T=T===null?null:{parent:_r._currentValue,pool:T},c.memoizedState={baseLanes:m,cachePool:T},s!==null&&ue(c,null),Ha(),or(c),s!==null&&sl(s,c,v,!0),c.childLanes=C,null}function x0(s,c){return c=w0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function jA(s,c,m){return cn(c,s.child,null,m),s=x0(c,c.pendingProps),s.flags|=2,ta(c),c.memoizedState=null,s}function Y8(s,c,m){var v=c.pendingProps,C=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(ln){if(v.mode==="hidden")return s=x0(c,v),c.lanes=536870912,gp(null,s);if(Bo(c),(s=$n)?(s=H_(s,hr),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:rl!==null?{id:Fa,overflow:za}:null,retryLane:536870912,hydrationErrors:null},m=bf(s),m.return=c,c.child=m,si=c,$n=null)):s=null,s===null)throw il(c);return c.lanes=536870912,null}return x0(c,v)}var T=s.memoizedState;if(T!==null){var J=T.dehydrated;if(Bo(c),C)if(c.flags&256)c.flags&=-257,c=jA(s,c,m);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(r(558));else if(Qr||sl(s,c,m,!1),C=(m&s.childLanes)!==0,Qr||C){if(v=Yn,v!==null&&(J=jr(v,m),J!==0&&J!==T.retryLane))throw T.retryLane=J,ps(s,J),Ya(v,s,J),ux;P0(),c=jA(s,c,m)}else s=T.treeContext,$n=Ho(J.nextSibling),si=c,ln=!0,Ui=null,hr=!1,s!==null&&c0(c,s),c=x0(c,v),c.flags|=4096;return c}return s=La(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function b0(s,c){var m=c.ref;if(m===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(c.flags|=4194816)}}function dx(s,c,m,v,C){return ll(c),m=sp(s,c,m,v,void 0,C),v=lp(),s!==null&&!Qr?(cp(s,c,C),Kl(s,c,C)):(ln&&v&&rp(c),c.flags|=1,Fi(s,c,m,C),c.child)}function IA(s,c,m,v,C,T){return ll(c),c.updateQueue=null,m=ys(c,v,m,C),Tf(s),v=lp(),s!==null&&!Qr?(cp(s,c,T),Kl(s,c,T)):(ln&&v&&rp(c),c.flags|=1,Fi(s,c,m,T),c.child)}function MA(s,c,m,v,C){if(ll(c),c.stateNode===null){var T=oi,J=m.contextType;typeof J=="object"&&J!==null&&(T=ci(J)),T=new m(v,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=lx,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=v,T.state=c.memoizedState,T.refs={},Cn(c),J=m.contextType,T.context=typeof J=="object"&&J!==null?ci(J):oi,T.state=c.memoizedState,J=m.getDerivedStateFromProps,typeof J=="function"&&(sx(c,m,J,v),T.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(J=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),J!==T.state&&lx.enqueueReplaceState(T,T.state,null),ui(c,v,T,C),yn(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){T=c.stateNode;var ce=c.memoizedProps,be=bd(m,ce);T.props=be;var Le=T.context,We=m.contextType;J=oi,typeof We=="object"&&We!==null&&(J=ci(We));var et=m.getDerivedStateFromProps;We=typeof et=="function"||typeof T.getSnapshotBeforeUpdate=="function",ce=c.pendingProps!==ce,We||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(ce||Le!==J)&&xA(c,T,v,J),Jt=!1;var Oe=c.memoizedState;T.state=Oe,ui(c,v,T,C),yn(),Le=c.memoizedState,ce||Oe!==Le||Jt?(typeof et=="function"&&(sx(c,m,et,v),Le=c.memoizedState),(be=Jt||vA(c,m,be,v,Oe,Le,J))?(We||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Le),T.props=v,T.state=Le,T.context=J,v=be):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{T=c.stateNode,wn(s,c),J=c.memoizedProps,We=bd(m,J),T.props=We,et=c.pendingProps,Oe=T.context,Le=m.contextType,be=oi,typeof Le=="object"&&Le!==null&&(be=ci(Le)),ce=m.getDerivedStateFromProps,(Le=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(J!==et||Oe!==be)&&xA(c,T,v,be),Jt=!1,Oe=c.memoizedState,T.state=Oe,ui(c,v,T,C),yn();var He=c.memoizedState;J!==et||Oe!==He||Jt||s!==null&&s.dependencies!==null&&_f(s.dependencies)?(typeof ce=="function"&&(sx(c,m,ce,v),He=c.memoizedState),(We=Jt||vA(c,m,We,v,Oe,He,be)||s!==null&&s.dependencies!==null&&_f(s.dependencies))?(Le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(v,He,be),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(v,He,be)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||J===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=He),T.props=v,T.state=He,T.context=be,v=We):(typeof T.componentDidUpdate!="function"||J===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=1024),v=!1)}return T=v,b0(s,c),v=(c.flags&128)!==0,T||v?(T=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,s!==null&&v?(c.child=cn(c,s.child,null,C),c.child=cn(c,null,m,C)):Fi(s,c,m,C),c.memoizedState=T.state,s=c.child):s=Kl(s,c,C),s}function DA(s,c,m,v){return ql(),c.flags|=256,Fi(s,c,m,v),c.child}var fx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hx(s){return{baseLanes:s,cachePool:ye()}}function px(s,c,m){return s=s!==null?s.childLanes&~m:0,c&&(s|=go),s}function RA(s,c,m){var v=c.pendingProps,C=!1,T=(c.flags&128)!==0,J;if((J=T)||(J=s!==null&&s.memoizedState===null?!1:(gr.current&2)!==0),J&&(C=!0,c.flags&=-129),J=(c.flags&32)!==0,c.flags&=-33,s===null){if(ln){if(C?xa(c):Uo(),(s=$n)?(s=H_(s,hr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:rl!==null?{id:Fa,overflow:za}:null,retryLane:536870912,hydrationErrors:null},m=bf(s),m.return=c,c.child=m,si=c,$n=null)):s=null,s===null)throw il(c);return Jx(s)?c.lanes=32:c.lanes=536870912,null}var ce=v.children;return v=v.fallback,C?(Uo(),C=c.mode,ce=w0({mode:"hidden",children:ce},C),v=nl(v,C,m,null),ce.return=c,v.return=c,ce.sibling=v,c.child=ce,v=c.child,v.memoizedState=hx(m),v.childLanes=px(s,J,m),c.memoizedState=fx,gp(null,v)):(xa(c),mx(c,ce))}var be=s.memoizedState;if(be!==null&&(ce=be.dehydrated,ce!==null)){if(T)c.flags&256?(xa(c),c.flags&=-257,c=gx(s,c,m)):c.memoizedState!==null?(Uo(),c.child=s.child,c.flags|=128,c=null):(Uo(),ce=v.fallback,C=c.mode,v=w0({mode:"visible",children:v.children},C),ce=nl(ce,C,m,null),ce.flags|=2,v.return=c,ce.return=c,v.sibling=ce,c.child=v,cn(c,s.child,null,m),v=c.child,v.memoizedState=hx(m),v.childLanes=px(s,J,m),c.memoizedState=fx,c=gp(null,v));else if(xa(c),Jx(ce)){if(J=ce.nextSibling&&ce.nextSibling.dataset,J)var Le=J.dgst;J=Le,v=Error(r(419)),v.stack="",v.digest=J,eu({value:v,source:null,stack:null}),c=gx(s,c,m)}else if(Qr||sl(s,c,m,!1),J=(m&s.childLanes)!==0,Qr||J){if(J=Yn,J!==null&&(v=jr(J,m),v!==0&&v!==be.retryLane))throw be.retryLane=v,ps(s,v),Ya(J,s,v),ux;Kx(ce)||P0(),c=gx(s,c,m)}else Kx(ce)?(c.flags|=192,c.child=s.child,c=null):(s=be.treeContext,$n=Ho(ce.nextSibling),si=c,ln=!0,Ui=null,hr=!1,s!==null&&c0(c,s),c=mx(c,v.children),c.flags|=4096);return c}return C?(Uo(),ce=v.fallback,C=c.mode,be=s.child,Le=be.sibling,v=La(be,{mode:"hidden",children:v.children}),v.subtreeFlags=be.subtreeFlags&65011712,Le!==null?ce=La(Le,ce):(ce=nl(ce,C,m,null),ce.flags|=2),ce.return=c,v.return=c,v.sibling=ce,c.child=v,gp(null,v),v=c.child,ce=s.child.memoizedState,ce===null?ce=hx(m):(C=ce.cachePool,C!==null?(be=_r._currentValue,C=C.parent!==be?{parent:be,pool:be}:C):C=ye(),ce={baseLanes:ce.baseLanes|m,cachePool:C}),v.memoizedState=ce,v.childLanes=px(s,J,m),c.memoizedState=fx,gp(s.child,v)):(xa(c),m=s.child,s=m.sibling,m=La(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,s!==null&&(J=c.deletions,J===null?(c.deletions=[s],c.flags|=16):J.push(s)),c.child=m,c.memoizedState=null,m)}function mx(s,c){return c=w0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function w0(s,c){return s=Si(22,s,null,c),s.lanes=0,s}function gx(s,c,m){return cn(c,s.child,null,m),s=mx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function LA(s,c,m){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),tu(s.return,c,m)}function yx(s,c,m,v,C,T){var J=s.memoizedState;J===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:C,treeForkCount:T}:(J.isBackwards=c,J.rendering=null,J.renderingStartTime=0,J.last=v,J.tail=m,J.tailMode=C,J.treeForkCount=T)}function OA(s,c,m){var v=c.pendingProps,C=v.revealOrder,T=v.tail;v=v.children;var J=gr.current,ce=(J&2)!==0;if(ce?(J=J&1|2,c.flags|=128):J&=1,H(gr,J),Fi(s,c,v,m),v=ln?pd:0,!ce&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&LA(s,m,c);else if(s.tag===19)LA(s,m,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(C){case"forwards":for(m=c.child,C=null;m!==null;)s=m.alternate,s!==null&&Vl(s)===null&&(C=m),m=m.sibling;m=C,m===null?(C=c.child,c.child=null):(C=m.sibling,m.sibling=null),yx(c,!1,C,m,T,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&Vl(s)===null){c.child=C;break}s=C.sibling,C.sibling=m,m=C,C=s}yx(c,!0,m,null,T,v);break;case"together":yx(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Kl(s,c,m){if(s!==null&&(c.dependencies=s.dependencies),cu|=c.lanes,(m&c.childLanes)===0)if(s!==null){if(sl(s,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,m=La(s,s.pendingProps),c.child=m,m.return=c;s.sibling!==null;)s=s.sibling,m=m.sibling=La(s,s.pendingProps),m.return=c;m.sibling=null}return c.child}function vx(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&_f(s)))}function K8(s,c,m){switch(c.tag){case 3:he(c,c.stateNode.containerInfo),ol(c,_r,s.memoizedState.cache),ql();break;case 27:case 5:me(c);break;case 4:he(c,c.stateNode.containerInfo);break;case 10:ol(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Bo(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(xa(c),c.flags|=128,null):(m&c.child.childLanes)!==0?RA(s,c,m):(xa(c),s=Kl(s,c,m),s!==null?s.sibling:null);xa(c);break;case 19:var C=(s.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(sl(s,c,m,!1),v=(m&c.childLanes)!==0),C){if(v)return OA(s,c,m);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),H(gr,gr.current),v)break;return null;case 22:return c.lanes=0,TA(s,c,m,c.pendingProps);case 24:ol(c,_r,s.memoizedState.cache)}return Kl(s,c,m)}function BA(s,c,m){if(s!==null)if(s.memoizedProps!==c.pendingProps)Qr=!0;else{if(!vx(s,m)&&(c.flags&128)===0)return Qr=!1,K8(s,c,m);Qr=(s.flags&131072)!==0}else Qr=!1,ln&&(c.flags&1048576)!==0&&l0(c,pd,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=Ae(c.elementType),c.type=s,typeof s=="function")xf(s)?(v=bd(s,v),c.tag=1,c=MA(null,c,s,v,m)):(c.tag=0,c=dx(null,c,s,v,m));else{if(s!=null){var C=s.$$typeof;if(C===M){c.tag=11,c=CA(null,c,s,v,m);break e}else if(C===D){c.tag=14,c=EA(null,c,s,v,m);break e}}throw c=$(s)||s,Error(r(306,c,""))}}return c;case 0:return dx(s,c,c.type,c.pendingProps,m);case 1:return v=c.type,C=bd(v,c.pendingProps),MA(s,c,v,C,m);case 3:e:{if(he(c,c.stateNode.containerInfo),s===null)throw Error(r(387));v=c.pendingProps;var T=c.memoizedState;C=T.element,wn(s,c),ui(c,v,null,m);var J=c.memoizedState;if(v=J.cache,ol(c,_r,v),v!==T.cache&&Hl(c,[_r],m,!0),yn(),v=J.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:J.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=DA(s,c,v,m);break e}else if(v!==C){C=Oa(Error(r(424)),c),eu(C),c=DA(s,c,v,m);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for($n=Ho(s.firstChild),si=c,ln=!0,Ui=null,hr=!0,m=hn(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ql(),v===C){c=Kl(s,c,m);break e}Fi(s,c,v,m)}c=c.child}return c;case 26:return b0(s,c),s===null?(m=K_(c.type,null,c.pendingProps,null))?c.memoizedState=m:ln||(m=c.type,s=c.pendingProps,v=O0(fe.current).createElement(m),v[yt]=c,v[tn]=s,zi(v,m,s),Ir(v),c.stateNode=v):c.memoizedState=K_(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return me(c),s===null&&ln&&(v=c.stateNode=$_(c.type,c.pendingProps,fe.current),si=c,hr=!0,C=$n,pu(c.type)?(Xx=C,$n=Ho(v.firstChild)):$n=C),Fi(s,c,c.pendingProps.children,m),b0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&ln&&((C=v=$n)&&(v=_7(v,c.type,c.pendingProps,hr),v!==null?(c.stateNode=v,si=c,$n=Ho(v.firstChild),hr=!1,C=!0):C=!1),C||il(c)),me(c),C=c.type,T=c.pendingProps,J=s!==null?s.memoizedProps:null,v=T.children,$x(C,T)?v=null:J!==null&&$x(C,J)&&(c.flags|=32),c.memoizedState!==null&&(C=sp(s,c,Zv,null,null,m),jp._currentValue=C),b0(s,c),Fi(s,c,v,m),c.child;case 6:return s===null&&ln&&((s=m=$n)&&(m=C7(m,c.pendingProps,hr),m!==null?(c.stateNode=m,si=c,$n=null,s=!0):s=!1),s||il(c)),null;case 13:return RA(s,c,m);case 4:return he(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=cn(c,null,v,m):Fi(s,c,v,m),c.child;case 11:return CA(s,c,c.type,c.pendingProps,m);case 7:return Fi(s,c,c.pendingProps,m),c.child;case 8:return Fi(s,c,c.pendingProps.children,m),c.child;case 12:return Fi(s,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,ol(c,c.type,v.value),Fi(s,c,v.children,m),c.child;case 9:return C=c.type._context,v=c.pendingProps.children,ll(c),C=ci(C),v=v(C),c.flags|=1,Fi(s,c,v,m),c.child;case 14:return EA(s,c,c.type,c.pendingProps,m);case 15:return kA(s,c,c.type,c.pendingProps,m);case 19:return OA(s,c,m);case 31:return Y8(s,c,m);case 22:return TA(s,c,m,c.pendingProps);case 24:return ll(c),v=ci(_r),s===null?(C=le(),C===null&&(C=Yn,T=nu(),C.pooledCache=T,T.refCount++,T!==null&&(C.pooledCacheLanes|=m),C=T),c.memoizedState={parent:v,cache:C},Cn(c),ol(c,_r,C)):((s.lanes&m)!==0&&(wn(s,c),ui(c,null,null,m),yn()),C=s.memoizedState,T=c.memoizedState,C.parent!==v?(C={parent:v,cache:v},c.memoizedState=C,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=C),ol(c,_r,v)):(v=T.cache,ol(c,_r,v),v!==C.cache&&Hl(c,[_r],m,!0))),Fi(s,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Jl(s){s.flags|=4}function xx(s,c,m,v,C){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(C&335544128)===C)if(s.stateNode.complete)s.flags|=8192;else if(d_())s.flags|=8192;else throw Ee=ke,Me}else s.flags&=-16777217}function UA(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!e4(c))if(d_())s.flags|=8192;else throw Ee=ke,Me}function N0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Tr():536870912,s.lanes|=c,Ff|=c)}function yp(s,c){if(!ln)switch(s.tailMode){case"hidden":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function sr(s){var c=s.alternate!==null&&s.alternate.child===s.child,m=0,v=0;if(c)for(var C=s.child;C!==null;)m|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)m|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=v,s.childLanes=m,c}function J8(s,c,m){var v=c.pendingProps;switch(Sf(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(c),null;case 1:return sr(c),null;case 3:return m=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),qa(_r),te(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(li(c)?Jl(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ap())),sr(c),null;case 26:var C=c.type,T=c.memoizedState;return s===null?(Jl(c),T!==null?(sr(c),UA(c,T)):(sr(c),xx(c,C,null,v,m))):T?T!==s.memoizedState?(Jl(c),sr(c),UA(c,T)):(sr(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&Jl(c),sr(c),xx(c,C,s,v,m)),null;case 27:if(xe(c),m=fe.current,C=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Jl(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return sr(c),null}s=re.current,li(c)?ip(c):(s=$_(C,v,m),c.stateNode=s,Jl(c))}return sr(c),null;case 5:if(xe(c),C=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Jl(c);else{if(!v){if(c.stateNode===null)throw Error(r(166));return sr(c),null}if(T=re.current,li(c))ip(c);else{var J=O0(fe.current);switch(T){case 1:T=J.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:T=J.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":T=J.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":T=J.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":T=J.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof v.is=="string"?J.createElement("select",{is:v.is}):J.createElement("select"),v.multiple?T.multiple=!0:v.size&&(T.size=v.size);break;default:T=typeof v.is=="string"?J.createElement(C,{is:v.is}):J.createElement(C)}}T[yt]=c,T[tn]=v;e:for(J=c.child;J!==null;){if(J.tag===5||J.tag===6)T.appendChild(J.stateNode);else if(J.tag!==4&&J.tag!==27&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===c)break e;for(;J.sibling===null;){if(J.return===null||J.return===c)break e;J=J.return}J.sibling.return=J.return,J=J.sibling}c.stateNode=T;e:switch(zi(T,C,v),C){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Jl(c)}}return sr(c),xx(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,m),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&Jl(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(r(166));if(s=fe.current,li(c)){if(s=c.stateNode,m=c.memoizedProps,v=null,C=si,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}s[yt]=c,s=!!(s.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||R_(s.nodeValue,m)),s||il(c,!0)}else s=O0(s).createTextNode(v),s[yt]=c,c.stateNode=s}return sr(c),null;case 31:if(m=c.memoizedState,s===null||s.memoizedState!==null){if(v=li(c),m!==null){if(s===null){if(!v)throw Error(r(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[yt]=c}else ql(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;sr(c),s=!1}else m=ap(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return c.flags&256?(ta(c),c):(ta(c),null);if((c.flags&128)!==0)throw Error(r(558))}return sr(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=li(c),v!==null&&v.dehydrated!==null){if(s===null){if(!C)throw Error(r(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[yt]=c}else ql(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;sr(c),C=!1}else C=ap(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return c.flags&256?(ta(c),c):(ta(c),null)}return ta(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,s=s!==null&&s.memoizedState!==null,m&&(v=c.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool),T=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(T=v.memoizedState.cachePool.pool),T!==C&&(v.flags|=2048)),m!==s&&m&&(c.child.flags|=8192),N0(c,c.updateQueue),sr(c),null);case 4:return te(),s===null&&zx(c.stateNode.containerInfo),sr(c),null;case 10:return qa(c.type),sr(c),null;case 19:if(V(gr),v=c.memoizedState,v===null)return sr(c),null;if(C=(c.flags&128)!==0,T=v.rendering,T===null)if(C)yp(v,!1);else{if(Rr!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(T=Vl(s),T!==null){for(c.flags|=128,yp(v,!1),s=T.updateQueue,c.updateQueue=s,N0(c,s),c.subtreeFlags=0,s=m,m=c.child;m!==null;)fd(m,s),m=m.sibling;return H(gr,gr.current&1|2),ln&&ya(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&Nt()>E0&&(c.flags|=128,C=!0,yp(v,!1),c.lanes=4194304)}else{if(!C)if(s=Vl(T),s!==null){if(c.flags|=128,C=!0,s=s.updateQueue,c.updateQueue=s,N0(c,s),yp(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!ln)return sr(c),null}else 2*Nt()-v.renderingStartTime>E0&&m!==536870912&&(c.flags|=128,C=!0,yp(v,!1),c.lanes=4194304);v.isBackwards?(T.sibling=c.child,c.child=T):(s=v.last,s!==null?s.sibling=T:c.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Nt(),s.sibling=null,m=gr.current,H(gr,C?m&1|2:m&1),ln&&ya(c,v.treeForkCount),s):(sr(c),null);case 22:case 23:return ta(c),Dr(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(sr(c),c.subtreeFlags&6&&(c.flags|=8192)):sr(c),m=c.updateQueue,m!==null&&N0(c,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),s!==null&&V(oe),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),qa(_r),sr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function X8(s,c){switch(Sf(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return qa(_r),te(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return xe(c),null;case 31:if(c.memoizedState!==null){if(ta(c),c.alternate===null)throw Error(r(340));ql()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(ta(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ql()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return V(gr),null;case 4:return te(),null;case 10:return qa(c.type),null;case 22:case 23:return ta(c),Dr(),s!==null&&V(oe),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return qa(_r),null;case 25:return null;default:return null}}function FA(s,c){switch(Sf(c),c.tag){case 3:qa(_r),te();break;case 26:case 27:case 5:xe(c);break;case 4:te();break;case 31:c.memoizedState!==null&&ta(c);break;case 13:ta(c);break;case 19:V(gr);break;case 10:qa(c.type);break;case 22:case 23:ta(c),Dr(),s!==null&&V(oe);break;case 24:qa(_r)}}function vp(s,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var C=v.next;m=C;do{if((m.tag&s)===s){v=void 0;var T=m.create,J=m.inst;v=T(),J.destroy=v}m=m.next}while(m!==C)}}catch(ce){Mn(c,c.return,ce)}}function su(s,c,m){try{var v=c.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var T=C.next;v=T;do{if((v.tag&s)===s){var J=v.inst,ce=J.destroy;if(ce!==void 0){J.destroy=void 0,C=c;var be=m,Le=ce;try{Le()}catch(We){Mn(C,be,We)}}}v=v.next}while(v!==T)}}catch(We){Mn(c,c.return,We)}}function zA(s){var c=s.updateQueue;if(c!==null){var m=s.stateNode;try{qr(c,m)}catch(v){Mn(s,s.return,v)}}}function qA(s,c,m){m.props=bd(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(v){Mn(s,c,v)}}function xp(s,c){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof m=="function"?s.refCleanup=m(v):m.current=v}}catch(C){Mn(s,c,C)}}function hl(s,c){var m=s.ref,v=s.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(C){Mn(s,c,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){Mn(s,c,C)}else m.current=null}function HA(s){var c=s.type,m=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(C){Mn(s,s.return,C)}}function bx(s,c,m){try{var v=s.stateNode;x7(v,s.type,m,c),v[tn]=c}catch(C){Mn(s,s.return,C)}}function VA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pu(s.type)||s.tag===4}function wx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||VA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pu(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Nx(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(s),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Qn));else if(v!==4&&(v===27&&pu(s.type)&&(m=s.stateNode,c=null),s=s.child,s!==null))for(Nx(s,c,m),s=s.sibling;s!==null;)Nx(s,c,m),s=s.sibling}function S0(s,c,m){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?m.insertBefore(s,c):m.appendChild(s);else if(v!==4&&(v===27&&pu(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(S0(s,c,m),s=s.sibling;s!==null;)S0(s,c,m),s=s.sibling}function GA(s){var c=s.stateNode,m=s.memoizedProps;try{for(var v=s.type,C=c.attributes;C.length;)c.removeAttributeNode(C[0]);zi(c,v,m),c[yt]=s,c[tn]=m}catch(T){Mn(s,s.return,T)}}var Xl=!1,Zr=!1,Sx=!1,$A=typeof WeakSet=="function"?WeakSet:Set,_i=null;function Q8(s,c){if(s=s.containerInfo,Vx=V0,s=fo(s),ho(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var C=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var J=0,ce=-1,be=-1,Le=0,We=0,et=s,Oe=null;t:for(;;){for(var He;et!==m||C!==0&&et.nodeType!==3||(ce=J+C),et!==T||v!==0&&et.nodeType!==3||(be=J+v),et.nodeType===3&&(J+=et.nodeValue.length),(He=et.firstChild)!==null;)Oe=et,et=He;for(;;){if(et===s)break t;if(Oe===m&&++Le===C&&(ce=J),Oe===T&&++We===v&&(be=J),(He=et.nextSibling)!==null)break;et=Oe,Oe=et.parentNode}et=He}m=ce===-1||be===-1?null:{start:ce,end:be}}else m=null}m=m||{start:0,end:0}}else m=null;for(Gx={focusedElem:s,selectionRange:m},V0=!1,_i=c;_i!==null;)if(c=_i,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,_i=s;else for(;_i!==null;){switch(c=_i,T=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)C=s[m],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,m=c,C=T.memoizedProps,T=T.memoizedState,v=m.stateNode;try{var _t=bd(m.type,C);s=v.getSnapshotBeforeUpdate(_t,T),v.__reactInternalSnapshotBeforeUpdate=s}catch(zt){Mn(m,m.return,zt)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,m=s.nodeType,m===9)Yx(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Yx(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=c.sibling,s!==null){s.return=c.return,_i=s;break}_i=c.return}}function WA(s,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Zl(s,m),v&4&&vp(5,m);break;case 1:if(Zl(s,m),v&4)if(s=m.stateNode,c===null)try{s.componentDidMount()}catch(J){Mn(m,m.return,J)}else{var C=bd(m.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(C,c,s.__reactInternalSnapshotBeforeUpdate)}catch(J){Mn(m,m.return,J)}}v&64&&zA(m),v&512&&xp(m,m.return);break;case 3:if(Zl(s,m),v&64&&(s=m.updateQueue,s!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{qr(s,c)}catch(J){Mn(m,m.return,J)}}break;case 27:c===null&&v&4&&GA(m);case 26:case 5:Zl(s,m),c===null&&v&4&&HA(m),v&512&&xp(m,m.return);break;case 12:Zl(s,m);break;case 31:Zl(s,m),v&4&&JA(s,m);break;case 13:Zl(s,m),v&4&&XA(s,m),v&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=s7.bind(null,m),E7(s,m))));break;case 22:if(v=m.memoizedState!==null||Xl,!v){c=c!==null&&c.memoizedState!==null||Zr,C=Xl;var T=Zr;Xl=v,(Zr=c)&&!T?ec(s,m,(m.subtreeFlags&8772)!==0):Zl(s,m),Xl=C,Zr=T}break;case 30:break;default:Zl(s,m)}}function YA(s){var c=s.alternate;c!==null&&(s.alternate=null,YA(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Us(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var vr=null,Va=!1;function Ql(s,c,m){for(m=m.child;m!==null;)KA(s,c,m),m=m.sibling}function KA(s,c,m){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(qt,m)}catch{}switch(m.tag){case 26:Zr||hl(m,c),Ql(s,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Zr||hl(m,c);var v=vr,C=Va;pu(m.type)&&(vr=m.stateNode,Va=!1),Ql(s,c,m),kp(m.stateNode),vr=v,Va=C;break;case 5:Zr||hl(m,c);case 6:if(v=vr,C=Va,vr=null,Ql(s,c,m),vr=v,Va=C,vr!==null)if(Va)try{(vr.nodeType===9?vr.body:vr.nodeName==="HTML"?vr.ownerDocument.body:vr).removeChild(m.stateNode)}catch(T){Mn(m,c,T)}else try{vr.removeChild(m.stateNode)}catch(T){Mn(m,c,T)}break;case 18:vr!==null&&(Va?(s=vr,z_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),Yf(s)):z_(vr,m.stateNode));break;case 4:v=vr,C=Va,vr=m.stateNode.containerInfo,Va=!0,Ql(s,c,m),vr=v,Va=C;break;case 0:case 11:case 14:case 15:su(2,m,c),Zr||su(4,m,c),Ql(s,c,m);break;case 1:Zr||(hl(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&qA(m,c,v)),Ql(s,c,m);break;case 21:Ql(s,c,m);break;case 22:Zr=(v=Zr)||m.memoizedState!==null,Ql(s,c,m),Zr=v;break;default:Ql(s,c,m)}}function JA(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Yf(s)}catch(m){Mn(c,c.return,m)}}}function XA(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Yf(s)}catch(m){Mn(c,c.return,m)}}function Z8(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new $A),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new $A),c;default:throw Error(r(435,s.tag))}}function A0(s,c){var m=Z8(s);c.forEach(function(v){if(!m.has(v)){m.add(v);var C=l7.bind(null,s,v);v.then(C,C)}})}function Ga(s,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var C=m[v],T=s,J=c,ce=J;e:for(;ce!==null;){switch(ce.tag){case 27:if(pu(ce.type)){vr=ce.stateNode,Va=!1;break e}break;case 5:vr=ce.stateNode,Va=!1;break e;case 3:case 4:vr=ce.stateNode.containerInfo,Va=!0;break e}ce=ce.return}if(vr===null)throw Error(r(160));KA(T,J,C),vr=null,Va=!1,T=C.alternate,T!==null&&(T.return=null),C.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)QA(c,s),c=c.sibling}var ws=null;function QA(s,c){var m=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ga(c,s),$a(s),v&4&&(su(3,s,s.return),vp(3,s),su(5,s,s.return));break;case 1:Ga(c,s),$a(s),v&512&&(Zr||m===null||hl(m,m.return)),v&64&&Xl&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var C=ws;if(Ga(c,s),$a(s),v&512&&(Zr||m===null||hl(m,m.return)),v&4){var T=m!==null?m.memoizedState:null;if(v=s.memoizedState,m===null)if(v===null)if(s.stateNode===null){e:{v=s.type,m=s.memoizedProps,C=C.ownerDocument||C;t:switch(v){case"title":T=C.getElementsByTagName("title")[0],(!T||T[ko]||T[yt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=C.createElement(v),C.head.insertBefore(T,C.querySelector("head > title"))),zi(T,v,m),T[yt]=s,Ir(T),v=T;break e;case"link":var J=Q_("link","href",C).get(v+(m.href||""));if(J){for(var ce=0;ce<J.length;ce++)if(T=J[ce],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){J.splice(ce,1);break t}}T=C.createElement(v),zi(T,v,m),C.head.appendChild(T);break;case"meta":if(J=Q_("meta","content",C).get(v+(m.content||""))){for(ce=0;ce<J.length;ce++)if(T=J[ce],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){J.splice(ce,1);break t}}T=C.createElement(v),zi(T,v,m),C.head.appendChild(T);break;default:throw Error(r(468,v))}T[yt]=s,Ir(T),v=T}s.stateNode=v}else Z_(C,s.type,s.stateNode);else s.stateNode=X_(C,v,s.memoizedProps);else T!==v?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,v===null?Z_(C,s.type,s.stateNode):X_(C,v,s.memoizedProps)):v===null&&s.stateNode!==null&&bx(s,s.memoizedProps,m.memoizedProps)}break;case 27:Ga(c,s),$a(s),v&512&&(Zr||m===null||hl(m,m.return)),m!==null&&v&4&&bx(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Ga(c,s),$a(s),v&512&&(Zr||m===null||hl(m,m.return)),s.flags&32){C=s.stateNode;try{Po(C,"")}catch(_t){Mn(s,s.return,_t)}}v&4&&s.stateNode!=null&&(C=s.memoizedProps,bx(s,C,m!==null?m.memoizedProps:C)),v&1024&&(Sx=!0);break;case 6:if(Ga(c,s),$a(s),v&4){if(s.stateNode===null)throw Error(r(162));v=s.memoizedProps,m=s.stateNode;try{m.nodeValue=v}catch(_t){Mn(s,s.return,_t)}}break;case 3:if(F0=null,C=ws,ws=B0(c.containerInfo),Ga(c,s),ws=C,$a(s),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Yf(c.containerInfo)}catch(_t){Mn(s,s.return,_t)}Sx&&(Sx=!1,ZA(s));break;case 4:v=ws,ws=B0(s.stateNode.containerInfo),Ga(c,s),$a(s),ws=v;break;case 12:Ga(c,s),$a(s);break;case 31:Ga(c,s),$a(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,A0(s,v)));break;case 13:Ga(c,s),$a(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(C0=Nt()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,A0(s,v)));break;case 22:C=s.memoizedState!==null;var be=m!==null&&m.memoizedState!==null,Le=Xl,We=Zr;if(Xl=Le||C,Zr=We||be,Ga(c,s),Zr=We,Xl=Le,$a(s),v&8192)e:for(c=s.stateNode,c._visibility=C?c._visibility&-2:c._visibility|1,C&&(m===null||be||Xl||Zr||wd(s)),m=null,c=s;;){if(c.tag===5||c.tag===26){if(m===null){be=m=c;try{if(T=be.stateNode,C)J=T.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ce=be.stateNode;var et=be.memoizedProps.style,Oe=et!=null&&et.hasOwnProperty("display")?et.display:null;ce.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(_t){Mn(be,be.return,_t)}}}else if(c.tag===6){if(m===null){be=c;try{be.stateNode.nodeValue=C?"":be.memoizedProps}catch(_t){Mn(be,be.return,_t)}}}else if(c.tag===18){if(m===null){be=c;try{var He=be.stateNode;C?q_(He,!0):q_(be.stateNode,!1)}catch(_t){Mn(be,be.return,_t)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,A0(s,m))));break;case 19:Ga(c,s),$a(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,A0(s,v)));break;case 30:break;case 21:break;default:Ga(c,s),$a(s)}}function $a(s){var c=s.flags;if(c&2){try{for(var m,v=s.return;v!==null;){if(VA(v)){m=v;break}v=v.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var C=m.stateNode,T=wx(s);S0(s,T,C);break;case 5:var J=m.stateNode;m.flags&32&&(Po(J,""),m.flags&=-33);var ce=wx(s);S0(s,ce,J);break;case 3:case 4:var be=m.stateNode.containerInfo,Le=wx(s);Nx(s,Le,be);break;default:throw Error(r(161))}}catch(We){Mn(s,s.return,We)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function ZA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;ZA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Zl(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)WA(s,c.alternate,c),c=c.sibling}function wd(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:su(4,c,c.return),wd(c);break;case 1:hl(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&qA(c,c.return,m),wd(c);break;case 27:kp(c.stateNode);case 26:case 5:hl(c,c.return),wd(c);break;case 22:c.memoizedState===null&&wd(c);break;case 30:wd(c);break;default:wd(c)}s=s.sibling}}function ec(s,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,C=s,T=c,J=T.flags;switch(T.tag){case 0:case 11:case 15:ec(C,T,m),vp(4,T);break;case 1:if(ec(C,T,m),v=T,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Le){Mn(v,v.return,Le)}if(v=T,C=v.updateQueue,C!==null){var ce=v.stateNode;try{var be=C.shared.hiddenCallbacks;if(be!==null)for(C.shared.hiddenCallbacks=null,C=0;C<be.length;C++)ea(be[C],ce)}catch(Le){Mn(v,v.return,Le)}}m&&J&64&&zA(T),xp(T,T.return);break;case 27:GA(T);case 26:case 5:ec(C,T,m),m&&v===null&&J&4&&HA(T),xp(T,T.return);break;case 12:ec(C,T,m);break;case 31:ec(C,T,m),m&&J&4&&JA(C,T);break;case 13:ec(C,T,m),m&&J&4&&XA(C,T);break;case 22:T.memoizedState===null&&ec(C,T,m),xp(T,T.return);break;case 30:break;default:ec(C,T,m)}c=c.sibling}}function Ax(s,c){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&md(m))}function _x(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&md(s))}function Ns(s,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)e_(s,c,m,v),c=c.sibling}function e_(s,c,m,v){var C=c.flags;switch(c.tag){case 0:case 11:case 15:Ns(s,c,m,v),C&2048&&vp(9,c);break;case 1:Ns(s,c,m,v);break;case 3:Ns(s,c,m,v),C&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&md(s)));break;case 12:if(C&2048){Ns(s,c,m,v),s=c.stateNode;try{var T=c.memoizedProps,J=T.id,ce=T.onPostCommit;typeof ce=="function"&&ce(J,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(be){Mn(c,c.return,be)}}else Ns(s,c,m,v);break;case 31:Ns(s,c,m,v);break;case 13:Ns(s,c,m,v);break;case 23:break;case 22:T=c.stateNode,J=c.alternate,c.memoizedState!==null?T._visibility&2?Ns(s,c,m,v):bp(s,c):T._visibility&2?Ns(s,c,m,v):(T._visibility|=2,Of(s,c,m,v,(c.subtreeFlags&10256)!==0||!1)),C&2048&&Ax(J,c);break;case 24:Ns(s,c,m,v),C&2048&&_x(c.alternate,c);break;default:Ns(s,c,m,v)}}function Of(s,c,m,v,C){for(C=C&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=s,J=c,ce=m,be=v,Le=J.flags;switch(J.tag){case 0:case 11:case 15:Of(T,J,ce,be,C),vp(8,J);break;case 23:break;case 22:var We=J.stateNode;J.memoizedState!==null?We._visibility&2?Of(T,J,ce,be,C):bp(T,J):(We._visibility|=2,Of(T,J,ce,be,C)),C&&Le&2048&&Ax(J.alternate,J);break;case 24:Of(T,J,ce,be,C),C&&Le&2048&&_x(J.alternate,J);break;default:Of(T,J,ce,be,C)}c=c.sibling}}function bp(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=s,v=c,C=v.flags;switch(v.tag){case 22:bp(m,v),C&2048&&Ax(v.alternate,v);break;case 24:bp(m,v),C&2048&&_x(v.alternate,v);break;default:bp(m,v)}c=c.sibling}}var wp=8192;function Bf(s,c,m){if(s.subtreeFlags&wp)for(s=s.child;s!==null;)t_(s,c,m),s=s.sibling}function t_(s,c,m){switch(s.tag){case 26:Bf(s,c,m),s.flags&wp&&s.memoizedState!==null&&U7(m,ws,s.memoizedState,s.memoizedProps);break;case 5:Bf(s,c,m);break;case 3:case 4:var v=ws;ws=B0(s.stateNode.containerInfo),Bf(s,c,m),ws=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=wp,wp=16777216,Bf(s,c,m),wp=v):Bf(s,c,m));break;default:Bf(s,c,m)}}function n_(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Np(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];_i=v,i_(v,s)}n_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r_(s),s=s.sibling}function r_(s){switch(s.tag){case 0:case 11:case 15:Np(s),s.flags&2048&&su(9,s,s.return);break;case 3:Np(s);break;case 12:Np(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,_0(s)):Np(s);break;default:Np(s)}}function _0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];_i=v,i_(v,s)}n_(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:su(8,c,c.return),_0(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,_0(c));break;default:_0(c)}s=s.sibling}}function i_(s,c){for(;_i!==null;){var m=_i;switch(m.tag){case 0:case 11:case 15:su(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:md(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,_i=v;else e:for(m=s;_i!==null;){v=_i;var C=v.sibling,T=v.return;if(YA(v),v===m){_i=null;break e}if(C!==null){C.return=T,_i=C;break e}_i=T}}}var e7={getCacheForType:function(s){var c=ci(_r),m=c.data.get(s);return m===void 0&&(m=s(),c.data.set(s,m)),m},cacheSignal:function(){return ci(_r).controller.signal}},t7=typeof WeakMap=="function"?WeakMap:Map,En=0,Yn=null,un=null,pn=0,In=0,mo=null,lu=!1,Uf=!1,Cx=!1,tc=0,Rr=0,cu=0,Nd=0,Ex=0,go=0,Ff=0,Sp=null,Wa=null,kx=!1,C0=0,a_=0,E0=1/0,k0=null,uu=null,di=0,du=null,zf=null,nc=0,Tx=0,Px=null,o_=null,Ap=0,jx=null;function yo(){return(En&2)!==0&&pn!==0?pn&-pn:z.T!==null?Ox():$e()}function s_(){if(go===0)if((pn&536870912)===0||ln){var s=Gn;Gn<<=1,(Gn&3932160)===0&&(Gn=262144),go=s}else go=536870912;return s=Cr.current,s!==null&&(s.flags|=32),go}function Ya(s,c,m){(s===Yn&&(In===2||In===9)||s.cancelPendingCommit!==null)&&(qf(s,0),fu(s,pn,go,!1)),Pr(s,m),((En&2)===0||s!==Yn)&&(s===Yn&&((En&2)===0&&(Nd|=m),Rr===4&&fu(s,pn,go,!1)),pl(s))}function l_(s,c,m){if((En&6)!==0)throw Error(r(327));var v=!m&&(c&127)===0&&(c&s.expiredLanes)===0||nn(s,c),C=v?i7(s,c):Mx(s,c,!0),T=v;do{if(C===0){Uf&&!v&&fu(s,c,0,!1);break}else{if(m=s.current.alternate,T&&!n7(m)){C=Mx(s,c,!1),T=!1;continue}if(C===2){if(T=c,s.errorRecoveryDisabledLanes&T)var J=0;else J=s.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){c=J;e:{var ce=s;C=Sp;var be=ce.current.memoizedState.isDehydrated;if(be&&(qf(ce,J).flags|=256),J=Mx(ce,J,!1),J!==2){if(Cx&&!be){ce.errorRecoveryDisabledLanes|=T,Nd|=T,C=4;break e}T=Wa,Wa=C,T!==null&&(Wa===null?Wa=T:Wa.push.apply(Wa,T))}C=J}if(T=!1,C!==2)continue}}if(C===1){qf(s,0),fu(s,c,0,!0);break}e:{switch(v=s,T=C,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:fu(v,c,go,!lu);break e;case 2:Wa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(C=C0+300-Nt(),10<C)){if(fu(v,c,go,!lu),Ut(v,0,!0)!==0)break e;nc=c,v.timeoutHandle=U_(c_.bind(null,v,m,Wa,k0,kx,c,go,Nd,Ff,lu,T,"Throttled",-0,0),C);break e}c_(v,m,Wa,k0,kx,c,go,Nd,Ff,lu,T,null,-0,0)}}break}while(!0);pl(s)}function c_(s,c,m,v,C,T,J,ce,be,Le,We,et,Oe,He){if(s.timeoutHandle=-1,et=c.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},t_(c,T,et);var _t=(T&62914560)===T?C0-Nt():(T&4194048)===T?a_-Nt():0;if(_t=F7(et,_t),_t!==null){nc=T,s.cancelPendingCommit=_t(y_.bind(null,s,c,T,m,v,C,J,ce,be,We,et,null,Oe,He)),fu(s,T,J,!Le);return}}y_(s,c,T,m,v,C,J,ce,be)}function n7(s){for(var c=s;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var C=m[v],T=C.getSnapshot;C=C.value;try{if(!Oi(T(),C))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fu(s,c,m,v){c&=~Ex,c&=~Nd,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var C=c;0<C;){var T=31-Dt(C),J=1<<T;v[T]=-1,C&=~J}m!==0&&Ki(s,m,c)}function T0(){return(En&6)===0?(_p(0),!1):!0}function Ix(){if(un!==null){if(In===0)var s=un.return;else s=un,Oo=al=null,Pf(s),Ke=null,gt=0,s=un;for(;s!==null;)FA(s.alternate,s),s=s.return;un=null}}function qf(s,c){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,N7(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),nc=0,Ix(),Yn=s,un=m=La(s.current,null),pn=c,In=0,mo=null,lu=!1,Uf=nn(s,c),Cx=!1,Ff=go=Ex=Nd=cu=Rr=0,Wa=Sp=null,kx=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var C=31-Dt(v),T=1<<C;c|=s[C],v&=~T}return tc=c,cd(),m}function u_(s,c){Gt=null,z.H=mp,c===Se||c===Ie?(c=Je(),In=3):c===Me?(c=Je(),In=4):In=c===ux?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,mo=c,un===null&&(Rr=1,v0(s,Oa(c,s.current)))}function d_(){var s=Cr.current;return s===null?!0:(pn&4194048)===pn?Jr===null:(pn&62914560)===pn||(pn&536870912)!==0?s===Jr:!1}function f_(){var s=z.H;return z.H=mp,s===null?mp:s}function h_(){var s=z.A;return z.A=e7,s}function P0(){Rr=4,lu||(pn&4194048)!==pn&&Cr.current!==null||(Uf=!0),(cu&134217727)===0&&(Nd&134217727)===0||Yn===null||fu(Yn,pn,go,!1)}function Mx(s,c,m){var v=En;En|=2;var C=f_(),T=h_();(Yn!==s||pn!==c)&&(k0=null,qf(s,c)),c=!1;var J=Rr;e:do try{if(In!==0&&un!==null){var ce=un,be=mo;switch(In){case 8:Ix(),J=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(c=!0);var Le=In;if(In=0,mo=null,Hf(s,ce,be,Le),m&&Uf){J=0;break e}break;default:Le=In,In=0,mo=null,Hf(s,ce,be,Le)}}r7(),J=Rr;break}catch(We){u_(s,We)}while(!0);return c&&s.shellSuspendCounter++,Oo=al=null,En=v,z.H=C,z.A=T,un===null&&(Yn=null,pn=0,cd()),J}function r7(){for(;un!==null;)p_(un)}function i7(s,c){var m=En;En|=2;var v=f_(),C=h_();Yn!==s||pn!==c?(k0=null,E0=Nt()+500,qf(s,c)):Uf=nn(s,c);e:do try{if(In!==0&&un!==null){c=un;var T=mo;t:switch(In){case 1:In=0,mo=null,Hf(s,c,T,1);break;case 2:case 9:if(Ze(T)){In=0,mo=null,m_(c);break}c=function(){In!==2&&In!==9||Yn!==s||(In=7),pl(s)},T.then(c,c);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:Ze(T)?(In=0,mo=null,m_(c)):(In=0,mo=null,Hf(s,c,T,7));break;case 5:var J=null;switch(un.tag){case 26:J=un.memoizedState;case 5:case 27:var ce=un;if(J?e4(J):ce.stateNode.complete){In=0,mo=null;var be=ce.sibling;if(be!==null)un=be;else{var Le=ce.return;Le!==null?(un=Le,j0(Le)):un=null}break t}}In=0,mo=null,Hf(s,c,T,5);break;case 6:In=0,mo=null,Hf(s,c,T,6);break;case 8:Ix(),Rr=6;break e;default:throw Error(r(462))}}a7();break}catch(We){u_(s,We)}while(!0);return Oo=al=null,z.H=v,z.A=C,En=m,un!==null?0:(Yn=null,pn=0,cd(),Rr)}function a7(){for(;un!==null&&!ut();)p_(un)}function p_(s){var c=BA(s.alternate,s,tc);s.memoizedProps=s.pendingProps,c===null?j0(s):un=c}function m_(s){var c=s,m=c.alternate;switch(c.tag){case 15:case 0:c=IA(m,c,c.pendingProps,c.type,void 0,pn);break;case 11:c=IA(m,c,c.pendingProps,c.type.render,c.ref,pn);break;case 5:Pf(c);default:FA(m,c),c=un=fd(c,tc),c=BA(m,c,tc)}s.memoizedProps=s.pendingProps,c===null?j0(s):un=c}function Hf(s,c,m,v){Oo=al=null,Pf(c),Ke=null,gt=0;var C=c.return;try{if(W8(s,C,c,m,pn)){Rr=1,v0(s,Oa(m,s.current)),un=null;return}}catch(T){if(C!==null)throw un=C,T;Rr=1,v0(s,Oa(m,s.current)),un=null;return}c.flags&32768?(ln||v===1?s=!0:Uf||(pn&536870912)!==0?s=!1:(lu=s=!0,(v===2||v===9||v===3||v===6)&&(v=Cr.current,v!==null&&v.tag===13&&(v.flags|=16384))),g_(c,s)):j0(c)}function j0(s){var c=s;do{if((c.flags&32768)!==0){g_(c,lu);return}s=c.return;var m=J8(c.alternate,c,tc);if(m!==null){un=m;return}if(c=c.sibling,c!==null){un=c;return}un=c=s}while(c!==null);Rr===0&&(Rr=5)}function g_(s,c){do{var m=X8(s.alternate,s);if(m!==null){m.flags&=32767,un=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(s=s.sibling,s!==null)){un=s;return}un=s=m}while(s!==null);Rr=6,un=null}function y_(s,c,m,v,C,T,J,ce,be){s.cancelPendingCommit=null;do I0();while(di!==0);if((En&6)!==0)throw Error(r(327));if(c!==null){if(c===s.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=gf,It(s,m,T,J,ce,be),s===Yn&&(un=Yn=null,pn=0),zf=c,du=s,nc=m,Tx=T,Px=C,o_=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,c7(ht,function(){return N_(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=z.T,z.T=null,C=Y.p,Y.p=2,J=En,En|=4;try{Q8(s,c,m)}finally{En=J,Y.p=C,z.T=v}}di=1,v_(),x_(),b_()}}function v_(){if(di===1){di=0;var s=du,c=zf,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=z.T,z.T=null;var v=Y.p;Y.p=2;var C=En;En|=4;try{QA(c,s);var T=Gx,J=fo(s.containerInfo),ce=T.focusedElem,be=T.selectionRange;if(J!==ce&&ce&&ce.ownerDocument&&fs(ce.ownerDocument.documentElement,ce)){if(be!==null&&ho(ce)){var Le=be.start,We=be.end;if(We===void 0&&(We=Le),"selectionStart"in ce)ce.selectionStart=Le,ce.selectionEnd=Math.min(We,ce.value.length);else{var et=ce.ownerDocument||document,Oe=et&&et.defaultView||window;if(Oe.getSelection){var He=Oe.getSelection(),_t=ce.textContent.length,zt=Math.min(be.start,_t),Hn=be.end===void 0?zt:Math.min(be.end,_t);!He.extend&&zt>Hn&&(J=Hn,Hn=zt,zt=J);var Te=Ma(ce,zt),Ce=Ma(ce,Hn);if(Te&&Ce&&(He.rangeCount!==1||He.anchorNode!==Te.node||He.anchorOffset!==Te.offset||He.focusNode!==Ce.node||He.focusOffset!==Ce.offset)){var Re=et.createRange();Re.setStart(Te.node,Te.offset),He.removeAllRanges(),zt>Hn?(He.addRange(Re),He.extend(Ce.node,Ce.offset)):(Re.setEnd(Ce.node,Ce.offset),He.addRange(Re))}}}}for(et=[],He=ce;He=He.parentNode;)He.nodeType===1&&et.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<et.length;ce++){var Xe=et[ce];Xe.element.scrollLeft=Xe.left,Xe.element.scrollTop=Xe.top}}V0=!!Vx,Gx=Vx=null}finally{En=C,Y.p=v,z.T=m}}s.current=c,di=2}}function x_(){if(di===2){di=0;var s=du,c=zf,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=z.T,z.T=null;var v=Y.p;Y.p=2;var C=En;En|=4;try{WA(s,c.alternate,c)}finally{En=C,Y.p=v,z.T=m}}di=3}}function b_(){if(di===4||di===3){di=0,kt();var s=du,c=zf,m=nc,v=o_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?di=5:(di=0,zf=du=null,w_(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(uu=null),ze(m),c=c.stateNode,vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(qt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=z.T,C=Y.p,Y.p=2,z.T=null;try{for(var T=s.onRecoverableError,J=0;J<v.length;J++){var ce=v[J];T(ce.value,{componentStack:ce.stack})}}finally{z.T=c,Y.p=C}}(nc&3)!==0&&I0(),pl(s),C=s.pendingLanes,(m&261930)!==0&&(C&42)!==0?s===jx?Ap++:(Ap=0,jx=s):Ap=0,_p(0)}}function w_(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,md(c)))}function I0(){return v_(),x_(),b_(),N_()}function N_(){if(di!==5)return!1;var s=du,c=Tx;Tx=0;var m=ze(nc),v=z.T,C=Y.p;try{Y.p=32>m?32:m,z.T=null,m=Px,Px=null;var T=du,J=nc;if(di=0,zf=du=null,nc=0,(En&6)!==0)throw Error(r(331));var ce=En;if(En|=4,r_(T.current),e_(T,T.current,J,m),En=ce,_p(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(qt,T)}catch{}return!0}finally{Y.p=C,z.T=v,w_(s,c)}}function S_(s,c,m){c=Oa(m,c),c=cx(s.stateNode,c,2),s=jn(s,c,2),s!==null&&(Pr(s,2),pl(s))}function Mn(s,c,m){if(s.tag===3)S_(s,s,m);else for(;c!==null;){if(c.tag===3){S_(c,s,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(uu===null||!uu.has(v))){s=Oa(m,s),m=AA(2),v=jn(c,m,2),v!==null&&(_A(m,v,c,s),Pr(v,2),pl(v));break}}c=c.return}}function Dx(s,c,m){var v=s.pingCache;if(v===null){v=s.pingCache=new t7;var C=new Set;v.set(c,C)}else C=v.get(c),C===void 0&&(C=new Set,v.set(c,C));C.has(m)||(Cx=!0,C.add(m),s=o7.bind(null,s,c,m),c.then(s,s))}function o7(s,c,m){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Yn===s&&(pn&m)===m&&(Rr===4||Rr===3&&(pn&62914560)===pn&&300>Nt()-C0?(En&2)===0&&qf(s,0):Ex|=m,Ff===pn&&(Ff=0)),pl(s)}function A_(s,c){c===0&&(c=Tr()),s=ps(s,c),s!==null&&(Pr(s,c),pl(s))}function s7(s){var c=s.memoizedState,m=0;c!==null&&(m=c.retryLane),A_(s,m)}function l7(s,c){var m=0;switch(s.tag){case 31:case 13:var v=s.stateNode,C=s.memoizedState;C!==null&&(m=C.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(c),A_(s,m)}function c7(s,c){return it(s,c)}var M0=null,Vf=null,Rx=!1,D0=!1,Lx=!1,hu=0;function pl(s){s!==Vf&&s.next===null&&(Vf===null?M0=Vf=s:Vf=Vf.next=s),D0=!0,Rx||(Rx=!0,d7())}function _p(s,c){if(!Lx&&D0){Lx=!0;do for(var m=!1,v=M0;v!==null;){if(s!==0){var C=v.pendingLanes;if(C===0)var T=0;else{var J=v.suspendedLanes,ce=v.pingedLanes;T=(1<<31-Dt(42|s)+1)-1,T&=C&~(J&~ce),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,k_(v,T))}else T=pn,T=Ut(v,v===Yn?T:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(T&3)===0||nn(v,T)||(m=!0,k_(v,T));v=v.next}while(m);Lx=!1}}function u7(){__()}function __(){D0=Rx=!1;var s=0;hu!==0&&w7()&&(s=hu);for(var c=Nt(),m=null,v=M0;v!==null;){var C=v.next,T=C_(v,c);T===0?(v.next=null,m===null?M0=C:m.next=C,C===null&&(Vf=m)):(m=v,(s!==0||(T&3)!==0)&&(D0=!0)),v=C}di!==0&&di!==5||_p(s),hu!==0&&(hu=0)}function C_(s,c){for(var m=s.suspendedLanes,v=s.pingedLanes,C=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var J=31-Dt(T),ce=1<<J,be=C[J];be===-1?((ce&m)===0||(ce&v)!==0)&&(C[J]=ro(ce,c)):be<=c&&(s.expiredLanes|=ce),T&=~ce}if(c=Yn,m=pn,m=Ut(s,s===c?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,m===0||s===c&&(In===2||In===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&ct(v),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||nn(s,m)){if(c=m&-m,c===s.callbackPriority)return c;switch(v!==null&&ct(v),ze(m)){case 2:case 8:m=Qe;break;case 32:m=ht;break;case 268435456:m=vt;break;default:m=ht}return v=E_.bind(null,s),m=it(m,v),s.callbackPriority=c,s.callbackNode=m,c}return v!==null&&v!==null&&ct(v),s.callbackPriority=2,s.callbackNode=null,2}function E_(s,c){if(di!==0&&di!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(I0()&&s.callbackNode!==m)return null;var v=pn;return v=Ut(s,s===Yn?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(l_(s,v,c),C_(s,Nt()),s.callbackNode!=null&&s.callbackNode===m?E_.bind(null,s):null)}function k_(s,c){if(I0())return null;l_(s,c,!0)}function d7(){S7(function(){(En&6)!==0?it(De,u7):__()})}function Ox(){if(hu===0){var s=b;s===0&&(s=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),hu=s}return hu}function T_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:jl(""+s)}function P_(s,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,s.id&&m.setAttribute("form",s.id),c.parentNode.insertBefore(m,c),s=new FormData(s),m.parentNode.removeChild(m),s}function f7(s,c,m,v,C){if(c==="submit"&&m&&m.stateNode===C){var T=T_((C[tn]||null).action),J=v.submitter;J&&(c=(c=J[tn]||null)?T_(c.formAction):J.getAttribute("formAction"),c!==null&&(T=c,J=null));var ce=new Dl("action","action",null,v,C);s.push({event:ce,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(hu!==0){var be=J?P_(C,J):new FormData(C);rx(m,{pending:!0,data:be,method:C.method,action:T},null,be)}}else typeof T=="function"&&(ce.preventDefault(),be=J?P_(C,J):new FormData(C),rx(m,{pending:!0,data:be,method:C.method,action:T},T,be))},currentTarget:C}]})}}for(var Bx=0;Bx<Lo.length;Bx++){var Ux=Lo[Bx],h7=Ux.toLowerCase(),p7=Ux[0].toUpperCase()+Ux.slice(1);wi(h7,"on"+p7)}wi(Jc,"onAnimationEnd"),wi(ma,"onAnimationIteration"),wi(Do,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Un,"onTransitionRun"),wi(Fn,"onTransitionStart"),wi(Ar,"onTransitionCancel"),wi(Mr,"onTransitionEnd"),To("onMouseEnter",["mouseout","mouseover"]),To("onMouseLeave",["mouseout","mouseover"]),To("onPointerEnter",["pointerout","pointerover"]),To("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cp));function j_(s,c){c=(c&4)!==0;for(var m=0;m<s.length;m++){var v=s[m],C=v.event;v=v.listeners;e:{var T=void 0;if(c)for(var J=v.length-1;0<=J;J--){var ce=v[J],be=ce.instance,Le=ce.currentTarget;if(ce=ce.listener,be!==T&&C.isPropagationStopped())break e;T=ce,C.currentTarget=Le;try{T(C)}catch(We){Ul(We)}C.currentTarget=null,T=be}else for(J=0;J<v.length;J++){if(ce=v[J],be=ce.instance,Le=ce.currentTarget,ce=ce.listener,be!==T&&C.isPropagationStopped())break e;T=ce,C.currentTarget=Le;try{T(C)}catch(We){Ul(We)}C.currentTarget=null,T=be}}}}function dn(s,c){var m=c[Qt];m===void 0&&(m=c[Qt]=new Set);var v=s+"__bubble";m.has(v)||(I_(c,s,2,!1),m.add(v))}function Fx(s,c,m){var v=0;c&&(v|=4),I_(m,s,v,c)}var R0="_reactListening"+Math.random().toString(36).slice(2);function zx(s){if(!s[R0]){s[R0]=!0,Pl.forEach(function(m){m!=="selectionchange"&&(m7.has(m)||Fx(m,!1,s),Fx(m,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[R0]||(c[R0]=!0,Fx("selectionchange",!1,c))}}function I_(s,c,m,v){switch(s4(c)){case 2:var C=H7;break;case 8:C=V7;break;default:C=n1}m=C.bind(null,c,m,s),C=void 0,!Il||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),v?C!==void 0?s.addEventListener(c,m,{capture:!0,passive:C}):s.addEventListener(c,m,!0):C!==void 0?s.addEventListener(c,m,{passive:C}):s.addEventListener(c,m,!1)}function qx(s,c,m,v,C){var T=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var ce=v.stateNode.containerInfo;if(ce===C)break;if(J===4)for(J=v.return;J!==null;){var be=J.tag;if((be===3||be===4)&&J.stateNode.containerInfo===C)return;J=J.return}for(;ce!==null;){if(J=io(ce),J===null)return;if(be=J.tag,be===5||be===6||be===26||be===27){v=T=J;continue e}ce=ce.parentNode}}v=v.return}Xu(function(){var Le=T,We=Fc(m),et=[];e:{var Oe=Ro.get(s);if(Oe!==void 0){var He=Dl,_t=s;switch(s){case"keypress":if(so(m)===0)break e;case"keydown":case"keyup":He=ad;break;case"focusin":_t="focus",He=ed;break;case"focusout":_t="blur",He=ed;break;case"beforeblur":case"afterblur":He=ed;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Z;break;case Jc:case ma:case Do:He=ep;break;case Mr:He=Ne;break;case"scroll":case"scrollend":He=uf;break;case"wheel":He=Ge;break;case"copy":case"cut":case"paste":He=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Gc;break;case"toggle":case"beforetoggle":He=bt}var zt=(c&4)!==0,Hn=!zt&&(s==="scroll"||s==="scrollend"),Te=zt?Oe!==null?Oe+"Capture":null:Oe;zt=[];for(var Ce=Le,Re;Ce!==null;){var Xe=Ce;if(Re=Xe.stateNode,Xe=Xe.tag,Xe!==5&&Xe!==26&&Xe!==27||Re===null||Te===null||(Xe=Vs(Ce,Te),Xe!=null&&zt.push(Ep(Ce,Xe,Re))),Hn)break;Ce=Ce.return}0<zt.length&&(Oe=new He(Oe,_t,null,m,We),et.push({event:Oe,listeners:zt}))}}if((c&7)===0){e:{if(Oe=s==="mouseover"||s==="pointerover",He=s==="mouseout"||s==="pointerout",Oe&&m!==Ju&&(_t=m.relatedTarget||m.fromElement)&&(io(_t)||_t[ii]))break e;if((He||Oe)&&(Oe=We.window===We?We:(Oe=We.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,He?(_t=m.relatedTarget||m.toElement,He=Le,_t=_t?io(_t):null,_t!==null&&(Hn=a(_t),zt=_t.tag,_t!==Hn||zt!==5&&zt!==27&&zt!==6)&&(_t=null)):(He=null,_t=Le),He!==_t)){if(zt=ls,Xe="onMouseLeave",Te="onMouseEnter",Ce="mouse",(s==="pointerout"||s==="pointerover")&&(zt=Gc,Xe="onPointerLeave",Te="onPointerEnter",Ce="pointer"),Hn=He==null?Oe:Fs(He),Re=_t==null?Oe:Fs(_t),Oe=new zt(Xe,Ce+"leave",He,m,We),Oe.target=Hn,Oe.relatedTarget=Re,Xe=null,io(We)===Le&&(zt=new zt(Te,Ce+"enter",_t,m,We),zt.target=Re,zt.relatedTarget=Hn,Xe=zt),Hn=Xe,He&&_t)t:{for(zt=g7,Te=He,Ce=_t,Re=0,Xe=Te;Xe;Xe=zt(Xe))Re++;Xe=0;for(var Rt=Ce;Rt;Rt=zt(Rt))Xe++;for(;0<Re-Xe;)Te=zt(Te),Re--;for(;0<Xe-Re;)Ce=zt(Ce),Xe--;for(;Re--;){if(Te===Ce||Ce!==null&&Te===Ce.alternate){zt=Te;break t}Te=zt(Te),Ce=zt(Ce)}zt=null}else zt=null;He!==null&&M_(et,Oe,He,zt,!1),_t!==null&&Hn!==null&&M_(et,Hn,_t,zt,!0)}}e:{if(Oe=Le?Fs(Le):window,He=Oe.nodeName&&Oe.nodeName.toLowerCase(),He==="select"||He==="input"&&Oe.type==="file")var Nn=Ri;else if($c(Oe))if(Bl)Nn=ld;else{Nn=mf;var Tt=sd}else He=Oe.nodeName,!He||He.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Le&&oo(Le.elementType)&&(Nn=Ri):Nn=uo;if(Nn&&(Nn=Nn(s,Le))){Wc(et,Nn,m,We);break e}Tt&&Tt(s,Oe,Le),s==="focusout"&&Le&&Oe.type==="number"&&Le.memoizedProps.value!=null&&Oc(Oe,"number",Oe.value)}switch(Tt=Le?Fs(Le):window,s){case"focusin":($c(Tt)||Tt.contentEditable==="true")&&(bi=Tt,Zs=Le,hs=null);break;case"focusout":hs=Zs=bi=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Da(et,m,We);break;case"selectionchange":if(Kc)break;case"keydown":case"keyup":Da(et,m,We)}var rn;if(Vt)e:{switch(s){case"compositionstart":var mn="onCompositionStart";break e;case"compositionend":mn="onCompositionEnd";break e;case"compositionupdate":mn="onCompositionUpdate";break e}mn=void 0}else xi?ai(s,m)&&(mn="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(mn="onCompositionStart");mn&&(Zn&&m.locale!=="ko"&&(xi||mn!=="onCompositionStart"?mn==="onCompositionEnd"&&xi&&(rn=$s()):(jo=We,Qu="value"in jo?jo.value:jo.textContent,xi=!0)),Tt=L0(Le,mn),0<Tt.length&&(mn=new Ll(mn,s,null,m,We),et.push({event:mn,listeners:Tt}),rn?mn.data=rn:(rn=zr(m),rn!==null&&(mn.data=rn)))),(rn=fn?ha(s,m):cs(s,m))&&(mn=L0(Le,"onBeforeInput"),0<mn.length&&(Tt=new Ll("onBeforeInput","beforeinput",null,m,We),et.push({event:Tt,listeners:mn}),Tt.data=rn)),f7(et,s,Le,m,We)}j_(et,c)})}function Ep(s,c,m){return{instance:s,listener:c,currentTarget:m}}function L0(s,c){for(var m=c+"Capture",v=[];s!==null;){var C=s,T=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||T===null||(C=Vs(s,m),C!=null&&v.unshift(Ep(s,C,T)),C=Vs(s,c),C!=null&&v.push(Ep(s,C,T))),s.tag===3)return v;s=s.return}return[]}function g7(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function M_(s,c,m,v,C){for(var T=c._reactName,J=[];m!==null&&m!==v;){var ce=m,be=ce.alternate,Le=ce.stateNode;if(ce=ce.tag,be!==null&&be===v)break;ce!==5&&ce!==26&&ce!==27||Le===null||(be=Le,C?(Le=Vs(m,T),Le!=null&&J.unshift(Ep(m,Le,be))):C||(Le=Vs(m,T),Le!=null&&J.push(Ep(m,Le,be)))),m=m.return}J.length!==0&&s.push({event:c,listeners:J})}var y7=/\r\n?/g,v7=/\u0000|\uFFFD/g;function D_(s){return(typeof s=="string"?s:""+s).replace(y7,`
`).replace(v7,"")}function R_(s,c){return c=D_(c),D_(s)===c}function qn(s,c,m,v,C,T){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Po(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Po(s,""+v);break;case"className":Xn(s,"class",v);break;case"tabIndex":Xn(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(s,m,v);break;case"style":lf(s,v,T);break;case"data":if(c!=="object"){Xn(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){s.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=jl(""+v),s.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(c!=="input"&&qn(s,c,"name",C.name,C,null),qn(s,c,"formEncType",C.formEncType,C,null),qn(s,c,"formMethod",C.formMethod,C,null),qn(s,c,"formTarget",C.formTarget,C,null)):(qn(s,c,"encType",C.encType,C,null),qn(s,c,"method",C.method,C,null),qn(s,c,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(m);break}v=jl(""+v),s.setAttribute(m,v);break;case"onClick":v!=null&&(s.onclick=Qn);break;case"onScroll":v!=null&&dn("scroll",s);break;case"onScrollEnd":v!=null&&dn("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(C.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}m=jl(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""+v):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":v===!0?s.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(m,v):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(m,v):s.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(m):s.setAttribute(m,v);break;case"popover":dn("beforetoggle",s),dn("toggle",s),Rc(s,"popover",v);break;case"xlinkActuate":Ea(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Ea(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Ea(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Ea(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Ea(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Ea(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Ea(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Ea(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Ea(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Rc(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Bc.get(m)||m,Rc(s,m,v))}}function Hx(s,c,m,v,C,T){switch(m){case"style":lf(s,v,T);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(m=v.__html,m!=null){if(C.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof v=="string"?Po(s,v):(typeof v=="number"||typeof v=="bigint")&&Po(s,""+v);break;case"onScroll":v!=null&&dn("scroll",s);break;case"onScrollEnd":v!=null&&dn("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vu.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),c=m.slice(2,C?m.length-7:void 0),T=s[tn]||null,T=T!=null?T[m]:null,typeof T=="function"&&s.removeEventListener(c,T,C),typeof v=="function")){typeof T!="function"&&T!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(c,v,C);break e}m in s?s[m]=v:v===!0?s.setAttribute(m,""):Rc(s,m,v)}}}function zi(s,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dn("error",s),dn("load",s);var v=!1,C=!1,T;for(T in m)if(m.hasOwnProperty(T)){var J=m[T];if(J!=null)switch(T){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qn(s,c,T,J,m,null)}}C&&qn(s,c,"srcSet",m.srcSet,m,null),v&&qn(s,c,"src",m.src,m,null);return;case"input":dn("invalid",s);var ce=T=J=C=null,be=null,Le=null;for(v in m)if(m.hasOwnProperty(v)){var We=m[v];if(We!=null)switch(v){case"name":C=We;break;case"type":J=We;break;case"checked":be=We;break;case"defaultChecked":Le=We;break;case"value":T=We;break;case"defaultValue":ce=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,c));break;default:qn(s,c,v,We,m,null)}}af(s,T,ce,be,Le,J,C,!1);return;case"select":dn("invalid",s),v=J=T=null;for(C in m)if(m.hasOwnProperty(C)&&(ce=m[C],ce!=null))switch(C){case"value":T=ce;break;case"defaultValue":J=ce;break;case"multiple":v=ce;default:qn(s,c,C,ce,m,null)}c=T,m=J,s.multiple=!!v,c!=null?qs(s,!!v,c,!1):m!=null&&qs(s,!!v,m,!0);return;case"textarea":dn("invalid",s),T=C=v=null;for(J in m)if(m.hasOwnProperty(J)&&(ce=m[J],ce!=null))switch(J){case"value":v=ce;break;case"defaultValue":C=ce;break;case"children":T=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(91));break;default:qn(s,c,J,ce,m,null)}of(s,v,C,T);return;case"option":for(be in m)if(m.hasOwnProperty(be)&&(v=m[be],v!=null))switch(be){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qn(s,c,be,v,m,null)}return;case"dialog":dn("beforetoggle",s),dn("toggle",s),dn("cancel",s),dn("close",s);break;case"iframe":case"object":dn("load",s);break;case"video":case"audio":for(v=0;v<Cp.length;v++)dn(Cp[v],s);break;case"image":dn("error",s),dn("load",s);break;case"details":dn("toggle",s);break;case"embed":case"source":case"link":dn("error",s),dn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in m)if(m.hasOwnProperty(Le)&&(v=m[Le],v!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:qn(s,c,Le,v,m,null)}return;default:if(oo(c)){for(We in m)m.hasOwnProperty(We)&&(v=m[We],v!==void 0&&Hx(s,c,We,v,m,void 0));return}}for(ce in m)m.hasOwnProperty(ce)&&(v=m[ce],v!=null&&qn(s,c,ce,v,m,null))}function x7(s,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,T=null,J=null,ce=null,be=null,Le=null,We=null;for(He in m){var et=m[He];if(m.hasOwnProperty(He)&&et!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":be=et;default:v.hasOwnProperty(He)||qn(s,c,He,null,v,et)}}for(var Oe in v){var He=v[Oe];if(et=m[Oe],v.hasOwnProperty(Oe)&&(He!=null||et!=null))switch(Oe){case"type":T=He;break;case"name":C=He;break;case"checked":Le=He;break;case"defaultChecked":We=He;break;case"value":J=He;break;case"defaultValue":ce=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,c));break;default:He!==et&&qn(s,c,Oe,He,v,et)}}Lc(s,J,ce,be,Le,We,T,C);return;case"select":He=J=ce=Oe=null;for(T in m)if(be=m[T],m.hasOwnProperty(T)&&be!=null)switch(T){case"value":break;case"multiple":He=be;default:v.hasOwnProperty(T)||qn(s,c,T,null,v,be)}for(C in v)if(T=v[C],be=m[C],v.hasOwnProperty(C)&&(T!=null||be!=null))switch(C){case"value":Oe=T;break;case"defaultValue":ce=T;break;case"multiple":J=T;default:T!==be&&qn(s,c,C,T,v,be)}c=ce,m=J,v=He,Oe!=null?qs(s,!!m,Oe,!1):!!v!=!!m&&(c!=null?qs(s,!!m,c,!0):qs(s,!!m,m?[]:"",!1));return;case"textarea":He=Oe=null;for(ce in m)if(C=m[ce],m.hasOwnProperty(ce)&&C!=null&&!v.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:qn(s,c,ce,null,v,C)}for(J in v)if(C=v[J],T=m[J],v.hasOwnProperty(J)&&(C!=null||T!=null))switch(J){case"value":Oe=C;break;case"defaultValue":He=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==T&&qn(s,c,J,C,v,T)}Ku(s,Oe,He);return;case"option":for(var _t in m)if(Oe=m[_t],m.hasOwnProperty(_t)&&Oe!=null&&!v.hasOwnProperty(_t))switch(_t){case"selected":s.selected=!1;break;default:qn(s,c,_t,null,v,Oe)}for(be in v)if(Oe=v[be],He=m[be],v.hasOwnProperty(be)&&Oe!==He&&(Oe!=null||He!=null))switch(be){case"selected":s.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:qn(s,c,be,Oe,v,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in m)Oe=m[zt],m.hasOwnProperty(zt)&&Oe!=null&&!v.hasOwnProperty(zt)&&qn(s,c,zt,null,v,Oe);for(Le in v)if(Oe=v[Le],He=m[Le],v.hasOwnProperty(Le)&&Oe!==He&&(Oe!=null||He!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,c));break;default:qn(s,c,Le,Oe,v,He)}return;default:if(oo(c)){for(var Hn in m)Oe=m[Hn],m.hasOwnProperty(Hn)&&Oe!==void 0&&!v.hasOwnProperty(Hn)&&Hx(s,c,Hn,void 0,v,Oe);for(We in v)Oe=v[We],He=m[We],!v.hasOwnProperty(We)||Oe===He||Oe===void 0&&He===void 0||Hx(s,c,We,Oe,v,He);return}}for(var Te in m)Oe=m[Te],m.hasOwnProperty(Te)&&Oe!=null&&!v.hasOwnProperty(Te)&&qn(s,c,Te,null,v,Oe);for(et in v)Oe=v[et],He=m[et],!v.hasOwnProperty(et)||Oe===He||Oe==null&&He==null||qn(s,c,et,Oe,v,He)}function L_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b7(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var C=m[v],T=C.transferSize,J=C.initiatorType,ce=C.duration;if(T&&ce&&L_(J)){for(J=0,ce=C.responseEnd,v+=1;v<m.length;v++){var be=m[v],Le=be.startTime;if(Le>ce)break;var We=be.transferSize,et=be.initiatorType;We&&L_(et)&&(be=be.responseEnd,J+=We*(be<ce?1:(ce-Le)/(be-Le)))}if(--v,c+=8*(T+J)/(C.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Vx=null,Gx=null;function O0(s){return s.nodeType===9?s:s.ownerDocument}function O_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function $x(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Wx=null;function w7(){var s=window.event;return s&&s.type==="popstate"?s===Wx?!1:(Wx=s,!0):(Wx=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,N7=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,S7=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(s){return F_.resolve(null).then(s).catch(A7)}:U_;function A7(s){setTimeout(function(){throw s})}function pu(s){return s==="head"}function z_(s,c){var m=c,v=0;do{var C=m.nextSibling;if(s.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"||m==="/&"){if(v===0){s.removeChild(C),Yf(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")kp(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,kp(m);for(var T=m.firstChild;T;){var J=T.nextSibling,ce=T.nodeName;T[ko]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&T.rel.toLowerCase()==="stylesheet"||m.removeChild(T),T=J}}else m==="body"&&kp(s.ownerDocument.body);m=C}while(m);Yf(c)}function q_(s,c){var m=s;s=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=v}while(m)}function Yx(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Yx(m),Us(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function _7(s,c,m,v){for(;s.nodeType===1;){var C=m;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[ko])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var T=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=Ho(s.nextSibling),s===null)break}return null}function C7(s,c,m){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=Ho(s.nextSibling),s===null))return null;return s}function H_(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ho(s.nextSibling),s===null))return null;return s}function Kx(s){return s.data==="$?"||s.data==="$~"}function Jx(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function E7(s,c){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function Ho(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Xx=null;function V_(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(c===0)return Ho(s.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}s=s.nextSibling}return null}function G_(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return s;c--}else m!=="/$"&&m!=="/&"||c++}s=s.previousSibling}return null}function $_(s,c,m){switch(c=O0(m),s){case"html":if(s=c.documentElement,!s)throw Error(r(452));return s;case"head":if(s=c.head,!s)throw Error(r(453));return s;case"body":if(s=c.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function kp(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Us(s)}var Vo=new Map,W_=new Set;function B0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var rc=Y.d;Y.d={f:k7,r:T7,D:P7,C:j7,L:I7,m:M7,X:R7,S:D7,M:L7};function k7(){var s=rc.f(),c=T0();return s||c}function T7(s){var c=ao(s);c!==null&&c.tag===5&&c.type==="form"?uA(c):rc.r(s)}var Gf=typeof document>"u"?null:document;function Y_(s,c,m){var v=Gf;if(v&&typeof c=="string"&&c){var C=vi(c);C='link[rel="'+s+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),W_.has(C)||(W_.add(C),s={rel:s,crossOrigin:m,href:c},v.querySelector(C)===null&&(c=v.createElement("link"),zi(c,"link",s),Ir(c),v.head.appendChild(c)))}}function P7(s){rc.D(s),Y_("dns-prefetch",s,null)}function j7(s,c){rc.C(s,c),Y_("preconnect",s,c)}function I7(s,c,m){rc.L(s,c,m);var v=Gf;if(v&&s&&c){var C='link[rel="preload"][as="'+vi(c)+'"]';c==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+vi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+vi(m.imageSizes)+'"]')):C+='[href="'+vi(s)+'"]';var T=C;switch(c){case"style":T=$f(s);break;case"script":T=Wf(s)}Vo.has(T)||(s=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:s,as:c},m),Vo.set(T,s),v.querySelector(C)!==null||c==="style"&&v.querySelector(Tp(T))||c==="script"&&v.querySelector(Pp(T))||(c=v.createElement("link"),zi(c,"link",s),Ir(c),v.head.appendChild(c)))}}function M7(s,c){rc.m(s,c);var m=Gf;if(m&&s){var v=c&&typeof c.as=="string"?c.as:"script",C='link[rel="modulepreload"][as="'+vi(v)+'"][href="'+vi(s)+'"]',T=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Wf(s)}if(!Vo.has(T)&&(s=p({rel:"modulepreload",href:s},c),Vo.set(T,s),m.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Pp(T)))return}v=m.createElement("link"),zi(v,"link",s),Ir(v),m.head.appendChild(v)}}}function D7(s,c,m){rc.S(s,c,m);var v=Gf;if(v&&s){var C=zs(v).hoistableStyles,T=$f(s);c=c||"default";var J=C.get(T);if(!J){var ce={loading:0,preload:null};if(J=v.querySelector(Tp(T)))ce.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":c},m),(m=Vo.get(T))&&Qx(s,m);var be=J=v.createElement("link");Ir(be),zi(be,"link",s),be._p=new Promise(function(Le,We){be.onload=Le,be.onerror=We}),be.addEventListener("load",function(){ce.loading|=1}),be.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,U0(J,c,v)}J={type:"stylesheet",instance:J,count:1,state:ce},C.set(T,J)}}}function R7(s,c){rc.X(s,c);var m=Gf;if(m&&s){var v=zs(m).hoistableScripts,C=Wf(s),T=v.get(C);T||(T=m.querySelector(Pp(C)),T||(s=p({src:s,async:!0},c),(c=Vo.get(C))&&Zx(s,c),T=m.createElement("script"),Ir(T),zi(T,"link",s),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(C,T))}}function L7(s,c){rc.M(s,c);var m=Gf;if(m&&s){var v=zs(m).hoistableScripts,C=Wf(s),T=v.get(C);T||(T=m.querySelector(Pp(C)),T||(s=p({src:s,async:!0,type:"module"},c),(c=Vo.get(C))&&Zx(s,c),T=m.createElement("script"),Ir(T),zi(T,"link",s),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},v.set(C,T))}}function K_(s,c,m,v){var C=(C=fe.current)?B0(C):null;if(!C)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=$f(m.href),m=zs(C).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=$f(m.href);var T=zs(C).hoistableStyles,J=T.get(s);if(J||(C=C.ownerDocument||C,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,J),(T=C.querySelector(Tp(s)))&&!T._p&&(J.instance=T,J.state.loading=5),Vo.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Vo.set(s,m),T||O7(C,s,m,J.state))),c&&v===null)throw Error(r(528,""));return J}if(c&&v!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Wf(m),m=zs(C).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function $f(s){return'href="'+vi(s)+'"'}function Tp(s){return'link[rel="stylesheet"]['+s+"]"}function J_(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function O7(s,c,m,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),zi(c,"link",m),Ir(c),s.head.appendChild(c))}function Wf(s){return'[src="'+vi(s)+'"]'}function Pp(s){return"script[async]"+s}function X_(s,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+vi(m.href)+'"]');if(v)return c.instance=v,Ir(v),v;var C=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Ir(v),zi(v,"style",C),U0(v,m.precedence,s),c.instance=v;case"stylesheet":C=$f(m.href);var T=s.querySelector(Tp(C));if(T)return c.state.loading|=4,c.instance=T,Ir(T),T;v=J_(m),(C=Vo.get(C))&&Qx(v,C),T=(s.ownerDocument||s).createElement("link"),Ir(T);var J=T;return J._p=new Promise(function(ce,be){J.onload=ce,J.onerror=be}),zi(T,"link",v),c.state.loading|=4,U0(T,m.precedence,s),c.instance=T;case"script":return T=Wf(m.src),(C=s.querySelector(Pp(T)))?(c.instance=C,Ir(C),C):(v=m,(C=Vo.get(T))&&(v=p({},m),Zx(v,C)),s=s.ownerDocument||s,C=s.createElement("script"),Ir(C),zi(C,"link",v),s.head.appendChild(C),c.instance=C);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,U0(v,m.precedence,s));return c.instance}function U0(s,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,T=C,J=0;J<v.length;J++){var ce=v[J];if(ce.dataset.precedence===c)T=ce;else if(T!==C)break}T?T.parentNode.insertBefore(s,T.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(s,c.firstChild))}function Qx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function Zx(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var F0=null;function Q_(s,c,m){if(F0===null){var v=new Map,C=F0=new Map;C.set(m,v)}else C=F0,v=C.get(m),v||(v=new Map,C.set(m,v));if(v.has(s))return v;for(v.set(s,null),m=m.getElementsByTagName(s),C=0;C<m.length;C++){var T=m[C];if(!(T[ko]||T[yt]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var J=T.getAttribute(c)||"";J=s+J;var ce=v.get(J);ce?ce.push(T):v.set(J,[T])}}return v}function Z_(s,c,m){s=s.ownerDocument||s,s.head.insertBefore(m,c==="title"?s.querySelector("head > title"):null)}function B7(s,c,m){if(m===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function e4(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function U7(s,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var C=$f(v.href),T=c.querySelector(Tp(C));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=z0.bind(s),c.then(s,s)),m.state.loading|=4,m.instance=T,Ir(T);return}T=c.ownerDocument||c,v=J_(v),(C=Vo.get(C))&&Qx(v,C),T=T.createElement("link"),Ir(T);var J=T;J._p=new Promise(function(ce,be){J.onload=ce,J.onerror=be}),zi(T,"link",v),m.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=z0.bind(s),c.addEventListener("load",m),c.addEventListener("error",m))}}var e1=0;function F7(s,c){return s.stylesheets&&s.count===0&&H0(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var v=setTimeout(function(){if(s.stylesheets&&H0(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+c);0<s.imgBytes&&e1===0&&(e1=62500*b7());var C=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&H0(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>e1?50:800)+c);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(C)}}:null}function z0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)H0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var q0=null;function H0(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,q0=new Map,c.forEach(z7,s),q0=null,z0.call(s))}function z7(s,c){if(!(c.state.loading&4)){var m=q0.get(s);if(m)var v=m.get(null);else{m=new Map,q0.set(s,m);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<C.length;T++){var J=C[T];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(m.set(J.dataset.precedence,J),v=J)}v&&m.set(null,v)}C=c.instance,J=C.getAttribute("data-precedence"),T=m.get(J)||v,T===v&&m.set(null,C),m.set(J,C),this.count++,v=z0.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),T?T.parentNode.insertBefore(C,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),c.state.loading|=4}}var jp={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function q7(s,c,m,v,C,T,J,ce,be){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=T,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function t4(s,c,m,v,C,T,J,ce,be,Le,We,et){return s=new q7(s,c,m,J,be,Le,We,et,ce),c=1,T===!0&&(c|=24),T=Si(3,null,null,c),s.current=T,T.stateNode=s,c=nu(),c.refCount++,s.pooledCache=c,c.refCount++,T.memoizedState={element:v,isDehydrated:m,cache:c},Cn(T),s}function n4(s){return s?(s=oi,s):oi}function r4(s,c,m,v,C,T){C=n4(C),v.context===null?v.context=C:v.pendingContext=C,v=Ft(c),v.payload={element:m},T=T===void 0?null:T,T!==null&&(v.callback=T),m=jn(s,v,c),m!==null&&(Ya(m,s,c),Yr(m,s,c))}function i4(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<c?m:c}}function t1(s,c){i4(s,c),(s=s.alternate)&&i4(s,c)}function a4(s){if(s.tag===13||s.tag===31){var c=ps(s,67108864);c!==null&&Ya(c,s,67108864),t1(s,67108864)}}function o4(s){if(s.tag===13||s.tag===31){var c=yo();c=_e(c);var m=ps(s,c);m!==null&&Ya(m,s,c),t1(s,c)}}var V0=!0;function H7(s,c,m,v){var C=z.T;z.T=null;var T=Y.p;try{Y.p=2,n1(s,c,m,v)}finally{Y.p=T,z.T=C}}function V7(s,c,m,v){var C=z.T;z.T=null;var T=Y.p;try{Y.p=8,n1(s,c,m,v)}finally{Y.p=T,z.T=C}}function n1(s,c,m,v){if(V0){var C=r1(v);if(C===null)qx(s,c,v,G0,m),l4(s,v);else if($7(C,s,c,m,v))v.stopPropagation();else if(l4(s,v),c&4&&-1<G7.indexOf(s)){for(;C!==null;){var T=ao(C);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var J=gn(T.pendingLanes);if(J!==0){var ce=T;for(ce.pendingLanes|=2,ce.entangledLanes|=2;J;){var be=1<<31-Dt(J);ce.entanglements[1]|=be,J&=~be}pl(T),(En&6)===0&&(E0=Nt()+500,_p(0))}}break;case 31:case 13:ce=ps(T,2),ce!==null&&Ya(ce,T,2),T0(),t1(T,2)}if(T=r1(v),T===null&&qx(s,c,v,G0,m),T===C)break;C=T}C!==null&&v.stopPropagation()}else qx(s,c,v,null,m)}}function r1(s){return s=Fc(s),i1(s)}var G0=null;function i1(s){if(G0=null,s=io(s),s!==null){var c=a(s);if(c===null)s=null;else{var m=c.tag;if(m===13){if(s=o(c),s!==null)return s;s=null}else if(m===31){if(s=l(c),s!==null)return s;s=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return G0=s,null}function s4(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case De:return 2;case Qe:return 8;case ht:case dt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var a1=!1,mu=null,gu=null,yu=null,Ip=new Map,Mp=new Map,vu=[],G7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l4(s,c){switch(s){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":Ip.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(c.pointerId)}}function Dp(s,c,m,v,C,T){return s===null||s.nativeEvent!==T?(s={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:T,targetContainers:[C]},c!==null&&(c=ao(c),c!==null&&a4(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function $7(s,c,m,v,C){switch(c){case"focusin":return mu=Dp(mu,s,c,m,v,C),!0;case"dragenter":return gu=Dp(gu,s,c,m,v,C),!0;case"mouseover":return yu=Dp(yu,s,c,m,v,C),!0;case"pointerover":var T=C.pointerId;return Ip.set(T,Dp(Ip.get(T)||null,s,c,m,v,C)),!0;case"gotpointercapture":return T=C.pointerId,Mp.set(T,Dp(Mp.get(T)||null,s,c,m,v,C)),!0}return!1}function c4(s){var c=io(s.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=o(m),c!==null){s.blockedOn=c,St(s.priority,function(){o4(m)});return}}else if(c===31){if(c=l(m),c!==null){s.blockedOn=c,St(s.priority,function(){o4(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var m=r1(s.nativeEvent);if(m===null){m=s.nativeEvent;var v=new m.constructor(m.type,m);Ju=v,m.target.dispatchEvent(v),Ju=null}else return c=ao(m),c!==null&&a4(c),s.blockedOn=m,!1;c.shift()}return!0}function u4(s,c,m){$0(s)&&m.delete(c)}function W7(){a1=!1,mu!==null&&$0(mu)&&(mu=null),gu!==null&&$0(gu)&&(gu=null),yu!==null&&$0(yu)&&(yu=null),Ip.forEach(u4),Mp.forEach(u4)}function W0(s,c){s.blockedOn===c&&(s.blockedOn=null,a1||(a1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W7)))}var Y0=null;function d4(s){Y0!==s&&(Y0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Y0===s&&(Y0=null);for(var c=0;c<s.length;c+=3){var m=s[c],v=s[c+1],C=s[c+2];if(typeof v!="function"){if(i1(v||m)===null)continue;break}var T=ao(m);T!==null&&(s.splice(c,3),c-=3,rx(T,{pending:!0,data:C,method:m.method,action:v},v,C))}}))}function Yf(s){function c(be){return W0(be,s)}mu!==null&&W0(mu,s),gu!==null&&W0(gu,s),yu!==null&&W0(yu,s),Ip.forEach(c),Mp.forEach(c);for(var m=0;m<vu.length;m++){var v=vu[m];v.blockedOn===s&&(v.blockedOn=null)}for(;0<vu.length&&(m=vu[0],m.blockedOn===null);)c4(m),m.blockedOn===null&&vu.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var C=m[v],T=m[v+1],J=C[tn]||null;if(typeof T=="function")J||d4(m);else if(J){var ce=null;if(T&&T.hasAttribute("formAction")){if(C=T,J=T[tn]||null)ce=J.formAction;else if(i1(C)!==null)continue}else ce=J.action;typeof ce=="function"?m[v+1]=ce:(m.splice(v,3),v-=3),d4(m)}}}function f4(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(J){return C=J})},focusReset:"manual",scroll:"manual"})}function c(){C!==null&&(C(),C=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,C=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),C!==null&&(C(),C=null)}}}function o1(s){this._internalRoot=s}K0.prototype.render=o1.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,v=yo();r4(m,v,s,c,null,null)},K0.prototype.unmount=o1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;r4(s.current,2,null,s,null,null),T0(),c[ii]=null}};function K0(s){this._internalRoot=s}K0.prototype.unstable_scheduleHydration=function(s){if(s){var c=$e();s={blockedOn:null,target:s,priority:c};for(var m=0;m<vu.length&&c!==0&&c<vu[m].priority;m++);vu.splice(m,0,s),m===0&&c4(s)}};var h4=t.version;if(h4!=="19.2.3")throw Error(r(527,h4,"19.2.3"));Y.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(c),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var Y7={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var J0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!J0.isDisabled&&J0.supportsFiber)try{qt=J0.inject(Y7),vn=J0}catch{}}return Lp.createRoot=function(s,c){if(!i(s))throw Error(r(299));var m=!1,v="",C=bA,T=wA,J=NA;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(J=c.onRecoverableError)),c=t4(s,1,!1,null,null,m,v,null,C,T,J,f4),s[ii]=c.current,zx(s),new o1(c)},Lp.hydrateRoot=function(s,c,m){if(!i(s))throw Error(r(299));var v=!1,C="",T=bA,J=wA,ce=NA,be=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(J=m.onCaughtError),m.onRecoverableError!==void 0&&(ce=m.onRecoverableError),m.formState!==void 0&&(be=m.formState)),c=t4(s,1,!0,c,m??null,v,C,be,T,J,ce,f4),c.context=n4(null),m=c.current,v=yo(),v=_e(v),C=Ft(v),C.callback=null,jn(m,C,v),m=v,c.current.lanes=m,Pr(c,m),pl(c),s[ii]=c.current,zx(s),new K0(c)},Lp.version="19.2.3",Lp}var S4;function c9(){if(S4)return u1.exports;S4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),u1.exports=l9(),u1.exports}var u9=c9();const d9=ns(u9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h9=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),A4=e=>{const t=h9(e);return t.charAt(0).toUpperCase()+t.slice(1)},mj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),p9=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},u)=>j.createElement("svg",{ref:u,...m9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mj("lucide",i),...!a&&!p9(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>j.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const n=j.forwardRef(({className:r,...i},a)=>j.createElement(g9,{ref:a,iconNode:t,className:mj(`lucide-${f9(A4(e))}`,`lucide-${e}`,r),...i}));return n.displayName=A4(e),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],w5=rt("activity",y9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Og=rt("archive",v9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],b9=rt("arrow-down-left",x9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kl=rt("arrow-left",w9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N5=rt("arrow-right",N9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],A9=rt("arrow-up-right",S9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],So=rt("banknote",_9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],E9=rt("bell",C9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_4=rt("bot",k9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]],P9=rt("braces",T9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],dm=rt("building-2",j9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],M9=rt("building",I9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],R9=rt("calculator",D9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],O9=rt("calendar-days",L9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],S5=rt("calendar",B9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],F9=rt("camera",U9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],gj=rt("chart-column",z9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],H9=rt("chart-no-axes-column",q9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],A5=rt("chart-pie",V9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$9=rt("check",G9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sl=rt("chevron-down",W9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yj=rt("chevron-left",Y9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_5=rt("chevron-right",K9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dm=rt("circle-alert",J9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],vj=rt("circle-arrow-down",X9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],xj=rt("circle-arrow-up",Q9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rm=rt("circle-check-big",Z9);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tB=rt("circle-question-mark",eB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rB=rt("circle",nB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Vy=rt("clipboard-list",iB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bg=rt("clock",aB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],sB=rt("cloud-upload",oB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cB=rt("copy",lB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],dB=rt("credit-card",uB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Lm=rt("database",fB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pB=rt("dollar-sign",hB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gB=rt("download",mB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],bj=rt("file-braces",yB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],wj=rt("file-chart-column-increasing",vB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Xd=rt("file-down",xB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],wc=rt("file-spreadsheet",bB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NB=rt("file-text",wB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],p1=rt("fingerprint-pattern",SB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],k2=rt("folder-open",AB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],CB=rt("funnel-x",_B);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Nj=rt("funnel",EB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],TB=rt("hard-drive",kB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],jB=rt("hash",PB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],T2=rt("history",IB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DB=rt("image",MB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sj=rt("info",RB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Ug=rt("keyboard",LB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],BB=rt("landmark",OB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],FB=rt("layers",UB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Fg=rt("layout-dashboard",zB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],HB=rt("layout-grid",qB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],GB=rt("list-filter",VB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ju=rt("loader-circle",$B);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],P2=rt("lock",WB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KB=rt("log-in",YB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Aj=rt("log-out",JB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],QB=rt("mail",XB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eU=rt("menu",ZB);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],nU=rt("message-square",tU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],iU=rt("moon",rU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],oU=rt("mouse-pointer-2",aU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Nh=rt("package",sU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Nc=rt("pencil",lU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],uU=rt("percent",cU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],fU=rt("phone",dU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ca=rt("plus",hU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],js=rt("printer",pU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Om=rt("receipt",mU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],yU=rt("refresh-ccw",gU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xo=rt("refresh-cw",vU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Iu=rt("rotate-ccw",xU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dc=rt("save",bU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ur=rt("search",wU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_j=rt("send",NU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],AU=rt("server",SU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CU=rt("settings",_U);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],C5=rt("shield-alert",EU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E5=rt("shield-check",kU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],C4=rt("shield",TU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],k5=rt("shopping-bag",PU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bm=rt("shopping-cart",jU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Gy=rt("smartphone",IU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sh=rt("sparkles",MU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],RU=rt("sun",DU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ah=rt("tag",LU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rs=rt("trash-2",OU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cj=rt("trending-up",BU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],j2=rt("upload",UU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ej=rt("user-check",FU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],kj=rt("user-plus",zU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lh=rt("user",qU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_h=rt("users",HU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],GU=rt("wallet",VU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Uu=rt("wrench",$U);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bn=rt("x",WU);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],KU=rt("zap",YU),I2=(e,t)=>t.some(n=>e instanceof n);let E4,k4;function JU(){return E4||(E4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XU(){return k4||(k4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M2=new WeakMap,m1=new WeakMap,$y=new WeakMap;function QU(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{n(Dd(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return $y.set(t,e),t}function ZU(e){if(M2.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});M2.set(e,t)}let D2={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return M2.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dd(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Tj(e){D2=e(D2)}function eF(e){return XU().includes(e)?function(...t){return e.apply(R2(this),t),Dd(this.request)}:function(...t){return Dd(e.apply(R2(this),t))}}function tF(e){return typeof e=="function"?eF(e):(e instanceof IDBTransaction&&ZU(e),I2(e,JU())?new Proxy(e,D2):e)}function Dd(e){if(e instanceof IDBRequest)return QU(e);if(m1.has(e))return m1.get(e);const t=tF(e);return t!==e&&(m1.set(e,t),$y.set(t,e)),t}const R2=e=>$y.get(e);function T5(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=Dd(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Dd(o.result),u.oldVersion,u.newVersion,Dd(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const nF=["get","getKey","getAll","getAllKeys","count"],rF=["put","add","delete","clear"],g1=new Map;function T4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(g1.get(t))return g1.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=rF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nF.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return g1.set(t,a),a}Tj(e=>({...e,get:(t,n,r)=>T4(t,n)||e.get(t,n,r),has:(t,n)=>!!T4(t,n)||e.has(t,n)}));const iF=["continue","continuePrimaryKey","advance"],P4={},L2=new WeakMap,Pj=new WeakMap,aF={get(e,t){if(!iF.includes(t))return e[t];let n=P4[t];return n||(n=P4[t]=function(...r){L2.set(this,Pj.get(this)[t](...r))}),n}};async function*oF(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,aF);for(Pj.set(n,t),$y.set(n,R2(t));t;)yield n,t=await(L2.get(n)||t.continue()),L2.delete(n)}function j4(e,t){return t===Symbol.asyncIterator&&I2(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&I2(e,[IDBIndex,IDBObjectStore])}Tj(e=>({...e,get(t,n,r){return j4(t,n)?oF:e.get(t,n,r)},has(t,n){return j4(t,n)||e.has(t,n)}}));const I4="sahakash2017@gmail.com",sF="pinki@1415",lF="cost2costjnk@gmail.com",cF="Akash1415@",uF="aapro_enterprise_v2",dF="companies",fF="company_data",sn={getStoredCredentials(){try{const e=localStorage.getItem("aapro_creds");if(e)return JSON.parse(e)}catch{}return{username:lF,password:cF}},async login(e,t){const n=e.toLowerCase().trim(),r=t;if(n===I4&&r===sF)return localStorage.setItem("aapro_session","true"),localStorage.setItem("aapro_user_role","SUPER_ADMIN"),localStorage.setItem("aapro_logged_email",n),localStorage.setItem("aapro_is_super","true"),!0;const i=this.getStoredCredentials();if(n===i.username.toLowerCase()&&r===i.password)return localStorage.setItem("aapro_session","true"),localStorage.setItem("aapro_user_role","ADMIN"),localStorage.setItem("aapro_logged_email",n),localStorage.setItem("aapro_is_super","false"),!0;try{const a=await T5(uF,2),o=await a.getAll(dF);for(const l of o){const u=await a.get(fF,l.id);if(u&&u.users){const f=u.users.find(h=>h.email.toLowerCase()===n&&h.password===r);if(f)return localStorage.setItem("aapro_session","true"),localStorage.setItem("aapro_user_role",f.role),localStorage.setItem("aapro_logged_user",JSON.stringify(f)),localStorage.setItem("aapro_logged_email",n),localStorage.setItem("aapro_is_super","false"),localStorage.setItem("active_company_id",l.id),!0}}}catch{}return!1},getUserRole(){return localStorage.getItem("aapro_user_role")||"ADMIN"},getLoggedUser(){try{const e=localStorage.getItem("aapro_logged_user");return e?JSON.parse(e):null}catch{return null}},isSuperAdmin(){const e=localStorage.getItem("aapro_user_role"),t=localStorage.getItem("aapro_logged_email");return localStorage.getItem("aapro_is_super")==="true"&&e==="SUPER_ADMIN"&&t===I4},isAuthenticated(){return localStorage.getItem("aapro_session")==="true"},logout(){["aapro_session","aapro_is_super","aapro_user_role","aapro_logged_user","aapro_logged_email"].forEach(t=>localStorage.removeItem(t)),window.location.reload()},updateCredentials(e,t){localStorage.setItem("aapro_creds",JSON.stringify({username:e,password:t}))},can(e,t="view"){var i;if(this.isSuperAdmin()||this.getUserRole()==="ADMIN")return!0;const r=this.getLoggedUser();return r?!!(r.permissions&&r.permissions.includes(`${e}:${t}`)||t==="view"&&((i=r.permissions)!=null&&i.includes(e))):!1},hasPermission(e){return this.can(e,"view")}},hF=({isOpen:e,activeTab:t,setActiveTab:n,onClose:r})=>{const[i,a]=j.useState([]),o=sn.isSuperAdmin(),l=sn.getUserRole(),u=y=>{a(g=>g.includes(y)?g.filter(w=>w!==y):[...g,y])},f=y=>{n(y),window.innerWidth<1024&&r()},p=[{id:"dashboard",label:"Dashboard",icon:Fg},{id:"parties",label:"Parties",icon:_h},{id:"inventory",label:"Inventory",icon:Nh},{id:"service-center",label:"Service Center",icon:Uu},{id:"warranty-return",label:"Warranty Return",icon:Iu},{id:"pricelist",label:"Price List",icon:Vy},{id:"sales",label:"Sales",icon:Ah,subItems:[{id:"sales-invoices",label:"Sales Invoices"},{id:"sales-payment-in",label:"Payment In"},{id:"sales-quotations",label:"Quotations"},{id:"sales-return",label:"Sales Return"}]},{id:"purchase",label:"Purchase",icon:Bm,subItems:[{id:"purchase-bills",label:"Purchase Bills"},{id:"purchase-payment-out",label:"Payment Out"},{id:"purchase-auto-order",label:"Auto Order (Restock)"},{id:"purchase-orders",label:"Purchase Orders"},{id:"purchase-return",label:"Purchase Return"}]},{id:"cash-drawer",label:"Cash Drawer",icon:So},{id:"expense",label:"Expense",icon:Om},{id:"manage-accounts",label:"Manage Accounts",icon:dm},{id:"reports",label:"Reports",icon:wj},{id:"shortcut-keys",label:"Keyboard Shortcuts",icon:Ug},{id:"settings",label:"Settings",icon:CU}].filter(y=>o||l==="ADMIN"?!0:y.subItems?y.subItems.some(g=>sn.hasPermission(g.id)):sn.hasPermission(y.id));return o&&p.push({id:"admin-dashboard",label:"Admin Dashboard",icon:E5}),d.jsxs(d.Fragment,{children:[e&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm transition-opacity",onMouseEnter:r}),d.jsxs("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:sticky lg:top-0 lg:h-screen ${e?"translate-x-0":"-translate-x-full"} flex flex-col shadow-2xl lg:shadow-none`,children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-100 dark:border-gray-700 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2 text-brand-600 dark:text-brand-500",children:[d.jsx(k5,{className:"w-8 h-8"}),d.jsx("span",{className:"text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:"AA Pro"})]}),d.jsx("button",{onClick:r,className:"lg:hidden p-1 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:[d.jsx("div",{className:"mb-2 text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider px-3",children:"Menu"}),d.jsx("nav",{className:"space-y-1",children:p.map(y=>{const g=y.icon,w=i.includes(y.id),N=t===y.id;return d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>{y.subItems?u(y.id):f(y.id)},className:`w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm font-medium transition-colors ${N?"bg-brand-500 text-white shadow-md shadow-brand-500/20":y.id==="admin-dashboard"?"bg-brand-900 text-brand-100 hover:bg-brand-800":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(g,{className:`w-5 h-5 ${N?"text-white":y.id==="admin-dashboard"?"text-brand-400":"text-gray-400 dark:text-gray-500"}`}),y.label]}),y.subItems&&d.jsx(Sl,{className:`w-4 h-4 transition-transform ${w?"rotate-180":""} ${N?"text-white":"text-gray-300 dark:text-gray-600"}`})]}),y.subItems&&w&&d.jsx("div",{className:"mt-1 ml-4 space-y-1 border-l-2 border-gray-100 dark:border-gray-700 pl-2",children:y.subItems.filter(A=>o||l==="ADMIN"||sn.hasPermission(A.id)).map(A=>d.jsxs("button",{onClick:()=>f(A.id),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${t===A.id?"bg-brand-50 dark:bg-brand-900/20 text-brand-700 dark:text-brand-400 font-medium":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[d.jsx(rB,{className:`w-2 h-2 ${t===A.id?"fill-current":"text-gray-300 dark:text-gray-600"}`}),A.label]},A.id))})]},y.id)})})]}),d.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/50 shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3 px-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${o?"bg-blue-500":l==="ADMIN"?"bg-emerald-500":"bg-orange-500"}`}),d.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:o?"Super Admin":l==="ADMIN"?"Owner Node":`Role: ${l}`})]})})]})]})},pF="aapro_enterprise_v2",Kf="companies",Jf="company_data",ic="global_config",jj={notes:[{denomination:1e3,count:0},{denomination:500,count:0},{denomination:100,count:0},{denomination:50,count:0},{denomination:20,count:0},{denomination:10,count:0},{denomination:5,count:0},{denomination:2,count:0},{denomination:1,count:0}],lastUpdated:new Date().toISOString()},Sd=(e="My Business")=>({profile:{name:e,address:"",pan:"",phone:""},dbConfig:{mode:"local"},cloudConfig:{enabled:!0,autoBackup:!0,backupSchedules:["09:00","13:00","18:00","21:00"],googleClientId:"476453033908-4utdf52i85jssocqgghjpcpturfkkeu4.apps.googleusercontent.com"},accounts:[{id:"1",name:"Cash In Hand",type:"Cash",balance:0,isDefault:!0}],parties:[],products:[],transactions:[],reminders:[],serviceJobs:[],warrantyCases:[],replenishmentDraft:[],cashDrawer:JSON.parse(JSON.stringify(jj)),users:[]});class mF{constructor(){this.activeCompanyId=null,this.cache=Sd(),this.db=null,this.globalSubInfo=void 0}async initDb(){return this.db?this.db:(this.db=await T5(pF,2,{upgrade(t,n){t.objectStoreNames.contains(Kf)||t.createObjectStore(Kf,{keyPath:"id"}),t.objectStoreNames.contains(Jf)||t.createObjectStore(Jf),t.objectStoreNames.contains(ic)||t.createObjectStore(ic)}}),this.db)}async getCompanies(){return await(await this.initDb()).getAll(Kf)}async createCompany(t){const n=await this.initDb(),r={id:Date.now().toString(),name:t,dbName:`aapro_db_${Date.now()}`,created:new Date().toISOString()};return await n.put(Kf,r),await n.put(Jf,Sd(t),r.id),r}async switchCompany(t){if(!await(await this.initDb()).get(Kf,t))throw new Error("Company not found");this.activeCompanyId=t,localStorage.setItem("active_company_id",t),await this.loadDataIntoCache(t),window.dispatchEvent(new Event("db-updated"))}getActiveCompanyId(){return this.activeCompanyId}async init(t){await(await this.initDb()).get(Kf,t)&&(this.activeCompanyId=t,await this.loadDataIntoCache(t))}logout(){this.activeCompanyId=null,localStorage.removeItem("active_company_id"),this.cache=Sd(),window.dispatchEvent(new Event("db-logout"))}async loadDataIntoCache(t){var i;const n=await this.initDb(),r=await n.get(Jf,t);if(this.globalSubInfo=await n.get(ic,"subscription_info"),r){const a=Sd();this.cache={...a,...r,profile:{...a.profile,...r.profile||{}},cloudConfig:{...a.cloudConfig,...r.cloudConfig||{}},cashDrawer:{...a.cashDrawer,...r.cashDrawer||{},notes:(i=r.cashDrawer)!=null&&i.notes&&Array.isArray(r.cashDrawer.notes)?r.cashDrawer.notes:a.cashDrawer.notes},serviceJobs:r.serviceJobs||[],warrantyCases:r.warrantyCases||[],users:r.users||[]}}else this.cache=Sd()}async persist(){if(!this.activeCompanyId)return;await(await this.initDb()).put(Jf,this.cache,this.activeCompanyId),window.dispatchEvent(new Event("db-updated")),window.dispatchEvent(new Event("db-content-changed"))}async getGlobalIssuedLicenses(){return await(await this.initDb()).get(ic,"issued_licenses")||[]}async addGlobalIssuedLicense(t){const n=await this.initDb(),r=await n.get(ic,"issued_licenses")||[];r.push(t),await n.put(ic,r,"issued_licenses")}async deleteGlobalIssuedLicense(t){const n=await this.initDb(),i=(await n.get(ic,"issued_licenses")||[]).filter(a=>a.id!==t);await n.put(ic,i,"issued_licenses")}getUsers(){return this.cache.users||[]}addUser(t){this.cache.users.push(t),this.persist()}updateUser(t){const n=this.cache.users.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.users[n]=t,this.persist())}deleteUser(t){this.cache.users=this.cache.users.filter(n=>n.id!==t),this.persist()}async closeAndStartNewYear(t){if(!this.activeCompanyId)return{success:!1,message:"No active session"};const n=this.cache.profile,r=[...this.cache.parties],i=[...this.cache.products],a=[...this.cache.accounts],o=JSON.parse(JSON.stringify(this.cache.cashDrawer)),l=this.cache.users,u=this.cache.serviceJobs.filter(N=>!["DELIVERED","CANCELLED"].includes(N.status)),f=this.cache.warrantyCases.filter(N=>!["CLOSED","CANCELLED"].includes(N.status)),h=await this.createCompany(`${n.name} (${t})`),p=Sd(n.name);p.profile={...n},p.cloudConfig={...this.cache.cloudConfig},p.cashDrawer=o,p.serviceJobs=u,p.warrantyCases=f,p.users=l;const y=[],g=new Date().toISOString();return p.accounts=a.map(N=>({...N,balance:N.balance})),p.parties=r.map(N=>(N.balance!==0&&y.push({id:`OP-${N.id}-${Date.now()}`,date:g,type:"BALANCE_ADJUSTMENT",partyId:N.id,partyName:N.name,items:[],totalAmount:N.balance,notes:"Financial Year Opening Balance",category:"Opening Balance",paymentMode:"Adjustment"}),{...N,balance:0})),p.products=i.map(N=>({...N,stock:N.stock})),await(await this.initDb()).put(Jf,p,h.id),await this.switchCompany(h.id),y.forEach(N=>this.addTransaction(N)),{success:!0,companyId:h.id}}getBusinessProfile(){return this.cache.profile}updateBusinessProfile(t){this.cache.profile=t,this.persist()}getCloudConfig(){return this.cache.cloudConfig}updateCloudConfig(t){this.cache.cloudConfig=t,this.persist()}getDatabaseConfig(){return this.cache.dbConfig}getCashDrawer(){return this.cache.cashDrawer||JSON.parse(JSON.stringify(jj))}updateCashDrawer(t){this.cache.cashDrawer=t,this.persist()}getSubscriptionInfo(){return this.globalSubInfo}async updateSubscriptionInfo(t){const n=await this.initDb();this.globalSubInfo=t,await n.put(ic,t,"subscription_info"),window.dispatchEvent(new Event("db-updated"))}getAccounts(){return this.cache.accounts}addAccount(t){this.cache.accounts.push(t),this.persist()}updateAccount(t){const n=this.cache.accounts.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.accounts[n]=t,this.persist())}deleteAccount(t){return t==="1"?!1:(this.cache.accounts=this.cache.accounts.filter(n=>n.id!==t),this.persist(),!0)}getParties(){return this.cache.parties}addParty(t){this.cache.parties.push(t),this.persist()}updateParty(t){const n=this.cache.parties.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.parties[n]=t,this.persist())}async bulkAddParties(t){this.cache.parties.push(...t),this.persist()}getProducts(){return this.cache.products}addProduct(t){this.cache.products.push(t),this.persist()}updateProduct(t){const n=this.cache.products.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.products[n]=t,this.persist())}deleteProduct(t){this.cache.products=this.cache.products.filter(n=>n.id!==t),this.persist()}async bulkAddProducts(t){this.cache.products.push(...t),this.persist()}getTransactions(){return this.cache.transactions}addTransaction(t){this.cache.transactions.push(t),this.applyImpact(t,1),this.persist()}deleteTransaction(t){const n=this.cache.transactions.find(r=>r.id===t);n&&(this.applyImpact(n,-1),this.cache.transactions=this.cache.transactions.filter(r=>r.id!==t),this.persist())}updateTransaction(t,n){const r=this.cache.transactions.findIndex(i=>i.id===t);if(r!==-1){const i=this.cache.transactions[r];this.applyImpact(i,-1),this.cache.transactions[r]=n,this.applyImpact(n,1),this.persist()}}applyImpact(t,n){var r;if(t.partyId){const i=this.cache.parties.find(a=>a.id===t.partyId);if(i){let a=0;switch(t.type){case"SALE":a=t.totalAmount;break;case"PURCHASE":a=-t.totalAmount;break;case"PAYMENT_IN":a=-t.totalAmount;break;case"PAYMENT_OUT":a=t.totalAmount;break;case"BALANCE_ADJUSTMENT":a=t.totalAmount;break;case"SALE_RETURN":a=-t.totalAmount;break;case"PURCHASE_RETURN":a=t.totalAmount;break}i.balance+=a*n}}if((r=t.items)==null||r.forEach(i=>{const a=this.cache.products.find(o=>o.id===i.productId);a&&a.type!=="service"&&(t.type==="SALE"||t.type==="PURCHASE_RETURN"?a.stock-=i.quantity*n:(t.type==="PURCHASE"||t.type==="SALE_RETURN")&&(a.stock+=i.quantity*n))}),t.accountId){const i=this.cache.accounts.find(a=>a.id===t.accountId);if(i){let a=["SALE","PAYMENT_IN","PURCHASE_RETURN"].includes(t.type)?t.totalAmount:-t.totalAmount;t.type==="BALANCE_ADJUSTMENT"&&(a=t.totalAmount),i.balance+=a*n}}if(t.cashBreakdown){const i=this.getCashDrawer();t.cashBreakdown.received.forEach(a=>{const o=i.notes.find(l=>l.denomination===a.denomination);o&&(o.count+=a.count*n)}),t.cashBreakdown.returned.forEach(a=>{const o=i.notes.find(l=>l.denomination===a.denomination);o&&(o.count-=a.count*n)}),i.lastUpdated=new Date().toISOString(),this.cache.cashDrawer=i}}getAllReminders(){return this.cache.reminders||[]}addManualReminder(t){this.cache.reminders.push(t),this.persist()}deleteManualReminder(t){this.cache.reminders=this.cache.reminders.filter(n=>n.id!==t),this.persist()}getServiceJobs(){return this.cache.serviceJobs||[]}addServiceJob(t){this.cache.serviceJobs.push(t),this.persist()}updateServiceJob(t){const n=this.cache.serviceJobs.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.serviceJobs[n]=t,this.persist())}deleteServiceJob(t){this.cache.serviceJobs=this.cache.serviceJobs.filter(n=>n.id!==t),this.persist()}getWarrantyCases(){return this.cache.warrantyCases||[]}addWarrantyCase(t){this.cache.warrantyCases.push(t),this.persist()}updateWarrantyCase(t){const n=this.cache.warrantyCases.findIndex(r=>r.id===t.id);n!==-1&&(this.cache.warrantyCases[n]=t,this.persist())}deleteWarrantyCase(t){this.cache.warrantyCases=this.cache.warrantyCases.filter(n=>n.id!==t),this.persist()}getBackupData(){return{...this.cache,backupVersion:"2.7-IDB",timestamp:new Date().toISOString(),appId:"AA_PRO_ENTERPRISE",companyId:this.activeCompanyId}}async restoreData(t){var r;if(!t||typeof t!="object")return{success:!1,message:"Invalid data format"};const n=Sd();return this.cache={...n,...t,profile:{...n.profile,...t.profile||{}},cloudConfig:{...n.cloudConfig,...t.cloudConfig||{}},cashDrawer:{...n.cashDrawer,...t.cashDrawer||{},notes:(r=t.cashDrawer)!=null&&r.notes&&Array.isArray(t.cashDrawer.notes)?t.cashDrawer.notes:n.cashDrawer.notes},serviceJobs:t.serviceJobs||[],warrantyCases:t.warrantyCases||[],users:t.users||[]},await this.persist(),{success:!0}}async listTables(){return["transactions","parties","products","accounts","serviceJobs","warrantyCases","reminders","users"]}async getTableData(t){return this.cache[t]||[]}getReplenishmentDraft(){return this.cache.replenishmentDraft||[]}updateReplenishmentDraft(t){this.cache.replenishmentDraft=t,this.persist()}clearReplenishmentDraft(){this.cache.replenishmentDraft=[],this.persist()}}const Be=new mF,Ij=j.createContext(void 0),gF=({children:e})=>{const[t,n]=j.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");return i==="dark"||i==="light"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});j.useEffect(()=>{const i=window.document.documentElement;t==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const r=()=>{n(i=>i==="light"?"dark":"light")};return d.jsx(Ij.Provider,{value:{theme:t,toggleTheme:r},children:e})},yF=()=>{const e=j.useContext(Ij);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},qe=e=>new Intl.NumberFormat("en-IN",{maximumFractionDigits:2,minimumFractionDigits:0}).format(e),Mj=2024,Dj=3,Rj=13,Cg=2081,vF=0,xF=1,zg=[31,32,31,32,31,30,30,30,29,30,29,31],Lj=["Baisakh","Jestha","Asar","Shrawan","Bhadra","Asoj","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],bF=1440*60*1e3,Oj=(e,t)=>zg[t%12],fm=e=>{const t=new Date(Mj,Dj,Rj),n=new Date(e);t.setHours(0,0,0,0),n.setHours(0,0,0,0);const r=n.getTime()-t.getTime();let i=Math.round(r/bF),a=Cg,o=vF,l=xF;for(;i>0;){const f=zg[o]-l+1;i<f?(l+=i,i=0):(i-=f,l=1,o++,o>11&&(o=0,a++))}for(;i<0;)Math.abs(i)<l?(l+=i,i=0):(i+=l,o--,o<0&&(o=11,a--),l=zg[o]);return{year:a,month:o+1,day:l,monthName:Lj[o]}},ch=(e,t,n)=>{const r=t-1;let i=0;const a=e-Cg;if(a>0)for(let l=Cg;l<e;l++)i+=365;else if(a<0)for(let l=e;l<Cg;l++)i-=365;for(let l=0;l<r;l++)i+=zg[l];i+=n-1;const o=new Date(Mj,Dj,Rj);return o.setDate(o.getDate()+i),o},wF=e=>{const t=e.split("/");if(t.length!==3)return!1;const n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2]);return!(isNaN(i)||isNaN(r)||isNaN(n)||i<2e3||i>2150||r<1||r>12||n<1||n>32)},Rn=e=>{if(!e)return"-";const t=new Date(e),n=fm(t);return`${String(n.day).padStart(2,"0")}/${String(n.month).padStart(2,"0")}/${n.year}`},NF=()=>Rn(new Date().toISOString()),SF=()=>fm(new Date),O2=Lj,AF=({onMenuClick:e,onNavigate:t})=>{const[n,r]=j.useState({name:"AA Pro",logoUrl:""}),[i,a]=j.useState(!1),[o,l]=j.useState(""),[u,f]=j.useState(!1),[h,p]=j.useState(0),[y,g]=j.useState(!1),w=j.useRef(null),{theme:N,toggleTheme:A}=yF();j.useEffect(()=>{const D=Be.getBusinessProfile();r({name:D.name||"AA Pro",logoUrl:D.logoUrl||""});const F=()=>{const q=Be.getBusinessProfile();r({name:q.name||"AA Pro",logoUrl:q.logoUrl||""})};return window.addEventListener("db-updated",F),()=>window.removeEventListener("db-updated",F)},[]),j.useEffect(()=>{const D=F=>{w.current&&!w.current.contains(F.target)&&f(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const _=j.useMemo(()=>{if(!o.trim())return[];const D=o.toLowerCase(),F=[];return Be.getTransactions().forEach(q=>{if(q.id.toLowerCase().includes(D)||q.partyName.toLowerCase().includes(D)||q.notes&&q.notes.toLowerCase().includes(D)){let R="dashboard";q.type==="SALE"?R="sales-invoices":q.type==="PURCHASE"?R="purchase-bills":q.type==="EXPENSE"?R="expense":q.type==="QUOTATION"?R="sales-quotations":q.type==="PURCHASE_ORDER"&&(R="purchase-orders"),F.push({id:q.id,type:q.type,title:`${q.type.replace("_"," ")} #${q.id.slice(-6)}`,subtitle:q.partyName,date:q.date,amount:q.totalAmount,tab:R})}}),Be.getServiceJobs().forEach(q=>{(q.ticketNumber.toLowerCase().includes(D)||q.customerName.toLowerCase().includes(D)||q.deviceModel.toLowerCase().includes(D))&&F.push({id:q.id,type:"SERVICE",title:`Repair ${q.ticketNumber}`,subtitle:`${q.customerName} - ${q.deviceModel}`,date:q.date,tab:"service-center"})}),Be.getWarrantyCases().forEach(q=>{(q.ticketNumber.toLowerCase().includes(D)||q.customerName.toLowerCase().includes(D)||q.items.some(R=>R.productName.toLowerCase().includes(D)||R.serialNumber.toLowerCase().includes(D)))&&F.push({id:q.id,type:"WARRANTY",title:`Warranty ${q.ticketNumber}`,subtitle:`${q.customerName} (${q.items.length} items)`,date:q.dateReceived,tab:"warranty-return"})}),F.slice(0,10)},[o]),k=D=>{t(D.tab),l(""),f(!1),a(!1)},P=D=>{!u||_.length===0||(D.key==="ArrowDown"?(D.preventDefault(),p(F=>(F+1)%_.length)):D.key==="ArrowUp"?(D.preventDefault(),p(F=>(F-1+_.length)%_.length)):D.key==="Enter"?(D.preventDefault(),k(_[h])):D.key==="Escape"&&f(!1))},M=()=>{sn.logout()},B=()=>{Be.logout()},U=D=>{switch(D){case"SALE":return d.jsx(Ah,{className:"w-4 h-4 text-emerald-500"});case"PURCHASE":return d.jsx(Bm,{className:"w-4 h-4 text-blue-500"});case"EXPENSE":return d.jsx(Om,{className:"w-4 h-4 text-red-500"});case"SERVICE":return d.jsx(Uu,{className:"w-4 h-4 text-orange-500"});case"WARRANTY":return d.jsx(Iu,{className:"w-4 h-4 text-purple-500"});default:return d.jsx(jB,{className:"w-4 h-4 text-gray-400"})}};return d.jsx(d.Fragment,{children:d.jsx("header",{className:"sticky top-0 z-40 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 h-16 flex items-center px-4 lg:px-8 justify-between transition-colors duration-200",children:i?d.jsxs("div",{className:"absolute inset-0 bg-white dark:bg-gray-800 z-50 flex items-center px-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[d.jsx("button",{onClick:()=>a(!1),className:"p-2 -ml-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full mr-2",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 flex flex-col relative",children:[d.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg px-3 py-2",children:[d.jsx(Ur,{className:"w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search globally...",className:"bg-transparent border-none outline-none text-sm ml-2 w-full text-gray-700 dark:text-gray-200 placeholder-gray-400 font-medium",autoFocus:!0,value:o,onChange:D=>{l(D.target.value),f(!0),p(0)},onKeyDown:P})]}),u&&_.length>0&&d.jsx("div",{className:"absolute top-full left-0 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-2xl rounded-b-xl mt-1 max-h-[60vh] overflow-auto z-[60]",children:_.map((D,F)=>d.jsxs("div",{className:`p-3 border-b dark:border-gray-700 flex items-center gap-3 cursor-pointer ${h===F?"bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-100":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>k(D),children:[d.jsx("div",{className:"p-2 bg-white dark:bg-gray-700 rounded-lg shadow-sm",children:U(D.type)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-white truncate",children:D.title}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase truncate",children:D.subtitle})]})]},`${D.type}-${D.id}`))})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 text-gray-500 dark:text-gray-400 rounded-lg lg:hidden hover:bg-gray-100 dark:hover:bg-gray-700",children:d.jsx(eU,{className:"w-6 h-6"})}),d.jsxs("div",{className:"hidden md:block relative",ref:w,children:[d.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-xl w-64 lg:w-[400px] px-3 py-2 border-2 border-transparent focus-within:border-brand-500/50 focus-within:bg-white dark:focus-within:bg-gray-800 transition-all shadow-sm",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Global search (Sales, Services, Warranty...)",className:"bg-transparent border-none outline-none text-sm ml-2 w-full text-gray-700 dark:text-gray-200 placeholder-gray-400 font-medium",value:o,onChange:D=>{l(D.target.value),f(!0),p(0)},onFocus:()=>f(!0),onKeyDown:P})]}),u&&o.trim()&&d.jsxs("div",{className:"absolute top-full left-0 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-2xl rounded-2xl mt-2 py-2 z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[d.jsxs("div",{className:"px-4 py-2 border-b dark:border-gray-700 flex justify-between items-center",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Search Results"}),d.jsxs("span",{className:"text-[10px] text-brand-600 font-bold uppercase",children:[_.length," found"]})]}),d.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:_.map((D,F)=>d.jsxs("div",{"data-index":F,className:`px-4 py-3 border-b last:border-0 dark:border-gray-700 flex items-center justify-between cursor-pointer group transition-all ${h===F?"bg-blue-100 dark:bg-blue-900/40 text-blue-900 dark:text-blue-100":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>k(D),children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-2.5 rounded-xl bg-white dark:bg-gray-700 shadow-sm border border-gray-100 dark:border-gray-600 group-hover:scale-110 transition-transform",children:U(D.type)}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:`text-sm font-black transition-colors ${h===F?"text-blue-700 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:D.title}),d.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[d.jsx(Lh,{className:"w-3 h-3 text-gray-300"}),d.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400 font-medium truncate max-w-[180px]",children:D.subtitle})]})]})]}),d.jsxs("div",{className:"text-right shrink-0",children:[D.amount!==void 0&&d.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:qe(D.amount)}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:Rn(D.date)})]})]},`${D.type}-${D.id}`))})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 sm:gap-4",children:[d.jsx("button",{onClick:()=>a(!0),className:"md:hidden p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:d.jsx(Ur,{className:"w-5 h-5"})}),d.jsx("button",{onClick:A,className:"p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg hidden sm:block",children:N==="dark"?d.jsx(RU,{className:"w-5 h-5"}):d.jsx(iU,{className:"w-5 h-5"})}),d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"flex items-center gap-2 ml-2 pl-2 border-l border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-1 rounded-lg",onClick:()=>g(!y),children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-white dark:bg-gray-700 flex items-center justify-center border border-gray-100 dark:border-gray-600 shadow-sm overflow-hidden shrink-0",children:n.logoUrl?d.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-full h-full object-contain"}):d.jsx("div",{className:"w-full h-full bg-brand-50 text-brand-600 flex items-center justify-center text-[10px] font-black uppercase",children:n.name.substring(0,2)})}),d.jsx("div",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-200 truncate max-w-[150px]",children:n.name}),d.jsx(Sl,{className:"w-4 h-4 text-gray-400 hidden md:block"})]}),y&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"p-3 border-b border-gray-100 dark:border-gray-700",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold uppercase mb-1",children:"Current Company"}),d.jsx("p",{className:"font-bold text-gray-800 dark:text-white truncate",children:n.name})]}),d.jsxs("div",{className:"p-1",children:[d.jsxs("button",{onClick:B,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[d.jsx(dm,{className:"w-4 h-4"}),"Switch Company"]}),d.jsxs("button",{onClick:M,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[d.jsx(Aj,{className:"w-4 h-4"}),"Log Out"]})]})]})]})]})]})]})})})};function Bj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Bj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Bj(e))&&(r&&(r+=" "),r+=t);return r}var _F=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function P5(e){if(typeof e!="string")return!1;var t=_F;return t.includes(e)}var CF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EF=new Set(CF);function Uj(e){return typeof e!="string"?!1:EF.has(e)}function Fj(e){return typeof e=="string"&&e.startsWith("data-")}function Co(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Uj(n)||Fj(n))&&(t[n]=e[n]);return t}function Ch(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Co(t)}return typeof e=="object"&&!Array.isArray(e)?Co(e):null}function Aa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Uj(n)||Fj(n)||P5(n))&&(t[n]=e[n]);return t}function kF(e){return e==null?null:j.isValidElement(e)?Aa(e.props):typeof e=="object"&&!Array.isArray(e)?Aa(e):null}var TF=["children","width","height","viewBox","className","style","title","desc"];function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B2.apply(null,arguments)}function PF(e,t){if(e==null)return{};var n,r,i=jF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var j5=j.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:l,title:u,desc:f}=e,h=PF(e,TF),p=a||{width:r,height:i,x:0,y:0},y=Tn("recharts-surface",o);return j.createElement("svg",B2({},Aa(h),{className:y,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),j.createElement("title",null,u),j.createElement("desc",null,f),n)}),IF=["children","className"];function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U2.apply(null,arguments)}function MF(e,t){if(e==null)return{};var n,r,i=DF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $i=j.forwardRef((e,t)=>{var{children:n,className:r}=e,i=MF(e,IF),a=Tn("recharts-layer",r);return j.createElement("g",U2({className:a},Aa(i),{ref:t}),n)}),I5=pj(),zj=j.createContext(null),RF=()=>j.useContext(zj);function tr(e){return function(){return e}}const qj=Math.cos,qg=Math.sin,Ds=Math.sqrt,Hg=Math.PI,Wy=2*Hg,F2=Math.PI,z2=2*F2,Ad=1e-6,LF=z2-Ad;function Hj(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function OF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Hj;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class BF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Hj:OF(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,u=r-t,f=i-n,h=o-t,p=l-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Ad)if(!(Math.abs(p*u-f*h)>Ad)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,w=i-l,N=u*u+f*f,A=g*g+w*w,_=Math.sqrt(N),k=Math.sqrt(y),P=a*Math.tan((F2-Math.acos((N+y-A)/(2*_*k)))/2),M=P/k,B=P/_;Math.abs(M-1)>Ad&&this._append`L${t+M*h},${n+M*p}`,this._append`A${a},${a},0,0,${+(p*g>h*w)},${this._x1=t+B*u},${this._y1=n+B*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),f=t+l,h=n+u,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ad||Math.abs(this._y1-h)>Ad)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%z2+z2),y>LF?this._append`A${r},${r},0,1,${p},${t-l},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>Ad&&this._append`A${r},${r},0,${+(y>=F2)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function M5(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new BF(t)}function D5(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vj(e){this._context=e}Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yy(e){return new Vj(e)}function Gj(e){return e[0]}function $j(e){return e[1]}function Wj(e,t){var n=tr(!0),r=null,i=Yy,a=null,o=M5(l);e=typeof e=="function"?e:e===void 0?Gj:tr(e),t=typeof t=="function"?t:t===void 0?$j:tr(t);function l(u){var f,h=(u=D5(u)).length,p,y=!1,g;for(r==null&&(a=i(g=o())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(p,f,u),+t(p,f,u));if(g)return a=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:tr(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:tr(+u),l):t},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:tr(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),l):r},l}function X0(e,t,n){var r=null,i=tr(!0),a=null,o=Yy,l=null,u=M5(f);e=typeof e=="function"?e:e===void 0?Gj:tr(+e),t=typeof t=="function"?t:tr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$j:tr(+n);function f(p){var y,g,w,N=(p=D5(p)).length,A,_=!1,k,P=new Array(N),M=new Array(N);for(a==null&&(l=o(k=u())),y=0;y<=N;++y){if(!(y<N&&i(A=p[y],y,p))===_)if(_=!_)g=y,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=y-1;w>=g;--w)l.point(P[w],M[w]);l.lineEnd(),l.areaEnd()}_&&(P[y]=+e(A,y,p),M[y]=+t(A,y,p),l.point(r?+r(A,y,p):P[y],n?+n(A,y,p):M[y]))}if(k)return l=null,k+""||null}function h(){return Wj().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:tr(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:tr(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:tr(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:tr(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:tr(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:tr(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:tr(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),f):a},f}class Yj{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function UF(e){return new Yj(e,!0)}function FF(e){return new Yj(e,!1)}const R5={draw(e,t){const n=Ds(t/Hg);e.moveTo(n,0),e.arc(0,0,n,0,Wy)}},zF={draw(e,t){const n=Ds(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Kj=Ds(1/3),qF=Kj*2,HF={draw(e,t){const n=Ds(t/qF),r=n*Kj;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},VF={draw(e,t){const n=Ds(t),r=-n/2;e.rect(r,r,n,n)}},GF=.8908130915292852,Jj=qg(Hg/10)/qg(7*Hg/10),$F=qg(Wy/10)*Jj,WF=-qj(Wy/10)*Jj,YF={draw(e,t){const n=Ds(t*GF),r=$F*n,i=WF*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Wy*a/5,l=qj(o),u=qg(o);e.lineTo(u*n,-l*n),e.lineTo(l*r-u*i,u*r+l*i)}e.closePath()}},y1=Ds(3),KF={draw(e,t){const n=-Ds(t/(y1*3));e.moveTo(0,n*2),e.lineTo(-y1*n,-n),e.lineTo(y1*n,-n),e.closePath()}},Go=-.5,$o=Ds(3)/2,q2=1/Ds(12),JF=(q2/2+1)*3,XF={draw(e,t){const n=Ds(t/JF),r=n/2,i=n*q2,a=r,o=n*q2+n,l=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,u),e.lineTo(Go*r-$o*i,$o*r+Go*i),e.lineTo(Go*a-$o*o,$o*a+Go*o),e.lineTo(Go*l-$o*u,$o*l+Go*u),e.lineTo(Go*r+$o*i,Go*i-$o*r),e.lineTo(Go*a+$o*o,Go*o-$o*a),e.lineTo(Go*l+$o*u,Go*u-$o*l),e.closePath()}};function QF(e,t){let n=null,r=M5(i);e=typeof e=="function"?e:tr(e||R5),t=typeof t=="function"?t:tr(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:tr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:tr(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Vg(){}function Gg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xj(e){this._context=e}Xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZF(e){return new Xj(e)}function Qj(e){this._context=e}Qj.prototype={areaStart:Vg,areaEnd:Vg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ez(e){return new Qj(e)}function Zj(e){this._context=e}Zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tz(e){return new Zj(e)}function eI(e){this._context=e}eI.prototype={areaStart:Vg,areaEnd:Vg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nz(e){return new eI(e)}function M4(e){return e<0?-1:1}function D4(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(M4(a)+M4(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function R4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function v1(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function $g(e){this._context=e}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v1(this,this._t0,R4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,v1(this,R4(this,n=D4(this,e,t)),n);break;default:v1(this,this._t0,n=D4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function tI(e){this._context=new nI(e)}(tI.prototype=Object.create($g.prototype)).point=function(e,t){$g.prototype.point.call(this,t,e)};function nI(e){this._context=e}nI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function rz(e){return new $g(e)}function iz(e){return new tI(e)}function rI(e){this._context=e}rI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=L4(e),i=L4(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function L4(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function az(e){return new rI(e)}function Ky(e,t){this._context=e,this._t=t}Ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function oz(e){return new Ky(e,.5)}function sz(e){return new Ky(e,0)}function lz(e){return new Ky(e,1)}function Hd(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function H2(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function cz(e,t){return e[t]}function uz(e){const t=[];return t.key=e,t}function dz(){var e=tr([]),t=H2,n=Hd,r=cz;function i(a){var o=Array.from(e.apply(this,arguments),uz),l,u=o.length,f=-1,h;for(const p of a)for(l=0,++f;l<u;++l)(o[l][f]=[0,+r(p,o[l].key,f,a)]).data=p;for(l=0,h=D5(t(o));l<u;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:tr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:tr(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?H2:typeof a=="function"?a:tr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Hd,i):n},i}function fz(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Hd(e,t)}}function hz(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Hd(e,t)}}function pz(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,u=0,f=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,y=h[r-1][1]||0,g=(p-y)/2,w=0;w<l;++w){var N=e[t[w]],A=N[r][1]||0,_=N[r-1][1]||0;g+=A-_}u+=p,f+=g*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Hd(e,t)}}var x1={},b1={},O4;function mz(){return O4||(O4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(b1)),b1}var w1={},B4;function iI(){return B4||(B4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(w1)),w1}var N1={},U4;function L5(){return U4||(U4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(N1)),N1}var S1={},A1={},F4;function gz(){return F4||(F4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(A1)),A1}var z4;function O5(){return z4||(z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gz(),n=L5();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];f?p==="\\"&&l+1<o?(l++,u+=i[l]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,l++}return u&&a.push(u),a}e.toPath=r})(S1)),S1}var q4;function B5(){return q4||(q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mz(),n=iI(),r=L5(),i=O5();function a(l,u,f){if(l==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?n.isDeepKey(u)?a(l,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=l[u];return h===void 0?f:h}default:{if(Array.isArray(u))return o(l,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const h=l[u];return h===void 0?f:h}}}function o(l,u,f){if(u.length===0)return f;let h=l;for(let p=0;p<u.length;p++){if(h==null||t.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}e.get=a})(x1)),x1}var _1,H4;function yz(){return H4||(H4=1,_1=B5().get),_1}var vz=yz();const Vd=ns(vz);var xz=4;function ku(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xz,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,o)=>{var l=n[o-1];return typeof l=="string"?i+l+a:l!==void 0?i+ku(l)+a:i+a},"")}var ua=e=>e===0?0:e>0?1:-1,Is=e=>typeof e=="number"&&e!=+e,pc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Et=e=>(typeof e=="number"||e instanceof Number)&&!Is(e),Al=e=>Et(e)||typeof e=="string",bz=0,hm=e=>{var t=++bz;return"".concat(e||"").concat(t)},Ao=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(t)&&typeof t!="string")return r;var a;if(pc(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Is(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},aI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Vi(e,t,n){return Et(e)&&Et(t)?ku(e+n*(t-e)):t}function oI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Vd(r,t))===n)}var Ti=e=>e===null||typeof e>"u",Um=e=>Ti(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function wz(e){return e!=null}function Fm(){}var Nz=["type","size","sizeType"];function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(null,arguments)}function V4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V4(Object(n),!0).forEach(function(r){Sz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sz(e,t,n){return(t=Az(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Az(e){var t=_z(e,"string");return typeof t=="symbol"?t:t+""}function _z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cz(e,t){if(e==null)return{};var n,r,i=Ez(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ez(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sI={symbolCircle:R5,symbolCross:zF,symbolDiamond:HF,symbolSquare:VF,symbolStar:YF,symbolTriangle:KF,symbolWye:XF},kz=Math.PI/180,Tz=e=>{var t="symbol".concat(Um(e));return sI[t]||R5},Pz=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*kz;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},jz=(e,t)=>{sI["symbol".concat(Um(e))]=t},U5=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Cz(e,Nz),a=G4(G4({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var y=Tz(o),g=QF().type(y).size(Pz(n,r,o)),w=g();if(w!==null)return w},{className:u,cx:f,cy:h}=a,p=Aa(a);return Et(f)&&Et(h)&&Et(n)?j.createElement("path",V2({},p,{className:Tn("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:l()})):null};U5.registerSymbol=jz;var lI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,F5=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{P5(i)&&(r[i]=(a=>n[i](n,a)))}),r},Iz=(e,t,n)=>r=>(e(t,n,r),null),z5=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];P5(i)&&typeof a=="function"&&(r||(r={}),r[i]=Iz(a,t,n))}),r};function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){Dz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dz(e,t,n){return(t=Rz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pi(e,t){var n=Mz({},e),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return a}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wg.apply(null,arguments)}function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(r){Bz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bz(e,t,n){return(t=Uz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uz(e){var t=Fz(e,"string");return typeof t=="symbol"?t:t+""}function Fz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yo=32,zz={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function qz(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Yo/2,a=Yo/6,o=Yo/3,l=t.inactive?r:t.color,u=n??t.type;if(u==="none")return null;if(u==="plainline"){var f;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Yo,y2:i,className:"recharts-legend-icon"})}if(u==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Yo,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Yo/8,"h").concat(Yo,"v").concat(Yo*3/4,"h").concat(-Yo,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var h=Oz({},t);return delete h.legendIcon,j.cloneElement(t.legendIcon,h)}return j.createElement(U5,{fill:l,cx:i,cy:i,size:Yo,sizeType:"diameter",type:u})}function Hz(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=e,l={x:0,y:0,width:Yo,height:Yo},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var y=h.formatter||i,g=Tn({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var w=h.inactive?a:h.color,N=y?y(h.value,h,p):h.value;return j.createElement("li",Wg({className:g,style:u,key:"legend-item-".concat(p)},z5(e,h,p)),j.createElement(j5,{width:n,height:n,viewBox:l,style:f,"aria-label":"".concat(N," legend icon")},j.createElement(qz,{data:h,iconType:o,inactiveColor:a})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},N))})}var Vz=e=>{var t=pi(e,zz),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},j.createElement(Hz,Wg({},t,{payload:n})))},C1={},E1={},Y4;function Gz(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}e.uniqBy=t})(E1)),E1}var k1={},K4;function cI(){return K4||(K4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(k1)),k1}var T1={},P1={},j1={},J4;function $z(){return J4||(J4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(j1)),j1}var X4;function q5(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$z();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(P1)),P1}var I1={},Q4;function Wz(){return Q4||(Q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(I1)),I1}var Z4;function Yz(){return Z4||(Z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q5(),n=Wz();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(T1)),T1}var M1={},D1={},eC;function Kz(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B5();function n(r){return function(i){return t.get(i,r)}}e.property=n})(D1)),D1}var R1={},L1={},O1={},B1={},tC;function uI(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(B1)),B1}var U1={},nC;function dI(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(U1)),U1}var F1={},rC;function fI(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(F1)),F1}var iC;function Jz(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uI(),n=dI(),r=fI();function i(h,p,y){return typeof y!="function"?i(h,p,()=>{}):a(h,p,function g(w,N,A,_,k,P){const M=y(w,N,A,_,k,P);return M!==void 0?!!M:a(w,N,g,P)},new Map)}function a(h,p,y,g){if(p===h)return!0;switch(typeof p){case"object":return o(h,p,y,g);case"function":return Object.keys(p).length>0?a(h,{...p},y,g):r.eq(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.eq(h,p)}}function o(h,p,y,g){if(p==null)return!0;if(Array.isArray(p))return u(h,p,y,g);if(p instanceof Map)return l(h,p,y,g);if(p instanceof Set)return f(h,p,y,g);const w=Object.keys(p);if(h==null||n.isPrimitive(h))return w.length===0;if(w.length===0)return!0;if(g!=null&&g.has(p))return g.get(p)===h;g==null||g.set(p,h);try{for(let N=0;N<w.length;N++){const A=w[N];if(!n.isPrimitive(h)&&!(A in h)||p[A]===void 0&&h[A]!==void 0||p[A]===null&&h[A]!==null||!y(h[A],p[A],A,h,p,g))return!1}return!0}finally{g==null||g.delete(p)}}function l(h,p,y,g){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,N]of p.entries()){const A=h.get(w);if(y(A,N,w,h,p,g)===!1)return!1}return!0}function u(h,p,y,g){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let N=0;N<p.length;N++){const A=p[N];let _=!1;for(let k=0;k<h.length;k++){if(w.has(k))continue;const P=h[k];let M=!1;if(y(P,A,N,h,p,g)&&(M=!0),M){w.add(k),_=!0;break}}if(!_)return!1}return!0}function f(h,p,y,g){return p.size===0?!0:h instanceof Set?u([...h],[...p],y,g):!1}e.isMatchWith=i,e.isSetMatch=f})(O1)),O1}var aC;function hI(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jz();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(L1)),L1}var z1={},q1={},H1={},oC;function Xz(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(H1)),H1}var V1={},sC;function pI(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(V1)),V1}var G1={},lC;function mI(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",g="[object Object]",w="[object Error]",N="[object DataView]",A="[object Uint8Array]",_="[object Uint8ClampedArray]",k="[object Uint16Array]",P="[object Uint32Array]",M="[object BigUint64Array]",B="[object Int8Array]",U="[object Int16Array]",D="[object Int32Array]",F="[object BigInt64Array]",q="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=N,e.dateTag=l,e.errorTag=w,e.float32ArrayTag=q,e.float64ArrayTag=G,e.functionTag=p,e.int16ArrayTag=U,e.int32ArrayTag=D,e.int8ArrayTag=B,e.mapTag=u,e.numberTag=r,e.objectTag=g,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=k,e.uint32ArrayTag=P,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=_})(G1)),G1}var $1={},cC;function Qz(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})($1)),$1}var uC;function gI(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xz(),n=pI(),r=mI(),i=dI(),a=Qz();function o(h,p){return l(h,void 0,h,new Map,p)}function l(h,p,y,g=new Map,w=void 0){const N=w==null?void 0:w(h,p,y,g);if(N!==void 0)return N;if(i.isPrimitive(h))return h;if(g.has(h))return g.get(h);if(Array.isArray(h)){const A=new Array(h.length);g.set(h,A);for(let _=0;_<h.length;_++)A[_]=l(h[_],_,y,g,w);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;g.set(h,A);for(const[_,k]of h)A.set(_,l(k,_,y,g,w));return A}if(h instanceof Set){const A=new Set;g.set(h,A);for(const _ of h)A.add(l(_,void 0,y,g,w));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);g.set(h,A);for(let _=0;_<h.length;_++)A[_]=l(h[_],_,y,g,w);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return g.set(h,A),u(A,h,y,g,w),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return g.set(h,A),u(A,h,y,g,w),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return g.set(h,A),u(A,h,y,g,w),A}if(h instanceof Error){const A=new h.constructor;return g.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,u(A,h,y,g,w),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return g.set(h,A),u(A,h,y,g,w),A}if(h instanceof Number){const A=new Number(h.valueOf());return g.set(h,A),u(A,h,y,g,w),A}if(h instanceof String){const A=new String(h.valueOf());return g.set(h,A),u(A,h,y,g,w),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return g.set(h,A),u(A,h,y,g,w),A}return h}function u(h,p,y=h,g,w){const N=[...Object.keys(p),...t.getSymbols(p)];for(let A=0;A<N.length;A++){const _=N[A],k=Object.getOwnPropertyDescriptor(h,_);(k==null||k.writable)&&(h[_]=l(p[_],_,y,g,w))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=u})(q1)),q1}var dC;function Zz(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gI();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(z1)),z1}var fC;function eq(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI(),n=Zz();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(R1)),R1}var W1={},Y1={},K1={},hC;function tq(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gI(),n=mI();function r(i,a){return t.cloneDeepWith(i,(o,l,u,f)=>{const h=a==null?void 0:a(o,l,u,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(K1)),K1}var pC;function nq(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tq();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Y1)),Y1}var J1={},X1={},mC;function yI(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(X1)),X1}var Q1={},gC;function rq(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Q1)),Q1}var yC;function iq(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI(),n=yI(),r=rq(),i=O5();function a(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let f=o;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=a})(J1)),J1}var vC;function aq(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI(),n=L5(),r=nq(),i=B5(),a=iq();function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,l);return h===void 0?a.has(f,l):u===void 0?h===void 0:t.isMatch(h,u)}}e.matchesProperty=o})(W1)),W1}var xC;function oq(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI(),n=Kz(),r=eq(),i=aq();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(M1)),M1}var bC;function sq(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gz(),n=cI(),r=Yz(),i=oq();function a(o,l=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}e.uniqBy=a})(C1)),C1}var Z1,wC;function lq(){return wC||(wC=1,Z1=sq().uniqBy),Z1}var cq=lq();const NC=ns(cq);function vI(e,t,n){return t===!0?NC(e,n):typeof t=="function"?NC(e,t):e}var eb={exports:{}},tb={},nb={exports:{}},rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function uq(){if(SC)return rb;SC=1;var e=Rh();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(p,y){var g=y(),w=r({inst:{value:g,getSnapshot:y}}),N=w[0].inst,A=w[1];return a(function(){N.value=g,N.getSnapshot=y,u(N)&&A({inst:N})},[p,g,y]),i(function(){return u(N)&&A({inst:N}),p(function(){u(N)&&A({inst:N})})},[p]),o(g),g}function u(p){var y=p.getSnapshot;p=p.value;try{var g=y();return!n(p,g)}catch{return!0}}function f(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return rb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,rb}var AC;function dq(){return AC||(AC=1,nb.exports=uq()),nb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function fq(){if(_C)return tb;_C=1;var e=Rh(),t=dq();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return tb.useSyncExternalStoreWithSelector=function(f,h,p,y,g){var w=a(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=l(function(){function _(U){if(!k){if(k=!0,P=U,U=y(U),g!==void 0&&N.hasValue){var D=N.value;if(g(D,U))return M=D}return M=U}if(D=M,r(P,U))return D;var F=y(U);return g!==void 0&&g(D,F)?(P=U,D):(P=U,M=F)}var k=!1,P,M,B=p===void 0?null:p;return[function(){return _(h())},B===null?void 0:function(){return _(B())}]},[h,p,y,g]);var A=i(f,w[0],w[1]);return o(function(){N.hasValue=!0,N.value=A},[A]),u(A),A},tb}var CC;function hq(){return CC||(CC=1,eb.exports=fq()),eb.exports}var pq=hq(),H5=j.createContext(null),mq=e=>e,rr=()=>{var e=j.useContext(H5);return e?e.store.dispatch:mq},Eg=()=>{},gq=()=>Eg,yq=(e,t)=>e===t;function Pt(e){var t=j.useContext(H5);return pq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gq,t?t.store.getState:Eg,t?t.store.getState:Eg,t?e:Eg,yq)}function vq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function xq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function bq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var EC=e=>Array.isArray(e)?e:[e];function wq(e){const t=Array.isArray(e[0])?e[0]:e;return bq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Nq(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Sq=class{constructor(e){this.value=e}deref(){return this.value}},Aq=typeof WeakRef<"u"?WeakRef:Sq,_q=0,kC=1;function Q0(){return{s:_q,v:void 0,o:null,p:null}}function xI(e,t={}){let n=Q0();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var p;let l=n;const{length:u}=arguments;for(let y=0,g=u;y<g;y++){const w=arguments[y];if(typeof w=="function"||typeof w=="object"&&w!==null){let N=l.o;N===null&&(l.o=N=new WeakMap);const A=N.get(w);A===void 0?(l=Q0(),N.set(w,l)):l=A}else{let N=l.p;N===null&&(l.p=N=new Map);const A=N.get(w);A===void 0?(l=Q0(),N.set(w,l)):l=A}}const f=l;let h;if(l.s===kC)h=l.v;else if(h=e.apply(null,arguments),a++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,h)&&(h=y,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Aq(h):h}return f.s=kC,f.v=h,h}return o.clearCache=()=>{n=Q0(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Cq(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,l,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),vq(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:g=xI,argsMemoizeOptions:w=[]}=h,N=EC(y),A=EC(w),_=wq(i),k=p(function(){return a++,f.apply(null,arguments)},...N),P=g(function(){o++;const B=Nq(_,arguments);return l=k.apply(null,B),l},...A);return Object.assign(P,{resultFunc:f,memoizedResultFunc:k,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var Fe=Cq(xI),Eq=Object.assign((e,t=Fe)=>{xq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>Eq}),ib={},ab={},ob={},TC;function kq(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};e.compareValues=n})(ob)),ob}var sb={},lb={},PC;function bI(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(lb)),lb}var jC;function Tq(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(sb)),sb}var IC;function Pq(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kq(),n=Tq(),r=O5();function i(a,o,l,u){if(a==null)return[];l=u?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const f=(g,w)=>{let N=g;for(let A=0;A<w.length&&N!=null;++A)N=N[w[A]];return N},h=(g,w)=>w==null||g==null?w:typeof g=="object"&&"key"in g?Object.hasOwn(w,g.key)?w[g.key]:f(w,g.path):typeof g=="function"?g(w):Array.isArray(g)?f(w,g):typeof w=="object"?w[g]:w,p=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(w=>h(w,g))})).slice().sort((g,w)=>{for(let N=0;N<p.length;N++){const A=t.compareValues(g.criteria[N],w.criteria[N],l[N]);if(A!==0)return A}return 0}).map(g=>g.original)}e.orderBy=i})(ab)),ab}var cb={},MC;function jq(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(l,u)=>{for(let f=0;f<l.length;f++){const h=l[f];Array.isArray(h)&&u<a?o(h,u+1):i.push(h)}};return o(n,0),i}e.flatten=t})(cb)),cb}var ub={},DC;function wI(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI(),n=q5(),r=uI(),i=fI();function a(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&t.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}e.isIterateeCall=a})(ub)),ub}var RC;function Iq(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pq(),n=jq(),r=wI();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(ib)),ib}var db,LC;function Mq(){return LC||(LC=1,db=Iq().sortBy),db}var Dq=Mq();const Jy=ns(Dq);var NI=e=>e.legend.settings,Rq=e=>e.legend.size,Lq=e=>e.legend.payload,Oq=Fe([Lq,NI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Jy(r,n):r});function Bq(){return Pt(Oq)}var Z0=1;function SI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Z0||Math.abs(o.left-t.left)>Z0||Math.abs(o.top-t.top)>Z0||Math.abs(o.width-t.width)>Z0)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function qi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Uq=typeof Symbol=="function"&&Symbol.observable||"@@observable",OC=Uq,fb=()=>Math.random().toString(36).substring(7).split("").join("."),Fq={INIT:`@@redux/INIT${fb()}`,REPLACE:`@@redux/REPLACE${fb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fb()}`},Yg=Fq;function V5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AI(e,t,n){if(typeof e!="function")throw new Error(qi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qi(1));return n(AI)(e,t)}let r=e,i=t,a=new Map,o=a,l=0,u=!1;function f(){o===a&&(o=new Map,a.forEach((A,_)=>{o.set(_,A)}))}function h(){if(u)throw new Error(qi(3));return i}function p(A){if(typeof A!="function")throw new Error(qi(4));if(u)throw new Error(qi(5));let _=!0;f();const k=l++;return o.set(k,A),function(){if(_){if(u)throw new Error(qi(6));_=!1,f(),o.delete(k),a=null}}}function y(A){if(!V5(A))throw new Error(qi(7));if(typeof A.type>"u")throw new Error(qi(8));if(typeof A.type!="string")throw new Error(qi(17));if(u)throw new Error(qi(9));try{u=!0,i=r(i,A)}finally{u=!1}return(a=o).forEach(k=>{k()}),A}function g(A){if(typeof A!="function")throw new Error(qi(10));r=A,y({type:Yg.REPLACE})}function w(){const A=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(qi(11));function k(){const M=_;M.next&&M.next(h())}return k(),{unsubscribe:A(k)}},[OC](){return this}}}return y({type:Yg.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:g,[OC]:w}}function zq(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yg.INIT})>"u")throw new Error(qi(12));if(typeof n(void 0,{type:Yg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qi(13))})}function _I(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{zq(n)}catch(a){i=a}return function(o={},l){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],y=n[p],g=o[p],w=y(g,l);if(typeof w>"u")throw l&&l.type,new Error(qi(14));f[p]=w,u=u||w!==g}return u=u||r.length!==Object.keys(o).length,u?f:o}}function Kg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function qq(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(qi(15))};const o={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},l=e.map(u=>u(o));return a=Kg(...l)(i.dispatch),{...i,dispatch:a}}}function CI(e){return V5(e)&&"type"in e&&typeof e.type=="string"}var EI=Symbol.for("immer-nothing"),BC=Symbol.for("immer-draftable"),_a=Symbol.for("immer-state");function _s(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wo=Object,Eh=wo.getPrototypeOf,Jg="constructor",Xy="prototype",G2="configurable",Xg="enumerable",kg="writable",pm="value",mc=e=>!!e&&!!e[_a];function Ms(e){var t;return e?kI(e)||Qy(e)||!!e[BC]||!!((t=e[Jg])!=null&&t[BC])||Zy(e)||ev(e):!1}var Hq=wo[Xy][Jg].toString(),UC=new WeakMap;function kI(e){if(!e||!G5(e))return!1;const t=Eh(e);if(t===null||t===wo[Xy])return!0;const n=wo.hasOwnProperty.call(t,Jg)&&t[Jg];if(n===Object)return!0;if(!ah(n))return!1;let r=UC.get(n);return r===void 0&&(r=Function.toString.call(n),UC.set(n,r)),r===Hq}function zm(e,t,n=!0){qm(e)===0?(n?Reflect.ownKeys(e):wo.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function qm(e){const t=e[_a];return t?t.type_:Qy(e)?1:Zy(e)?2:ev(e)?3:0}var FC=(e,t,n=qm(e))=>n===2?e.has(t):wo[Xy].hasOwnProperty.call(e,t),$2=(e,t,n=qm(e))=>n===2?e.get(t):e[t],Qg=(e,t,n,r=qm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Vq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Qy=Array.isArray,Zy=e=>e instanceof Map,ev=e=>e instanceof Set,G5=e=>typeof e=="object",ah=e=>typeof e=="function",hb=e=>typeof e=="boolean";function Gq(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var oc=e=>e.copy_||e.base_,$5=e=>e.modified_?e.copy_:e.base_;function W2(e,t){if(Zy(e))return new Map(e);if(ev(e))return new Set(e);if(Qy(e))return Array[Xy].slice.call(e);const n=kI(e);if(t===!0||t==="class_only"&&!n){const r=wo.getOwnPropertyDescriptors(e);delete r[_a];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[kg]===!1&&(l[kg]=!0,l[G2]=!0),(l.get||l.set)&&(r[o]={[G2]:!0,[kg]:!0,[Xg]:l[Xg],[pm]:e[o]})}return wo.create(Eh(e),r)}else{const r=Eh(e);if(r!==null&&n)return{...e};const i=wo.create(r);return wo.assign(i,e)}}function W5(e,t=!1){return tv(e)||mc(e)||!Ms(e)||(qm(e)>1&&wo.defineProperties(e,{set:eg,add:eg,clear:eg,delete:eg}),wo.freeze(e),t&&zm(e,(n,r)=>{W5(r,!0)},!1)),e}function $q(){_s(2)}var eg={[pm]:$q};function tv(e){return e===null||!G5(e)?!0:wo.isFrozen(e)}var Zg="MapSet",Y2="Patches",zC="ArrayMethods",TI={};function Gd(e){const t=TI[e];return t||_s(0,e),t}var qC=e=>!!TI[e],mm,PI=()=>mm,Wq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:qC(Zg)?Gd(Zg):void 0,arrayMethodsPlugin_:qC(zC)?Gd(zC):void 0});function HC(e,t){t&&(e.patchPlugin_=Gd(Y2),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function K2(e){J2(e),e.drafts_.forEach(Yq),e.drafts_=null}function J2(e){e===mm&&(mm=e.parent_)}var VC=e=>mm=Wq(mm,e);function Yq(e){const t=e[_a];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function GC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[_a].modified_&&(K2(t),_s(4)),Ms(e)&&(e=$C(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[_a].base_,e,t)}else e=$C(t,n);return Kq(t,e,!0),K2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==EI?e:void 0}function $C(e,t){if(tv(t))return t;const n=t[_a];if(!n)return Y5(t,e.handledSet_,e);if(!nv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);MI(n,e)}return n.copy_}function Kq(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&W5(t,n)}function jI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var nv=(e,t)=>e.scope_===t,Jq=[];function II(e,t,n,r){const i=oc(e),a=e.type_;if(r!==void 0&&$2(i,r,a)===t){Qg(i,r,n,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;zm(i,(u,f)=>{if(mc(f)){const h=l.get(f)||[];h.push(u),l.set(f,h)}})}const o=e.draftLocations_.get(t)??Jq;for(const l of o)Qg(i,l,n,a)}function Xq(e,t,n){e.callbacks_.push(function(i){var l;const a=t;if(!a||!nv(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const o=$5(a);II(e,a.draft_??a,o,n),MI(a,i)})}function MI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}jI(e)}}function Qq(e,t,n){const{scope_:r}=e;if(mc(n)){const i=n[_a];nv(i,r)&&i.callbacks_.push(function(){Tg(e);const o=$5(i);II(e,n,o,t)})}else Ms(n)&&e.callbacks_.push(function(){const a=oc(e);$2(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Y5($2(e.copy_,t,e.type_),r.handledSet_,r)})}function Y5(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||mc(e)||t.has(e)||!Ms(e)||tv(e)||(t.add(e),zm(e,(r,i)=>{if(mc(i)){const a=i[_a];if(nv(a,n)){const o=$5(a);Qg(e,r,o,e.type_),jI(a)}}else Ms(i)&&Y5(i,t,n)})),e}function Zq(e,t){const n=Qy(e),r={type_:n?1:0,scope_:t?t.scope_:PI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=K5;n&&(i=[r],a=gm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var K5={get(e,t){if(t===_a)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=oc(e);if(!FC(i,t,e.type_))return eH(e,i,t);const a=i[t];if(e.finalized_||!Ms(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&Gq(t))return a;if(a===pb(e.base_,t)){Tg(e);const o=e.type_===1?+t:t,l=Q2(e.scope_,a,e,o);return e.copy_[o]=l}return a},has(e,t){return t in oc(e)},ownKeys(e){return Reflect.ownKeys(oc(e))},set(e,t,n){const r=DI(oc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=pb(oc(e),t),a=i==null?void 0:i[_a];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Vq(n,i)&&(n!==void 0||FC(e.base_,t,e.type_)))return!0;Tg(e),X2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),Qq(e,t,n)),!0},deleteProperty(e,t){return Tg(e),pb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),X2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=oc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[kg]:!0,[G2]:e.type_!==1||t!=="length",[Xg]:r[Xg],[pm]:n[t]}},defineProperty(){_s(11)},getPrototypeOf(e){return Eh(e.base_)},setPrototypeOf(){_s(12)}},gm={};zm(K5,(e,t)=>{gm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});gm.deleteProperty=function(e,t){return gm.set.call(this,e,t,void 0)};gm.set=function(e,t,n){return K5.set.call(this,e[0],t,n,e[0])};function pb(e,t){const n=e[_a];return(n?oc(n):e)[t]}function eH(e,t,n){var i;const r=DI(t,n);return r?pm in r?r[pm]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function DI(e,t){if(!(t in e))return;let n=Eh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Eh(n)}}function X2(e){e.modified_||(e.modified_=!0,e.parent_&&X2(e.parent_))}function Tg(e){e.copy_||(e.assigned_=new Map,e.copy_=W2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ah(n)&&!ah(r)){const o=r;r=n;const l=this;return function(f=o,...h){return l.produce(f,p=>r.call(this,p,...h))}}ah(r)||_s(6),i!==void 0&&!ah(i)&&_s(7);let a;if(Ms(n)){const o=VC(this),l=Q2(o,n,void 0);let u=!0;try{a=r(l),u=!1}finally{u?K2(o):J2(o)}return HC(o,i),GC(a,o)}else if(!n||!G5(n)){if(a=r(n),a===void 0&&(a=n),a===EI&&(a=void 0),this.autoFreeze_&&W5(a,!0),i){const o=[],l=[];Gd(Y2).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else _s(1,n)},this.produceWithPatches=(n,r)=>{if(ah(n))return(l,...u)=>this.produceWithPatches(l,f=>n(f,...u));let i,a;return[this.produce(n,r,(l,u)=>{i=l,a=u}),i,a]},hb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),hb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),hb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ms(t)||_s(8),mc(t)&&(t=ks(t));const n=VC(this),r=Q2(n,t,void 0);return r[_a].isManual_=!0,J2(n),r}finishDraft(t,n){const r=t&&t[_a];(!r||!r.isManual_)&&_s(9);const{scope_:i}=r;return HC(i,n),GC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Gd(Y2).applyPatches_;return mc(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Q2(e,t,n,r){const[i,a]=Zy(t)?Gd(Zg).proxyMap_(t,n):ev(t)?Gd(Zg).proxySet_(t,n):Zq(t,n);return((n==null?void 0:n.scope_)??PI()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Xq(n,a,r):a.callbacks_.push(function(u){var h;(h=u.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function ks(e){return mc(e)||_s(10,e),RI(e)}function RI(e){if(!Ms(e)||tv(e))return e;const t=e[_a];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=W2(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=W2(e,!0);return zm(n,(i,a)=>{Qg(n,i,RI(a))},r),t&&(t.finalized_=!1),n}var nH=new tH,LI=nH.produce;function OI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var rH=OI(),iH=OI,aH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kg:Kg.apply(null,arguments)};function Zo(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(_o(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>CI(r)&&r.type===e,n}var BI=class Zp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zp.prototype)}static get[Symbol.species](){return Zp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zp(...t[0].concat(this)):new Zp(...t.concat(this))}};function WC(e){return Ms(e)?LI(e,()=>{}):e}function tg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function oH(e){return typeof e=="boolean"}var sH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new BI;return n&&(oH(n)?o.push(rH):o.push(iH(n.extraArgument))),o},UI="RTK_autoBatch",xr=()=>e=>({payload:e,meta:{[UI]:!0}}),YC=e=>t=>{setTimeout(t,e)},FI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const l=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YC(10):e.type==="callback"?e.queueNotification:YC(e.timeout),f=()=>{o=!1,a&&(a=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),y=r.subscribe(p);return l.add(h),()=>{y(),l.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[UI]),a=!i,a&&(o||(o=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},lH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new BI(e);return r&&i.push(FI(typeof r=="object"?r:void 0)),i};function cH(e){const t=sH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(V5(n))l=_I(n);else throw new Error(_o(1));let u;typeof r=="function"?u=r(t):u=t();let f=Kg;i&&(f=aH({trace:!1,...typeof i=="object"&&i}));const h=qq(...u),p=lH(h);let y=typeof o=="function"?o(p):p();const g=f(...y);return AI(l,a,g)}function zI(e){const t={},n=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(_o(28));if(l in t)throw new Error(_o(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function uH(e){return typeof e=="function"}function dH(e,t){let[n,r,i]=zI(t),a;if(uH(e))a=()=>WC(e());else{const l=WC(e);a=()=>l}function o(l=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(mc(h)){const g=p(h,u);return g===void 0?h:g}else{if(Ms(h))return LI(h,y=>p(y,u));{const y=p(h,u);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},l)}return o.getInitialState=a,o}var fH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hH=(e=21)=>{let t="",n=e;for(;n--;)t+=fH[Math.random()*64|0];return t},pH=Symbol.for("rtk-slice-createasyncthunk");function mH(e,t){return`${e}/${t}`}function gH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[pH];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(_o(11));const l=(typeof i.reducers=="function"?i.reducers(vH()):i.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(M,B){const U=typeof M=="string"?M:M.type;if(!U)throw new Error(_o(12));if(U in f.sliceCaseReducersByType)throw new Error(_o(13));return f.sliceCaseReducersByType[U]=B,h},addMatcher(M,B){return f.sliceMatchers.push({matcher:M,reducer:B}),h},exposeAction(M,B){return f.actionCreators[M]=B,h},exposeCaseReducer(M,B){return f.sliceCaseReducersByName[M]=B,h}};u.forEach(M=>{const B=l[M],U={reducerName:M,type:mH(a,M),createNotation:typeof i.reducers=="function"};bH(B)?NH(U,B,h,t):xH(U,B,h)});function p(){const[M={},B=[],U=void 0]=typeof i.extraReducers=="function"?zI(i.extraReducers):[i.extraReducers],D={...M,...f.sliceCaseReducersByType};return dH(i.initialState,F=>{for(let q in D)F.addCase(q,D[q]);for(let q of f.sliceMatchers)F.addMatcher(q.matcher,q.reducer);for(let q of B)F.addMatcher(q.matcher,q.reducer);U&&F.addDefaultCase(U)})}const y=M=>M,g=new Map,w=new WeakMap;let N;function A(M,B){return N||(N=p()),N(M,B)}function _(){return N||(N=p()),N.getInitialState()}function k(M,B=!1){function U(F){let q=F[M];return typeof q>"u"&&B&&(q=tg(w,U,_)),q}function D(F=y){const q=tg(g,B,()=>new WeakMap);return tg(q,F,()=>{const G={};for(const[R,O]of Object.entries(i.selectors??{}))G[R]=yH(O,F,()=>tg(w,F,_),B);return G})}return{reducerPath:M,getSelectors:D,get selectors(){return D(U)},selectSlice:U}}const P={name:a,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:_,...k(o),injectInto(M,{reducerPath:B,...U}={}){const D=B??o;return M.inject({reducerPath:D,reducer:A},U),{...P,...k(D,!0)}}};return P}}function yH(e,t,n,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...o)}return i.unwrapped=e,i}var Za=gH();function vH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function xH({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!wH(r))throw new Error(_o(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Zo(e,o):Zo(e))}function bH(e){return e._reducerDefinitionType==="asyncThunk"}function wH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function NH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(_o(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:u,settled:f,options:h}=n,p=i(e,a,h);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:o||ng,pending:l||ng,rejected:u||ng,settled:f||ng})}function ng(){}var SH="task",qI="listener",HI="completed",J5="cancelled",AH=`task-${J5}`,_H=`task-${HI}`,Z2=`${qI}-${J5}`,CH=`${qI}-${HI}`,rv=class{constructor(e){s1(this,"name","TaskAbortError");s1(this,"message");this.code=e,this.message=`${SH} ${J5} (reason: ${e})`}},X5=(e,t)=>{if(typeof e!="function")throw new TypeError(_o(32))},ey=()=>{},VI=(e,t=ey)=>(e.catch(t),e),GI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Rd=e=>{if(e.aborted)throw new rv(e.reason)};function $I(e,t){let n=ey;return new Promise((r,i)=>{const a=()=>i(new rv(e.reason));if(e.aborted){a();return}n=GI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ey})}var EH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof rv?"cancelled":"rejected",error:n}}finally{t==null||t()}},ty=e=>t=>VI($I(e,t).then(n=>(Rd(e),n))),WI=e=>{const t=ty(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:mh}=Object,KC={},iv="listenerMiddleware",kH=(e,t)=>{const n=r=>GI(e,()=>r.abort(e.reason));return(r,i)=>{X5(r);const a=new AbortController;n(a);const o=EH(async()=>{Rd(e),Rd(a.signal);const l=await r({pause:ty(a.signal),delay:WI(a.signal),signal:a.signal});return Rd(a.signal),l},()=>a.abort(_H));return i!=null&&i.autoJoin&&t.push(o.catch(ey)),{result:ty(e)(o),cancel(){a.abort(AH)}}}},TH=(e,t)=>{const n=async(r,i)=>{Rd(t);let a=()=>{};const l=[new Promise((u,f)=>{let h=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await $I(t,Promise.race(l));return Rd(t),u}finally{a()}};return(r,i)=>VI(n(r,i))},YI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Zo(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_o(21));return X5(a),{predicate:i,type:t,effect:a}},KI=mh(e=>{const{type:t,predicate:n,effect:r}=YI(e);return{id:hH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_o(22))}}},{withTypes:()=>KI}),JC=(e,t)=>{const{type:n,effect:r,predicate:i}=YI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},ew=e=>{e.pending.forEach(t=>{t.abort(Z2)})},PH=(e,t)=>()=>{for(const n of t.keys())ew(n);e.clear()},XC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},JI=mh(Zo(`${iv}/add`),{withTypes:()=>JI}),jH=Zo(`${iv}/removeAll`),XI=mh(Zo(`${iv}/remove`),{withTypes:()=>XI}),IH=(...e)=>{console.error(`${iv}/error`,...e)},Hm=(e={})=>{const t=new Map,n=new Map,r=g=>{const w=n.get(g)??0;n.set(g,w+1)},i=g=>{const w=n.get(g)??1;w===1?n.delete(g):n.set(g,w-1)},{extra:a,onError:o=IH}=e;X5(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),w=>{g.unsubscribe(),w!=null&&w.cancelActive&&ew(g)}),u=g=>{const w=JC(t,g)??KI(g);return l(w)};mh(u,{withTypes:()=>u});const f=g=>{const w=JC(t,g);return w&&(w.unsubscribe(),g.cancelActive&&ew(w)),!!w};mh(f,{withTypes:()=>f});const h=async(g,w,N,A)=>{const _=new AbortController,k=TH(u,_.signal),P=[];try{g.pending.add(_),r(g),await Promise.resolve(g.effect(w,mh({},N,{getOriginalState:A,condition:(M,B)=>k(M,B).then(Boolean),take:k,delay:WI(_.signal),pause:ty(_.signal),extra:a,signal:_.signal,fork:kH(_.signal,P),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,B,U)=>{M!==_&&(M.abort(Z2),U.delete(M))})},cancel:()=>{_.abort(Z2),g.pending.delete(_)},throwIfCancelled:()=>{Rd(_.signal)}})))}catch(M){M instanceof rv||XC(o,M,{raisedBy:"effect"})}finally{await Promise.all(P),_.abort(CH),i(g),g.pending.delete(_)}},p=PH(t,n);return{middleware:g=>w=>N=>{if(!CI(N))return w(N);if(JI.match(N))return u(N.payload);if(jH.match(N)){p();return}if(XI.match(N))return f(N.payload);let A=g.getState();const _=()=>{if(A===KC)throw new Error(_o(23));return A};let k;try{if(k=w(N),t.size>0){const P=g.getState(),M=Array.from(t.values());for(const B of M){let U=!1;try{U=B.predicate(N,P,A)}catch(D){U=!1,XC(o,D,{raisedBy:"predicate"})}U&&h(B,N,g,_)}}}finally{A=KC}return k},startListening:u,stopListening:f,clearListeners:p}};function _o(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var MH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},QI=Za({name:"chartLayout",initialState:MH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:DH,setLayout:RH,setChartSize:LH,setScale:OH}=QI.actions,BH=QI.reducer;function ZI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function wr(e){return Number.isFinite(e)}function _l(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return(t=FH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ur(e,t,n){return Ti(e)||Ti(t)?n:Al(t)?Vd(e,t,n):typeof t=="function"?t(e):n}var qH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&Et(e[a]))return uh(uh({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&Et(e[o]))return uh(uh({},e),{},{[o]:e[o]+(i||0)})}return e},Sc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",eM=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,o=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(n),o},tM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:y,axisType:g}=e;if(!o)return null;var w=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,N=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(N=g==="angleAxis"&&a&&a.length>=2?ua(a[0]-a[1])*2*N:N,p||y){var A=(p||y||[]).map((_,k)=>{var P=r?r.indexOf(_):_;return{coordinate:o(P)+N,value:_,offset:N,index:k}});return A.filter(_=>!Is(_.coordinate))}return u&&f?f.map((_,k)=>({coordinate:o(_)+N,value:_,index:k,offset:N})):o.ticks&&h!=null?o.ticks(h).map((_,k)=>({coordinate:o(_)+N,value:_,offset:N,index:k})):o.domain().map((_,k)=>({coordinate:o(_)+N,value:r?r[_]:_,index:k,offset:N}))},ZC=1e-4,HH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ZC,a=Math.max(r[0],r[1])+ZC,o=e(t[0]),l=e(t[n-1]);(o<i||o>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},VH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0,l=0;l<n;++l){var u=e[l],f=u==null?void 0:u[i];if(f!=null){var h=f[1],p=f[0],y=Is(h)?p:h;y>=0?(f[0]=a,f[1]=a+y,a=h):(f[0]=o,f[1]=o+y,o=h)}}}},GH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var f=Is(u[1])?u[0]:u[1];f>=0?(u[0]=a,u[1]=a+f,a=u[1]):(u[0]=0,u[1]=0)}}}},$H={sign:VH,expand:fz,none:Hd,silhouette:hz,wiggle:pz,positive:GH},WH=(e,t,n)=>{var r,i=(r=$H[n])!==null&&r!==void 0?r:Hd,a=dz().keys(t).value((l,u)=>Number(ur(l,u,0))).order(H2).offset(i),o=a(e);return o.forEach((l,u)=>{l.forEach((f,h)=>{var p=ur(e[h],t[u],0);Array.isArray(p)&&p.length===2&&Et(p[0])&&Et(p[1])&&(f[0]=p[0],f[1]=p[1])})}),o};function YH(e){return e==null?void 0:String(e)}function eE(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ti(i[t.dataKey])){var l=oI(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=ur(i,Ti(o)?t.dataKey:o);return Ti(u)?null:t.scale(u)}var KH=e=>{var t=e.flat(2).filter(Et);return[Math.min(...t),Math.max(...t)]},JH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XH=(e,t,n)=>{if(e!=null)return JH(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:o}=a,l=o.reduce((u,f)=>{var h=ZI(f,t,n),p=KH(h);return!wr(p[0])||!wr(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},tE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ny=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Jy(t,h=>h.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var u=i[o],f=i[o-1];a=Math.min(((u==null?void 0:u.coordinate)||0)-((f==null?void 0:f.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function rE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return uh(uh({},t),{},{dataKey:n,payload:r,value:i,name:a})}function av(e,t){if(e)return String(e);if(typeof t=="string")return t}var QH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},ZH=(e,t)=>t==="centric"?e.angle:e.radius,Ac=e=>e.layout.width,_c=e=>e.layout.height,eV=e=>e.layout.scale,nM=e=>e.layout.margin,ov=Fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sv=Fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rM="data-recharts-item-index",iM="data-recharts-item-id",Vm=60;function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(n),!0).forEach(function(r){tV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tV(e,t,n){return(t=nV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nV(e){var t=rV(e,"string");return typeof t=="symbol"?t:t+""}function rV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iV=e=>e.brush.height;function aV(e){var t=sv(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vm;return n+i}return n},0)}function oV(e){var t=sv(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vm;return n+i}return n},0)}function sV(e){var t=ov(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function lV(e){var t=ov(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Pi=Fe([Ac,_c,nM,iV,aV,oV,sV,lV,NI,Rq],(e,t,n,r,i,a,o,l,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+l},y=rg(rg({},p),h),g=y.bottom;y.bottom+=r,y=qH(y,u,f);var w=e-y.left-y.right,N=t-y.top-y.bottom;return rg(rg({brushBottom:g},y),{},{width:Math.max(w,0),height:Math.max(N,0)})}),cV=Fe(Pi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),aM=Fe(Ac,_c,(e,t)=>({x:0,y:0,width:e,height:t})),uV=j.createContext(null),eo=()=>j.useContext(uV)!=null,lv=e=>e.brush,cv=Fe([lv,Pi,nM],(e,t,n)=>({height:e.height,x:Et(e.x)?e.x:t.left,y:Et(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Et(e.width)?e.width:t.width})),mb={},gb={},yb={},aE;function dV(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,l=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},p=()=>{f&&h(),N()};let y=null;const g=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},w=()=>{y!==null&&(clearTimeout(y),y=null)},N=()=>{w(),o=void 0,l=null},A=()=>{h()},_=function(...k){if(i!=null&&i.aborted)return;o=this,l=k;const P=y==null;g(),u&&P&&h()};return _.schedule=g,_.cancel=N,_.flush=A,i==null||i.addEventListener("abort",N,{once:!0}),_}e.debounce=t})(yb)),yb}var oE;function fV(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dV();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:u}=a,f=Array(2);o&&(f[0]="leading"),l&&(f[1]="trailing");let h,p=null;const y=t.debounce(function(...N){h=r.apply(this,N),p=null},i,{edges:f}),g=function(...N){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,N),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,N),h)},w=()=>(y.flush(),h);return g.cancel=y.cancel,g.flush=w,g}e.debounce=n})(gb)),gb}var sE;function hV(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fV();function n(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}e.throttle=n})(mb)),mb}var vb,lE;function pV(){return lE||(lE=1,vb=hV().throttle),vb}var mV=pV();const gV=ns(mV);var ry=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},oM=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=n,l=pc(r)?e:Number(r),u=pc(i)?t:Number(i);return a&&a>0&&(l?u=l/a:u&&(l=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:l,calculatedHeight:u}},yV={width:0,height:0,overflow:"visible"},vV={width:0,overflowX:"visible"},xV={height:0,overflowY:"visible"},bV={},wV=e=>{var{width:t,height:n}=e,r=pc(t),i=pc(n);return r&&i?yV:r?vV:i?xV:bV};function NV(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(n),!0).forEach(function(r){SV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SV(e,t,n){return(t=AV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AV(e){var t=_V(e,"string");return typeof t=="symbol"?t:t+""}function _V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sM=j.createContext({width:-1,height:-1});function CV(e){return _l(e.width)&&_l(e.height)}function lM(e){var{children:t,width:n,height:r}=e,i=j.useMemo(()=>({width:n,height:r}),[n,r]);return CV(i)?j.createElement(sM.Provider,{value:i},t):null}var Q5=()=>j.useContext(sM),EV=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:u,children:f,debounce:h=0,id:p,className:y,onResize:g,style:w={}}=e,N=j.useRef(null),A=j.useRef();A.current=g,j.useImperativeHandle(t,()=>N.current);var[_,k]=j.useState({containerWidth:r.width,containerHeight:r.height}),P=j.useCallback((F,q)=>{k(G=>{var R=Math.round(F),O=Math.round(q);return G.containerWidth===R&&G.containerHeight===O?G:{containerWidth:R,containerHeight:O}})},[]);j.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Fm;var F=O=>{var K,{width:$,height:ne}=O[0].contentRect;P($,ne),(K=A.current)===null||K===void 0||K.call(A,$,ne)};h>0&&(F=gV(F,h,{trailing:!0,leading:!1}));var q=new ResizeObserver(F),{width:G,height:R}=N.current.getBoundingClientRect();return P(G,R),q.observe(N.current),()=>{q.disconnect()}},[P,h]);var{containerWidth:M,containerHeight:B}=_;ry(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:U,calculatedHeight:D}=oM(M,B,{width:i,height:a,aspect:n,maxHeight:u});return ry(U!=null&&U>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,D,i,a,o,l,n),j.createElement("div",{id:p?"".concat(p):void 0,className:Tn("recharts-responsive-container",y),style:uE(uE({},w),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:u}),ref:N},j.createElement("div",{style:wV({width:i,height:a})},j.createElement(lM,{width:U,height:D},f)))}),xb=j.forwardRef((e,t)=>{var n=Q5();if(_l(n.width)&&_l(n.height))return e.children;var{width:r,height:i}=NV({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=oM(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Et(a)&&Et(o)?j.createElement(lM,{width:a,height:o},e.children):j.createElement(EV,tw({},e,{width:r,height:i,ref:t}))});function cM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var uv=()=>{var e,t=eo(),n=Pt(cV),r=Pt(cv),i=(e=Pt(lv))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},kV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uM=()=>{var e;return(e=Pt(Pi))!==null&&e!==void 0?e:kV},Z5=()=>Pt(Ac),eN=()=>Pt(_c),TV=()=>Pt(e=>e.layout.margin),On=e=>e.layout.layoutType,Oh=()=>Pt(On),PV=()=>{var e=Oh();if(e==="horizontal"||e==="vertical")return e},jV=()=>{var e=Oh();return e!==void 0},dv=e=>{var t=rr(),n=eo(),{width:r,height:i}=e,a=Q5(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),j.useEffect(()=>{!n&&_l(o)&&_l(l)&&t(LH({width:o,height:l}))},[t,n,o,l]),null},dM=Symbol.for("immer-nothing"),dE=Symbol.for("immer-draftable"),Eo=Symbol.for("immer-state");function Cs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ym=Object.getPrototypeOf;function kh(e){return!!e&&!!e[Eo]}function $d(e){var t;return e?fM(e)||Array.isArray(e)||!!e[dE]||!!((t=e.constructor)!=null&&t[dE])||Gm(e)||hv(e):!1}var IV=Object.prototype.constructor.toString(),fE=new WeakMap;function fM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=fE.get(n);return r===void 0&&(r=Function.toString.call(n),fE.set(n,r)),r===IV}function iy(e,t,n=!0){fv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function fv(e){const t=e[Eo];return t?t.type_:Array.isArray(e)?1:Gm(e)?2:hv(e)?3:0}function nw(e,t){return fv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hM(e,t,n){const r=fv(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function MV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gm(e){return e instanceof Map}function hv(e){return e instanceof Set}function _d(e){return e.copy_||e.base_}function rw(e,t){if(Gm(e))return new Map(e);if(hv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=fM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Eo];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(ym(e),r)}else{const r=ym(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function tN(e,t=!1){return pv(e)||kh(e)||!$d(e)||(fv(e)>1&&Object.defineProperties(e,{set:ig,add:ig,clear:ig,delete:ig}),Object.freeze(e),t&&Object.values(e).forEach(n=>tN(n,!0))),e}function DV(){Cs(2)}var ig={value:DV};function pv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var RV={};function Wd(e){const t=RV[e];return t||Cs(0,e),t}var vm;function pM(){return vm}function LV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hE(e,t){t&&(Wd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iw(e){aw(e),e.drafts_.forEach(OV),e.drafts_=null}function aw(e){e===vm&&(vm=e.parent_)}function pE(e){return vm=LV(vm,e)}function OV(e){const t=e[Eo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Eo].modified_&&(iw(t),Cs(4)),$d(e)&&(e=ay(t,e),t.parent_||oy(t,e)),t.patches_&&Wd("Patches").generateReplacementPatches_(n[Eo].base_,e,t.patches_,t.inversePatches_)):e=ay(t,n,[]),iw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dM?e:void 0}function ay(e,t,n){if(pv(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Eo];if(!i)return iy(t,(a,o)=>gE(e,i,t,a,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return oy(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),iy(o,(u,f)=>gE(e,i,a,u,f,n,l),r),oy(e,a,!1),n&&e.patches_&&Wd("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function gE(e,t,n,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=pv(i);if(!(l&&!o)){if(kh(i)){const u=a&&t&&t.type_!==3&&!nw(t.assigned_,r)?a.concat(r):void 0,f=ay(e,i,u);if(hM(n,r,f),kh(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if($d(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;ay(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Gm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&oy(e,i)}}}function oy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tN(t,n)}function BV(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:pM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=nN;n&&(i=[r],a=xm);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var nN={get(e,t){if(t===Eo)return e;const n=_d(e);if(!nw(n,t))return UV(e,n,t);const r=n[t];return e.finalized_||!$d(r)?r:r===bb(e.base_,t)?(wb(e),e.copy_[t]=sw(r,e)):r},has(e,t){return t in _d(e)},ownKeys(e){return Reflect.ownKeys(_d(e))},set(e,t,n){const r=mM(_d(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=bb(_d(e),t),a=i==null?void 0:i[Eo];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(MV(n,i)&&(n!==void 0||nw(e.base_,t)))return!0;wb(e),ow(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wb(e),ow(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=_d(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Cs(11)},getPrototypeOf(e){return ym(e.base_)},setPrototypeOf(){Cs(12)}},xm={};iy(nN,(e,t)=>{xm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xm.deleteProperty=function(e,t){return xm.set.call(this,e,t,void 0)};xm.set=function(e,t,n){return nN.set.call(this,e[0],t,n,e[0])};function bb(e,t){const n=e[Eo];return(n?_d(n):e)[t]}function UV(e,t,n){var i;const r=mM(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function mM(e,t){if(!(t in e))return;let n=ym(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ym(n)}}function ow(e){e.modified_||(e.modified_=!0,e.parent_&&ow(e.parent_))}function wb(e){e.copy_||(e.copy_=rw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&Cs(6),r!==void 0&&typeof r!="function"&&Cs(7);let i;if($d(t)){const a=pE(this),o=sw(t,void 0);let l=!0;try{i=n(o),l=!1}finally{l?iw(a):aw(a)}return hE(a,r),mE(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===dM&&(i=void 0),this.autoFreeze_&&tN(i,!0),r){const a=[],o=[];Wd("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Cs(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,u=>t(u,...l));let r,i;return[this.produce(t,n,(o,l)=>{r=o,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$d(e)||Cs(8),kh(e)&&(e=zV(e));const t=pE(this),n=sw(e,void 0);return n[Eo].isManual_=!0,aw(t),n}finishDraft(e,t){const n=e&&e[Eo];(!n||!n.isManual_)&&Cs(9);const{scope_:r}=n;return hE(r,t),mE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Wd("Patches").applyPatches_;return kh(e)?r(e,t):this.produce(e,i=>r(i,t))}};function sw(e,t){const n=Gm(e)?Wd("MapSet").proxyMap_(e,t):hv(e)?Wd("MapSet").proxySet_(e,t):BV(e,t);return(t?t.scope_:pM()).drafts_.push(n),n}function zV(e){return kh(e)||Cs(10,e),gM(e)}function gM(e){if(!$d(e)||pv(e))return e;const t=e[Eo];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=rw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=rw(e,!0);return iy(n,(i,a)=>{hM(n,i,gM(a))},r),t&&(t.finalized_=!1),n}var qV=new FV;qV.produce;var HV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yM=Za({name:"legend",initialState:HV,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ks(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:xr()},removeLegendPayload:{reducer(e,t){var n=ks(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xr()}}}),{setLegendSize:yE,setLegendSettings:VV,addLegendPayload:vM,replaceLegendPayload:xM,removeLegendPayload:bM}=yM.actions,GV=yM.reducer,$V=["contextPayload"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){WV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WV(e,t,n){return(t=YV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JV(e,t){if(e==null)return{};var n,r,i=XV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QV(e){return e.value}function ZV(e){var{contextPayload:t}=e,n=JV(e,$V),r=vI(t,e.payloadUniqBy,QV),i=Th(Th({},n),{},{payload:r});return j.isValidElement(e.content)?j.cloneElement(e.content,i):typeof e.content=="function"?j.createElement(e.content,i):j.createElement(Vz,i)}function eG(e,t,n,r,i,a){var{layout:o,align:l,verticalAlign:u}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&o==="vertical"?f={left:((r||0)-a.width)/2}:f=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?h={top:((i||0)-a.height)/2}:h=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Th(Th({},f),h)}function tG(e){var t=rr();return j.useEffect(()=>{t(VV(e))},[t,e]),null}function nG(e){var t=rr();return j.useEffect(()=>(t(yE(e)),()=>{t(yE({width:0,height:0}))}),[t,e]),null}function rG(e,t,n,r){return e==="vertical"&&Et(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var iG={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function cw(e){var t=pi(e,iG),n=Bq(),r=RF(),i=TV(),{width:a,height:o,wrapperStyle:l,portal:u}=t,[f,h]=SI([n]),p=Z5(),y=eN();if(p==null||y==null)return null;var g=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),w=rG(t.layout,o,a,g),N=u?l:Th(Th({position:"absolute",width:(w==null?void 0:w.width)||a||"auto",height:(w==null?void 0:w.height)||o||"auto"},eG(l,t,i,p,y,f)),l),A=u??r;if(A==null||n==null)return null;var _=j.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:h},j.createElement(tG,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&j.createElement(nG,{width:f.width,height:f.height}),j.createElement(ZV,lw({},t,w,{margin:i,chartWidth:p,chartHeight:y,contextPayload:n})));return I5.createPortal(_,A)}cw.displayName="Legend";function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(null,arguments)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){aG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aG(e,t,n){return(t=oG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e){return Array.isArray(e)&&Al(e[0])&&Al(e[1])?e.join(" ~ "):e}var cG=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:y=!1}=e,g=()=>{if(a&&a.length){var B={padding:0,margin:0},U=(l?Jy(a,l):a).map((D,F)=>{if(D.type==="none")return null;var q=D.formatter||o||lG,{value:G,name:R}=D,O=G,K=R;if(q){var $=q(G,R,D,F,a);if(Array.isArray($))[O,K]=$;else if($!=null)O=$;else return null}var ne=Nb({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:ne},Al(K)?j.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Al(K)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},O),j.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:B},U)}return null},w=Nb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),N=Nb({margin:0},i),A=!Ti(h),_=A?h:"",k=Tn("recharts-default-tooltip",u),P=Tn("recharts-tooltip-label",f);A&&p&&a!==void 0&&a!==null&&(_=p(h,a));var M=y?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",uw({className:k,style:w},M),j.createElement("p",{className:P,style:N},j.isValidElement(_)?_:"".concat(_)),g())},Op="recharts-tooltip-wrapper",uG={visibility:"hidden"};function dG(e){var{coordinate:t,translateX:n,translateY:r}=e;return Tn(Op,{["".concat(Op,"-right")]:Et(n)&&t&&Et(t.x)&&n>=t.x,["".concat(Op,"-left")]:Et(n)&&t&&Et(t.x)&&n<t.x,["".concat(Op,"-bottom")]:Et(r)&&t&&Et(t.y)&&r>=t.y,["".concat(Op,"-top")]:Et(r)&&t&&Et(t.y)&&r<t.y})}function bE(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:f}=e;if(a&&Et(a[r]))return a[r];var h=n[r]-l-(i>0?i:0),p=n[r]+i;if(t[r])return o[r]?h:p;var y=u[r];if(y==null)return 0;if(o[r]){var g=h,w=y;return g<w?Math.max(p,y):Math.max(h,y)}if(f==null)return 0;var N=p+l,A=y+f;return N>A?Math.max(h,y):Math.max(p,y)}function fG(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function hG(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:u}=e,f,h,p;return o.height>0&&o.width>0&&n?(h=bE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=bE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=fG({translateX:h,translateY:p,useTranslate3d:l})):f=uG,{cssProperties:f,cssClasses:dG({translateX:h,translateY:p,coordinate:n})}}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ag(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){dw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dw(e,t,n){return(t=pG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gG extends j.PureComponent{constructor(){super(...arguments),dw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:y,viewBox:g,wrapperStyle:w,lastBoundingBox:N,innerRef:A,hasPortalFromProps:_}=this.props,{cssClasses:k,cssProperties:P}=hG({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:N.height,width:N.width},useTranslate3d:y,viewBox:g}),M=_?{}:ag(ag({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),B=ag(ag({},M),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},w);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:B,ref:A},a)}}var wM=()=>{var e;return(e=Pt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(null,arguments)}function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){yG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yG(e,t,n){return(t=vG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AE={curveBasisClosed:ez,curveBasisOpen:tz,curveBasis:ZF,curveBumpX:UF,curveBumpY:FF,curveLinearClosed:nz,curveLinear:Yy,curveMonotoneX:rz,curveMonotoneY:iz,curveNatural:az,curveStep:oz,curveStepAfter:lz,curveStepBefore:sz},sy=e=>wr(e.x)&&wr(e.y),_E=e=>e.base!=null&&sy(e.base)&&sy(e),Bp=e=>e.x,Up=e=>e.y,bG=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Um(e));return(n==="curveMonotone"||n==="curveBump")&&t?AE["".concat(n).concat(t==="vertical"?"Y":"X")]:AE[n]||Yy},wG=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=bG(t,i),l=a?n.filter(sy):n,u;if(Array.isArray(r)){var f=n.map((g,w)=>SE(SE({},g),{},{base:r[w]}));i==="vertical"?u=X0().y(Up).x1(Bp).x0(g=>g.base.x):u=X0().x(Bp).y1(Up).y0(g=>g.base.y);var h=u.defined(_E).curve(o),p=a?f.filter(_E):f;return h(p)}i==="vertical"&&Et(r)?u=X0().y(Up).x1(Bp).x0(r):Et(r)?u=X0().x(Bp).y1(Up).y0(r):u=Wj().x(Bp).y(Up);var y=u.defined(sy).curve(o);return y(l)},gh=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=Oh();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},l=n&&n.length?wG(o):r;return j.createElement("path",fw({},Co(e),F5(e),{className:Tn("recharts-curve",t),d:l===null?void 0:l,ref:i}))},NG=["x","y","top","left","width","height","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){AG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AG(e,t,n){return(t=_G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EG(e,t){if(e==null)return{};var n,r,i=kG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TG=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),PG=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=e,u=EG(e,NG),f=SG({x:t,y:n,top:r,left:i,width:a,height:o},u);return!Et(t)||!Et(n)||!Et(a)||!Et(o)||!Et(r)||!Et(i)?null:j.createElement("path",hw({},Aa(f),{className:Tn("recharts-cross",l),d:TG(t,n,a,o,r,i)}))};function jG(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){IG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IG(e,t,n){return(t=MG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),NM=(e,t,n)=>e.map(r=>"".concat(RG(r)," ").concat(t,"ms ").concat(n)).join(","),LG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),bm=(e,t)=>Object.keys(t).reduce((n,r)=>kE(kE({},n),{},{[r]:e(r,t[r])}),{});function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(n),!0).forEach(function(r){OG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OG(e,t,n){return(t=BG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ly=(e,t,n)=>e+(t-e)*n,pw=e=>{var{from:t,to:n}=e;return t!==n},SM=(e,t,n)=>{var r=bm((i,a)=>{if(pw(a)){var[o,l]=e(a.from,a.to,a.velocity);return fi(fi({},a),{},{from:o,velocity:l})}return a},t);return n<1?bm((i,a)=>pw(a)&&r[i]!=null?fi(fi({},a),{},{velocity:ly(a.velocity,r[i].velocity,n),from:ly(a.from,r[i].from,n)}):a,t):SM(e,r,n-1)};function FG(e,t,n,r,i,a){var o,l=r.reduce((y,g)=>fi(fi({},y),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),u=()=>bm((y,g)=>g.from,l),f=()=>!Object.values(l).filter(pw).length,h=null,p=y=>{o||(o=y);var g=y-o,w=g/n.dt;l=SM(n,l,w),i(fi(fi(fi({},e),t),u())),o=y,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var y;(y=h)===null||y===void 0||y()})}function zG(e,t,n,r,i,a,o){var l=null,u=i.reduce((p,y)=>{var g=e[y],w=t[y];return g==null||w==null?p:fi(fi({},p),{},{[y]:[g,w]})},{}),f,h=p=>{f||(f=p);var y=(p-f)/r,g=bm((N,A)=>ly(...A,n(y)),u);if(a(fi(fi(fi({},e),t),g)),y<1)l=o.setTimeout(h);else{var w=bm((N,A)=>ly(...A,n(1)),u);a(fi(fi(fi({},e),t),w))}};return()=>(l=o.setTimeout(h),()=>{var p;(p=l)===null||p===void 0||p()})}const qG=(e,t,n,r,i,a)=>{var o=LG(e,t);return n==null?()=>(i(fi(fi({},e),t)),()=>{}):n.isStepper===!0?FG(e,t,n,o,i,a):zG(e,t,n,r,o,i,a)};var cy=1e-4,AM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_M=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),PE=(e,t)=>n=>{var r=AM(e,t);return _M(r,n)},HG=(e,t)=>n=>{var r=AM(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return _M(i,n)},VG=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},GG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=VG(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},$G=(e,t,n,r)=>{var i=PE(e,n),a=PE(t,r),o=HG(e,n),l=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,y=0;y<8;++y){var g=i(p)-h,w=o(p);if(Math.abs(g-h)<cy||w<cy)return a(p);p=l(p-g/w)}return a(p)};return u.isStepper=!1,u},jE=function(){return $G(...GG(...arguments))},WG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,l,u)=>{var f=-(o-l)*n,h=u*r,p=u+(f-h)*i/1e3,y=u*i/1e3+o;return Math.abs(y-l)<cy&&Math.abs(p)<cy?[l,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},YG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jE(e);case"spring":return WG();default:if(e.split("(")[0]==="cubic-bezier")return jE(e)}return typeof e=="function"?e:null};function KG(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...f]=l;if(typeof u=="number"){i=e.setTimeout(a.bind(null,f),u);return}a(u),i=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class JG{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function XG(){return KG(new JG)}var QG=j.createContext(XG);function ZG(e,t){var n=j.useContext(QG);return j.useMemo(()=>t??n(e),[e,t,n])}var e$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$m={isSsr:e$()},t$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IE={t:0},Sb={t:1};function mv(e){var t=pi(e,t$),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:u,children:f}=t,h=n==="auto"?!$m.isSsr:n,p=ZG(t.animationId,t.animationManager),[y,g]=j.useState(h?IE:Sb),w=j.useRef(null);return j.useEffect(()=>{h||g(Sb)},[h]),j.useEffect(()=>{if(!h||!r)return Fm;var N=qG(IE,Sb,YG(a),i,g,p.getTimeoutController()),A=()=>{w.current=N()};return p.start([u,o,A,i,l]),()=>{p.stop(),w.current&&w.current(),l()}},[h,r,i,a,o,u,l,p]),f(y.t)}function gv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(hm(t)),r=j.useRef(e);return r.current!==e&&(n.current=hm(t),r.current=e),n.current}var n$=["radius"],r$=["radius"],ME,DE,RE,LE,OE,BE,UE,FE,zE,qE;function HE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(n),!0).forEach(function(r){i$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i$(e,t,n){return(t=a$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a$(e){var t=o$(e,"string");return typeof t=="symbol"?t:t+""}function o$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(null,arguments)}function GE(e,t){if(e==null)return{};var n,r,i=s$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ml(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $E=(e,t,n,r,i)=>{var a=ku(n),o=ku(r),l=Math.min(Math.abs(a)/2,Math.abs(o)/2),u=o>=0?1:-1,f=a>=0?1:-1,h=o>=0&&a>=0||o<0&&a<0?1:0,p;if(l>0&&i instanceof Array){for(var y=[0,0,0,0],g=0,w=4;g<w;g++)y[g]=i[g]>l?l:i[g];p=Or(ME||(ME=ml(["M",",",""])),e,t+u*y[0]),y[0]>0&&(p+=Or(DE||(DE=ml(["A ",",",",0,0,",",",",",""])),y[0],y[0],h,e+f*y[0],t)),p+=Or(RE||(RE=ml(["L ",",",""])),e+n-f*y[1],t),y[1]>0&&(p+=Or(LE||(LE=ml(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],h,e+n,t+u*y[1])),p+=Or(OE||(OE=ml(["L ",",",""])),e+n,t+r-u*y[2]),y[2]>0&&(p+=Or(BE||(BE=ml(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],h,e+n-f*y[2],t+r)),p+=Or(UE||(UE=ml(["L ",",",""])),e+f*y[3],t+r),y[3]>0&&(p+=Or(FE||(FE=ml(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],h,e,t+r-u*y[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var N=Math.min(l,i);p=Or(zE||(zE=ml(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*N,N,N,h,e+f*N,t,e+n-f*N,t,N,N,h,e+n,t+u*N,e+n,t+r-u*N,N,N,h,e+n-f*N,t+r,e+f*N,t+r,N,N,h,e,t+r-u*N)}else p=Or(qE||(qE=ml(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},WE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CM=e=>{var t=pi(e,WE),n=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:o,width:l,height:u,radius:f,className:h}=t,{animationEasing:p,animationDuration:y,animationBegin:g,isAnimationActive:w,isUpdateAnimationActive:N}=t,A=j.useRef(l),_=j.useRef(u),k=j.useRef(a),P=j.useRef(o),M=j.useMemo(()=>({x:a,y:o,width:l,height:u,radius:f}),[a,o,l,u,f]),B=gv(M,"rectangle-");if(a!==+a||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var U=Tn("recharts-rectangle",h);if(!N){var D=Aa(t),{radius:F}=D,q=GE(D,n$);return j.createElement("path",uy({},q,{x:ku(a),y:ku(o),width:ku(l),height:ku(u),radius:typeof f=="number"?f:void 0,className:U,d:$E(a,o,l,u,f)}))}var G=A.current,R=_.current,O=k.current,K=P.current,$="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),z=NM(["strokeDasharray"],y,typeof p=="string"?p:WE.animationEasing);return j.createElement(mv,{animationId:B,key:B,canBegin:r>0,duration:y,easing:p,isActive:N,begin:g},Y=>{var ee=Vi(G,l,Y),se=Vi(R,u,Y),X=Vi(O,a,Y),ie=Vi(K,o,Y);n.current&&(A.current=ee,_.current=se,k.current=X,P.current=ie);var V;w?Y>0?V={transition:z,strokeDasharray:ne}:V={strokeDasharray:$}:V={strokeDasharray:ne};var H=Aa(t),{radius:re}=H,de=GE(H,r$);return j.createElement("path",uy({},de,{radius:typeof f=="number"?f:void 0,className:U,d:$E(X,ie,ee,se,f),ref:n,style:VE(VE({},V),t.style)}))})};function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(n),!0).forEach(function(r){l$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l$(e,t,n){return(t=c$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c$(e){var t=u$(e,"string");return typeof t=="symbol"?t:t+""}function u$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=Math.PI/180,d$=e=>e*180/Math.PI,ni=(e,t,n,r)=>({x:e+Math.cos(-dy*r)*n,y:t+Math.sin(-dy*r)*n}),EM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},f$=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},h$=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=f$({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>a&&(u=2*Math.PI-u),{radius:o,angle:d$(u),angleInRadian:u}},p$=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},m$=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},g$=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=h$({x:n,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:f}=p$(t),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?KE(KE({},t),{},{radius:i,angle:m$(h,t)}):null};function kM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=ni(t,n,r,i),l=ni(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var JE,XE,QE,ZE,ek,tk,nk;function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function Td(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y$=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},og=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:u}=e,f=l*(o?1:-1)+r,h=Math.asin(l/f)/dy,p=u?i:i+a*h,y=ni(t,n,f,p),g=ni(t,n,r,p),w=u?i-a*h:i,N=ni(t,n,f*Math.cos(h*dy),w);return{center:y,circleTangency:g,lineTangency:N,theta:h}},TM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,l=y$(a,o),u=a+l,f=ni(t,n,i,a),h=ni(t,n,i,u),p=Or(JE||(JE=Td(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(l)>180),+(a>u),h.x,h.y);if(r>0){var y=ni(t,n,r,a),g=ni(t,n,r,u);p+=Or(XE||(XE=Td(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,r,r,+(Math.abs(l)>180),+(a<=u),y.x,y.y)}else p+=Or(QE||(QE=Td(["L ",","," Z"])),t,n);return p},v$=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}=e,h=ua(f-u),{circleTangency:p,lineTangency:y,theta:g}=og({cx:t,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),{circleTangency:w,lineTangency:N,theta:A}=og({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),_=l?Math.abs(u-f):Math.abs(u-f)-g-A;if(_<0)return o?Or(ZE||(ZE=Td(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):TM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var k=Or(ek||(ek=Td(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(h<0),p.x,p.y,i,i,+(_>180),+(h<0),w.x,w.y,a,a,+(h<0),N.x,N.y);if(r>0){var{circleTangency:P,lineTangency:M,theta:B}=og({cx:t,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:U,lineTangency:D,theta:F}=og({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),q=l?Math.abs(u-f):Math.abs(u-f)-B-F;if(q<0&&a===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=Or(tk||(tk=Td(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,a,a,+(h<0),U.x,U.y,r,r,+(q>180),+(h>0),P.x,P.y,a,a,+(h<0),M.x,M.y)}else k+=Or(nk||(nk=Td(["L",",","Z"])),t,n);return k},x$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PM=e=>{var t=pi(e,x$),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=t;if(a<i||f===h)return null;var y=Tn("recharts-sector",p),g=a-i,w=Ao(o,g,0,!0),N;return w>0&&Math.abs(f-h)<360?N=v$({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):N=TM({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),j.createElement("path",mw({},Aa(t),{className:y,d:N}))};function b$(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(lI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,u=ni(r,i,a,l),f=ni(r,i,o,l);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return kM(t)}}var Ab={},_b={},Cb={},rk;function w$(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Cb)),Cb}var ik;function N$(){return ik||(ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w$();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(_b)),_b}var ak;function S$(){return ak||(ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI(),n=N$();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(l);for(let f=0;f<l;f++)u[f]=i,i+=o;return u}e.range=r})(Ab)),Ab}var Eb,ok;function A$(){return ok||(ok=1,Eb=S$().range),Eb}var _$=A$();const jM=ns(_$);function Mu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function C$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rN(e){let t,n,r;e.length!==2?(t=Mu,n=(l,u)=>Mu(e(l),u),r=(l,u)=>e(l)-u):(t=e===Mu||e===C$?e:E$,n=e,r=e);function i(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(l,u,f=0,h=l.length){if(f<h){if(t(u,u)!==0)return h;do{const p=f+h>>>1;n(l[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function o(l,u,f=0,h=l.length){const p=i(l,u,f,h-1);return p>f&&r(l[p-1],u)>-r(l[p],u)?p-1:p}return{left:i,center:o,right:a}}function E$(){return 0}function IM(e){return e===null?NaN:+e}function*k$(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const T$=rN(Mu),Wm=T$.right;rN(IM).center;class sk extends Map{constructor(t,n=I$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(lk(this,t))}has(t){return super.has(lk(this,t))}set(t,n){return super.set(P$(this,t),n)}delete(t){return super.delete(j$(this,t))}}function lk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function P$({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function j$({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function I$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function M$(e=Mu){if(e===Mu)return MM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function MM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const D$=Math.sqrt(50),R$=Math.sqrt(10),L$=Math.sqrt(2);function fy(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=D$?10:a>=R$?5:a>=L$?2:1;let l,u,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(e*f),u=Math.round(t*f),l/f<e&&++l,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,l=Math.round(e/f),u=Math.round(t/f),l*f<e&&++l,u*f>t&&--u),u<l&&.5<=n&&n<2?fy(e,t,n*2):[l,u,f]}function gw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?fy(t,e,n):fy(e,t,n);if(!(a>=i))return[];const l=a-i+1,u=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)u[f]=(a-f)/-o;else for(let f=0;f<l;++f)u[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)u[f]=(i+f)/-o;else for(let f=0;f<l;++f)u[f]=(i+f)*o;return u}function yw(e,t,n){return t=+t,e=+e,n=+n,fy(e,t,n)[2]}function vw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yw(t,e,n):yw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ck(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?MM:M$(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),g=Math.max(n,Math.floor(t-f*p/u+y)),w=Math.min(r,Math.floor(t+(u-f)*p/u+y));DM(e,t,g,w,i)}const a=e[t];let o=n,l=r;for(Fp(e,n,t),i(e[r],a)>0&&Fp(e,n,r);o<l;){for(Fp(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Fp(e,n,l):(++l,Fp(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Fp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function O$(e,t,n){if(e=Float64Array.from(k$(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return uk(e);if(t>=1)return ck(e);var r,i=(r-1)*t,a=Math.floor(i),o=ck(DM(e,a).subarray(0,a+1)),l=uk(e.subarray(a+1));return o+(l-o)*(i-a)}}function B$(e,t,n=IM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function U$(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function is(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xw=Symbol("implicit");function iN(){var e=new sk,t=[],n=[],r=xw;function i(a){let o=e.get(a);if(o===void 0){if(r!==xw)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new sk;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return iN(t,n).unknown(r)},is.apply(i,arguments),i}function aN(){var e=iN().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,u=0,f=0,h=.5;delete e.unknown;function p(){var y=t().length,g=i<r,w=g?i:r,N=g?r:i;a=(N-w)/Math.max(1,y-u+f*2),l&&(a=Math.floor(a)),w+=(N-w-a*(y-u))*h,o=a*(1-u),l&&(w=Math.round(w),o=Math.round(o));var A=U$(y).map(function(_){return w+a*_});return n(g?A.reverse():A)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(y){return arguments.length?(l=!!y,p()):l},e.padding=function(y){return arguments.length?(u=Math.min(1,f=+y),p()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},e.copy=function(){return aN(t(),[r,i]).round(l).paddingInner(u).paddingOuter(f).align(h)},is.apply(p(),arguments)}function RM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RM(t())},e}function F$(){return RM(aN.apply(null,arguments).paddingInner(1))}function oN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function LM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ym(){}var wm=.7,hy=1/wm,yh="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z$=/^#([0-9a-f]{3,8})$/,q$=new RegExp(`^rgb\\(${yh},${yh},${yh}\\)$`),H$=new RegExp(`^rgb\\(${wl},${wl},${wl}\\)$`),V$=new RegExp(`^rgba\\(${yh},${yh},${yh},${Nm}\\)$`),G$=new RegExp(`^rgba\\(${wl},${wl},${wl},${Nm}\\)$`),$$=new RegExp(`^hsl\\(${Nm},${wl},${wl}\\)$`),W$=new RegExp(`^hsla\\(${Nm},${wl},${wl},${Nm}\\)$`),dk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oN(Ym,Sm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fk,formatHex:fk,formatHex8:Y$,formatHsl:K$,formatRgb:hk,toString:hk});function fk(){return this.rgb().formatHex()}function Y$(){return this.rgb().formatHex8()}function K$(){return OM(this).formatHsl()}function hk(){return this.rgb().formatRgb()}function Sm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=z$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?pk(t):n===3?new Ja(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=q$.exec(e))?new Ja(t[1],t[2],t[3],1):(t=H$.exec(e))?new Ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V$.exec(e))?sg(t[1],t[2],t[3],t[4]):(t=G$.exec(e))?sg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$$.exec(e))?yk(t[1],t[2]/100,t[3]/100,1):(t=W$.exec(e))?yk(t[1],t[2]/100,t[3]/100,t[4]):dk.hasOwnProperty(e)?pk(dk[e]):e==="transparent"?new Ja(NaN,NaN,NaN,0):null}function pk(e){return new Ja(e>>16&255,e>>8&255,e&255,1)}function sg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ja(e,t,n,r)}function J$(e){return e instanceof Ym||(e=Sm(e)),e?(e=e.rgb(),new Ja(e.r,e.g,e.b,e.opacity)):new Ja}function bw(e,t,n,r){return arguments.length===1?J$(e):new Ja(e,t,n,r??1)}function Ja(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}oN(Ja,bw,LM(Ym,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wm:Math.pow(wm,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ja(Ld(this.r),Ld(this.g),Ld(this.b),py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mk,formatHex:mk,formatHex8:X$,formatRgb:gk,toString:gk}));function mk(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}`}function X$(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}${Pd((isNaN(this.opacity)?1:this.opacity)*255)}`}function gk(){const e=py(this.opacity);return`${e===1?"rgb(":"rgba("}${Ld(this.r)}, ${Ld(this.g)}, ${Ld(this.b)}${e===1?")":`, ${e})`}`}function py(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ld(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pd(e){return e=Ld(e),(e<16?"0":"")+e.toString(16)}function yk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Es(e,t,n,r)}function OM(e){if(e instanceof Es)return new Es(e.h,e.s,e.l,e.opacity);if(e instanceof Ym||(e=Sm(e)),!e)return new Es;if(e instanceof Es)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,u=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=u<.5?a+i:2-a-i,o*=60):l=u>0&&u<1?0:o,new Es(o,l,u,e.opacity)}function Q$(e,t,n,r){return arguments.length===1?OM(e):new Es(e,t,n,r??1)}function Es(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}oN(Es,Q$,LM(Ym,{brighter(e){return e=e==null?hy:Math.pow(hy,e),new Es(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wm:Math.pow(wm,e),new Es(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ja(kb(e>=240?e-240:e+120,i,r),kb(e,i,r),kb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Es(vk(this.h),lg(this.s),lg(this.l),py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=py(this.opacity);return`${e===1?"hsl(":"hsla("}${vk(this.h)}, ${lg(this.s)*100}%, ${lg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vk(e){return e=(e||0)%360,e<0?e+360:e}function lg(e){return Math.max(0,Math.min(1,e||0))}function kb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const sN=e=>()=>e;function Z$(e,t){return function(n){return e+n*t}}function eW(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tW(e){return(e=+e)==1?BM:function(t,n){return n-t?eW(t,n,e):sN(isNaN(t)?n:t)}}function BM(e,t){var n=t-e;return n?Z$(e,n):sN(isNaN(e)?t:e)}const xk=(function e(t){var n=tW(t);function r(i,a){var o=n((i=bw(i)).r,(a=bw(a)).r),l=n(i.g,a.g),u=n(i.b,a.b),f=BM(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function nW(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function rW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iW(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Bh(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function aW(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function my(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function oW(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bh(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tb=new RegExp(ww.source,"g");function sW(e){return function(){return e}}function lW(e){return function(t){return e(t)+""}}function cW(e,t){var n=ww.lastIndex=Tb.lastIndex=0,r,i,a,o=-1,l=[],u=[];for(e=e+"",t=t+"";(r=ww.exec(e))&&(i=Tb.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:my(r,i)})),n=Tb.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?lW(u[0].x):sW(t):(t=u.length,function(f){for(var h=0,p;h<t;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}function Bh(e,t){var n=typeof t,r;return t==null||n==="boolean"?sN(t):(n==="number"?my:n==="string"?(r=Sm(t))?(t=r,xk):cW:t instanceof Sm?xk:t instanceof Date?aW:rW(t)?nW:Array.isArray(t)?iW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oW:my)(e,t)}function lN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function uW(e,t){t===void 0&&(t=e,e=Bh);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function dW(e){return function(){return e}}function gy(e){return+e}var bk=[0,1];function Na(e){return e}function Nw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dW(isNaN(t)?NaN:.5)}function fW(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function hW(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Nw(i,r),a=n(o,a)):(r=Nw(r,i),a=n(a,o)),function(l){return a(r(l))}}function pW(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Nw(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var u=Wm(e,l,1,r)-1;return a[u](i[u](l))}}function Km(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yv(){var e=bk,t=bk,n=Bh,r,i,a,o=Na,l,u,f;function h(){var y=Math.min(e.length,t.length);return o!==Na&&(o=fW(e[0],e[y-1])),l=y>2?pW:hW,u=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=l(e.map(r),t,n)))(r(o(y)))}return p.invert=function(y){return o(i((f||(f=l(t,e.map(r),my)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,gy),h()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=lN,h()},p.clamp=function(y){return arguments.length?(o=y?!0:Na,h()):o!==Na},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,g){return r=y,i=g,h()}}function cN(){return yv()(Na,Na)}function mW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yy(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ph(e){return e=yy(Math.abs(e)),e?e[1]:NaN}function gW(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),a.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function yW(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var vW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Am(e){if(!(t=vW.exec(e)))throw new Error("invalid format: "+e);var t;return new uN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Am.prototype=uN.prototype;function uN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xW(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var UM;function bW(e,t){var n=yy(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(UM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yy(e,Math.max(0,t+a-1))[0]}function wk(e,t){var n=yy(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Nk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wk(e*100,t),r:wk,s:bW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Sk(e){return e}var Ak=Array.prototype.map,_k=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wW(e){var t=e.grouping===void 0||e.thousands===void 0?Sk:gW(Ak.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Sk:yW(Ak.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Am(p);var y=p.fill,g=p.align,w=p.sign,N=p.symbol,A=p.zero,_=p.width,k=p.comma,P=p.precision,M=p.trim,B=p.type;B==="n"?(k=!0,B="g"):Nk[B]||(P===void 0&&(P=12),M=!0,B="g"),(A||y==="0"&&g==="=")&&(A=!0,y="0",g="=");var U=N==="$"?n:N==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",D=N==="$"?r:/[%p]/.test(B)?o:"",F=Nk[B],q=/[defgprs%]/.test(B);P=P===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function G(R){var O=U,K=D,$,ne,z;if(B==="c")K=F(R)+K,R="";else{R=+R;var Y=R<0||1/R<0;if(R=isNaN(R)?u:F(Math.abs(R),P),M&&(R=xW(R)),Y&&+R==0&&w!=="+"&&(Y=!1),O=(Y?w==="("?w:l:w==="-"||w==="("?"":w)+O,K=(B==="s"?_k[8+UM/3]:"")+K+(Y&&w==="("?")":""),q){for($=-1,ne=R.length;++$<ne;)if(z=R.charCodeAt($),48>z||z>57){K=(z===46?i+R.slice($+1):R.slice($))+K,R=R.slice(0,$);break}}}k&&!A&&(R=t(R,1/0));var ee=O.length+R.length+K.length,se=ee<_?new Array(_-ee+1).join(y):"";switch(k&&A&&(R=t(se+R,se.length?_-K.length:1/0),se=""),g){case"<":R=O+R+K+se;break;case"=":R=O+se+R+K;break;case"^":R=se.slice(0,ee=se.length>>1)+O+R+K+se.slice(ee);break;default:R=se+O+R+K;break}return a(R)}return G.toString=function(){return p+""},G}function h(p,y){var g=f((p=Am(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Ph(y)/3)))*3,N=Math.pow(10,-w),A=_k[8+w/3];return function(_){return g(N*_)+A}}return{format:f,formatPrefix:h}}var cg,dN,FM;NW({thousands:",",grouping:[3],currency:["$",""]});function NW(e){return cg=wW(e),dN=cg.format,FM=cg.formatPrefix,cg}function SW(e){return Math.max(0,-Ph(Math.abs(e)))}function AW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ph(t)/3)))*3-Ph(Math.abs(e)))}function _W(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ph(t)-Ph(e))+1}function zM(e,t,n,r){var i=vw(e,t,n),a;switch(r=Am(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=AW(i,o))&&(r.precision=a),FM(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_W(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=SW(i))&&(r.precision=a-(r.type==="%")*2);break}}return dN(r)}function Fu(e){var t=e.domain;return e.ticks=function(n){var r=t();return gw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return zM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],u,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=yw(o,l,n),f===u)return r[i]=o,r[a]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;u=f}return e},e}function qM(){var e=cN();return e.copy=function(){return Km(e,qM())},is.apply(e,arguments),Fu(e)}function HM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,gy),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return HM(e).unknown(t)},e=arguments.length?Array.from(e,gy):[0,1],Fu(n)}function VM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Ck(e){return Math.log(e)}function Ek(e){return Math.exp(e)}function CW(e){return-Math.log(-e)}function EW(e){return-Math.exp(-e)}function kW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TW(e){return e===10?kW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kk(e){return(t,n)=>-e(-t,n)}function fN(e){const t=e(Ck,Ek),n=t.domain;let r=10,i,a;function o(){return i=PW(r),a=TW(r),n()[0]<0?(i=kk(i),a=kk(a),e(CW,EW)):e(Ck,Ek),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),g=i(h),w,N;const A=l==null?10:+l;let _=[];if(!(r%1)&&g-y<A){if(y=Math.floor(y),g=Math.ceil(g),f>0){for(;y<=g;++y)for(w=1;w<r;++w)if(N=y<0?w/a(-y):w*a(y),!(N<f)){if(N>h)break;_.push(N)}}else for(;y<=g;++y)for(w=r-1;w>=1;--w)if(N=y>0?w/a(-y):w*a(y),!(N<f)){if(N>h)break;_.push(N)}_.length*2<A&&(_=gw(f,h,A))}else _=gw(y,g,Math.min(g-y,A)).map(a);return p?_.reverse():_},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Am(u)).precision==null&&(u.trim=!0),u=dN(u)),l===1/0)return u;const f=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},t.nice=()=>n(VM(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function GM(){const e=fN(yv()).domain([1,10]);return e.copy=()=>Km(e,GM()).base(e.base()),is.apply(e,arguments),e}function Tk(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pk(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hN(e){var t=1,n=e(Tk(t),Pk(t));return n.constant=function(r){return arguments.length?e(Tk(t=+r),Pk(t)):t},Fu(n)}function $M(){var e=hN(yv());return e.copy=function(){return Km(e,$M()).constant(e.constant())},is.apply(e,arguments)}function jk(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IW(e){return e<0?-e*e:e*e}function pN(e){var t=e(Na,Na),n=1;function r(){return n===1?e(Na,Na):n===.5?e(jW,IW):e(jk(n),jk(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Fu(t)}function mN(){var e=pN(yv());return e.copy=function(){return Km(e,mN()).exponent(e.exponent())},is.apply(e,arguments),e}function MW(){return mN.apply(null,arguments).exponent(.5)}function Ik(e){return Math.sign(e)*e*e}function DW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WM(){var e=cN(),t=[0,1],n=!1,r;function i(a){var o=DW(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(Ik(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,gy)).map(Ik)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return WM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},is.apply(i,arguments),Fu(i)}function YM(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=B$(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Wm(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Mu),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return YM().domain(e).range(t).unknown(r)},is.apply(a,arguments)}function KM(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[Wm(r,u,0,n)]:a}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return KM().domain([e,t]).range(i).unknown(a)},is.apply(Fu(o),arguments)}function JM(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Wm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JM().domain(e).range(t).unknown(n)},is.apply(i,arguments)}const Pb=new Date,jb=new Date;function mi(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return u;let f;do u.push(f=new Date(+a)),t(a,l),e(a);while(f<a&&a<o);return u},i.filter=a=>mi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Pb.setTime(+a),jb.setTime(+o),e(Pb),e(jb),Math.floor(n(Pb,jb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const vy=mi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mi(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vy);vy.range;const cc=1e3,Jo=cc*60,uc=Jo*60,gc=uc*24,gN=gc*7,Mk=gc*30,Ib=gc*365,jd=mi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cc)},(e,t)=>(t-e)/cc,e=>e.getUTCSeconds());jd.range;const yN=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cc)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getMinutes());yN.range;const vN=mi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Jo)},(e,t)=>(t-e)/Jo,e=>e.getUTCMinutes());vN.range;const xN=mi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cc-e.getMinutes()*Jo)},(e,t)=>{e.setTime(+e+t*uc)},(e,t)=>(t-e)/uc,e=>e.getHours());xN.range;const bN=mi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uc)},(e,t)=>(t-e)/uc,e=>e.getUTCHours());bN.range;const Jm=mi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Jo)/gc,e=>e.getDate()-1);Jm.range;const vv=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gc,e=>e.getUTCDate()-1);vv.range;const XM=mi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gc,e=>Math.floor(e/gc));XM.range;function Qd(e){return mi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Jo)/gN)}const xv=Qd(0),xy=Qd(1),RW=Qd(2),LW=Qd(3),jh=Qd(4),OW=Qd(5),BW=Qd(6);xv.range;xy.range;RW.range;LW.range;jh.range;OW.range;BW.range;function Zd(e){return mi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/gN)}const bv=Zd(0),by=Zd(1),UW=Zd(2),FW=Zd(3),Ih=Zd(4),zW=Zd(5),qW=Zd(6);bv.range;by.range;UW.range;FW.range;Ih.range;zW.range;qW.range;const wN=mi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wN.range;const NN=mi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());NN.range;const yc=mi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yc.range;const vc=mi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vc.range;function QM(e,t,n,r,i,a){const o=[[jd,1,cc],[jd,5,5*cc],[jd,15,15*cc],[jd,30,30*cc],[a,1,Jo],[a,5,5*Jo],[a,15,15*Jo],[a,30,30*Jo],[i,1,uc],[i,3,3*uc],[i,6,6*uc],[i,12,12*uc],[r,1,gc],[r,2,2*gc],[n,1,gN],[t,1,Mk],[t,3,3*Mk],[e,1,Ib]];function l(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const g=p&&typeof p.range=="function"?p:u(f,h,p),w=g?g.range(f,+h+1):[];return y?w.reverse():w}function u(f,h,p){const y=Math.abs(h-f)/p,g=rN(([,,A])=>A).right(o,y);if(g===o.length)return e.every(vw(f/Ib,h/Ib,p));if(g===0)return vy.every(Math.max(vw(f,h,p),1));const[w,N]=o[y/o[g-1][2]<o[g][2]/y?g-1:g];return w.every(N)}return[l,u]}const[HW,VW]=QM(vc,NN,bv,XM,bN,vN),[GW,$W]=QM(yc,wN,xv,Jm,xN,yN);function Mb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Db(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function WW(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,f=qp(i),h=Hp(i),p=qp(a),y=Hp(a),g=qp(o),w=Hp(o),N=qp(l),A=Hp(l),_=qp(u),k=Hp(u),P={a:Y,A:ee,b:se,B:X,c:null,d:Uk,e:Uk,f:gY,g:CY,G:kY,H:hY,I:pY,j:mY,L:ZM,m:yY,M:vY,p:ie,q:V,Q:qk,s:Hk,S:xY,u:bY,U:wY,V:NY,w:SY,W:AY,x:null,X:null,y:_Y,Y:EY,Z:TY,"%":zk},M={a:H,A:re,b:de,B:fe,c:null,d:Fk,e:Fk,f:MY,g:HY,G:GY,H:PY,I:jY,j:IY,L:tD,m:DY,M:RY,p:pe,q:he,Q:qk,s:Hk,S:LY,u:OY,U:BY,V:UY,w:FY,W:zY,x:null,X:null,y:qY,Y:VY,Z:$Y,"%":zk},B={a:G,A:R,b:O,B:K,c:$,d:Ok,e:Ok,f:cY,g:Lk,G:Rk,H:Bk,I:Bk,j:aY,L:lY,m:iY,M:oY,p:q,q:rY,Q:dY,s:fY,S:sY,u:QW,U:ZW,V:eY,w:XW,W:tY,x:ne,X:z,y:Lk,Y:Rk,Z:nY,"%":uY};P.x=U(n,P),P.X=U(r,P),P.c=U(t,P),M.x=U(n,M),M.X=U(r,M),M.c=U(t,M);function U(te,me){return function(xe){var we=[],Ue=-1,Ye=0,Pe=te.length,ge,mt,ot;for(xe instanceof Date||(xe=new Date(+xe));++Ue<Pe;)te.charCodeAt(Ue)===37&&(we.push(te.slice(Ye,Ue)),(mt=Dk[ge=te.charAt(++Ue)])!=null?ge=te.charAt(++Ue):mt=ge==="e"?" ":"0",(ot=me[ge])&&(ge=ot(xe,mt)),we.push(ge),Ye=Ue+1);return we.push(te.slice(Ye,Ue)),we.join("")}}function D(te,me){return function(xe){var we=zp(1900,void 0,1),Ue=F(we,te,xe+="",0),Ye,Pe;if(Ue!=xe.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(me&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Ye=Db(zp(we.y,0,1)),Pe=Ye.getUTCDay(),Ye=Pe>4||Pe===0?by.ceil(Ye):by(Ye),Ye=vv.offset(Ye,(we.V-1)*7),we.y=Ye.getUTCFullYear(),we.m=Ye.getUTCMonth(),we.d=Ye.getUTCDate()+(we.w+6)%7):(Ye=Mb(zp(we.y,0,1)),Pe=Ye.getDay(),Ye=Pe>4||Pe===0?xy.ceil(Ye):xy(Ye),Ye=Jm.offset(Ye,(we.V-1)*7),we.y=Ye.getFullYear(),we.m=Ye.getMonth(),we.d=Ye.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Pe="Z"in we?Db(zp(we.y,0,1)).getUTCDay():Mb(zp(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(Pe+5)%7:we.w+we.U*7-(Pe+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,Db(we)):Mb(we)}}function F(te,me,xe,we){for(var Ue=0,Ye=me.length,Pe=xe.length,ge,mt;Ue<Ye;){if(we>=Pe)return-1;if(ge=me.charCodeAt(Ue++),ge===37){if(ge=me.charAt(Ue++),mt=B[ge in Dk?me.charAt(Ue++):ge],!mt||(we=mt(te,xe,we))<0)return-1}else if(ge!=xe.charCodeAt(we++))return-1}return we}function q(te,me,xe){var we=f.exec(me.slice(xe));return we?(te.p=h.get(we[0].toLowerCase()),xe+we[0].length):-1}function G(te,me,xe){var we=g.exec(me.slice(xe));return we?(te.w=w.get(we[0].toLowerCase()),xe+we[0].length):-1}function R(te,me,xe){var we=p.exec(me.slice(xe));return we?(te.w=y.get(we[0].toLowerCase()),xe+we[0].length):-1}function O(te,me,xe){var we=_.exec(me.slice(xe));return we?(te.m=k.get(we[0].toLowerCase()),xe+we[0].length):-1}function K(te,me,xe){var we=N.exec(me.slice(xe));return we?(te.m=A.get(we[0].toLowerCase()),xe+we[0].length):-1}function $(te,me,xe){return F(te,t,me,xe)}function ne(te,me,xe){return F(te,n,me,xe)}function z(te,me,xe){return F(te,r,me,xe)}function Y(te){return o[te.getDay()]}function ee(te){return a[te.getDay()]}function se(te){return u[te.getMonth()]}function X(te){return l[te.getMonth()]}function ie(te){return i[+(te.getHours()>=12)]}function V(te){return 1+~~(te.getMonth()/3)}function H(te){return o[te.getUTCDay()]}function re(te){return a[te.getUTCDay()]}function de(te){return u[te.getUTCMonth()]}function fe(te){return l[te.getUTCMonth()]}function pe(te){return i[+(te.getUTCHours()>=12)]}function he(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var me=U(te+="",P);return me.toString=function(){return te},me},parse:function(te){var me=D(te+="",!1);return me.toString=function(){return te},me},utcFormat:function(te){var me=U(te+="",M);return me.toString=function(){return te},me},utcParse:function(te){var me=D(te+="",!0);return me.toString=function(){return te},me}}}var Dk={"-":"",_:" ",0:"0"},ji=/^\s*\d+/,YW=/^%/,KW=/[\\^$*+?|[\]().{}]/g;function An(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function JW(e){return e.replace(KW,"\\$&")}function qp(e){return new RegExp("^(?:"+e.map(JW).join("|")+")","i")}function Hp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function XW(e,t,n){var r=ji.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function QW(e,t,n){var r=ji.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ZW(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Rk(e,t,n){var r=ji.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Lk(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rY(e,t,n){var r=ji.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iY(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ok(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=ji.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Bk(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sY(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=ji.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=ji.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uY(e,t,n){var r=YW.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dY(e,t,n){var r=ji.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=ji.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Uk(e,t){return An(e.getDate(),t,2)}function hY(e,t){return An(e.getHours(),t,2)}function pY(e,t){return An(e.getHours()%12||12,t,2)}function mY(e,t){return An(1+Jm.count(yc(e),e),t,3)}function ZM(e,t){return An(e.getMilliseconds(),t,3)}function gY(e,t){return ZM(e,t)+"000"}function yY(e,t){return An(e.getMonth()+1,t,2)}function vY(e,t){return An(e.getMinutes(),t,2)}function xY(e,t){return An(e.getSeconds(),t,2)}function bY(e){var t=e.getDay();return t===0?7:t}function wY(e,t){return An(xv.count(yc(e)-1,e),t,2)}function eD(e){var t=e.getDay();return t>=4||t===0?jh(e):jh.ceil(e)}function NY(e,t){return e=eD(e),An(jh.count(yc(e),e)+(yc(e).getDay()===4),t,2)}function SY(e){return e.getDay()}function AY(e,t){return An(xy.count(yc(e)-1,e),t,2)}function _Y(e,t){return An(e.getFullYear()%100,t,2)}function CY(e,t){return e=eD(e),An(e.getFullYear()%100,t,2)}function EY(e,t){return An(e.getFullYear()%1e4,t,4)}function kY(e,t){var n=e.getDay();return e=n>=4||n===0?jh(e):jh.ceil(e),An(e.getFullYear()%1e4,t,4)}function TY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+An(t/60|0,"0",2)+An(t%60,"0",2)}function Fk(e,t){return An(e.getUTCDate(),t,2)}function PY(e,t){return An(e.getUTCHours(),t,2)}function jY(e,t){return An(e.getUTCHours()%12||12,t,2)}function IY(e,t){return An(1+vv.count(vc(e),e),t,3)}function tD(e,t){return An(e.getUTCMilliseconds(),t,3)}function MY(e,t){return tD(e,t)+"000"}function DY(e,t){return An(e.getUTCMonth()+1,t,2)}function RY(e,t){return An(e.getUTCMinutes(),t,2)}function LY(e,t){return An(e.getUTCSeconds(),t,2)}function OY(e){var t=e.getUTCDay();return t===0?7:t}function BY(e,t){return An(bv.count(vc(e)-1,e),t,2)}function nD(e){var t=e.getUTCDay();return t>=4||t===0?Ih(e):Ih.ceil(e)}function UY(e,t){return e=nD(e),An(Ih.count(vc(e),e)+(vc(e).getUTCDay()===4),t,2)}function FY(e){return e.getUTCDay()}function zY(e,t){return An(by.count(vc(e)-1,e),t,2)}function qY(e,t){return An(e.getUTCFullYear()%100,t,2)}function HY(e,t){return e=nD(e),An(e.getUTCFullYear()%100,t,2)}function VY(e,t){return An(e.getUTCFullYear()%1e4,t,4)}function GY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ih(e):Ih.ceil(e),An(e.getUTCFullYear()%1e4,t,4)}function $Y(){return"+0000"}function zk(){return"%"}function qk(e){return+e}function Hk(e){return Math.floor(+e/1e3)}var Xf,rD,iD;WY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WY(e){return Xf=WW(e),rD=Xf.format,Xf.parse,iD=Xf.utcFormat,Xf.utcParse,Xf}function YY(e){return new Date(e)}function KY(e){return e instanceof Date?+e:+new Date(+e)}function SN(e,t,n,r,i,a,o,l,u,f){var h=cN(),p=h.invert,y=h.domain,g=f(".%L"),w=f(":%S"),N=f("%I:%M"),A=f("%I %p"),_=f("%a %d"),k=f("%b %d"),P=f("%B"),M=f("%Y");function B(U){return(u(U)<U?g:l(U)<U?w:o(U)<U?N:a(U)<U?A:r(U)<U?i(U)<U?_:k:n(U)<U?P:M)(U)}return h.invert=function(U){return new Date(p(U))},h.domain=function(U){return arguments.length?y(Array.from(U,KY)):y().map(YY)},h.ticks=function(U){var D=y();return e(D[0],D[D.length-1],U??10)},h.tickFormat=function(U,D){return D==null?B:f(D)},h.nice=function(U){var D=y();return(!U||typeof U.range!="function")&&(U=t(D[0],D[D.length-1],U??10)),U?y(VM(D,U)):h},h.copy=function(){return Km(h,SN(e,t,n,r,i,a,o,l,u,f))},h}function JY(){return is.apply(SN(GW,$W,yc,wN,xv,Jm,xN,yN,jd,rD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XY(){return is.apply(SN(HW,VW,vc,NN,bv,vv,bN,vN,jd,iD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wv(){var e=0,t=1,n,r,i,a,o=Na,l=!1,u;function f(p){return p==null||isNaN(p=+p)?u:o(i===0?.5:(p=(a(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(o=p,f):o};function h(p){return function(y){var g,w;return arguments.length?([g,w]=y,o=p(g,w),f):[o(0),o(1)]}}return f.range=h(Bh),f.rangeRound=h(lN),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function zu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aD(){var e=Fu(wv()(Na));return e.copy=function(){return zu(e,aD())},Cc.apply(e,arguments)}function oD(){var e=fN(wv()).domain([1,10]);return e.copy=function(){return zu(e,oD()).base(e.base())},Cc.apply(e,arguments)}function sD(){var e=hN(wv());return e.copy=function(){return zu(e,sD()).constant(e.constant())},Cc.apply(e,arguments)}function AN(){var e=pN(wv());return e.copy=function(){return zu(e,AN()).exponent(e.exponent())},Cc.apply(e,arguments)}function QY(){return AN.apply(null,arguments).exponent(.5)}function lD(){var e=[],t=Na;function n(r){if(r!=null&&!isNaN(r=+r))return t((Wm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Mu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>O$(e,a/r))},n.copy=function(){return lD(t).domain(e)},Cc.apply(n,arguments)}function Nv(){var e=0,t=.5,n=1,r=1,i,a,o,l,u,f=Na,h,p=!1,y;function g(N){return isNaN(N=+N)?y:(N=.5+((N=+h(N))-a)*(r*N<r*a?l:u),f(p?Math.max(0,Math.min(1,N)):N))}g.domain=function(N){return arguments.length?([e,t,n]=N,i=h(e=+e),a=h(t=+t),o=h(n=+n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,g):[e,t,n]},g.clamp=function(N){return arguments.length?(p=!!N,g):p},g.interpolator=function(N){return arguments.length?(f=N,g):f};function w(N){return function(A){var _,k,P;return arguments.length?([_,k,P]=A,f=uW(N,[_,k,P]),g):[f(0),f(.5),f(1)]}}return g.range=w(Bh),g.rangeRound=w(lN),g.unknown=function(N){return arguments.length?(y=N,g):y},function(N){return h=N,i=N(e),a=N(t),o=N(n),l=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function cD(){var e=Fu(Nv()(Na));return e.copy=function(){return zu(e,cD())},Cc.apply(e,arguments)}function uD(){var e=fN(Nv()).domain([.1,1,10]);return e.copy=function(){return zu(e,uD()).base(e.base())},Cc.apply(e,arguments)}function dD(){var e=hN(Nv());return e.copy=function(){return zu(e,dD()).constant(e.constant())},Cc.apply(e,arguments)}function _N(){var e=pN(Nv());return e.copy=function(){return zu(e,_N()).exponent(e.exponent())},Cc.apply(e,arguments)}function ZY(){return _N.apply(null,arguments).exponent(.5)}const em=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:aN,scaleDiverging:cD,scaleDivergingLog:uD,scaleDivergingPow:_N,scaleDivergingSqrt:ZY,scaleDivergingSymlog:dD,scaleIdentity:HM,scaleImplicit:xw,scaleLinear:qM,scaleLog:GM,scaleOrdinal:iN,scalePoint:F$,scalePow:mN,scaleQuantile:YM,scaleQuantize:KM,scaleRadial:WM,scaleSequential:aD,scaleSequentialLog:oD,scaleSequentialPow:AN,scaleSequentialQuantile:lD,scaleSequentialSqrt:QY,scaleSequentialSymlog:sD,scaleSqrt:MW,scaleSymlog:$M,scaleThreshold:JM,scaleTime:JY,scaleUtc:XY,tickFormat:zM},Symbol.toStringTag,{value:"Module"}));var Ec=e=>e.chartData,Sv=Fe([Ec],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fD=(e,t,n,r)=>r?Sv(e):Ec(e),eK=(e,t,n)=>n?Sv(e):Ec(e);function Ru(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(wr(t)&&wr(n))return!0}return!1}function Vk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(wr(n))i=n;else if(typeof n=="function")return;if(wr(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Ru(o))return o}}function tK(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ru(r))return Vk(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Et(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&tE.test(i)){var u=tE.exec(i);if(u==null||u[1]==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(Et(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&nE.test(a)){var h=nE.exec(a);if(h==null||h[1]==null||t==null)l=void 0;else{var p=+h[1];l=t[1]+p}}else l=t==null?void 0:t[1];var y=[o,l];if(Ru(y))return t==null?y:Vk(y,t,n)}}}var Uh=1e9,nK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EN,br=!0,es="[DecimalError] ",Od=es+"Invalid argument: ",CN=es+"Exponent out of range: ",Fh=Math.floor,Cd=Math.pow,rK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bo,ki=1e7,lr=7,pD=9007199254740991,wy=Fh(pD/lr),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*lr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};At.dividedBy=At.div=function(e){return fc(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,n=t.constructor;return Jn(fc(t,new n(e),0,1),n.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return ri(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(bo))throw Error(es+"NaN");if(n.s<1)throw Error(es+(n.s?"NaN":"-Infinity"));return n.eq(bo)?new r(0):(br=!1,t=fc(_m(n,a),_m(e,a),a),br=!0,Jn(t,i))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yD(t,e):mD(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(es+"NaN");return n.s?(br=!1,t=fc(n,e,0,1).times(e),br=!0,n.minus(t)):Jn(new r(n),i)};At.naturalExponential=At.exp=function(){return gD(this)};At.naturalLogarithm=At.ln=function(){return _m(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mD(t,e):yD(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Od+e);if(t=ri(i)+1,r=i.d.length-1,n=r*lr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};At.squareRoot=At.sqrt=function(){var e,t,n,r,i,a,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(es+"NaN")}for(e=ri(l),br=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=xl(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(a=r,r=a.plus(fc(l,a,o+2)).times(.5),xl(a.d).slice(0,o)===(t=xl(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Jn(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return br=!0,Jn(r,n)};At.times=At.mul=function(e){var t,n,r,i,a,o,l,u,f,h=this,p=h.constructor,y=h.d,g=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,u=y.length,f=g.length,u<f&&(a=y,y=g,g=a,o=u,u=f,f=o),a=[],o=u+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)l=a[i]+g[r]*y[i-r-1]+t,a[i--]=l%ki|0,t=l/ki|0;a[i]=(a[i]+t)%ki|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,br?Jn(e,p.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Cl(e,0,Uh),t===void 0?t=r.rounding:Cl(t,0,8),Jn(n,e+ri(n)+1,t))};At.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Yd(r,!0):(Cl(e,0,Uh),t===void 0?t=i.rounding:Cl(t,0,8),r=Jn(new i(r),e+1,t),n=Yd(r,!0,e+1)),n};At.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Yd(i):(Cl(e,0,Uh),t===void 0?t=a.rounding:Cl(t,0,8),r=Jn(new a(i),e+ri(i)+1,t),n=Yd(r.abs(),!1,e+ri(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Jn(new t(e),ri(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,n,r,i,a,o,l=this,u=l.constructor,f=12,h=+(e=new u(e));if(!e.s)return new u(bo);if(l=new u(l),!l.s){if(e.s<1)throw Error(es+"Infinity");return l}if(l.eq(bo))return l;if(r=u.precision,e.eq(bo))return Jn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=h<0?-h:h)<=pD){for(i=new u(bo),t=Math.ceil(r/lr+4),br=!1;n%2&&(i=i.times(l),$k(i.d,t)),n=Fh(n/2),n!==0;)l=l.times(l),$k(l.d,t);return br=!0,e.s<0?new u(bo).div(i):Jn(i,r)}}else if(a<0)throw Error(es+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,br=!1,i=e.times(_m(l,r+f)),br=!0,i=gD(i),i.s=a,i};At.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=ri(i),r=Yd(i,n<=a.toExpNeg||n>=a.toExpPos)):(Cl(e,1,Uh),t===void 0?t=a.rounding:Cl(t,0,8),i=Jn(new a(i),e,t),n=ri(i),r=Yd(i,e<=n||n<=a.toExpNeg,e)),r};At.toSignificantDigits=At.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Cl(e,1,Uh),t===void 0?t=r.rounding:Cl(t,0,8)),Jn(new r(n),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ri(e),n=e.constructor;return Yd(e,t<=n.toExpNeg||t>=n.toExpPos)};function mD(e,t){var n,r,i,a,o,l,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),br?Jn(t,p):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),a=o-i,a){for(a<0?(r=u,a=-a,l=f.length):(r=f,i=o,l=u.length),o=Math.ceil(p/lr),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=u.length,a=f.length,l-a<0&&(a=l,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/ki|0,u[a]%=ki;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=i,br?Jn(t,p):t}function Cl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Od+e)}function xl(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=lr-r.length,n&&(a+=Au(n)),a+=r;o=e[t],r=o+"",n=lr-r.length,n&&(a+=Au(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var fc=(function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%ki|0,o=a/ki|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*ki+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,u,f,h,p,y,g,w,N,A,_,k,P,M,B,U,D,F,q=r.constructor,G=r.s==i.s?1:-1,R=r.d,O=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(es+"Division by zero");for(u=r.e-i.e,D=O.length,B=R.length,g=new q(G),w=g.d=[],f=0;O[f]==(R[f]||0);)++f;if(O[f]>(R[f]||0)&&--u,a==null?k=a=q.precision:o?k=a+(ri(r)-ri(i))+1:k=a,k<0)return new q(0);if(k=k/lr+2|0,f=0,D==1)for(h=0,O=O[0],k++;(f<B||h)&&k--;f++)P=h*ki+(R[f]||0),w[f]=P/O|0,h=P%O|0;else{for(h=ki/(O[0]+1)|0,h>1&&(O=e(O,h),R=e(R,h),D=O.length,B=R.length),M=D,N=R.slice(0,D),A=N.length;A<D;)N[A++]=0;F=O.slice(),F.unshift(0),U=O[0],O[1]>=ki/2&&++U;do h=0,l=t(O,N,D,A),l<0?(_=N[0],D!=A&&(_=_*ki+(N[1]||0)),h=_/U|0,h>1?(h>=ki&&(h=ki-1),p=e(O,h),y=p.length,A=N.length,l=t(p,N,y,A),l==1&&(h--,n(p,D<y?F:O,y))):(h==0&&(l=h=1),p=O.slice()),y=p.length,y<A&&p.unshift(0),n(N,p,A),l==-1&&(A=N.length,l=t(O,N,D,A),l<1&&(h++,n(N,D<A?F:O,A))),A=N.length):l===0&&(h++,N=[0]),w[f++]=h,l&&N[0]?N[A++]=R[M]||0:(N=[R[M]],A=1);while((M++<B||N[0]!==void 0)&&k--)}return w[0]||w.shift(),g.e=u,Jn(g,o?a+ri(g)+1:a)}})();function gD(e,t){var n,r,i,a,o,l,u=0,f=0,h=e.constructor,p=h.precision;if(ri(e)>16)throw Error(CN+ri(e));if(!e.s)return new h(bo);for(br=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(Cd(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(bo),h.precision=l;;){if(i=Jn(i.times(e),l),n=n.times(++u),o=a.plus(fc(i,n,l)),xl(o.d).slice(0,l)===xl(a.d).slice(0,l)){for(;f--;)a=Jn(a.times(a),l);return h.precision=p,t==null?(br=!0,Jn(a,p)):a}a=o}}function ri(e){for(var t=e.e*lr,n=e.d[0];n>=10;n/=10)t++;return t}function Rb(e,t,n){if(t>e.LN10.sd())throw br=!0,n&&(e.precision=n),Error(es+"LN10 precision limit exceeded");return Jn(new e(e.LN10),t)}function Au(e){for(var t="";e--;)t+="0";return t}function _m(e,t){var n,r,i,a,o,l,u,f,h,p=1,y=10,g=e,w=g.d,N=g.constructor,A=N.precision;if(g.s<1)throw Error(es+(g.s?"NaN":"-Infinity"));if(g.eq(bo))return new N(0);if(t==null?(br=!1,f=A):f=t,g.eq(10))return t==null&&(br=!0),Rb(N,f);if(f+=y,N.precision=f,n=xl(w),r=n.charAt(0),a=ri(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=xl(g.d),r=n.charAt(0),p++;a=ri(g),r>1?(g=new N("0."+n),a++):g=new N(r+"."+n.slice(1))}else return u=Rb(N,f+2,A).times(a+""),g=_m(new N(r+"."+n.slice(1)),f-y).plus(u),N.precision=A,t==null?(br=!0,Jn(g,A)):g;for(l=o=g=fc(g.minus(bo),g.plus(bo),f),h=Jn(g.times(g),f),i=3;;){if(o=Jn(o.times(h),f),u=l.plus(fc(o,new N(i),f)),xl(u.d).slice(0,f)===xl(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(Rb(N,f+2,A).times(a+""))),l=fc(l,new N(p),f),N.precision=A,t==null?(br=!0,Jn(l,A)):l;l=u,i+=2}}function Gk(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fh(n/lr),e.d=[],r=(n+1)%lr,n<0&&(r+=lr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=lr;r<i;)e.d.push(+t.slice(r,r+=lr));t=t.slice(r),r=lr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),br&&(e.e>wy||e.e<-wy))throw Error(CN+n)}else e.s=0,e.e=0,e.d=[0];return e}function Jn(e,t,n){var r,i,a,o,l,u,f,h,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=lr,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/lr),a=p.length,h>=a)return e;for(f=a=p[h],o=1;a>=10;a/=10)o++;r%=lr,i=r-lr+o}if(n!==void 0&&(a=Cd(10,o-i-1),l=f/a%10|0,u=t<0||p[h+1]!==void 0||f%a,u=n<4?(l||u)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?f/Cd(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return u?(a=ri(e),p.length=1,t=t-a-1,p[0]=Cd(10,(lr-t%lr)%lr),e.e=Fh(-t/lr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=Cd(10,lr-r),p[h]=i>0?(f/Cd(10,o-i)%Cd(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==ki&&(p[0]=1,++e.e);break}else{if(p[h]+=a,p[h]!=ki)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(br&&(e.e>wy||e.e<-wy))throw Error(CN+ri(e));return e}function yD(e,t){var n,r,i,a,o,l,u,f,h,p,y=e.constructor,g=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),br?Jn(t,g):t;if(u=e.d,p=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(h=o<0,h?(n=u,o=-o,l=p.length):(n=p,r=f,l=u.length),i=Math.max(Math.ceil(g/lr),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}o=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,i=p.length-l;i>0;--i)u[l++]=0;for(i=p.length;i>o;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=ki-1;--u[a],u[i]+=ki}u[i]-=p[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,br?Jn(t,g):t):new y(0)}function Yd(e,t,n){var r,i=ri(e),a=xl(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Au(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Au(-i-1)+a,n&&(r=n-o)>0&&(a+=Au(r))):i>=o?(a+=Au(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Au(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Au(r))),e.s<0?"-"+a:a}function $k(e,t){if(e.length>t)return e.length=t,!0}function vD(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Od+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Gk(o,a.toString())}else if(typeof a!="string")throw Error(Od+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,rK.test(a))Gk(o,a);else throw Error(Od+a)}if(i.prototype=At,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vD,i.config=i.set=iK,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function iK(e){if(!e||typeof e!="object")throw Error(es+"Object expected");var t,n,r,i=["precision",1,Uh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fh(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Od+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Od+n+": "+r);return this}var EN=vD(nK);bo=new EN(1);const Dn=EN;var aK=e=>e,xD={},bD=e=>e===xD,Wk=e=>function t(){return arguments.length===0||arguments.length===1&&bD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},wD=(e,t)=>e===1?t:Wk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==xD).length;return a>=e?t(...r):wD(e-a,Wk(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var f=r.map(h=>bD(h)?l.shift():h);return t(...f,...l)}))}),oK=e=>wD(e.length,e),Sw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},sK=oK((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),lK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return aK;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),a(...arguments))}};function ND(e){var t;return e===0?t=1:t=Math.floor(new Dn(e).abs().log(10).toNumber())+1,t}function SD(e,t,n){for(var r=new Dn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var AD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},_D=(e,t,n)=>{if(e.lte(0))return new Dn(0);var r=ND(e.toNumber()),i=new Dn(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Dn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return t?new Dn(u.toNumber()):new Dn(Math.ceil(u.toNumber()))},cK=(e,t,n)=>{var r=new Dn(1),i=new Dn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Dn(10).pow(ND(e)-1),i=new Dn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dn(Math.floor(e)))}else e===0?i=new Dn(Math.floor((t-1)/2)):n||(i=new Dn(Math.floor(e)));var o=Math.floor((t-1)/2),l=lK(sK(u=>i.add(new Dn(u-o).mul(r)).toNumber()),Sw);return l(0,t)},CD=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var o=_D(new Dn(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Dn(0):(l=new Dn(t).add(n).div(2),l=l.sub(new Dn(l).mod(o)));var u=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Dn(n).sub(l).div(o).toNumber()),h=u+f+1;return h>r?CD(t,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:o,tickMin:l.sub(new Dn(u).mul(o)),tickMax:l.add(new Dn(f).mul(o))})},uK=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,u]=AD([n,r]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Sw(0,i-1).map(()=>1/0)]:[...Sw(0,i-1).map(()=>-1/0),u];return n>r?f.reverse():f}if(l===u)return cK(l,i,a);var{step:h,tickMin:p,tickMax:y}=CD(l,u,o,a,0),g=SD(p,y.add(new Dn(.1).mul(h)),h);return n>r?g.reverse():g},dK=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=AD([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var u=Math.max(n,2),f=_D(new Dn(l).sub(o).div(u-1),a,0),h=[...SD(new Dn(o),new Dn(l),f),l];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},fK=e=>e.rootProps.barCategoryGap,Xm=e=>e.rootProps.stackOffset,ED=e=>e.rootProps.reverseStackOrder,kN=e=>e.options.chartName,TN=e=>e.rootProps.syncId,kD=e=>e.rootProps.syncMethod,PN=e=>e.options.eventEmitter,hK=e=>e.rootProps.baseValue,Gi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},sc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Av=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:sc.angleAxisId,includeHidden:!1,name:void 0,reversed:sc.reversed,scale:sc.scale,tick:sc.tick,tickCount:void 0,ticks:void 0,type:sc.type,unit:void 0},mK={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:xo.type,unit:void 0},gK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:sc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sc.scale,tick:sc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yK={allowDataOverflow:xo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xo.scale,tick:xo.tick,tickCount:xo.tickCount,ticks:void 0,type:"category",unit:void 0},jN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?gK:pK,IN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yK:mK,_v=e=>e.polarOptions,MN=Fe([Ac,_c,Pi],EM),TD=Fe([_v,MN],(e,t)=>{if(e!=null)return Ao(e.innerRadius,t,0)}),PD=Fe([_v,MN],(e,t)=>{if(e!=null)return Ao(e.outerRadius,t,t*.8)}),vK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},jD=Fe([_v],vK);Fe([jN,jD],Av);var ID=Fe([MN,TD,PD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Fe([IN,ID],Av);var MD=Fe([On,_v,TD,PD,Ac,_c],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:f}=t;return{cx:Ao(o,i,i/2),cy:Ao(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),Nr=(e,t)=>t,Qm=(e,t,n)=>n;function DN(e){return e==null?void 0:e.id}function DD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(l=>{var u,f=(u=l.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=DN(l);f.forEach((p,y)=>{var g=a==null||i?y:String(ur(p,a,null)),w=ur(p,l.dataKey,0),N;o.has(g)?N=o.get(g):N={},Object.assign(N,{[h]:w}),o.set(g,N)})}}),Array.from(o.values())}function RN(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Cv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ev(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xK(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var gi=e=>{var t=On(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},zh=e=>e.tooltip.settings.axisId;function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){bK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bK(e,t,n){return(t=wK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wK(e){var t=NK(e,"string");return typeof t=="symbol"?t:t+""}function NK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aw=[0,"auto"],Ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RD=(e,t)=>e.cartesianAxis.xAxis[t],kc=(e,t)=>{var n=RD(e,t);return n??Ci},Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Aw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vm},LD=(e,t)=>e.cartesianAxis.yAxis[t],Tc=(e,t)=>{var n=LD(e,t);return n??Ei},SK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},LN=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??SK},Er=(e,t,n)=>{switch(t){case"xAxis":return kc(e,n);case"yAxis":return Tc(e,n);case"zAxis":return LN(e,n);case"angleAxis":return jN(e,n);case"radiusAxis":return IN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},AK=(e,t,n)=>{switch(t){case"xAxis":return kc(e,n);case"yAxis":return Tc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Zm=(e,t,n)=>{switch(t){case"xAxis":return kc(e,n);case"yAxis":return Tc(e,n);case"angleAxis":return jN(e,n);case"radiusAxis":return IN(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},OD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ON(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var BD=e=>e.graphicalItems.cartesianItems,_K=Fe([Nr,Qm],ON),BN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),e0=Fe([BD,Er,_K],BN,{memoizeOptions:{resultEqualityCheck:Ev}}),UD=Fe([e0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(RN)),FD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),CK=Fe([e0],FD),UN=e=>e.map(t=>t.data).filter(Boolean).flat(1),EK=Fe([e0],UN,{memoizeOptions:{resultEqualityCheck:Ev}}),FN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},zN=Fe([EK,fD],FN),qN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ur(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ur(i,r)}))):e.map(r=>({value:r})),kv=Fe([zN,Er,e0],qN);function zD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pg(e){if(Al(e)||e instanceof Date){var t=Number(e);if(wr(t))return t}}function Kk(e){if(Array.isArray(e)){var t=[Pg(e[0]),Pg(e[1])];return Ru(t)?t:void 0}var n=Pg(e);if(n!=null)return[n,n]}function xc(e){return e.map(Pg).filter(wz)}function kK(e,t,n){return!n||typeof t!="number"||Is(t)?[]:n.length?xc(n.flatMap(r=>{var i=ur(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!wr(a)||!wr(o)))return[t-a,t+o]})):[]}var yi=e=>{var t=gi(e),n=zh(e);return Zm(e,t,n)},t0=Fe([yi],e=>e==null?void 0:e.dataKey),TK=Fe([UD,fD,yi],DD),qD=(e,t,n,r)=>{var i={},a=t.reduce((o,l)=>{if(l.stackId==null)return o;var u=o[l.stackId];return u==null&&(u=[]),u.push(l),o[l.stackId]=u,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,u]=o,f=r?[...u].reverse():u,h=f.map(DN);return[l,{stackedData:WH(e,h,n),graphicalItems:f}]}))},HD=Fe([TK,UD,Xm,ED],qD),VD=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var o=XH(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},PK=Fe([Er],e=>e.allowDataOverflow),HN=e=>{var t;if(e==null||!("domain"in e))return Aw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=xc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Aw},VN=Fe([Er],HN),GN=Fe([VN,PK],hD),jK=Fe([HD,Ec,Nr,GN],VD,{memoizeOptions:{resultEqualityCheck:Cv}}),Tv=e=>e.errorBars,IK=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>zD(n,r)),Sy=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},$N=(e,t,n,r,i)=>{var a,o;if(n.length>0&&e.forEach(l=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(_=>zD(i,_)),y=ur(l,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey),g=kK(l,y,p);if(g.length>=2){var w=Math.min(...g),N=Math.max(...g);(a==null||w<a)&&(a=w),(o==null||N>o)&&(o=N)}var A=Kk(y);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),o=o==null?A[1]:Math.max(o,A[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var u=Kk(ur(l,t.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),wr(a)&&wr(o))return[a,o]},MK=Fe([zN,Er,CK,Tv,Nr],$N,{memoizeOptions:{resultEqualityCheck:Cv}});function DK(e){var{value:t}=e;if(Al(t)||t instanceof Date)return t}var RK=(e,t,n)=>{var r=e.map(DK).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&aI(r))?jM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},GD=e=>e.referenceElements.dots,qh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),LK=Fe([GD,Nr,Qm],qh),$D=e=>e.referenceElements.areas,OK=Fe([$D,Nr,Qm],qh),WD=e=>e.referenceElements.lines,BK=Fe([WD,Nr,Qm],qh),YD=(e,t)=>{if(e!=null){var n=xc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UK=Fe(LK,Nr,YD),KD=(e,t)=>{if(e!=null){var n=xc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},FK=Fe([OK,Nr],KD);function zK(e){var t;if(e.x!=null)return xc([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:xc(n)}function qK(e){var t;if(e.y!=null)return xc([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:xc(n)}var JD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?zK(r):qK(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},HK=Fe([BK,Nr],JD),VK=Fe(UK,HK,FK,(e,t,n)=>Sy(e,n,t)),WN=(e,t,n,r,i,a,o,l)=>{if(n!=null)return n;var u=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",f=u?Sy(r,a,i):Sy(a,i);return tK(t,f,e.allowDataOverflow)},GK=Fe([Er,VN,GN,jK,MK,VK,On,Nr],WN,{memoizeOptions:{resultEqualityCheck:Cv}}),$K=[0,1],YN=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=e,f=Sc(t,a);if(f&&l==null){var h;return jM(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return u==="category"?RK(r,e,f):i==="expand"?$K:o}},KN=Fe([Er,On,zN,kv,Xm,Nr,GK],YN),XD=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Um(a));return l in em?l:"point"}}},Hh=Fe([Er,On,OD,kN,Nr],XD);function WK(e){if(e!=null){if(e in em)return em[e]();var t="scale".concat(Um(e));if(t in em)return em[t]()}}function JN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=WK(t);if(i!=null){var a=i.domain(n).range(r);return HH(a),a}}}var XN=(e,t,n)=>{var r=HN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ru(e))return uK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ru(e))return dK(e,t.tickCount,t.allowDecimals)}},QN=Fe([KN,Zm,Hh],XN),ZN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ru(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},YK=Fe([Er,KN,QN,Nr],ZN),KK=Fe(kv,Er,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(xc(e.map(p=>p.value))).sort((p,y)=>p-y),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var l=0;l<r.length-1;l++){var u=r[l],f=r[l+1];if(!(u==null||f==null)){var h=f-u;n=Math.min(n,h)}}return n/o}}),QD=Fe(KK,On,fK,Pi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!wr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ao(n,e*a),l=e*a/2;return l-o-(l-o)/a*o}return 0}),JK=(e,t,n)=>{var r=kc(e,t);return r==null||typeof r.padding!="string"?0:QD(e,"xAxis",t,n,r.padding)},XK=(e,t,n)=>{var r=Tc(e,t);return r==null||typeof r.padding!="string"?0:QD(e,"yAxis",t,n,r.padding)},QK=Fe(kc,JK,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),ZK=Fe(Tc,XK,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),eJ=Fe([Pi,QK,cv,lv,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),tJ=Fe([Pi,On,ZK,cv,lv,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),n0=(e,t,n,r)=>{var i;switch(t){case"xAxis":return eJ(e,n,r);case"yAxis":return tJ(e,n,r);case"zAxis":return(i=LN(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return jD(e);case"radiusAxis":return ID(e,n);default:return}},ZD=Fe([Er,n0],Av),Pv=Fe([Er,Hh,YK,ZD],JN);Fe([e0,Tv,Nr],IK);function eR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jv=(e,t)=>t,Iv=(e,t,n)=>n,nJ=Fe(ov,jv,Iv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(eR)),rJ=Fe(sv,jv,Iv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(eR)),tR=(e,t)=>({width:e.width,height:t.height}),iJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Vm;return{width:n,height:e.height}},aJ=Fe(Pi,kc,tR),oJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},sJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},lJ=Fe(_c,Pi,nJ,jv,Iv,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=tR(t,l);o==null&&(o=oJ(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),a}),cJ=Fe(Ac,Pi,rJ,jv,Iv,(e,t,n,r,i)=>{var a={},o;return n.forEach(l=>{var u=iJ(t,l);o==null&&(o=sJ(t,r,e));var f=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),a}),uJ=(e,t)=>{var n=kc(e,t);if(n!=null)return lJ(e,n.orientation,n.mirror)},dJ=Fe([Pi,kc,uJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),fJ=(e,t)=>{var n=Tc(e,t);if(n!=null)return cJ(e,n.orientation,n.mirror)},hJ=Fe([Pi,Tc,fJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),pJ=Fe(Pi,Tc,(e,t)=>{var n=typeof t.width=="number"?t.width:Vm;return{width:n,height:e.height}}),nR=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,l=Sc(e,r),u=t.map(f=>f.value);if(o&&l&&a==="category"&&i&&aI(u))return u}},eS=Fe([On,kv,Er,Nr],nR),rR=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Sc(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},tS=Fe([On,kv,Zm,Nr],rR),Jk=Fe([On,AK,Hh,Pv,eS,tS,n0,QN,Nr],(e,t,n,r,i,a,o,l,u)=>{if(t!=null){var f=Sc(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:l,range:o,realScaleType:n,scale:r}}}),mJ=(e,t,n,r,i,a,o,l,u)=>{if(!(t==null||r==null)){var f=Sc(e,u),{type:h,ticks:p,tickCount:y}=t,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/g:0;w=u==="angleAxis"&&a!=null&&a.length>=2?ua(a[0]-a[1])*2*w:w;var N=p||i;if(N){var A=N.map((_,k)=>{var P=o?o.indexOf(_):_;return{index:k,coordinate:r(P)+w,value:_,offset:w}});return A.filter(_=>wr(_.coordinate))}return f&&l?l.map((_,k)=>({coordinate:r(_)+w,value:_,index:k,offset:w})).filter(_=>wr(_.coordinate)):r.ticks?r.ticks(y).map(_=>({coordinate:r(_)+w,value:_,offset:w})):r.domain().map((_,k)=>({coordinate:r(_)+w,value:o?o[_]:_,index:k,offset:w}))}},iR=Fe([On,Zm,Hh,Pv,QN,n0,eS,tS,Nr],mJ),gJ=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Sc(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ua(r[0]-r[1])*2*f:f,l&&a?a.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.ticks?n.ticks(u).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}},aR=Fe([On,Zm,Pv,n0,eS,tS,Nr],gJ),oR=Fe(Er,Pv,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})}),yJ=Fe([Er,Hh,KN,ZD],JN);Fe((e,t,n)=>LN(e,n),yJ,(e,t)=>{if(!(e==null||t==null))return Ny(Ny({},e),{},{scale:t})});var vJ=Fe([On,ov,sv],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sR=e=>e.options.defaultTooltipEventType,lR=e=>e.options.validateTooltipEventTypes;function cR(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function nS(e,t){var n=sR(e),r=lR(e);return cR(t,n,r)}function xJ(e){return Pt(t=>nS(t,e))}var uR=(e,t)=>{var n,r=Number(t);if(!(Is(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},bJ=e=>e.tooltip.settings,Cu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},wJ={itemInteraction:{click:Cu,hover:Cu},axisInteraction:{click:Cu,hover:Cu},keyboardInteraction:Cu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dR=Za({name:"tooltip",initialState:wJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ks(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:xr()},removeTooltipEntrySettings:{reducer(e,t){var n=ks(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:NJ,replaceTooltipEntrySettings:SJ,removeTooltipEntrySettings:AJ,setTooltipSettingsState:_J,setActiveMouseOverItemIndex:fR,mouseLeaveItem:CJ,mouseLeaveChart:hR,setActiveClickItemIndex:EJ,setMouseOverAxisIndex:pR,setMouseClickAxisIndex:kJ,setSyncInteraction:_w,setKeyboardInteraction:Cw}=dR.actions,TJ=dR.reducer;function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){PJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function DJ(e){return e.index!=null}var mR=(e,t,n,r)=>{if(t==null)return Cu;var i=MJ(e,t,n);if(i==null)return Cu;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(DJ(i)){if(a)return ug(ug({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ug(ug({},Cu),{},{coordinate:i.coordinate})};function RJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function LJ(e,t){var n=RJ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return n>=a&&n<=o}function OJ(e,t,n){if(n==null||t==null)return!0;var r=ur(e,t);return r==null||!Ru(n)?!0:LJ(r,n)}var rS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!wr(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var u=Math.max(o,Math.min(a,l)),f=t[u];return f==null||OJ(f,n,r)?String(u):null},gR=(e,t,n,r,i,a,o,l)=>{if(!(a==null||l==null)){var u=o[0],f=u==null?void 0:l(u.positions,a);if(f!=null)return f;var h=i==null?void 0:i[Number(a)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},yR=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},r0=e=>e.options.tooltipPayloadSearcher,Vh=e=>e.tooltip;function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){BJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zJ(e,t){return e??t}var vR=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((y,g)=>{var w,{dataDefinedOnItem:N,settings:A}=g,_=zJ(N,l),k=Array.isArray(_)?ZI(_,f,h):_,P=(w=A==null?void 0:A.dataKey)!==null&&w!==void 0?w:r,M=A==null?void 0:A.nameKey,B;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?B=oI(k,r,i):B=a(k,t,u,M),Array.isArray(B))B.forEach(D=>{var F=Zk(Zk({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(rE({tooltipEntrySettings:F,dataKey:D.dataKey,payload:D.payload,value:ur(D.payload,D.dataKey),name:D.name}))});else{var U;y.push(rE({tooltipEntrySettings:A,dataKey:P,payload:B,value:ur(B,P),name:(U=ur(B,M))!==null&&U!==void 0?U:A==null?void 0:A.name}))}return y},p)}},iS=Fe([yi,On,OD,kN,gi],XD),qJ=Fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HJ=Fe([gi,zh],ON),Gh=Fe([qJ,yi,HJ],BN,{memoizeOptions:{resultEqualityCheck:Ev}}),VJ=Fe([Gh],e=>e.filter(RN)),GJ=Fe([Gh],UN,{memoizeOptions:{resultEqualityCheck:Ev}}),$h=Fe([GJ,Ec],FN),$J=Fe([VJ,Ec,yi],DD),aS=Fe([$h,yi,Gh],qN),xR=Fe([yi],HN),WJ=Fe([yi],e=>e.allowDataOverflow),bR=Fe([xR,WJ],hD),YJ=Fe([Gh],e=>e.filter(RN)),KJ=Fe([$J,YJ,Xm,ED],qD),JJ=Fe([KJ,Ec,gi,bR],VD),XJ=Fe([Gh],FD),QJ=Fe([$h,yi,XJ,Tv,gi],$N,{memoizeOptions:{resultEqualityCheck:Cv}}),ZJ=Fe([GD,gi,zh],qh),eX=Fe([ZJ,gi],YD),tX=Fe([$D,gi,zh],qh),nX=Fe([tX,gi],KD),rX=Fe([WD,gi,zh],qh),iX=Fe([rX,gi],JD),aX=Fe([eX,iX,nX],Sy),oX=Fe([yi,xR,bR,JJ,QJ,aX,On,gi],WN),i0=Fe([yi,On,$h,aS,Xm,gi,oX],YN),sX=Fe([i0,yi,iS],XN),lX=Fe([yi,i0,sX,gi],ZN),wR=e=>{var t=gi(e),n=zh(e),r=!1;return n0(e,t,n,r)},NR=Fe([yi,wR],Av),SR=Fe([yi,iS,lX,NR],JN),cX=Fe([On,aS,yi,gi],nR),uX=Fe([On,aS,yi,gi],rR),dX=(e,t,n,r,i,a,o,l)=>{if(t){var{type:u}=t,f=Sc(e,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ua(i[0]-i[1])*2*p:p,f&&o?o.map((y,g)=>({coordinate:r(y)+p,value:y,index:g,offset:p})):r.domain().map((y,g)=>({coordinate:r(y)+p,value:a?a[y]:y,index:g,offset:p}))}}},Pc=Fe([On,yi,iS,SR,wR,cX,uX,gi],dX),oS=Fe([sR,lR,bJ],(e,t,n)=>cR(n.shared,e,t)),AR=e=>e.tooltip.settings.trigger,sS=e=>e.tooltip.settings.defaultIndex,a0=Fe([Vh,oS,AR,sS],mR),Mh=Fe([a0,$h,t0,i0],rS),_R=Fe([Pc,Mh],uR),CR=Fe([a0],e=>{if(e)return e.dataKey}),fX=Fe([a0],e=>{if(e)return e.graphicalItemId}),ER=Fe([Vh,oS,AR,sS],yR),hX=Fe([Ac,_c,On,Pi,Pc,sS,ER,r0],gR),pX=Fe([a0,hX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mX=Fe([a0],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),gX=Fe([ER,Mh,Ec,t0,_R,r0,oS],vR),yX=Fe([gX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){vX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vX(e,t,n){return(t=xX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wX=()=>Pt(yi),NX=()=>{var e=wX(),t=Pt(Pc),n=Pt(SR);return ny(!e||!n?void 0:tT(tT({},e),{},{scale:n}),t)};function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},EX=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Qf(Qf(Qf({},r),ni(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:u}=r;return Qf(Qf(Qf({},r),ni(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function kX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var kR=(e,t,n,r,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var u,f,h,p,y,g=l>0?(u=n[l-1])===null||u===void 0?void 0:u.coordinate:(f=n[o-1])===null||f===void 0?void 0:f.coordinate,w=(h=n[l])===null||h===void 0?void 0:h.coordinate,N=l>=o-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(y=n[l+1])===null||y===void 0?void 0:y.coordinate,A=void 0;if(!(g==null||w==null||N==null))if(ua(w-g)!==ua(N-w)){var _=[];if(ua(N-w)===ua(i[1]-i[0])){A=N;var k=w+i[1]-i[0];_[0]=Math.min(k,(k+g)/2),_[1]=Math.max(k,(k+g)/2)}else{A=g;var P=N+i[1]-i[0];_[0]=Math.min(w,(P+w)/2),_[1]=Math.max(w,(P+w)/2)}var M=[Math.min(w,(A+w)/2),Math.max(w,(A+w)/2)];if(e>M[0]&&e<=M[1]||e>=_[0]&&e<=_[1]){var B;return(B=n[l])===null||B===void 0?void 0:B.index}}else{var U=Math.min(g,N),D=Math.max(g,N);if(e>(U+w)/2&&e<=(D+w)/2){var F;return(F=n[l])===null||F===void 0?void 0:F.index}}}else if(t)for(var q=0;q<o;q++){var G=t[q];if(G!=null){var R=t[q+1],O=t[q-1];if(q===0&&R!=null&&e<=(G.coordinate+R.coordinate)/2||q===o-1&&O!=null&&e>(G.coordinate+O.coordinate)/2||q>0&&q<o-1&&O!=null&&R!=null&&e>(G.coordinate+O.coordinate)/2&&e<=(G.coordinate+R.coordinate)/2)return G.index}}return-1},TR=()=>Pt(kN),lS=(e,t)=>t,PR=(e,t,n)=>n,cS=(e,t,n,r)=>r,TX=Fe(Pc,e=>Jy(e,t=>t.coordinate)),uS=Fe([Vh,lS,PR,cS],mR),dS=Fe([uS,$h,t0,i0],rS),PX=(e,t,n)=>{if(t!=null){var r=Vh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},jR=Fe([Vh,lS,PR,cS],yR),Ay=Fe([Ac,_c,On,Pi,Pc,cS,jR,r0],gR),jX=Fe([uS,Ay],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),IR=Fe([Pc,dS],uR),IX=Fe([jR,dS,Ec,t0,IR,r0,lS],vR),MX=Fe([uS,dS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),DX=(e,t,n,r,i,a,o)=>{if(!(!e||!n||!r||!i)&&kX(e,o)){var l=QH(e,t),u=kR(l,a,i,n,r),f=CX(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},RX=(e,t,n,r,i,a,o)=>{if(!(!e||!r||!i||!a||!n)){var l=g$(e,n);if(l){var u=ZH(l,t),f=kR(u,o,a,r,i),h=EX(t,a,f,l);return{activeIndex:String(f),activeCoordinate:h}}}},LX=(e,t,n,r,i,a,o,l)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?DX(e,t,r,i,a,o,l):RX(e,t,n,r,i,a,o)},OX=Fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),BX=Fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Gi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:xK}});function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return(t=FX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX={},HX={zIndexMap:Object.values(Gi).reduce((e,t)=>iT(iT({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),qX)},VX=new Set(Object.values(Gi));function GX(e){return VX.has(e)}var MR=Za({name:"zIndex",initialState:HX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:xr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!GX(n)&&delete e.zIndexMap[n])},prepare:xr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:xr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:xr()}}}),{registerZIndexPortal:$X,unregisterZIndexPortal:WX,registerZIndexPortalElement:YX,unregisterZIndexPortalElement:KX}=MR.actions,JX=MR.reducer;function Rs(e){var{zIndex:t,children:n}=e,r=jV(),i=r&&t!==void 0&&t!==0,a=eo(),o=rr();j.useLayoutEffect(()=>i?(o($X({zIndex:t})),()=>{o(WX({zIndex:t}))}):Fm,[o,t,i]);var l=Pt(u=>OX(u,t,a));return i?l?I5.createPortal(n,l):null:n}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(null,arguments)}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){XX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XX(e,t,n){return(t=QX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return j.isValidElement(t)?j.cloneElement(t,r):j.createElement(n,r)}function tQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:h}=e,p=n,y=r,g=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var w,N,A;if(h==="ScatterChart")w=p,N=PG,A=Gi.cursorLine;else if(h==="BarChart")w=jG(l,p,a,o),N=CM,A=Gi.cursorRectangle;else if(l==="radial"&&lI(p)){var{cx:_,cy:k,radius:P,startAngle:M,endAngle:B}=kM(p);w={cx:_,cy:k,startAngle:M,endAngle:B,innerRadius:P,outerRadius:P},N=PM,A=Gi.cursorLine}else w={points:b$(l,p,a)},N=gh,A=Gi.cursorLine;var U=typeof u=="object"&&"className"in u?u.className:void 0,D=dg(dg(dg(dg({stroke:"#ccc",pointerEvents:"none"},a),w),Ch(u)),{},{payload:y,payloadIndex:g,className:Tn("recharts-tooltip-cursor",U)});return j.createElement(Rs,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:A},j.createElement(eQ,{cursor:u,cursorComp:N,cursorProps:D}))}function nQ(e){var t=NX(),n=uM(),r=Oh(),i=TR();return t==null||n==null||r==null||i==null?null:j.createElement(tQ,Ew({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var DR=j.createContext(null),rQ=()=>j.useContext(DR),Lb={exports:{}},oT;function iQ(){return oT||(oT=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,p||u,y),w=n?n+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],g]:u._events[w].push(g):(u._events[w]=g,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,g=p.length,w=new Array(g);y<g;y++)w[y]=p[y].fn;return w},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,y,g,w){var N=n?n+f:f;if(!this._events[N])return!1;var A=this._events[N],_=arguments.length,k,P;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),_){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,p),!0;case 4:return A.fn.call(A.context,h,p,y),!0;case 5:return A.fn.call(A.context,h,p,y,g),!0;case 6:return A.fn.call(A.context,h,p,y,g,w),!0}for(P=1,k=new Array(_-1);P<_;P++)k[P-1]=arguments[P];A.fn.apply(A.context,k)}else{var M=A.length,B;for(P=0;P<M;P++)switch(A[P].once&&this.removeListener(f,A[P].fn,void 0,!0),_){case 1:A[P].fn.call(A[P].context);break;case 2:A[P].fn.call(A[P].context,h);break;case 3:A[P].fn.call(A[P].context,h,p);break;case 4:A[P].fn.call(A[P].context,h,p,y);break;default:if(!k)for(B=1,k=new Array(_-1);B<_;B++)k[B-1]=arguments[B];A[P].fn.apply(A[P].context,k)}}return!0},l.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,y){var g=n?n+f:f;if(!this._events[g])return this;if(!h)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===h&&(!y||w.once)&&(!p||w.context===p)&&o(this,g);else{for(var N=0,A=[],_=w.length;N<_;N++)(w[N].fn!==h||y&&!w[N].once||p&&w[N].context!==p)&&A.push(w[N]);A.length?this._events[g]=A.length===1?A[0]:A:o(this,g)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Lb)),Lb.exports}var aQ=iQ();const oQ=ns(aQ);var Cm=new oQ,kw="recharts.syncEvent.tooltip",sT="recharts.syncEvent.brush";function RR(e,t){if(t){var n=Number.parseInt(t,10);if(!Is(n))return e==null?void 0:e[n]}}var sQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LR=Za({name:"options",initialState:sQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lQ=LR.reducer,{createEventEmitter:cQ}=LR.actions;function uQ(e){return e.tooltip.syncInteraction}var dQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},OR=Za({name:"chartData",initialState:dQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:lT,setDataStartEndIndexes:fQ,setComputedData:uye}=OR.actions,hQ=OR.reducer,pQ=["x","y"];function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){mQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mQ(e,t,n){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vQ(e,t){if(e==null)return{};var n,r,i=xQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bQ(){var e=Pt(TN),t=Pt(PN),n=rr(),r=Pt(kD),i=Pt(Pc),a=Oh(),o=uv(),l=Pt(u=>u.rootProps.className);j.useEffect(()=>{if(e==null)return Fm;var u=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var y;if(o&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var g=h.payload.coordinate,{x:w,y:N}=g,A=vQ(g,pQ),{x:_,y:k,width:P,height:M}=h.payload.sourceViewBox,B=Zf(Zf({},A),{},{x:o.x+(P?(w-_)/P:0)*o.width,y:o.y+(M?(N-k)/M:0)*o.height});n(Zf(Zf({},h),{},{payload:Zf(Zf({},h.payload),{},{coordinate:B})}))}else n(h);return}if(i!=null){var U;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,D);U=i[F]}else r==="value"&&(U=i.find(z=>String(z.value)===h.payload.label));var{coordinate:q}=h.payload;if(U==null||h.payload.active===!1||q==null||o==null){n(_w({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:R}=q,O=Math.min(G,o.x+o.width),K=Math.min(R,o.y+o.height),$={x:a==="horizontal"?U.coordinate:O,y:a==="horizontal"?K:U.coordinate},ne=_w({active:h.payload.active,coordinate:$,dataKey:h.payload.dataKey,index:String(U.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ne)}}};return Cm.on(kw,u),()=>{Cm.off(kw,u)}},[l,n,t,e,r,i,a,o])}function wQ(){var e=Pt(TN),t=Pt(PN),n=rr();j.useEffect(()=>{if(e==null)return Fm;var r=(i,a,o)=>{t!==o&&e===i&&n(fQ(a))};return Cm.on(sT,r),()=>{Cm.off(sT,r)}},[n,t,e])}function NQ(){var e=rr();j.useEffect(()=>{e(cQ())},[e]),bQ(),wQ()}function SQ(e,t,n,r,i,a){var o=Pt(g=>PX(g,e,t)),l=Pt(PN),u=Pt(TN),f=Pt(kD),h=Pt(uQ),p=h==null?void 0:h.active,y=uv();j.useEffect(()=>{if(!p&&u!=null&&l!=null){var g=_w({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Cm.emit(kw,u,g,l)}},[p,n,o,i,r,l,u,f,a,y])}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e){return e.dataKey}function kQ(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(cG,t)}var fT=[],TQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ob(e){var t,n,r=pi(e,TQ),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:y,position:g,reverseDirection:w,useTranslate3d:N,wrapperStyle:A,cursor:_,shared:k,trigger:P,defaultIndex:M,portal:B,axisId:U}=r,D=rr(),F=typeof M=="number"?String(M):M;j.useEffect(()=>{D(_J({shared:k,trigger:P,axisId:U,active:i,defaultIndex:F}))},[D,k,P,U,i,F]);var q=uv(),G=wM(),R=xJ(k),{activeIndex:O,isActive:K}=(t=Pt(pe=>MX(pe,R,P,F)))!==null&&t!==void 0?t:{},$=Pt(pe=>IX(pe,R,P,F)),ne=Pt(pe=>IR(pe,R,P,F)),z=Pt(pe=>jX(pe,R,P,F)),Y=$,ee=rQ(),se=(n=i??K)!==null&&n!==void 0?n:!1,[X,ie]=SI([Y,se]),V=R==="axis"?ne:void 0;SQ(R,P,z,V,O,se);var H=B??ee;if(H==null||q==null||R==null)return null;var re=Y??fT;se||(re=fT),f&&re.length&&(re=vI(re.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),y,EQ));var de=re.length>0,fe=j.createElement(gG,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:h,active:se,coordinate:z,hasPayload:de,offset:p,position:g,reverseDirection:w,useTranslate3d:N,viewBox:q,wrapperStyle:A,lastBoundingBox:X,innerRef:ie,hasPortalFromProps:!!B},kQ(u,dT(dT({},r),{},{payload:re,label:V,active:se,activeIndex:O,coordinate:z,accessibilityLayer:G})));return j.createElement(j.Fragment,null,I5.createPortal(fe,H),se&&j.createElement(nQ,{cursor:_,tooltipEventType:R,coordinate:z,payload:re,index:O}))}var Em=e=>null;Em.displayName="Cell";function PQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MQ{constructor(t){PQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BQ={cacheSize:2e3,enableCache:!0},BR=DQ({},BQ),pT=new MQ(BR.cacheSize),UQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},mT="recharts_measurement_span";function FQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var gT=(e,t)=>{try{var n=document.getElementById(mT);n||(n=document.createElement("span"),n.setAttribute("id",mT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,UQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},nm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$m.isSsr)return{width:0,height:0};if(!BR.enableCache)return gT(t,n);var r=FQ(t,n),i=pT.get(r);if(i)return i;var a=gT(t,n);return pT.set(r,a),a},UR;function zQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$Q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WQ=["cm","mm","pt","pc","in","Q","px"];function YQ(e){return WQ.includes(e)}var dh="NaN";function KQ(e,t){return e*$Q[t]}class Hi{static parse(t){var n,[,r,i]=(n=GQ.exec(t))!==null&&n!==void 0?n:[];return r==null?Hi.NaN:new Hi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Is(t)&&(this.unit=""),n!==""&&!VQ.test(n)&&(this.num=NaN,this.unit=""),YQ(n)&&(this.num=KQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Hi(NaN,""):new Hi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Hi(NaN,""):new Hi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hi(NaN,""):new Hi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Hi(NaN,""):new Hi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Is(this.num)}}UR=Hi;zQ(Hi,"NaN",new UR(NaN,""));function FR(e){if(e==null||e.includes(dh))return dh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=yT.exec(t))!==null&&n!==void 0?n:[],o=Hi.parse(r??""),l=Hi.parse(a??""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return dh;t=t.replace(yT,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,y]=(f=vT.exec(t))!==null&&f!==void 0?f:[],g=Hi.parse(h??""),w=Hi.parse(y??""),N=p==="+"?g.add(w):g.subtract(w);if(N.isNaN())return dh;t=t.replace(vT,N.toString())}return t}var xT=/\(([^()]*)\)/;function JQ(e){for(var t=e,n;(n=xT.exec(t))!=null;){var[,r]=n;t=t.replace(xT,FR(r))}return t}function XQ(e){var t=e.replace(/\s+/g,"");return t=JQ(t),t=FR(t),t}function QQ(e){try{return XQ(e)}catch{return dh}}function Bb(e){var t=QQ(e.slice(5,-1));return t===dh?"":t}var ZQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],eZ=["dx","dy","angle","className","breakAll"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tw.apply(null,arguments)}function bT(e,t){if(e==null)return{};var n,r,i=tZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zR=/[ \f\n\r\t\v\u2028\u2029]+/,qR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ti(t)||(n?i=t.toString().split(""):i=t.toString().split(zR));var a=i.map(l=>({word:l,width:nm(l,r).width})),o=n?0:nm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function nZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var HR=(e,t,n,r)=>e.reduce((i,a)=>{var{word:o,width:l}=a,u=i[i.length-1];if(u&&l!=null&&(t==null||r||u.width+l+n<Number(t)))u.words.push(o),u.width+=l+n;else{var f={words:[o],width:l};i.push(f)}return i},[]),VR=e=>e.reduce((t,n)=>t.width>n.width?t:n),rZ="",wT=(e,t,n,r,i,a,o,l)=>{var u=e.slice(0,t),f=qR({breakAll:n,style:r,children:u+rZ});if(!f)return[!1,[]];var h=HR(f.wordsWithComputedWidth,a,o,l),p=h.length>i||VR(h).width>Number(a);return[p,h]},iZ=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:u}=e,f=Et(a),h=String(o),p=HR(t,r,n,i);if(!f||i)return p;var y=p.length>a||VR(p).width>Number(r);if(!y)return p;for(var g=0,w=h.length-1,N=0,A;g<=w&&N<=h.length-1;){var _=Math.floor((g+w)/2),k=_-1,[P,M]=wT(h,k,u,l,a,r,n,i),[B]=wT(h,_,u,l,a,r,n,i);if(!P&&!B&&(g=_+1),P&&B&&(w=_-1),!P&&B){A=M;break}N++}return A||p},NT=e=>{var t=Ti(e)?[]:e.toString().split(zR);return[{words:t,width:void 0}]},aZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!$m.isSsr){var l,u,f=qR({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;l=h,u=p}else return NT(r);return iZ({breakAll:a,children:r,maxLines:o,style:i},l,u,t,!!n)}return NT(r)},GR="#808080",oZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:GR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Mv=j.forwardRef((e,t)=>{var n=pi(e,oZ),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=bT(n,ZQ),y=j.useMemo(()=>aZ({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:w,angle:N,className:A,breakAll:_}=p,k=bT(p,eZ);if(!Al(r)||!Al(i)||y.length===0)return null;var P=Number(r)+(Et(g)?g:0),M=Number(i)+(Et(w)?w:0);if(!wr(P)||!wr(M))return null;var B;switch(h){case"start":B=Bb("calc(".concat(o,")"));break;case"middle":B=Bb("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:B=Bb("calc(".concat(y.length-1," * -").concat(a,")"));break}var U=[];if(u){var D=y[0].width,{width:F}=p;U.push("scale(".concat(Et(F)&&Et(D)?F/D:1,")"))}return N&&U.push("rotate(".concat(N,", ").concat(P,", ").concat(M,")")),U.length&&(k.transform=U.join(" ")),j.createElement("text",Tw({},Aa(k),{ref:t,x:P,y:M,className:Tn("recharts-text",A),textAnchor:f,fill:l.includes("url")?GR:l}),y.map((q,G)=>{var R=q.words.join(_?"":" ");return j.createElement("tspan",{x:P,dy:G===0?B:a,key:"".concat(R,"-").concat(G)},R)}))});Mv.displayName="Text";var sZ=["labelRef"],lZ=["content"];function ST(e,t){if(e==null)return{};var n,r,i=cZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){uZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uZ(e,t,n){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(null,arguments)}var $R=j.createContext(null),hZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=e,u=j.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,n,r,i,a,o]);return j.createElement($R.Provider,{value:u},l)},WR=()=>{var e=j.useContext($R),t=uv();return e||cM(t)},pZ=j.createContext(null),mZ=()=>{var e=j.useContext(pZ),t=Pt(MD);return e||t},gZ=e=>{var{value:t,formatter:n}=e,r=Ti(e.children)?t:e.children;return typeof n=="function"?n(r):r},fS=e=>e!=null&&typeof e=="function",yZ=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),360);return n*r},vZ=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:y,clockWise:g}=i,w=(f+h)/2,N=yZ(p,y),A=N>=0?1:-1,_,k;switch(t){case"insideStart":_=p+A*a,k=g;break;case"insideEnd":_=y-A*a,k=!g;break;case"end":_=y+A*a,k=g;break;default:throw new Error("Unsupported position ".concat(t))}k=N<=0?k:!k;var P=ni(l,u,w,_),M=ni(l,u,w,_+(k?1:-1)*359),B="M".concat(P.x,",").concat(P.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(M.x,",").concat(M.y),U=Ti(e.id)?hm("recharts-radial-line-"):e.id;return j.createElement("text",lc({},r,{dominantBaseline:"central",className:Tn("recharts-radial-bar-label",o)}),j.createElement("defs",null,j.createElement("path",{id:U,d:B})),j.createElement("textPath",{xlinkHref:"#".concat(U)},n))},xZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:u}=e,f=(l+u)/2;if(n==="outside"){var{x:h,y:p}=ni(r,i,o+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:g,y:w}=ni(r,i,y,f);return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Pw=e=>"cx"in e&&Et(e.cx),bZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Pw(n)&&(a=n);var{x:o,y:l,upperWidth:u,lowerWidth:f,height:h}=t,p=o,y=o+(u-f)/2,g=(p+y)/2,w=(u+f)/2,N=p+u/2,A=h>=0?1:-1,_=A*r,k=A>0?"end":"start",P=A>0?"start":"end",M=u>=0?1:-1,B=M*r,U=M>0?"end":"start",D=M>0?"start":"end";if(i==="top"){var F={x:p+u/2,y:l-_,textAnchor:"middle",verticalAnchor:k};return Hr(Hr({},F),a?{height:Math.max(l-a.y,0),width:u}:{})}if(i==="bottom"){var q={x:y+f/2,y:l+h+_,textAnchor:"middle",verticalAnchor:P};return Hr(Hr({},q),a?{height:Math.max(a.y+a.height-(l+h),0),width:f}:{})}if(i==="left"){var G={x:g-B,y:l+h/2,textAnchor:U,verticalAnchor:"middle"};return Hr(Hr({},G),a?{width:Math.max(G.x-a.x,0),height:h}:{})}if(i==="right"){var R={x:g+w+B,y:l+h/2,textAnchor:D,verticalAnchor:"middle"};return Hr(Hr({},R),a?{width:Math.max(a.x+a.width-R.x,0),height:h}:{})}var O=a?{width:w,height:h}:{};return i==="insideLeft"?Hr({x:g+B,y:l+h/2,textAnchor:D,verticalAnchor:"middle"},O):i==="insideRight"?Hr({x:g+w-B,y:l+h/2,textAnchor:U,verticalAnchor:"middle"},O):i==="insideTop"?Hr({x:p+u/2,y:l+_,textAnchor:"middle",verticalAnchor:P},O):i==="insideBottom"?Hr({x:y+f/2,y:l+h-_,textAnchor:"middle",verticalAnchor:k},O):i==="insideTopLeft"?Hr({x:p+B,y:l+_,textAnchor:D,verticalAnchor:P},O):i==="insideTopRight"?Hr({x:p+u-B,y:l+_,textAnchor:U,verticalAnchor:P},O):i==="insideBottomLeft"?Hr({x:y+B,y:l+h-_,textAnchor:D,verticalAnchor:k},O):i==="insideBottomRight"?Hr({x:y+f-B,y:l+h-_,textAnchor:U,verticalAnchor:k},O):i&&typeof i=="object"&&(Et(i.x)||pc(i.x))&&(Et(i.y)||pc(i.y))?Hr({x:o+Ao(i.x,w),y:l+Ao(i.y,h),textAnchor:"end",verticalAnchor:"end"},O):Hr({x:N,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},wZ={angle:0,offset:5,zIndex:Gi.label,position:"middle",textBreakAll:!1};function _u(e){var t=pi(e,wZ),{viewBox:n,position:r,value:i,children:a,content:o,className:l="",textBreakAll:u,labelRef:f}=t,h=mZ(),p=WR(),y=r==="center"?p:h??p,g,w,N;if(n==null?g=y:Pw(n)?g=n:g=cM(n),!g||Ti(i)&&Ti(a)&&!j.isValidElement(o)&&typeof o!="function")return null;var A=Hr(Hr({},t),{},{viewBox:g});if(j.isValidElement(o)){var{labelRef:_}=A,k=ST(A,sZ);return j.cloneElement(o,k)}if(typeof o=="function"){var{content:P}=A,M=ST(A,lZ);if(w=j.createElement(o,M),j.isValidElement(w))return w}else w=gZ(t);var B=Aa(t);if(Pw(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return vZ(t,r,w,B,g);N=xZ(g,t.offset,t.position)}else N=bZ(t,g);return j.createElement(Rs,{zIndex:t.zIndex},j.createElement(Mv,lc({ref:f,className:Tn("recharts-label",l)},B,N,{textAnchor:nZ(B.textAnchor)?B.textAnchor:N.textAnchor,breakAll:u}),w))}_u.displayName="Label";var NZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?j.createElement(_u,lc({key:"label-implicit"},r)):Al(e)?j.createElement(_u,lc({key:"label-implicit",value:e},r)):j.isValidElement(e)?e.type===_u?j.cloneElement(e,Hr({key:"label-implicit"},r)):j.createElement(_u,lc({key:"label-implicit",content:e},r)):fS(e)?j.createElement(_u,lc({key:"label-implicit",content:e},r)):e&&typeof e=="object"?j.createElement(_u,lc({},e,{key:"label-implicit"},r)):null};function SZ(e){var{label:t,labelRef:n}=e,r=WR();return NZ(t,r,n)||null}var Ub={},Fb={},_T;function AZ(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Fb)),Fb}var zb={},CT;function _Z(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(zb)),zb}var ET;function CZ(){return ET||(ET=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AZ(),n=_Z(),r=q5();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(Ub)),Ub}var qb,kT;function EZ(){return kT||(kT=1,qb=CZ().last),qb}var kZ=EZ();const TZ=ns(kZ);var PZ=["valueAccessor"],jZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function TT(e,t){if(e==null)return{};var n,r,i=IZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MZ=e=>Array.isArray(e.value)?TZ(e.value):e.value,YR=j.createContext(void 0),DZ=YR.Provider,KR=j.createContext(void 0),RZ=KR.Provider;function LZ(){return j.useContext(YR)}function OZ(){return j.useContext(KR)}function jg(e){var{valueAccessor:t=MZ}=e,n=TT(e,PZ),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=n,u=TT(n,jZ),f=LZ(),h=OZ(),p=f||h;return!p||!p.length?null:j.createElement(Rs,{zIndex:l??Gi.label},j.createElement($i,{className:"recharts-label-list"},p.map((y,g)=>{var w,N=Ti(r)?t(y,g):ur(y&&y.payload,r),A=Ti(a)?{}:{id:"".concat(a,"-").concat(g)};return j.createElement(_u,_y({key:"label-".concat(g)},Aa(y),u,A,{fill:(w=n.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:N,textBreakAll:o,viewBox:y.viewBox,index:g,zIndex:0}))})))}jg.displayName="LabelList";function JR(e){var{label:t}=e;return t?t===!0?j.createElement(jg,{key:"labelList-implicit"}):j.isValidElement(t)||fS(t)?j.createElement(jg,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(jg,_y({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}var XR=e=>{var{cx:t,cy:n,r,className:i}=e,a=Tn("recharts-dot",i);return Et(t)&&Et(n)&&Et(r)?j.createElement("circle",jw({},Co(e),F5(e),{className:a,cx:t,cy:n,r})):null},QR=e=>e.graphicalItems.polarItems,BZ=Fe([Nr,Qm],ON),Dv=Fe([QR,Er,BZ],BN),UZ=Fe([Dv],UN),Rv=Fe([UZ,Sv],FN),FZ=Fe([Rv,Er,Dv],qN);Fe([Rv,Er,Dv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=ur(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ur(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var PT=()=>{},zZ=Fe([Rv,Er,Dv,Tv,Nr],$N),qZ=Fe([Er,VN,GN,PT,zZ,PT,On,Nr],WN),ZR=Fe([Er,On,Rv,FZ,Xm,Nr,qZ],YN),HZ=Fe([ZR,Er,Hh],XN);Fe([Er,ZR,HZ,Nr],ZN);var VZ={radiusAxis:{},angleAxis:{}},eL=Za({name:"polarAxis",initialState:VZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dye,removeRadiusAxis:fye,addAngleAxis:hye,removeAngleAxis:pye}=eL.actions,GZ=eL.reducer;function jT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(n),!0).forEach(function(r){$Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Z(e,t,n){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=(e,t)=>t,hS=Fe([QR,KZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),JZ=[],pS=(e,t,n)=>(n==null?void 0:n.length)===0?JZ:n,tL=Fe([Sv,hS,pS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>IT(IT({},t.presentationProps),a.props))),i!=null)return i}}),XZ=Fe([tL,hS,pS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,o=ur(r,t.nameKey,t.name),l;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:av(o,t.dataKey),color:l,payload:r,type:t.legendType}})}),QZ=Fe([tL,hS,pS,Pi],(e,t,n,r)=>{if(!(t==null||e==null))return ote({offset:r,pieSettings:t,displayedData:e,cells:n})}),Hb={exports:{}},Vn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MT;function ZZ(){if(MT)return Vn;MT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function w(N){if(typeof N=="object"&&N!==null){var A=N.$$typeof;switch(A){case e:switch(N=N.type,N){case n:case i:case r:case u:case f:case y:return N;default:switch(N=N&&N.$$typeof,N){case o:case l:case p:case h:return N;case a:return N;default:return A}}case t:return A}}}return Vn.ContextConsumer=a,Vn.ContextProvider=o,Vn.Element=e,Vn.ForwardRef=l,Vn.Fragment=n,Vn.Lazy=p,Vn.Memo=h,Vn.Portal=t,Vn.Profiler=i,Vn.StrictMode=r,Vn.Suspense=u,Vn.SuspenseList=f,Vn.isContextConsumer=function(N){return w(N)===a},Vn.isContextProvider=function(N){return w(N)===o},Vn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Vn.isForwardRef=function(N){return w(N)===l},Vn.isFragment=function(N){return w(N)===n},Vn.isLazy=function(N){return w(N)===p},Vn.isMemo=function(N){return w(N)===h},Vn.isPortal=function(N){return w(N)===t},Vn.isProfiler=function(N){return w(N)===i},Vn.isStrictMode=function(N){return w(N)===r},Vn.isSuspense=function(N){return w(N)===u},Vn.isSuspenseList=function(N){return w(N)===f},Vn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===n||N===i||N===r||N===u||N===f||typeof N=="object"&&N!==null&&(N.$$typeof===p||N.$$typeof===h||N.$$typeof===o||N.$$typeof===a||N.$$typeof===l||N.$$typeof===g||N.getModuleId!==void 0)},Vn.typeOf=w,Vn}var DT;function eee(){return DT||(DT=1,Hb.exports=ZZ()),Hb.exports}var tee=eee(),RT=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",LT=null,Vb=null,nL=e=>{if(e===LT&&Array.isArray(Vb))return Vb;var t=[];return j.Children.forEach(e,n=>{Ti(n)||(tee.isFragment(n)?t=t.concat(nL(n.props.children)):t.push(n))}),Vb=t,LT=e,t};function rL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>RT(i)):r=[RT(t)],nL(e).forEach(i=>{var a=Vd(i,"type.displayName")||Vd(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var iL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Gb={},OT;function nee(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Gb)),Gb}var $b,BT;function ree(){return BT||(BT=1,$b=nee().isPlainObject),$b}var iee=ree();const aee=ns(iee);var UT,FT,zT,qT,HT;function VT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(n),!0).forEach(function(r){oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oee(e,t,n){return(t=see(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function see(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(null,arguments)}function Vp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $T=(e,t,n,r,i)=>{var a=n-r,o;return o=Or(UT||(UT=Vp(["M ",",",""])),e,t),o+=Or(FT||(FT=Vp(["L ",",",""])),e+n,t),o+=Or(zT||(zT=Vp(["L ",",",""])),e+n-a/2,t+i),o+=Or(qT||(qT=Vp(["L ",",",""])),e+n-a/2-r,t+i),o+=Or(HT||(HT=Vp(["L ",","," Z"])),e,t),o},cee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uee=e=>{var t=pi(e,cee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=t,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,y=j.useRef(null),[g,w]=j.useState(-1),N=j.useRef(i),A=j.useRef(a),_=j.useRef(o),k=j.useRef(n),P=j.useRef(r),M=gv(e,"trapezoid-");if(j.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var $=y.current.getTotalLength();$&&w($)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var B=Tn("recharts-trapezoid",l);if(!p)return j.createElement("g",null,j.createElement("path",Cy({},Aa(t),{className:B,d:$T(n,r,i,a,o)})));var U=N.current,D=A.current,F=_.current,q=k.current,G=P.current,R="0px ".concat(g===-1?1:g,"px"),O="".concat(g,"px 0px"),K=NM(["strokeDasharray"],f,u);return j.createElement(mv,{animationId:M,key:M,canBegin:g>0,duration:f,easing:u,isActive:p,begin:h},$=>{var ne=Vi(U,i,$),z=Vi(D,a,$),Y=Vi(F,o,$),ee=Vi(q,n,$),se=Vi(G,r,$);y.current&&(N.current=ne,A.current=z,_.current=Y,k.current=ee,P.current=se);var X=$>0?{transition:K,strokeDasharray:O}:{strokeDasharray:R};return j.createElement("path",Cy({},Aa(t),{className:B,d:$T(ee,se,ne,z,Y),ref:y,style:GT(GT({},X),t.style)}))})},dee=["option","shapeType","activeClassName"];function fee(e,t){if(e==null)return{};var n,r,i=hee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){pee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pee(e,t,n){return(t=mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mee(e){var t=gee(e,"string");return typeof t=="symbol"?t:t+""}function gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yee(e,t){return Ey(Ey({},t),e)}function vee(e,t){return e==="symbols"}function YT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(CM,n);case"trapezoid":return j.createElement(uee,n);case"sector":return j.createElement(PM,n);case"symbols":if(vee(t))return j.createElement(U5,n);break;case"curve":return j.createElement(gh,n);default:return null}}function xee(e){return j.isValidElement(e)?e.props:e}function bee(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=fee(e,dee),a;if(j.isValidElement(t))a=j.cloneElement(t,Ey(Ey({},i),xee(t)));else if(typeof t=="function")a=t(i,i.index);else if(aee(t)&&typeof t!="boolean"){var o=yee(t,i);a=j.createElement(YT,{shapeType:n,elementProps:o})}else{var l=i;a=j.createElement(YT,{shapeType:n,elementProps:l})}return i.isActive?j.createElement($i,{className:r},a):a}var wee=(e,t,n)=>{var r=rr();return(i,a)=>o=>{e==null||e(i,a,o),r(fR({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Nee=e=>{var t=rr();return(n,r)=>i=>{e==null||e(n,r,i),t(CJ())}},See=(e,t,n)=>{var r=rr();return(i,a)=>o=>{e==null||e(i,a,o),r(EJ({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function aL(e){var{tooltipEntrySettings:t}=e,n=rr(),r=eo(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(NJ(t)):i.current!==t&&n(SJ({prev:i.current,next:t})),i.current=t)},[t,n,r]),j.useLayoutEffect(()=>()=>{i.current&&(n(AJ(i.current)),i.current=null)},[n]),null}function Aee(e){var{legendPayload:t}=e,n=rr(),r=eo(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?n(vM(t)):i.current!==t&&n(xM({prev:i.current,next:t})),i.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{i.current&&(n(bM(i.current)),i.current=null)},[n]),null}function _ee(e){var{legendPayload:t}=e,n=rr(),r=Pt(On),i=j.useRef(null);return j.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(vM(t)):i.current!==t&&n(xM({prev:i.current,next:t})),i.current=t)},[n,r,t]),j.useLayoutEffect(()=>()=>{i.current&&(n(bM(i.current)),i.current=null)},[n]),null}var Wb,Cee=()=>{var[e]=j.useState(()=>hm("uid-"));return e},Eee=(Wb=i9.useId)!==null&&Wb!==void 0?Wb:Cee;function kee(e,t){var n=Eee();return t||(e?"".concat(e,"-").concat(n):n)}var Tee=j.createContext(void 0),oL=e=>{var{id:t,type:n,children:r}=e,i=kee("recharts-".concat(n),t);return j.createElement(Tee.Provider,{value:i},r(i))},Pee={cartesianItems:[],polarItems:[]},sL=Za({name:"graphicalItems",initialState:Pee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ks(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:xr()},removeCartesianGraphicalItem:{reducer(e,t){var n=ks(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xr()},removePolarGraphicalItem:{reducer(e,t){var n=ks(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xr()}}}),{addCartesianGraphicalItem:jee,replaceCartesianGraphicalItem:Iee,removeCartesianGraphicalItem:Mee,addPolarGraphicalItem:Dee,removePolarGraphicalItem:Ree}=sL.actions,Lee=sL.reducer,Oee=e=>{var t=rr(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(jee(e)):n.current!==e&&t(Iee({prev:n.current,next:e})),n.current=e},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(t(Mee(n.current)),n.current=null)},[t]),null},Bee=j.memo(Oee);function Uee(e){var t=rr();return j.useLayoutEffect(()=>(t(Dee(e)),()=>{t(Ree(e))}),[t,e]),null}var Fee=["key"],zee=["onMouseEnter","onClick","onMouseLeave"],qee=["id"],Hee=["id"];function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(null,arguments)}function Lv(e,t){if(e==null)return{};var n,r,i=Wee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yee(e){var t=j.useMemo(()=>rL(e.children,Em),[e.children]),n=Pt(r=>XZ(r,e.id,t));return n==null?null:j.createElement(_ee,{legendPayload:n})}var Kee=j.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:u,tooltipType:f,id:h}=e,p={dataDefinedOnItem:r.map(y=>y.tooltipPayload),positions:r.map(y=>y.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:av(l,t),hide:u,type:f,color:o,unit:"",graphicalItemId:h}};return j.createElement(aL,{tooltipEntrySettings:p})}),Jee=(e,t)=>e>t?"start":e<t?"end":"middle",Xee=(e,t,n)=>Ao(typeof t=="function"?t(e):t,n,n*.8),Qee=(e,t,n)=>{var{top:r,left:i,width:a,height:o}=t,l=EM(a,o),u=i+Ao(e.cx,a,a/2),f=r+Ao(e.cy,o,o/2),h=Ao(e.innerRadius,l,0),p=Xee(n,e.outerRadius,l),y=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:f,innerRadius:h,outerRadius:p,maxRadius:y}},Zee=(e,t)=>{var n=ua(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function ete(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var tte=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Tn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=Lv(t,Fee);return j.createElement(gh,Lu({},i,{type:"linear",className:n}))},nte=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var i=Tn("recharts-pie-label-text",ete(e));return j.createElement(Mv,Lu({},t,{alignmentBaseline:"middle",className:i}),r)};function rte(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:o}=n;if(!r||!i||!t)return null;var l=Co(n),u=Ch(i),f=Ch(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((y,g)=>{var w=(y.startAngle+y.endAngle)/2,N=ni(y.cx,y.cy,y.outerRadius+h,w),A=Br(Br(Br(Br({},l),y),{},{stroke:"none"},u),{},{index:g,textAnchor:Jee(N.x,y.cx)},N),_=Br(Br(Br(Br({},l),y),{},{fill:"none",stroke:y.fill},f),{},{index:g,points:[ni(y.cx,y.cy,y.outerRadius,w),N],key:"line"});return j.createElement(Rs,{zIndex:Gi.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(g)},j.createElement($i,null,a&&tte(a,_),nte(i,A,ur(y,o))))});return j.createElement($i,{className:"recharts-pie-labels"},p)}function ite(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(JR,{label:i}):j.createElement(rte,{sectors:t,props:n,showLabels:r})}function ate(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:o}=e,l=Pt(Mh),u=Pt(CR),f=Pt(fX),{onMouseEnter:h,onClick:p,onMouseLeave:y}=i,g=Lv(i,zee),w=wee(h,i.dataKey,o),N=Nee(y),A=See(p,i.dataKey,o);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((_,k)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&t.length!==1)return null;var P=f==null||f===o,M=String(k)===l&&(u==null||i.dataKey===u)&&P,B=l?r:null,U=n&&M?n:B,D=Br(Br({},_),{},{stroke:_.stroke,tabIndex:-1,[rM]:k,[iM]:o});return j.createElement($i,Lu({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},z5(g,_,k),{onMouseEnter:w(_,k),onMouseLeave:N(_,k),onClick:A(_,k)}),j.createElement(bee,Lu({option:a??U,index:k,shapeType:"sector",isActive:M},D)))}))}function ote(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:o,startAngle:l,endAngle:u,dataKey:f,nameKey:h,tooltipType:p}=n,y=Math.abs(n.minAngle),g=Zee(l,u),w=Math.abs(g),N=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,A=r.filter(U=>ur(U,f,0)!==0).length,_=(w>=360?A:A-1)*N,k=w-A*y-_,P=r.reduce((U,D)=>{var F=ur(D,f,0);return U+(Et(F)?F:0)},0),M;if(P>0){var B;M=r.map((U,D)=>{var F=ur(U,f,0),q=ur(U,h,D),G=Qee(n,a,U),R=(Et(F)?F:0)/P,O,K=Br(Br({},U),i&&i[D]&&i[D].props);D?O=B.endAngle+ua(g)*N*(F!==0?1:0):O=l;var $=O+ua(g)*((F!==0?y:0)+R*k),ne=(O+$)/2,z=(G.innerRadius+G.outerRadius)/2,Y=[{name:q,value:F,payload:K,dataKey:f,type:p,graphicalItemId:n.id}],ee=ni(G.cx,G.cy,z,ne);return B=Br(Br(Br(Br({},n.presentationProps),{},{percent:R,cornerRadius:typeof o=="string"?parseFloat(o):o,name:q,tooltipPayload:Y,midAngle:ne,middleRadius:z,tooltipPosition:ee},K),G),{},{value:F,dataKey:f,startAngle:O,endAngle:$,payload:K,paddingAngle:ua(g)*N}),B})}return M}function ste(e){var{showLabels:t,sectors:n,children:r}=e,i=j.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return j.createElement(RZ,{value:t?i:void 0},r)}function lte(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:h,onAnimationStart:p,onAnimationEnd:y}=t,g=gv(t,"recharts-pie-"),w=n.current,[N,A]=j.useState(!1),_=j.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),k=j.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return j.createElement(ste,{showLabels:!N,sectors:i},j.createElement(mv,{animationId:g,begin:o,duration:l,isActive:a,easing:u,onAnimationStart:k,onAnimationEnd:_,key:g},P=>{var M=[],B=i&&i[0],U=B==null?void 0:B.startAngle;return i==null||i.forEach((D,F)=>{var q=w&&w[F],G=F>0?Vd(D,"paddingAngle",0):0;if(q){var R=Vi(q.endAngle-q.startAngle,D.endAngle-D.startAngle,P),O=Br(Br({},D),{},{startAngle:U+G,endAngle:U+R+G});M.push(O),U=O.endAngle}else{var{endAngle:K,startAngle:$}=D,ne=Vi(0,K-$,P),z=Br(Br({},D),{},{startAngle:U+G,endAngle:U+ne+G});M.push(z),U=z.endAngle}}),n.current=M,j.createElement($i,null,j.createElement(ate,{sectors:M,activeShape:f,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),j.createElement(ite,{showLabels:!N,sectors:i,props:t}),t.children)}var cte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gi.area};function ute(e){var{id:t}=e,n=Lv(e,qee),{hide:r,className:i,rootTabIndex:a}=e,o=j.useMemo(()=>rL(e.children,Em),[e.children]),l=Pt(h=>QZ(h,t,o)),u=j.useRef(null),f=Tn("recharts-pie",i);return r||l==null?(u.current=null,j.createElement($i,{tabIndex:a,className:f})):j.createElement(Rs,{zIndex:e.zIndex},j.createElement(Kee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),j.createElement($i,{tabIndex:a,className:f},j.createElement(lte,{props:Br(Br({},n),{},{sectors:l}),previousSectorsRef:u,id:t})))}function Iw(e){var t=pi(e,cte),{id:n}=t,r=Lv(t,Hee),i=Co(r);return j.createElement(oL,{id:n,type:"pie"},a=>j.createElement(j.Fragment,null,j.createElement(Uee,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(Yee,Lu({},r,{id:a})),j.createElement(ute,Lu({},r,{id:a}))))}Iw.displayName="Pie";var dte=["points"];function JT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(n),!0).forEach(function(r){fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fte(e,t,n){return(t=hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hte(e){var t=pte(e,"string");return typeof t=="symbol"?t:t+""}function pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(null,arguments)}function mte(e,t){if(e==null)return{};var n,r,i=gte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yte(e){var{option:t,dotProps:n,className:r}=e;if(j.isValidElement(t))return j.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Tn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,l=mte(a,dte);return j.createElement(XR,ky({},l,{className:i}))}function vte(e,t){return e==null?!1:t?!0:e.length===1}function xte(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:o,needClip:l,clipPathId:u,zIndex:f=Gi.scatter}=e;if(!vte(t,n))return null;var h=iL(n),p=kF(n),y=t.map((w,N)=>{var A,_,k=Yb(Yb(Yb({r:3},o),p),{},{index:N,cx:(A=w.x)!==null&&A!==void 0?A:void 0,cy:(_=w.y)!==null&&_!==void 0?_:void 0,dataKey:a,value:w.value,payload:w.payload,points:t});return j.createElement(yte,{key:"dot-".concat(N),option:n,dotProps:k,className:i})}),g={};return l&&u!=null&&(g.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),j.createElement(Rs,{zIndex:f},j.createElement($i,ky({className:r},g),y))}function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(r){bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bte(e,t,n){return(t=wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wte(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lL=0,Ste={xAxis:{},yAxis:{},zAxis:{}},cL=Za({name:"cartesianAxis",initialState:Ste,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:xr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:xr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:xr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);e.yAxis[n]=QT(QT({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Ate,replaceXAxis:_te,removeXAxis:Cte,addYAxis:Ete,replaceYAxis:kte,removeYAxis:Tte,addZAxis:mye,replaceZAxis:gye,removeZAxis:yye,updateYAxisWidth:Pte}=cL.actions,jte=cL.reducer,Ite=Fe([Pi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Mte=Fe([Ite,Ac,_c],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),mS=()=>Pt(Mte),Dte=()=>Pt(yX);function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){Rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rte(e,t,n){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lte(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bte=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Kb(Kb(Kb({},l),Ch(i)),F5(i)),f;return j.isValidElement(i)?f=j.cloneElement(i,u):typeof i=="function"?f=i(u):f=j.createElement(XR,u),j.createElement($i,{className:"recharts-active-dot",clipPath:o},f)};function e3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:o=Gi.activeDot}=e,l=Pt(Mh),u=Dte();if(t==null||u==null)return null;var f=t.find(h=>u.includes(h.payload));return Ti(f)?null:j.createElement(Rs,{zIndex:o},j.createElement(Bte,{point:f,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var uL=e=>{var{chartData:t}=e,n=rr(),r=eo();return j.useEffect(()=>r?()=>{}:(n(lT(t)),()=>{n(lT(void 0))}),[t,n,r]),null},t3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},dL=Za({name:"brush",initialState:t3,reducers:{setBrushSettings(e,t){return t.payload==null?t3:t.payload}}}),{setBrushSettings:vye}=dL.actions,Ute=dL.reducer;function Fte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gS{static create(t){return new gS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Fte(gS,"EPS",1e-4);function Hte(e){return(e%180+180)%180}var Vte=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Hte(i),o=a*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Gte={dots:[],areas:[],lines:[]},fL=Za({name:"referenceElements",initialState:Gte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ks(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ks(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ks(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xye,removeDot:bye,addArea:wye,removeArea:Nye,addLine:Sye,removeLine:Aye}=fL.actions,$te=fL.reducer,Wte=j.createContext(void 0),Yte=e=>{var{children:t}=e,[n]=j.useState("".concat(hm("recharts"),"-clip")),r=mS();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return j.createElement(Wte.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function hL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Kte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Vte(r,n)}function Jte(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:l}=e;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function km(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Xte(e,t){return hL(e,t+1)}function Qte(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,u=0,f=1,h=o,p=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:hL(r,f)};var N=u,A,_=()=>(A===void 0&&(A=n(w,N)),A),k=w.coordinate,P=u===0||km(e,k,_,h,l);P||(u=0,h=o,f+=1),P&&(h=k+e*(_()/2+i),u+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function Zte(e,t,n,r,i){var a=(r||[]).slice(),o=a.length;if(o===0)return[];for(var{start:l,end:u}=t,f=1;f<=o;f++){for(var h=(o-1)%f,p=l,y=!0,g=function(){var k=r[w],P=w,M,B=()=>(M===void 0&&(M=n(k,P)),M),U=k.coordinate,D=w===h||km(e,U,B,p,u);if(!D)return y=!1,1;D&&(p=U+e*(B()/2+i))},w=h;w<o&&!g();w+=f);if(y){for(var N=[],A=h;A<o;A+=f)N.push(r[A]);return N}}return[]}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(r){ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ene(e,t,n){return(t=tne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tne(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rne(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:u}=t,f=function(y){var g=a[y],w,N=()=>(w===void 0&&(w=n(g,y)),w);if(y===o-1){var A=e*(g.coordinate+e*N()/2-u);a[y]=g=sa(sa({},g),{},{tickCoord:A>0?g.coordinate-A*e:g.coordinate})}else a[y]=g=sa(sa({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var _=km(e,g.tickCoord,N,l,u);_&&(u=g.tickCoord-e*(N()/2+i),a[y]=sa(sa({},g),{},{isShow:!0}))}},h=o-1;h>=0;h--)f(h);return a}function ine(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,{start:u,end:f}=t;if(a){var h=r[l-1],p=n(h,l-1),y=e*(h.coordinate+e*p/2-f);if(o[l-1]=h=sa(sa({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var g=km(e,h.tickCoord,()=>p,u,f);g&&(f=h.tickCoord-e*(p/2+i),o[l-1]=sa(sa({},h),{},{isShow:!0}))}}for(var w=a?l-1:l,N=function(k){var P=o[k],M,B=()=>(M===void 0&&(M=n(P,k)),M);if(k===0){var U=e*(P.coordinate-e*B()/2-u);o[k]=P=sa(sa({},P),{},{tickCoord:U<0?P.coordinate-U*e:P.coordinate})}else o[k]=P=sa(sa({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var D=km(e,P.tickCoord,B,u,f);D&&(u=P.tickCoord+e*(B()/2+i),o[k]=sa(sa({},P),{},{isShow:!0}))}},A=0;A<w;A++)N(A);return o}function yS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:u,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(Et(u)||$m.isSsr){var y;return(y=Xte(i,Et(u)?u:0))!==null&&y!==void 0?y:[]}var g=[],w=l==="top"||l==="bottom"?"width":"height",N=h&&w==="width"?nm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},A=(P,M)=>{var B=typeof f=="function"?f(P.value,M):P.value;return w==="width"?Kte(nm(B,{fontSize:t,letterSpacing:n}),N,p):nm(B,{fontSize:t,letterSpacing:n})[w]},_=i.length>=2?ua(i[1].coordinate-i[0].coordinate):1,k=Jte(a,_,w);return u==="equidistantPreserveStart"?Qte(_,k,A,i,o):u==="equidistantPreserveEnd"?Zte(_,k,A,i,o):(u==="preserveStart"||u==="preserveStartEnd"?g=ine(_,k,A,i,o,u==="preserveStartEnd"):g=rne(_,k,A,i,o),g.filter(P=>P.isShow))}var ane=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+a,f=o+u+l+(n?r:0);return Math.round(f)}return 0},one=["axisLine","width","height","className","hide","ticks","axisType"];function sne(e,t){if(e==null)return{};var n,r,i=lne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(null,arguments)}function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(r){cne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cne(e,t,n){return(t=une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gi.axis};function fne(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:u}=e;if(!l)return null;var f=ti(ti(ti({},u),Co(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!o||a==="bottom"&&o);f=ti(ti({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);f=ti(ti({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return j.createElement("line",Kd({},f,{className:Tn("recharts-cartesian-axis-line",Vd(l,"className"))}))}function hne(e,t,n,r,i,a,o,l,u){var f,h,p,y,g,w,N=l?-1:1,A=e.tickSize||o,_=Et(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=h=e.coordinate,y=n+ +!l*i,p=y-N*A,w=p-N*u,g=_;break;case"left":p=y=e.coordinate,h=t+ +!l*r,f=h-N*A,g=f-N*u,w=_;break;case"right":p=y=e.coordinate,h=t+ +l*r,f=h+N*A,g=f+N*u,w=_;break;default:f=h=e.coordinate,y=n+ +l*i,p=y+N*A,w=p+N*u,g=_;break}return{line:{x1:f,y1:p,x2:h,y2:y},tick:{x:g,y:w}}}function pne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function mne(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gne(e){var{option:t,tickProps:n,value:r}=e,i,a=Tn(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,ti(ti({},n),{},{className:a}));else if(typeof t=="function")i=t(ti(ti({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Tn(o,t==null?void 0:t.className)),i=j.createElement(Mv,Kd({},n,{className:o}),r)}return i}var yne=j.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:h,mirror:p,x:y,y:g,width:w,height:N,tickSize:A,tickMargin:_,fontSize:k,letterSpacing:P,getTicksConfig:M,events:B,axisType:U}=e,D=yS(ti(ti({},M),{},{ticks:n}),k,P),F=pne(h,p),q=mne(h,p),G=Co(M),R=Ch(r),O={};typeof i=="object"&&(O=i);var K=ti(ti({},G),{},{fill:"none"},O),$=D.map(Y=>ti({entry:Y},hne(Y,y,g,w,N,h,A,p,_))),ne=$.map(Y=>{var{entry:ee,line:se}=Y;return j.createElement($i,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&j.createElement("line",Kd({},K,se,{className:Tn("recharts-cartesian-axis-tick-line",Vd(i,"className"))})))}),z=$.map((Y,ee)=>{var{entry:se,tick:X}=Y,ie=ti(ti(ti(ti({textAnchor:F,verticalAnchor:q},G),{},{stroke:"none",fill:a},R),X),{},{index:ee,payload:se,visibleTicksCount:D.length,tickFormatter:o,padding:u},f);return j.createElement($i,Kd({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},z5(B,se,ee)),r&&j.createElement(gne,{option:r,tickProps:ie,value:"".concat(typeof o=="function"?o(se.value,ee):se.value).concat(l||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(U,"-ticks")},z.length>0&&j.createElement(Rs,{zIndex:Gi.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(U,"-tick-labels"),ref:t},z)),ne.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(U,"-tick-lines")},ne))}),vne=j.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:l,axisType:u}=e,f=sne(e,one),[h,p]=j.useState(""),[y,g]=j.useState(""),w=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var A;return ane({ticks:w.current,label:(A=e.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=j.useCallback(A=>{if(A){var _=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=_;var k=_[0];if(k){var P=window.getComputedStyle(k),M=P.fontSize,B=P.letterSpacing;(M!==h||B!==y)&&(p(M),g(B))}}},[h,y]);return o||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(Rs,{zIndex:e.zIndex},j.createElement($i,{className:Tn("recharts-cartesian-axis",a)},j.createElement(fne,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Co(e)}),j.createElement(yne,{ref:N,axisType:u,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),j.createElement(hZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},j.createElement(SZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),vS=j.forwardRef((e,t)=>{var n=pi(e,hc);return j.createElement(vne,Kd({},n,{ref:t}))});vS.displayName="CartesianAxis";var xne=["x1","y1","x2","y2","key"],bne=["offset"],wne=["xAxisId","yAxisId"],Nne=["xAxisId","yAxisId"];function i3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(n),!0).forEach(function(r){Sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sne(e,t,n){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ane(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(null,arguments)}function Ty(e,t){if(e==null)return{};var n,r,i=Cne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ene=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:l}=e;return j.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pL(e){var{option:t,lineItemProps:n}=e,r;if(j.isValidElement(t))r=j.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:o,x2:l,y2:u,key:f}=n,h=Ty(n,xne),p=(i=Co(h))!==null&&i!==void 0?i:{},{offset:y}=p,g=Ty(p,bne);r=j.createElement("line",Id({},g,{x1:a,y1:o,x2:l,y2:u,fill:"none",key:f}))}return r}function kne(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Ty(e,wne),u=i.map((f,h)=>{var p=la(la({},l),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return j.createElement(pL,{key:"line-".concat(h),option:r,lineItemProps:p})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Tne(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,l=Ty(e,Nne),u=i.map((f,h)=>{var p=la(la({},l),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return j.createElement(pL,{option:r,lineItemProps:p,key:"line-".concat(h)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Pne(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:u=!0}=e;if(!u||!t||!t.length||l==null)return null;var f=l.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var g=!f[y+1],w=g?i+o-p:f[y+1]-p;if(w<=0)return null;var N=y%t.length;return j.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:w,width:a,stroke:"none",fill:t[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function jne(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var g=!f[y+1],w=g?i+o-p:f[y+1]-p;if(w<=0)return null;var N=y%n.length;return j.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:w,height:l,stroke:"none",fill:n[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Ine=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return eM(yS(la(la(la({},hc),n),{},{ticks:tM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Mne=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return eM(yS(la(la(la({},hc),n),{},{ticks:tM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Dne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Gi.grid};function mL(e){var t=Z5(),n=eN(),r=uM(),i=la(la({},pi(e,Dne)),{},{x:Et(e.x)?e.x:r.left,y:Et(e.y)?e.y:r.top,width:Et(e.width)?e.width:r.width,height:Et(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:g}=i,w=eo(),N=Pt(q=>Jk(q,"xAxis",a,w)),A=Pt(q=>Jk(q,"yAxis",o,w));if(!_l(f)||!_l(h)||!Et(l)||!Et(u))return null;var _=i.verticalCoordinatesGenerator||Ine,k=i.horizontalCoordinatesGenerator||Mne,{horizontalPoints:P,verticalPoints:M}=i;if((!P||!P.length)&&typeof k=="function"){var B=y&&y.length,U=k({yAxis:A?la(la({},A),{},{ticks:B?y:A.ticks}):void 0,width:t??f,height:n??h,offset:r},B?!0:p);ry(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(P=U)}if((!M||!M.length)&&typeof _=="function"){var D=g&&g.length,F=_({xAxis:N?la(la({},N),{},{ticks:D?g:N.ticks}):void 0,width:t??f,height:n??h,offset:r},D?!0:p);ry(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(M=F)}return j.createElement(Rs,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Ene,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(Pne,Id({},i,{horizontalPoints:P})),j.createElement(jne,Id({},i,{verticalPoints:M})),j.createElement(kne,Id({},i,{offset:r,horizontalPoints:P,xAxis:N,yAxis:A})),j.createElement(Tne,Id({},i,{offset:r,verticalPoints:M,xAxis:N,yAxis:A}))))}mL.displayName="CartesianGrid";var Rne={},gL=Za({name:"errorBars",initialState:Rne,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:_ye,replaceErrorBar:Cye,removeErrorBar:Eye}=gL.actions,Lne=gL.reducer;function yL(e,t){var n,r,i=Pt(f=>kc(f,e)),a=Pt(f=>Tc(f,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ci.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ei.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function One(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=mS(),{needClipX:a,needClipY:o,needClip:l}=yL(t,n);if(!l||!i)return null;var{x:u,y:f,width:h,height:p}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:a?u:u-h/2,y:o?f:f-p/2,width:a?h:h*2,height:o?p:p*2}))}function Bne(e){var t=Ch(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),l=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var Jb={exports:{}},Xb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function Une(){if(a3)return Xb;a3=1;var e=Rh();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Xb.useSyncExternalStoreWithSelector=function(u,f,h,p,y){var g=i(null);if(g.current===null){var w={hasValue:!1,value:null};g.current=w}else w=g.current;g=o(function(){function A(B){if(!_){if(_=!0,k=B,B=p(B),y!==void 0&&w.hasValue){var U=w.value;if(y(U,B))return P=U}return P=B}if(U=P,n(k,B))return U;var D=p(B);return y!==void 0&&y(U,D)?(k=B,U):(k=B,P=D)}var _=!1,k,P,M=h===void 0?null:h;return[function(){return A(f())},M===null?void 0:function(){return A(M())}]},[f,h,p,y]);var N=r(u,g[0],g[1]);return a(function(){w.hasValue=!0,w.value=N},[N]),l(N),N},Xb}var o3;function Fne(){return o3||(o3=1,Jb.exports=Une()),Jb.exports}Fne();function zne(e){e()}function qne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var s3={notify(){},get:()=>[]};function Hne(e,t){let n,r=s3,i=0,a=!1;function o(N){h();const A=r.subscribe(N);let _=!1;return()=>{_||(_=!0,A(),p())}}function l(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function f(){return a}function h(){i++,n||(n=e.subscribe(u),r=qne())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=s3)}function y(){a||(a=!0,h())}function g(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:f,trySubscribe:y,tryUnsubscribe:g,getListeners:()=>r};return w}var Vne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gne=Vne(),$ne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wne=$ne(),Yne=()=>Gne||Wne?j.useLayoutEffect:j.useEffect,Kne=Yne();function l3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Jne(e,t){if(l3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!l3(e[n[i]],t[n[i]]))return!1;return!0}var Qb=Symbol.for("react-redux-context"),Zb=typeof globalThis<"u"?globalThis:{};function Xne(){if(!j.createContext)return{};const e=Zb[Qb]??(Zb[Qb]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var Qne=Xne();function Zne(e){const{children:t,context:n,serverState:r,store:i}=e,a=j.useMemo(()=>{const u=Hne(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=j.useMemo(()=>i.getState(),[i]);Kne(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const l=n||Qne;return j.createElement(l.Provider,{value:a},t)}var ere=Zne,tre=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function nre(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function xS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(tre.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Jne(e[r],t[r]))return!1}else if(!nre(e[r],t[r]))return!1;return!0}function bS(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:lL}function wS(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:lL}var vL=(e,t,n)=>oR(e,"xAxis",bS(e,t),n),xL=(e,t,n)=>aR(e,"xAxis",bS(e,t),n),bL=(e,t,n)=>oR(e,"yAxis",wS(e,t),n),wL=(e,t,n)=>aR(e,"yAxis",wS(e,t),n),rre=Fe([On,vL,bL,xL,wL],(e,t,n,r,i)=>Sc(e,"xAxis")?ny(t,r,!1):ny(n,i,!1)),ire=(e,t)=>t,NL=Fe([BD,ire],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),SL=e=>{var t=On(e),n=Sc(t,"xAxis");return n?"yAxis":"xAxis"},are=(e,t)=>{var n=SL(e);return n==="yAxis"?wS(e,t):bS(e,t)},ore=(e,t,n)=>HD(e,SL(e),are(e,t),n),sre=Fe([NL,ore],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=DN(e);if(!(r==null||i==null)){var a=(n=t[r])===null||n===void 0?void 0:n.stackedData,o=a==null?void 0:a.find(l=>l.key===i);if(o!=null)return o.map(l=>[l[0],l[1]])}}}),lre=Fe([On,vL,bL,xL,wL,sre,eK,rre,NL,hK],(e,t,n,r,i,a,o,l,u,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:y}=o;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:g}=u,w;if(g&&g.length>0?w=g:w=h==null?void 0:h.slice(p,y+1),w!=null)return Ere({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:f,bandSize:l})}}),cre=["id"],ure=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bd.apply(null,arguments)}function AL(e,t){if(e==null)return{};var n,r,i=dre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function c3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Py(e,t){return e&&e!=="none"?e:t}var mre=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Py(r,i),value:av(n,t),payload:e}]},gre=j.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:l,unit:u,tooltipType:f,id:h}=e,p={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:av(o,t),hide:l,type:f,color:Py(r,a),unit:u,graphicalItemId:h}};return j.createElement(aL,{tooltipEntrySettings:p})});function yre(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:o}=r,l=Co(r);return j.createElement(xte,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:t})}function vre(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var o,l,u={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return fh(fh({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return j.createElement(DZ,{value:t?i:void 0},n)}function u3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:o,type:l,stroke:u,connectNulls:f,isRange:h}=a,{id:p}=a,y=AL(a,cre),g=Co(y),w=Aa(y);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement($i,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},j.createElement(gh,Bd({},w,{id:p,points:t,connectNulls:f,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&j.createElement(gh,Bd({},g,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:t})),u!=="none"&&h&&j.createElement(gh,Bd({},g,{className:"recharts-area-curve",layout:o,type:l,connectNulls:f,fill:"none",points:n}))),j.createElement(yre,{points:t,props:y,clipPathId:i}))}function xre(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:o}=e,l=(t=a[0])===null||t===void 0?void 0:t.y,u=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!wr(l)||!wr(u))return null;var f=r*Math.abs(l-u),h=Math.max(...a.map(p=>p.x||0));return Et(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(p=>p.x||0),h)),Et(h)?j.createElement("rect",{x:0,y:l<u?l:l-f,width:h+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}function bre(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:o}=e,l=(t=a[0])===null||t===void 0?void 0:t.x,u=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!wr(l)||!wr(u))return null;var f=r*Math.abs(l-u),h=Math.max(...a.map(p=>p.y||0));return Et(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(p=>p.y||0),h)),Et(h)?j.createElement("rect",{x:l<u?l:l-f,y:0,width:f,height:Math.floor(h+(o?parseInt("".concat(o),10):1))}):null}function wre(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?j.createElement(xre,{alpha:t,points:r,baseLine:i,strokeWidth:a}):j.createElement(bre,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function Nre(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:l,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:y,onAnimationEnd:g}=r,w=j.useMemo(()=>({points:o,baseLine:l}),[o,l]),N=gv(w,"recharts-area-"),A=PV(),[_,k]=j.useState(!1),P=!_,M=j.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),B=j.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]);if(A==null)return null;var U=i.current,D=a.current;return j.createElement(vre,{showLabels:P,points:o},r.children,j.createElement(mv,{animationId:N,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:M,onAnimationStart:B,key:N},F=>{if(U){var q=U.length/o.length,G=F===1?o:o.map((O,K)=>{var $=Math.floor(K*q);if(U[$]){var ne=U[$];return fh(fh({},O),{},{x:Vi(ne.x,O.x,F),y:Vi(ne.y,O.y,F)})}return O}),R;return Et(l)?R=Vi(D,l,F):Ti(l)||Is(l)?R=Vi(D,0,F):R=l.map((O,K)=>{var $=Math.floor(K*q);if(Array.isArray(D)&&D[$]){var ne=D[$];return fh(fh({},O),{},{x:Vi(ne.x,O.x,F),y:Vi(ne.y,O.y,F)})}return O}),F>0&&(i.current=G,a.current=R),j.createElement(u3,{points:G,baseLine:R,needClip:t,clipPathId:n,props:r})}return F>0&&(i.current=o,a.current=l),j.createElement($i,null,u&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(n)},j.createElement(wre,{alpha:F,points:o,baseLine:l,layout:A,strokeWidth:r.strokeWidth}))),j.createElement($i,{clipPath:"url(#animationClipPath-".concat(n,")")},j.createElement(u3,{points:o,baseLine:l,needClip:t,clipPathId:n,props:r})))}),j.createElement(JR,{label:r.label}))}function Sre(e){var{needClip:t,clipPathId:n,props:r}=e,i=j.useRef(null),a=j.useRef();return j.createElement(Nre,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class Are extends j.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:o,needClip:l,xAxisId:u,yAxisId:f,width:h,height:p,id:y,baseLine:g,zIndex:w}=this.props;if(t)return null;var N=Tn("recharts-area",i),A=y,{r:_,strokeWidth:k}=Bne(n),P=iL(n),M=_*2+k,B=l?"url(#clipPath-".concat(P?"":"dots-").concat(A,")"):void 0;return j.createElement(Rs,{zIndex:w},j.createElement($i,{className:N},l&&j.createElement("defs",null,j.createElement(One,{clipPathId:A,xAxisId:u,yAxisId:f}),!P&&j.createElement("clipPath",{id:"clipPath-dots-".concat(A)},j.createElement("rect",{x:o-M/2,y:a-M/2,width:h+M,height:p+M}))),j.createElement(Sre,{needClip:l,clipPathId:A,props:this.props})),j.createElement(e3,{points:r,mainColor:Py(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:B}),this.props.isRange&&Array.isArray(g)&&j.createElement(e3,{points:g,mainColor:Py(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:B}))}}var _L={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gi.area};function _re(e){var t,n=pi(e,_L),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:l,dot:u,fill:f,fillOpacity:h,hide:p,isAnimationActive:y,legendType:g,stroke:w,xAxisId:N,yAxisId:A}=n,_=AL(n,ure),k=Oh(),P=TR(),{needClip:M}=yL(N,A),B=eo(),{points:U,isRange:D,baseLine:F}=(t=Pt($=>lre($,e.id,B)))!==null&&t!==void 0?t:{},q=mS();if(k!=="horizontal"&&k!=="vertical"||q==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:G,width:R,x:O,y:K}=q;return!U||!U.length?null:j.createElement(Are,Bd({},_,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:F,connectNulls:l,dot:u,fill:f,fillOpacity:h,height:G,hide:p,layout:k,isAnimationActive:y==="auto"?!$m.isSsr:y,isRange:D,legendType:g,needClip:M,points:U,stroke:w,width:R,left:O,top:K,xAxisId:N,yAxisId:A}))}var Cre=(e,t,n,r,i)=>{var a=n??t;if(Et(a))return a;var o=e==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var u=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return a==="dataMin"?f:a==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function Ere(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:o,xAxis:l,yAxis:u,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:y,bandSize:g}=e,w=i&&i.length,N=Cre(a,o,n,l,u),A=a==="horizontal",_=!1,k=f.map((M,B)=>{var U,D,F;if(w)F=i[h+B];else{var q=ur(M,r);Array.isArray(q)?(F=q,_=!0):F=[N,q]}var G=(U=(D=F)===null||D===void 0?void 0:D[1])!==null&&U!==void 0?U:null,R=G==null||w&&!t&&ur(M,r)==null;return A?{x:eE({axis:l,ticks:p,bandSize:g,entry:M,index:B}),y:R?null:u.scale(G),value:F,payload:M}:{x:R?null:l.scale(G),y:eE({axis:u,ticks:y,bandSize:g,entry:M,index:B}),value:F,payload:M}}),P;return w||_?P=k.map(M=>{var B=Array.isArray(M.value)?M.value[0]:null;return A?{x:M.x,y:B!=null&&M.y!=null?u.scale(B):null,payload:M.payload}:{x:B!=null?l.scale(B):null,y:M.y,payload:M.payload}}):P=A?u.scale(N):l.scale(N),{points:k,baseLine:P,isRange:_}}function kre(e){var t=pi(e,_L),n=eo();return j.createElement(oL,{id:t.id,type:"area"},r=>j.createElement(j.Fragment,null,j.createElement(Aee,{legendPayload:mre(t)}),j.createElement(gre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),j.createElement(Bee,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:YH(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),j.createElement(_re,Bd({},t,{id:r}))))}var CL=j.memo(kre,xS);CL.displayName="Area";var Tre=["domain","range"],Pre=["domain","range"];function d3(e,t){if(e==null)return{};var n,r,i=jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function EL(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=d3(e,Tre),{domain:a,range:o}=t,l=d3(t,Pre);return!f3(n,a)||!f3(r,o)?!1:xS(i,l)}var Ire=["dangerouslySetInnerHTML","ticks","scale"],Mre=["id","scale"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function h3(e,t){if(e==null)return{};var n,r,i=Dre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rre(e){var t=rr(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(Ate(e)):n.current!==e&&t(_te({prev:n.current,next:e})),n.current=e},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(t(Cte(n.current)),n.current=null)},[t]),null}var Lre=e=>{var{xAxisId:t,className:n}=e,r=Pt(aM),i=eo(),a="xAxis",o=Pt(_=>iR(_,a,t,i)),l=Pt(_=>aJ(_,t)),u=Pt(_=>dJ(_,t)),f=Pt(_=>RD(_,t));if(l==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:y}=e,g=h3(e,Ire),{id:w,scale:N}=f,A=h3(f,Mre);return j.createElement(vS,Mw({},g,A,{x:u.x,y:u.y,width:l.width,height:l.height,className:Tn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},Ore={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:Ci.allowDuplicatedCategory,angle:Ci.angle,axisLine:hc.axisLine,height:Ci.height,hide:!1,includeHidden:Ci.includeHidden,interval:Ci.interval,minTickGap:Ci.minTickGap,mirror:Ci.mirror,orientation:Ci.orientation,padding:Ci.padding,reversed:Ci.reversed,scale:Ci.scale,tick:Ci.tick,tickCount:Ci.tickCount,tickLine:hc.tickLine,tickSize:hc.tickSize,type:Ci.type,xAxisId:0},Bre=e=>{var t=pi(e,Ore);return j.createElement(j.Fragment,null,j.createElement(Rre,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(Lre,t))},kL=j.memo(Bre,EL);kL.displayName="XAxis";var Ure=["dangerouslySetInnerHTML","ticks","scale"],Fre=["id","scale"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function p3(e,t){if(e==null)return{};var n,r,i=zre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qre(e){var t=rr(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(Ete(e)):n.current!==e&&t(kte({prev:n.current,next:e})),n.current=e},[e,t]),j.useLayoutEffect(()=>()=>{n.current&&(t(Tte(n.current)),n.current=null)},[t]),null}var Hre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=j.useRef(null),o=j.useRef(null),l=Pt(aM),u=eo(),f=rr(),h="yAxis",p=Pt(U=>pJ(U,t)),y=Pt(U=>hJ(U,t)),g=Pt(U=>iR(U,h,t,u)),w=Pt(U=>LD(U,t));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!p||fS(i)||j.isValidElement(i)||w==null)){var U=a.current;if(U){var D=U.getCalculatedWidth();Math.round(p.width)!==Math.round(D)&&f(Pte({id:t,width:D}))}}},[g,p,f,i,t,r,w]),p==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:N,ticks:A,scale:_}=e,k=p3(e,Ure),{id:P,scale:M}=w,B=p3(w,Fre);return j.createElement(vS,Dw({},k,B,{ref:a,labelRef:o,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:Tn("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:g,axisType:h}))},Vre={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,angle:Ei.angle,axisLine:hc.axisLine,hide:!1,includeHidden:Ei.includeHidden,interval:Ei.interval,minTickGap:Ei.minTickGap,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,tickLine:hc.tickLine,tickSize:hc.tickSize,type:Ei.type,width:Ei.width,yAxisId:0},Gre=e=>{var t=pi(e,Vre);return j.createElement(j.Fragment,null,j.createElement(qre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(Hre,t))},TL=j.memo(Gre,EL);TL.displayName="YAxis";var $re=(e,t)=>t,NS=Fe([$re,On,MD,gi,NR,Pc,TX,Pi],LX),SS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},PL=Zo("mouseClick"),jL=Hm();jL.startListening({actionCreator:PL,effect:(e,t)=>{var n=e.payload,r=NS(t.getState(),SS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(kJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Rw=Zo("mouseMove"),IL=Hm(),fg=null;IL.startListening({actionCreator:Rw,effect:(e,t)=>{var n=e.payload;fg!==null&&cancelAnimationFrame(fg);var r=SS(n);fg=requestAnimationFrame(()=>{var i=t.getState(),a=nS(i,i.tooltip.settings.shared);if(a==="axis"){var o=NS(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(pR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(hR())}fg=null})}});function Wre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var m3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},ML=Za({name:"rootProps",initialState:m3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:m3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Yre=ML.reducer,{updateOptions:Kre}=ML.actions,DL=Za({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Jre}=DL.actions,Xre=DL.reducer,RL=Zo("keyDown"),LL=Zo("focus"),AS=Hm();AS.startListening({actionCreator:RL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=rS(i,$h(n),t0(n),i0(n)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var u=Pc(n);if(a==="Enter"){var f=Ay(n,"axis","hover",String(i.index));t.dispatch(Cw({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=vJ(n),p=h==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,g=l+y*p;if(!(u==null||g>=u.length||g<0)){var w=Ay(n,"axis","hover",String(g));t.dispatch(Cw({active:!0,activeIndex:g.toString(),activeCoordinate:w}))}}}}}});AS.startListening({actionCreator:LL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Ay(n,"axis","hover",String(a));t.dispatch(Cw({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Wo=Zo("externalEvent"),OL=Hm(),e2=new Map;OL.startListening({actionCreator:Wo,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=e2.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),u={activeCoordinate:pX(l),activeDataKey:CR(l),activeIndex:Mh(l),activeLabel:_R(l),activeTooltipIndex:Mh(l),isTooltipActive:mX(l)};n(u,r)}finally{e2.delete(i)}});e2.set(i,o)}}});var Qre=Fe([Vh],e=>e.tooltipItemPayloads),Zre=Fe([Qre,r0,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),BL=Zo("touchMove"),UL=Hm();UL.startListening({actionCreator:BL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=nS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var o=NS(r,SS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(pR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(rM),p=(l=f.getAttribute(iM))!==null&&l!==void 0?l:void 0,y=Gh(r).find(N=>N.id===p);if(h==null||y==null||p==null)return;var{dataKey:g}=y,w=Zre(r,h,p);t.dispatch(fR({activeDataKey:g,activeIndex:h,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var eie=_I({brush:Ute,cartesianAxis:jte,chartData:hQ,errorBars:Lne,graphicalItems:Lee,layout:BH,legend:GV,options:lQ,polarAxis:GZ,polarOptions:Xre,referenceElements:$te,rootProps:Yre,tooltip:TJ,zIndex:JX}),tie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return cH({reducer:eie,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([jL.middleware,IL.middleware,AS.middleware,OL.middleware,UL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(FI({type:"raf"}))},devTools:{serialize:{replacer:Wre},name:"recharts-".concat(n)}})};function FL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=eo(),a=j.useRef(null);if(i)return n;a.current==null&&(a.current=tie(t,r));var o=H5;return j.createElement(ere,{context:o,store:a.current},n)}function nie(e){var{layout:t,margin:n}=e,r=rr(),i=eo();return j.useEffect(()=>{i||(r(RH(t)),r(DH(n)))},[r,i,t,n]),null}var zL=j.memo(nie,xS);function qL(e){var t=rr();return j.useEffect(()=>{t(Kre(e))},[t,e]),null}function g3(e){var{zIndex:t,isPanorama:n}=e,r=j.useRef(null),i=rr();return j.useLayoutEffect(()=>(r.current&&i(YX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(KX({zIndex:t,isPanorama:n}))}),[i,t,n]),j.createElement("g",{tabIndex:-1,ref:r})}function y3(e){var{children:t,isPanorama:n}=e,r=Pt(BX);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return j.createElement(j.Fragment,null,i.map(o=>j.createElement(g3,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>j.createElement(g3,{key:o,zIndex:o,isPanorama:n})))}var rie=["children"];function iie(e,t){if(e==null)return{};var n,r,i=aie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}var oie={width:"100%",height:"100%",display:"block"},sie=j.forwardRef((e,t)=>{var n=Z5(),r=eN(),i=wM();if(!_l(n)||!_l(r))return null;var{children:a,otherAttributes:o,title:l,desc:u}=e,f,h;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),j.createElement(j5,jy({},o,{title:l,desc:u,role:h,tabIndex:f,width:n,height:r,style:oie,ref:t}),a)}),lie=e=>{var{children:t}=e,n=Pt(cv);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return j.createElement(j5,{width:r,height:i,x:o,y:a},t)},v3=j.forwardRef((e,t)=>{var{children:n}=e,r=iie(e,rie),i=eo();return i?j.createElement(lie,null,j.createElement(y3,{isPanorama:!0},n)):j.createElement(sie,jy({ref:t},r),j.createElement(y3,{isPanorama:!1},n))});function cie(){var e=rr(),[t,n]=j.useState(null),r=Pt(eV);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;wr(a)&&a!==r&&e(OH(a))}},[t,e,r]),n}function x3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(n),!0).forEach(function(r){die(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function die(e,t,n){return(t=fie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(null,arguments)}var pie=()=>(NQ(),null);function Iy(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var mie=j.forwardRef((e,t)=>{var n,r,i=j.useRef(null),[a,o]=j.useState({containerWidth:Iy((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Iy((r=e.style)===null||r===void 0?void 0:r.height)}),l=j.useCallback((f,h)=>{o(p=>{var y=Math.round(f),g=Math.round(h);return p.containerWidth===y&&p.containerHeight===g?p:{containerWidth:y,containerHeight:g}})},[]),u=j.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();l(h,p);var y=w=>{var{width:N,height:A}=w[0].contentRect;l(N,A)},g=new ResizeObserver(y);g.observe(f),i.current=g}},[t,l]);return j.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[l]),j.createElement(j.Fragment,null,j.createElement(dv,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Jd({ref:u},e)))}),gie=j.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=j.useState({containerWidth:Iy(n),containerHeight:Iy(r)}),o=j.useCallback((u,f)=>{a(h=>{var p=Math.round(u),y=Math.round(f);return h.containerWidth===p&&h.containerHeight===y?h:{containerWidth:p,containerHeight:y}})},[]),l=j.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();o(f,h)}},[t,o]);return j.createElement(j.Fragment,null,j.createElement(dv,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Jd({ref:l},e)))}),yie=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return j.createElement(j.Fragment,null,j.createElement(dv,{width:n,height:r}),j.createElement("div",Jd({ref:t},e)))}),vie=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return pc(n)||pc(r)?j.createElement(gie,Jd({},e,{ref:t})):j.createElement(yie,Jd({},e,{ref:t}))});function xie(e){return e===!0?mie:vie}var bie=j.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:g,onTouchMove:w,onTouchStart:N,style:A,width:_,responsive:k,dispatchTouchEvents:P=!0}=e,M=j.useRef(null),B=rr(),[U,D]=j.useState(null),[F,q]=j.useState(null),G=cie(),R=Q5(),O=(R==null?void 0:R.width)>0?R.width:_,K=(R==null?void 0:R.height)>0?R.height:i,$=j.useCallback(te=>{G(te),typeof t=="function"&&t(te),D(te),q(te),te!=null&&(M.current=te)},[G,t,D,q]),ne=j.useCallback(te=>{B(PL(te)),B(Wo({handler:a,reactEvent:te}))},[B,a]),z=j.useCallback(te=>{B(Rw(te)),B(Wo({handler:f,reactEvent:te}))},[B,f]),Y=j.useCallback(te=>{B(hR()),B(Wo({handler:h,reactEvent:te}))},[B,h]),ee=j.useCallback(te=>{B(Rw(te)),B(Wo({handler:p,reactEvent:te}))},[B,p]),se=j.useCallback(()=>{B(LL())},[B]),X=j.useCallback(te=>{B(RL(te.key))},[B]),ie=j.useCallback(te=>{B(Wo({handler:o,reactEvent:te}))},[B,o]),V=j.useCallback(te=>{B(Wo({handler:l,reactEvent:te}))},[B,l]),H=j.useCallback(te=>{B(Wo({handler:u,reactEvent:te}))},[B,u]),re=j.useCallback(te=>{B(Wo({handler:y,reactEvent:te}))},[B,y]),de=j.useCallback(te=>{B(Wo({handler:N,reactEvent:te}))},[B,N]),fe=j.useCallback(te=>{P&&B(BL(te)),B(Wo({handler:w,reactEvent:te}))},[B,P,w]),pe=j.useCallback(te=>{B(Wo({handler:g,reactEvent:te}))},[B,g]),he=xie(k);return j.createElement(DR.Provider,{value:U},j.createElement(zj.Provider,{value:F},j.createElement(he,{width:O??(A==null?void 0:A.width),height:K??(A==null?void 0:A.height),className:Tn("recharts-wrapper",r),style:uie({position:"relative",cursor:"default",width:O,height:K},A),onClick:ne,onContextMenu:ie,onDoubleClick:V,onFocus:se,onKeyDown:X,onMouseDown:H,onMouseEnter:z,onMouseLeave:Y,onMouseMove:ee,onMouseUp:re,onTouchEnd:pe,onTouchMove:fe,onTouchStart:de,ref:$},j.createElement(pie,null),n)))}),wie=["width","height","responsive","children","className","style","compact","title","desc"];function Nie(e,t){if(e==null)return{};var n,r,i=Sie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HL=j.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:o,style:l,compact:u,title:f,desc:h}=e,p=Nie(e,wie),y=Co(p);return u?j.createElement(j.Fragment,null,j.createElement(dv,{width:n,height:r}),j.createElement(v3,{otherAttributes:y,title:f,desc:h},a)):j.createElement(bie,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(v3,{otherAttributes:y,title:f,desc:h,ref:t},j.createElement(Yte,null,a)))});function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(null,arguments)}var Aie={top:5,right:5,bottom:5,left:5},_ie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Aie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Cie=j.forwardRef(function(t,n){var r,i=pi(t.categoricalChartProps,_ie),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,h={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return j.createElement(FL,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},j.createElement(uL,{chartData:f.data}),j.createElement(zL,{layout:i.layout,margin:i.margin}),j.createElement(qL,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(HL,Lw({},i,{ref:n})))});function Eie(e){var t=rr();return j.useEffect(()=>{t(Jre(e))},[t,e]),null}var kie=["layout"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(null,arguments)}function Tie(e,t){if(e==null)return{};var n,r,i=Pie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jie={top:5,right:5,bottom:5,left:5},VL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Iie=j.forwardRef(function(t,n){var r,i=pi(t.categoricalChartProps,VL),{layout:a}=i,o=Tie(i,kie),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(FL,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},j.createElement(uL,{chartData:i.data}),j.createElement(zL,{layout:a,margin:i.margin}),j.createElement(qL,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(Eie,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(HL,Ow({},o,{ref:n})))});function b3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(n),!0).forEach(function(r){Mie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mie(e,t,n){return(t=Die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Die(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lie=["item"],Oie=w3(w3({},VL),{},{layout:"centric",startAngle:0,endAngle:360}),N3=j.forwardRef((e,t)=>{var n=pi(e,Oie);return j.createElement(Iie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Lie,tooltipPayloadSearcher:RR,categoricalChartProps:n,ref:t})}),Bie=["axis"],Uie=j.forwardRef((e,t)=>j.createElement(Cie,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bie,tooltipPayloadSearcher:RR,categoricalChartProps:e,ref:t}));const Fie="aapro_config",My="handles",GL=async()=>T5(Fie,1,{upgrade(e){e.objectStoreNames.contains(My)||e.createObjectStore(My)}}),zie=async e=>{try{return await(await GL()).put(My,e,"backup_dir"),!0}catch(t){return console.error("Failed to save directory handle",t),!1}},Tm=async()=>{try{return await(await GL()).get(My,"backup_dir")}catch(e){return console.error("Failed to get directory handle",e),null}},Dy=async(e,t=!1)=>{const n={};return t&&(n.mode="readwrite"),await e.queryPermission(n)==="granted"||await e.requestPermission(n)==="granted"};class qie{constructor(){this.intervalId=null,this.lastSyncMinute=null}start(){this.intervalId||(this.intervalId=window.setInterval(()=>{this.checkSchedule()},3e4),this.scanForNewerBackups(),console.log("Local Backup Engine active."))}stop(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=null}async scanForNewerBackups(){try{const t=await Tm();if(!t||!await Dy(t,!1))return;let r=null;for await(const i of t.values())if(i.kind==="file"&&i.name.endsWith(".json")&&i.name.includes("AAPro")){const a=await i.getFile(),o=new Date(a.lastModified);if(!r||o>r.date){const l=await a.text();try{const u=JSON.parse(l);r={name:i.name,date:o,data:u}}catch{}}}if(r){const i=Be.getCloudConfig().lastBackup,a=i?new Date(i):new Date(0);r.date.getTime()>a.getTime()+6e4&&window.dispatchEvent(new CustomEvent("new-backup-detected",{detail:{name:r.name,date:r.date.toLocaleString(),data:r.data}}))}}catch(t){console.error("Path scan failed",t)}}async checkSchedule(){var i;const t=Be.getCloudConfig();if(!t.autoBackup||!((i=t.backupSchedules)!=null&&i.length))return;const n=new Date,r=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`;this.lastSyncMinute!==r&&t.backupSchedules.includes(r)&&(this.lastSyncMinute=r,console.log("Triggering scheduled local backup..."),await this.performLocalBackup(),Be.updateCloudConfig({...t,lastBackup:new Date().toISOString()}))}async performLocalBackup(){try{const t=await Tm();if(!t||!await Dy(t,!0))return!1;const r=Be.getBusinessProfile(),i=new Date().toISOString().replace(/[:.]/g,"-"),a=`AAPro_Local_${r.name.replace(/\s+/g,"_")}_${i}.json`,l=await(await t.getFileHandle(a,{create:!0})).createWritable(),u=Be.getBackupData();return await l.write(JSON.stringify(u,null,2)),await l.close(),!0}catch(t){return console.error("Local path backup failed",t),!1}}}const Ig=new qie,$L=j.createContext(void 0),kr=()=>{const e=j.useContext($L);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Hie=({children:e})=>{const[t,n]=j.useState([]),r=j.useCallback((a,o="info")=>{const l=Date.now().toString();n(u=>[...u,{id:l,message:a,type:o}]),setTimeout(()=>{n(u=>u.filter(f=>f.id!==l))},4e3)},[]),i=a=>{n(o=>o.filter(l=>l.id!==a))};return d.jsxs($L.Provider,{value:{addToast:r},children:[e,d.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:t.map(a=>d.jsxs("div",{className:`
              pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg border animate-in slide-in-from-right-full duration-300 min-w-[300px] max-w-md
              ${a.type==="success"?"bg-white border-emerald-100 text-emerald-800":""}
              ${a.type==="error"?"bg-white border-red-100 text-red-800":""}
              ${a.type==="info"?"bg-white border-blue-100 text-blue-800":""}
            `,children:[d.jsxs("div",{className:"shrink-0",children:[a.type==="success"&&d.jsx(Rm,{className:"w-5 h-5 text-emerald-500"}),a.type==="error"&&d.jsx(Dm,{className:"w-5 h-5 text-red-500"}),a.type==="info"&&d.jsx(Sj,{className:"w-5 h-5 text-blue-500"})]}),d.jsx("p",{className:"text-sm font-medium flex-1 leading-snug",children:a.message}),d.jsx("button",{onClick:()=>i(a.id),className:"text-gray-400 hover:text-gray-600 shrink-0",children:d.jsx(bn,{className:"w-4 h-4"})})]},a.id))})]})},S3=({onNavigate:e})=>{const[t,n]=j.useState([]),[r,i]=j.useState("daily"),[a,o]=j.useState([]),[l,u]=j.useState([]),[f,h]=j.useState([]),[p,y]=j.useState([]),[g,w]=j.useState("payments"),[N,A]=j.useState(""),[_,k]=j.useState(!1),[P,M]=j.useState({title:"",date:new Date().toISOString().split("T")[0]}),[B,U]=j.useState(!1),[D,F]=j.useState(!1),[q,G]=j.useState([]),[R,O]=j.useState(null),K=j.useRef(null),$=j.useRef(null),{addToast:ne}=kr(),z=sn.can("system-backup","edit"),Y=sn.can("system-restore","edit"),ee=sn.can("dashboard","edit");j.useEffect(()=>{se()},[r]);const se=()=>{const me=Be.getTransactions();h(me),o(Be.getProducts()),u(Be.getAllReminders()),y(Be.getServiceJobs()),X(me)},X=me=>{let xe=[];const we=new Date,Ue=me.filter(Ye=>Ye.type==="SALE");if(r==="daily")for(let Ye=29;Ye>=0;Ye--){const Pe=new Date(we);Pe.setDate(Pe.getDate()-Ye);const ge=Pe.toISOString().split("T")[0],mt=fm(Pe),ot=`${O2[mt.month-1].substring(0,3)} ${mt.day}`,tt=Ue.filter(it=>it.date.startsWith(ge)).reduce((it,ct)=>it+ct.totalAmount,0);xe.push({name:ot,sales:tt})}else if(r==="monthly"){const Ye=fm(we);let Pe=Ye.year,ge=Ye.month;const mt=[];for(let ot=0;ot<12;ot++)mt.unshift({year:Pe,month:ge}),ge--,ge<1&&(ge=12,Pe--);mt.forEach(ot=>{const tt=Oj(ot.year,ot.month-1),it=ch(ot.year,ot.month,1),ct=ch(ot.year,ot.month,tt);it.setHours(0,0,0,0),ct.setHours(23,59,59,999);const ut=`${O2[ot.month-1].substring(0,3)} ${ot.year}`,kt=Ue.filter(Nt=>{const Ot=new Date(Nt.date);return Ot>=it&&Ot<=ct}).reduce((Nt,Ot)=>Nt+Ot.totalAmount,0);xe.push({name:ut,sales:kt})})}n(xe)},ie=j.useMemo(()=>{const me=new Map;a.forEach(ge=>me.set(ge.id,ge));const xe=f.filter(ge=>ge.type==="SALE").reduce((ge,mt)=>ge+mt.totalAmount,0),we=f.filter(ge=>ge.type==="EXPENSE").reduce((ge,mt)=>ge+mt.totalAmount,0);let Ue=0;f.filter(ge=>ge.type==="SALE").forEach(ge=>{var mt;(mt=ge.items)==null||mt.forEach(ot=>{const tt=me.get(ot.productId);tt&&tt.type!=="service"&&(Ue+=ot.quantity*tt.purchasePrice)})});const Ye=Math.max(0,xe-Ue-we),Pe=a.reduce((ge,mt)=>ge+mt.stock*mt.purchasePrice,0);return[{name:"Total Sales",value:xe,color:"#10b981"},{name:"Net Profit",value:Ye,color:"#3b82f6"},{name:"Stock Value",value:Pe,color:"#f59e0b"}]},[f,a]),V=j.useMemo(()=>{const me=p.filter(Ue=>Ue.status==="PENDING").length,xe=p.filter(Ue=>Ue.status==="IN_PROGRESS").length,we=p.filter(Ue=>Ue.status==="COMPLETED").length;return[{name:"Pending",value:me,color:"#f59e0b"},{name:"In Process",value:xe,color:"#3b82f6"},{name:"Completed",value:we,color:"#10b981"}]},[p]),H=async()=>{try{const me=await Tm();if(!me||!await Dy(me,!1))return;const we=[];for await(const Ye of me.values())if(Ye.kind==="file"&&Ye.name.endsWith(".json")&&Ye.name.includes("AAPro")){const Pe=Ye,ge=await Pe.getFile();we.push({id:Ye.name,name:Ye.name,handle:Pe,date:new Date(ge.lastModified)})}const Ue=we.sort((Ye,Pe)=>Pe.date.getTime()-Ye.date.getTime());G(Ue.slice(0,5)),Ue.length>0?O(Ue[0]):O(null)}catch(me){console.error("Path scan failed",me)}},re=async me=>{if(!z){ne("Permission denied: Cannot perform backup","error");return}me&&me.stopPropagation(),F(!0),ne("Creating backup...","info");try{await Ig.performLocalBackup()?(ne("System backed up to local path","success"),H()):ne("Backup failed. Check permissions in Settings.","error")}catch{ne("Backup failed.","error")}finally{F(!1)}},de=async me=>{if(!Y){ne("Permission denied: Cannot perform restore","error");return}if(window.confirm(`RESTORE DATA: Replace all local data with state from ${me.name}?`))try{const xe=await me.handle.getFile(),we=JSON.parse(await xe.text()),Ue=await Be.restoreData(we);Ue.success?(ne("Integrity restored!","success"),setTimeout(()=>window.location.reload(),1e3)):ne(Ue.message||"Restoration failed","error")}catch{ne("Error reading backup","error")}},fe=async me=>{var we;if(!Y){ne("Permission denied: Cannot perform restore","error");return}const xe=(we=me.target.files)==null?void 0:we[0];if(xe){if(!window.confirm(`Restore system from file "${xe.name}"? This will overwrite all current data.`)){me.target&&(me.target.value="");return}try{const Ue=await xe.text(),Ye=JSON.parse(Ue);if(!Ye.transactions||!Ye.products||!Ye.parties)throw new Error("Invalid backup file format.");const Pe=await Be.restoreData(Ye);Pe.success?(ne("System restored successfully!","success"),setTimeout(()=>window.location.reload(),1500)):ne(Pe.message||"Restoration failed","error")}catch(Ue){ne(Ue.message||"Failed to parse backup file","error")}finally{me.target&&(me.target.value="")}}},pe=me=>{if(!sn.can("dashboard","delete")){ne("Permission denied","error");return}Be.deleteManualReminder(me),u(Be.getAllReminders())},he=me=>{me.preventDefault(),P.title&&(Be.addManualReminder({id:Date.now().toString(),title:P.title,date:new Date(P.date).toISOString(),type:"manual",priority:"medium"}),k(!1),M({title:"",date:new Date().toISOString().split("T")[0]}),u(Be.getAllReminders()))},te=j.useMemo(()=>{const me=N.toLowerCase();return g==="stock"?a.filter(xe=>xe.type!=="service"&&(!me||xe.name.toLowerCase().includes(me))&&xe.stock<(xe.minStockLevel||5)).map(xe=>({id:xe.id,title:xe.name,subtitle:`Stock: ${xe.stock} ${xe.unit}`,type:"stock",priority:xe.stock<1?"high":"medium"})):g==="payments"?l.filter(xe=>["system_due","party_due","party_deadline"].includes(xe.type||"")&&(!me||xe.title.toLowerCase().includes(me))).map(xe=>({id:xe.id,title:xe.title,subtitle:xe.amount?`Dues: Rs. ${qe(xe.amount)}`:Rn(xe.date),type:"payment",priority:xe.priority||"medium"})):g==="personal"?l.filter(xe=>xe.type==="manual"&&(!me||xe.title.toLowerCase().includes(me))).map(xe=>({id:xe.id,title:xe.title,subtitle:`Due: ${Rn(xe.date)}`,type:"manual",priority:xe.priority||"medium"})):[]},[g,N,a,l]);return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto space-y-6 font-sans",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl border border-gray-100 shadow-sm h-[420px]",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[d.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Cj,{className:"w-5 h-5 text-emerald-600"}),"Sales Performance"]}),d.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:["daily","monthly"].map(me=>d.jsx("button",{onClick:()=>i(me),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all capitalize ${r===me?"bg-white text-gray-800 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:me},me))})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(xb,{width:"100%",height:"100%",children:d.jsxs(Uie,{data:t,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorSales",x1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.2}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),d.jsx(mL,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),d.jsx(kL,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),d.jsx(TL,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9ca3af"}}),d.jsx(Ob,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),d.jsx(CL,{type:"monotone",dataKey:"sales",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorSales)"})]})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm h-[420px] flex flex-col",children:[d.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2 mb-4",children:[d.jsx(A5,{className:"w-5 h-5 text-blue-500"}),"Health Composition"]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(xb,{width:"100%",height:"100%",children:d.jsxs(N3,{children:[d.jsx(Iw,{data:ie,cx:"50%",cy:"50%",innerRadius:60,outerRadius:85,paddingAngle:5,dataKey:"value",stroke:"none",children:ie.map((me,xe)=>d.jsx(Em,{fill:me.color},`cell-${xe}`))}),d.jsx(Ob,{formatter:me=>qe(me)}),d.jsx(cw,{verticalAlign:"bottom",align:"center",iconType:"circle"})]})})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm h-[420px] flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Uu,{className:"w-5 h-5 text-orange-500"}),"Service Status"]}),d.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-brand-50 rounded-full border border-brand-100",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-brand-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-[9px] font-black text-brand-600 uppercase",children:"Live"})]})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(xb,{width:"100%",height:"100%",children:d.jsxs(N3,{children:[d.jsx(Iw,{data:V,cx:"50%",cy:"45%",innerRadius:55,outerRadius:80,paddingAngle:8,dataKey:"value",stroke:"none",animationBegin:200,children:V.map((me,xe)=>d.jsx(Em,{fill:me.color},`cell-${xe}`))}),d.jsx(Ob,{}),d.jsx(cw,{verticalAlign:"bottom",align:"center",iconType:"rect",wrapperStyle:{paddingTop:"10px"},formatter:me=>d.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-500",children:me})})]})})}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50 flex justify-center gap-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:"Pending"}),d.jsx("p",{className:"text-sm font-black text-orange-600",children:p.filter(me=>me.status==="PENDING").length})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:"Process"}),d.jsx("p",{className:"text-sm font-black text-blue-600",children:p.filter(me=>me.status==="IN_PROGRESS").length})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-tighter",children:"Done"}),d.jsx("p",{className:"text-sm font-black text-brand-600",children:p.filter(me=>me.status==="COMPLETED").length})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-gray-200 shadow-sm min-h-[420px] flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[d.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(E9,{className:"w-5 h-5 text-orange-500"}),"Alerts & Reminders"]}),ee&&d.jsx("button",{onClick:()=>k(!0),className:"text-[10px] font-black uppercase bg-brand-500 text-white px-2 py-1 rounded shadow-sm hover:bg-brand-600 transition-colors",children:"Add New Reminder"})]}),d.jsx("div",{className:"flex border-b border-gray-100 bg-white",children:["payments","stock","personal"].map(me=>d.jsx("button",{onClick:()=>w(me),className:`flex-1 py-3 text-[9px] font-black uppercase text-center border-b-2 transition-all ${g===me?"border-brand-500 text-brand-600 bg-brand-50/20":"border-transparent text-gray-500 hover:text-gray-700"}`,children:me.replace("personal","manual")},me))}),d.jsx("div",{className:"p-3 border-b border-gray-50 flex gap-3",children:d.jsxs("div",{className:"relative flex-1",children:[d.jsx("input",{type:"text",className:"w-full pl-8 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-xl text-xs focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"Filter alerts...",value:N,onChange:me=>A(me.target.value)}),d.jsx(Ur,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2.5 top-1/2 -translate-y-1/2"})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:[te.map(me=>d.jsxs("div",{className:"group flex items-start gap-4 p-4 rounded-xl border border-gray-100 bg-white hover:border-brand-200 transition-all shadow-sm",children:[d.jsx("div",{className:`shrink-0 mt-0.5 p-2.5 rounded-xl ${me.type==="stock"?"bg-red-50 text-red-600":me.type==="payment"?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:me.type==="stock"?d.jsx(Nh,{className:"w-4 h-4"}):me.type==="payment"?d.jsx(Bg,{className:"w-4 h-4"}):d.jsx(S5,{className:"w-4 h-4"})}),d.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[d.jsx("h4",{className:"text-sm font-bold text-gray-800 truncate",children:me.title}),d.jsx("div",{className:`text-[11px] mt-1 font-medium ${me.priority==="high"?"text-red-600":"text-gray-500"}`,children:d.jsx("span",{children:me.subtitle})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[ee&&d.jsx("button",{onClick:()=>pe(me.id),className:"p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-lg group-hover:opacity-100 transition-all opacity-0",children:d.jsx(rs,{className:"w-4 h-4"})}),d.jsx("div",{className:`w-2 h-2 rounded-full ${me.priority==="high"?"bg-red-500 animate-pulse":"bg-gray-200"}`})]})]},me.id)),te.length===0&&d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 py-12",children:[d.jsx(w5,{className:"w-12 h-12 opacity-10 mb-2"}),d.jsx("p",{className:"text-sm font-medium",children:"No alerts for this section"})]})]})]}),d.jsx("div",{className:"space-y-6",children:z||Y?d.jsxs(d.Fragment,{children:[Y&&d.jsxs("button",{onClick:()=>{U(!0),H()},className:"w-full bg-indigo-50 p-6 rounded-3xl border border-indigo-100 flex items-center justify-between hover:bg-indigo-100 transition-all group shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-white p-4 rounded-2xl text-indigo-600 shadow-md group-hover:scale-110 transition-transform",children:d.jsx(T2,{className:"w-8 h-8"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"font-black text-indigo-900 uppercase text-xs tracking-widest block mb-1",children:"Local Backups"}),d.jsx("span",{className:"text-[10px] text-indigo-500 font-bold uppercase tracking-tighter",children:"RESTORE FROM HISTORY"})]})]}),d.jsx(N5,{className:"w-6 h-6 text-indigo-300 group-hover:translate-x-1 transition-transform"})]}),Y&&d.jsxs("button",{onClick:()=>{var me;return(me=$.current)==null?void 0:me.click()},className:"w-full bg-blue-50 p-6 rounded-3xl border border-blue-100 flex items-center justify-between hover:bg-blue-100 transition-all group shadow-sm active:scale-[0.99]",children:[d.jsx("input",{type:"file",accept:".json",ref:$,className:"hidden",onChange:fe}),d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-white p-4 rounded-2xl text-blue-600 shadow-md group-hover:scale-110 transition-transform",children:d.jsx(Lm,{className:"w-8 h-8"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"font-black text-blue-900 uppercase text-xs tracking-widest block mb-1",children:"Restore Data"}),d.jsx("span",{className:"text-[10px] text-blue-500 font-bold uppercase tracking-tighter",children:"UPLOAD BACKUP FILE"})]})]}),d.jsx(j2,{className:"w-6 h-6 text-blue-300 group-hover:-translate-y-1 transition-transform"})]}),z&&d.jsxs("button",{onClick:re,disabled:D,className:"w-full bg-emerald-50 p-6 rounded-3xl border border-emerald-100 flex items-center justify-between hover:bg-emerald-100 transition-all group shadow-sm active:scale-[0.99] disabled:opacity-50",children:[d.jsxs("div",{className:"flex items-center gap-5",children:[d.jsx("div",{className:"bg-white p-4 rounded-2xl text-emerald-600 shadow-md group-hover:scale-110 transition-transform",children:D?d.jsx(ju,{className:"w-8 h-8 animate-spin"}):d.jsx(Xo,{className:"w-8 h-8"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"font-black text-emerald-900 uppercase text-xs tracking-widest block mb-1",children:"Quick Backup"}),d.jsx("span",{className:"text-[10px] text-emerald-500 font-bold uppercase tracking-tighter",children:"IMMEDIATE SNAPSHOT"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-600 text-white rounded-full text-[9px] font-black uppercase tracking-wider",children:[d.jsx(E5,{className:"w-3 h-3"})," Secure"]})]})]}):d.jsxs("div",{className:"bg-gray-100/50 p-8 rounded-[2.5rem] border-2 border-dashed border-gray-200 flex flex-col items-center justify-center text-center",children:[d.jsx(C5,{className:"w-12 h-12 text-gray-300 mb-4"}),d.jsx("h4",{className:"text-xs font-black uppercase text-gray-400 tracking-widest",children:"Utility Access Locked"}),d.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-medium",children:"Backup and Restore functions are disabled for your profile."})]})})]}),B&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-xl shadow-2xl flex flex-col max-h-[85vh] overflow-hidden",children:[d.jsxs("div",{className:"bg-indigo-600 p-6 text-white flex justify-between items-center relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"text-xl font-black flex items-center gap-2 uppercase tracking-tight",children:[d.jsx(T2,{className:"w-6 h-6"})," System Restore Center"]}),d.jsx("p",{className:"text-indigo-100 text-xs font-medium mt-1",children:"Manage local points and external backup files."})]}),d.jsx("button",{onClick:()=>U(!1),className:"relative z-10 p-2 hover:bg-white/20 rounded-full transition-colors",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("button",{disabled:D||!z,onClick:re,className:"flex flex-col items-center justify-center p-6 bg-emerald-50 border-2 border-emerald-100 rounded-2xl hover:bg-emerald-100 transition-all group disabled:opacity-50",children:[D?d.jsx(ju,{className:"w-10 h-10 animate-spin text-emerald-600 mb-3"}):d.jsx(Xo,{className:"w-10 h-10 text-emerald-600 mb-3 group-hover:scale-110"}),d.jsx("span",{className:"font-black text-emerald-900 uppercase text-xs",children:"Create Backup"})]}),d.jsxs("div",{children:[d.jsx("input",{type:"file",accept:".json",ref:K,className:"hidden",onChange:fe}),d.jsxs("button",{disabled:!Y,onClick:()=>{var me;return(me=K.current)==null?void 0:me.click()},className:"w-full flex flex-col items-center justify-center p-6 bg-blue-50 border-2 border-blue-100 rounded-2xl hover:bg-blue-100 transition-all group disabled:opacity-50",children:[d.jsx(j2,{className:"w-10 h-10 text-blue-600 mb-3 group-hover:scale-110"}),d.jsx("span",{className:"font-black text-blue-900 uppercase text-xs",children:"Upload & Restore"})]})]})]}),d.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-2xl",children:[d.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[d.jsx(Bg,{className:"w-3 h-3"})," Current Status"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[d.jsx("span",{className:"text-gray-500",children:"Auto Backup:"}),d.jsx("span",{className:"text-emerald-600 uppercase",children:Be.getCloudConfig().autoBackup?"Active":"Disabled"})]}),d.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[d.jsx("span",{className:"text-gray-500",children:"Last Point:"}),d.jsx("span",{className:"text-gray-800",children:Be.getCloudConfig().lastBackup?Rn(Be.getCloudConfig().lastBackup):"Never"})]})]})]}),R&&d.jsxs("div",{className:`bg-brand-50 border-2 border-brand-200 p-5 rounded-3xl animate-in zoom-in-95 duration-300 ${Y?"":"opacity-50 grayscale"}`,children:[d.jsx("div",{className:"flex items-center justify-between mb-3",children:d.jsxs("h4",{className:"text-[10px] font-black text-brand-600 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Sh,{className:"w-3.5 h-3.5"})," Most Recent Point"]})}),d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center text-brand-500 shadow-sm border border-brand-100",children:d.jsx(bj,{className:"w-6 h-6"})}),d.jsxs("div",{className:"text-left overflow-hidden",children:[d.jsx("p",{className:"font-black text-gray-900 truncate max-w-[180px]",children:R.name}),d.jsx("p",{className:"text-xs text-gray-500 font-medium",children:R.date.toLocaleString()})]})]}),d.jsxs("button",{disabled:!Y,onClick:()=>de(R),className:"px-6 py-3 bg-brand-500 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-brand-500/20 hover:bg-brand-600 transition-all active:scale-95 flex items-center gap-2 disabled:cursor-not-allowed",children:["Quick Restore ",d.jsx(Xo,{className:"w-3 h-3"})]})]})]})]})]})}),_&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[110] p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h3",{className:"font-black text-lg text-gray-800 uppercase flex items-center gap-2",children:[d.jsx(ca,{className:"w-5 h-5 text-brand-500"})," New Reminder"]}),d.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(bn,{className:"text-gray-500 w-5 h-5"})})]}),d.jsxs("form",{onSubmit:he,className:"space-y-4",children:[d.jsx("input",{autoFocus:!0,required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm outline-none",value:P.title,onChange:me=>M({...P,title:me.target.value}),placeholder:"Title..."}),d.jsx("input",{type:"date",required:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm outline-none",value:P.date,onChange:me=>M({...P,date:me.target.value})}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-brand-600 text-white rounded-xl font-bold",children:"Create"})]})]})})]})},jc=(e,t)=>{if(typeof XLSX>"u"){alert("Excel library not loaded. Please check your internet connection.");return}const n=XLSX.utils.json_to_sheet(e),r=XLSX.utils.book_new();XLSX.utils.book_append_sheet(r,n,"Sheet1"),XLSX.writeFile(r,`${t}_${new Date().toISOString().split("T")[0]}.xlsx`)},Dh=(e,t,n)=>{const r=window.open("","_blank");if(!r)return;const i=t.map(l=>`<th style="border:1px solid #e2e8f0; padding:12px 8px; text-align:left; background-color:#f8fafc; color:#475569; font-weight:600; font-size: 12px;">${l}</th>`).join(""),a=n.map((l,u)=>{const f=u%2===0?"#ffffff":"#fcfcfc",h=l.map(p=>`<td style="border:1px solid #e2e8f0; padding:8px; font-size: 12px; color:#334155;">${p??""}</td>`).join("");return`<tr style="background-color:${f}">${h}</tr>`}).join(""),o=`
    <!DOCTYPE html>
    <html>
      <head>
        <title>${e}</title>
        <style>
          @page { size: A4; margin: 20mm; }
          body { font-family: 'Inter', system-ui, sans-serif; padding: 20px; color: #1e293b; }
          h1 { text-align: center; color: #0f172a; font-size: 24px; margin-bottom: 5px; }
          .meta { text-align: center; color: #64748b; font-size: 12px; margin-bottom: 30px; }
          table { width: 100%; border-collapse: collapse; margin-top: 10px; }
          .footer { margin-top: 40px; text-align: center; font-size: 10px; color: #94a3b8; border-top: 1px solid #e2e8f0; padding-top: 20px; }
        </style>
      </head>
      <body>
        <h1>${e}</h1>
        <div class="meta">Generated on: ${new Date().toLocaleString()}</div>
        <table>
          <thead>
            <tr>${i}</tr>
          </thead>
          <tbody>
            ${a}
          </tbody>
        </table>
        <div class="footer">Generated by AA Pro Business Solutions</div>
        <script>
          window.onload = function() { window.print(); }
        <\/script>
      </body>
    </html>
  `;r.document.write(o),r.document.close()},WL=e=>e.map(t=>({"Item Name":t.name,Category:t.category,Type:t.type,Stock:t.stock,Unit:t.unit,"Purchase Price":t.purchasePrice,"Sale Price":t.salePrice,"Wholesale Price":t.wholesalePrice||0})),YL=e=>e.map(t=>({Name:t.name,Type:t.type,Phone:t.phone,Balance:t.balance,Status:t.balance>0?"Receivable":t.balance<0?"Payable":"Settled"})),_S=e=>e.map(t=>({Date:Rn(t.date),"Voucher No":t.id,Type:t.type,Party:t.partyName,"Total Amount":t.totalAmount,"Paid Via":t.paymentMode||"-",Remarks:t.notes||""})),Vie="modulepreload",Gie=function(e){return"/"+e},A3={},Bw=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=o(n.map(f=>{if(f=Gie(f),f in A3)return;A3[f]=!0;const h=f.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":Vie,h||(y.as="script"),y.crossOrigin="",y.href=f,u&&y.setAttribute("nonce",u),document.head.appendChild(y),h)return new Promise((g,w)=>{y.addEventListener("load",g),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Ln(e){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ln(e)}var Xa=Uint8Array,Sa=Uint16Array,Pm=Uint32Array,Ov=new Xa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bv=new Xa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Uw=new Xa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KL=function(e,t){for(var n=new Sa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Pm(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},JL=KL(Ov,2),XL=JL[0],Fw=JL[1];XL[28]=258,Fw[258]=28;var QL=KL(Bv,0),$ie=QL[0],_3=QL[1],zw=new Sa(32768);for(var cr=0;cr<32768;++cr){var bu=(cr&43690)>>>1|(cr&21845)<<1;bu=(bu&52428)>>>2|(bu&13107)<<2,bu=(bu&61680)>>>4|(bu&3855)<<4,zw[cr]=((bu&65280)>>>8|(bu&255)<<8)>>>1}var Nl=(function(e,t,n){for(var r=e.length,i=0,a=new Sa(t);i<r;++i)++a[e[i]-1];var o=new Sa(t);for(i=0;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(n){l=new Sa(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],h=t-e[i],p=o[e[i]-1]++<<h,y=p|(1<<h)-1;p<=y;++p)l[zw[p]>>>u]=f}else for(l=new Sa(r),i=0;i<r;++i)l[i]=zw[o[e[i]-1]++]>>>15-e[i];return l}),Ou=new Xa(288);for(var cr=0;cr<144;++cr)Ou[cr]=8;for(var cr=144;cr<256;++cr)Ou[cr]=9;for(var cr=256;cr<280;++cr)Ou[cr]=7;for(var cr=280;cr<288;++cr)Ou[cr]=8;var jm=new Xa(32);for(var cr=0;cr<32;++cr)jm[cr]=5;var Wie=Nl(Ou,9,0),Yie=Nl(Ou,9,1),Kie=Nl(jm,5,0),Jie=Nl(jm,5,1),t2=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ss=function(e,t,n){var r=t/8>>0;return(e[r]|e[r+1]<<8)>>>(t&7)&n},n2=function(e,t){var n=t/8>>0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>>(t&7)},CS=function(e){return(e/8>>0)+(e&7&&1)},ZL=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Sa?Sa:e instanceof Pm?Pm:Xa)(n-t);return r.set(e.subarray(t,n)),r},Xie=function(e,t,n){var r=e.length,i=!t||n,a=!n||n.i;n||(n={}),t||(t=new Xa(r*3));var o=function(fe){var pe=t.length;if(fe>pe){var he=new Xa(Math.max(pe*2,fe));he.set(t),t=he}},l=n.f||0,u=n.p||0,f=n.b||0,h=n.l,p=n.d,y=n.m,g=n.n,w=r*8;do{if(!h){n.f=l=Ss(e,u,1);var N=Ss(e,u+1,3);if(u+=3,N)if(N==1)h=Yie,p=Jie,y=9,g=5;else if(N==2){var P=Ss(e,u,31)+257,M=Ss(e,u+10,15)+4,B=P+Ss(e,u+5,31)+1;u+=14;for(var U=new Xa(B),D=new Xa(19),F=0;F<M;++F)D[Uw[F]]=Ss(e,u+F*3,7);u+=M*3;var q=t2(D),G=(1<<q)-1;if(!a&&u+B*(q+7)>w)break;for(var R=Nl(D,q,1),F=0;F<B;){var O=R[Ss(e,u,G)];u+=O&15;var A=O>>>4;if(A<16)U[F++]=A;else{var K=0,$=0;for(A==16?($=3+Ss(e,u,3),u+=2,K=U[F-1]):A==17?($=3+Ss(e,u,7),u+=3):A==18&&($=11+Ss(e,u,127),u+=7);$--;)U[F++]=K}}var ne=U.subarray(0,P),z=U.subarray(P);y=t2(ne),g=t2(z),h=Nl(ne,y,1),p=Nl(z,g,1)}else throw"invalid block type";else{var A=CS(u)+4,_=e[A-4]|e[A-3]<<8,k=A+_;if(k>r){if(a)throw"unexpected EOF";break}i&&o(f+_),t.set(e.subarray(A,k),f),n.b=f+=_,n.p=u=k*8;continue}if(u>w)throw"unexpected EOF"}i&&o(f+131072);for(var Y=(1<<y)-1,ee=(1<<g)-1,se=y+g+18;a||u+se<w;){var K=h[n2(e,u)&Y],X=K>>>4;if(u+=K&15,u>w)throw"unexpected EOF";if(!K)throw"invalid length/literal";if(X<256)t[f++]=X;else if(X==256){h=null;break}else{var ie=X-254;if(X>264){var F=X-257,V=Ov[F];ie=Ss(e,u,(1<<V)-1)+XL[F],u+=V}var H=p[n2(e,u)&ee],re=H>>>4;if(!H)throw"invalid distance";u+=H&15;var z=$ie[re];if(re>3){var V=Bv[re];z+=n2(e,u)&(1<<V)-1,u+=V}if(u>w)throw"unexpected EOF";i&&o(f+131072);for(var de=f+ie;f<de;f+=4)t[f]=t[f-z],t[f+1]=t[f+1-z],t[f+2]=t[f+2-z],t[f+3]=t[f+3-z];f=de}}n.l=h,n.p=u,n.b=f,h&&(l=1,n.m=y,n.d=p,n.n=g)}while(!l);return f==t.length?t:ZL(t,0,f)},ac=function(e,t,n){n<<=t&7;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Gp=function(e,t,n){n<<=t&7;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},r2=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return[new Xa(0),0];if(i==1){var o=new Xa(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(B,U){return B.f-U.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],f=0,h=1,p=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};h!=i-1;)l=n[n[f].f<n[p].f?f++:p++],u=n[f!=h&&n[f].f<n[p].f?f++:p++],n[h++]={s:-1,f:l.f+u.f,l,r:u};for(var y=a[0].s,r=1;r<i;++r)a[r].s>y&&(y=a[r].s);var g=new Sa(y+1),w=qw(n[h-1],g,0);if(w>t){var r=0,N=0,A=w-t,_=1<<A;for(a.sort(function(U,D){return g[D.s]-g[U.s]||U.f-D.f});r<i;++r){var k=a[r].s;if(g[k]>t)N+=_-(1<<w-g[k]),g[k]=t;else break}for(N>>>=A;N>0;){var P=a[r].s;g[P]<t?N-=1<<t-g[P]++-1:++r}for(;r>=0&&N;--r){var M=a[r].s;g[M]==t&&(--g[M],++N)}w=t}return[new Xa(g),w]},qw=function(e,t,n){return e.s==-1?Math.max(qw(e.l,t,n+1),qw(e.r,t,n+1)):t[e.s]=n},C3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Sa(++t),r=0,i=e[0],a=1,o=function(u){n[r++]=u},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return[n.subarray(0,r),t]},$p=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Hw=function(e,t,n){var r=n.length,i=CS(t+2);e[i]=r&255,e[i+1]=r>>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},E3=function(e,t,n,r,i,a,o,l,u,f,h){ac(t,h++,n),++i[256];for(var p=r2(i,15),y=p[0],g=p[1],w=r2(a,15),N=w[0],A=w[1],_=C3(y),k=_[0],P=_[1],M=C3(N),B=M[0],U=M[1],D=new Sa(19),F=0;F<k.length;++F)D[k[F]&31]++;for(var F=0;F<B.length;++F)D[B[F]&31]++;for(var q=r2(D,7),G=q[0],R=q[1],O=19;O>4&&!G[Uw[O-1]];--O);var K=f+5<<3,$=$p(i,Ou)+$p(a,jm)+o,ne=$p(i,y)+$p(a,N)+o+14+3*O+$p(D,G)+(2*D[16]+3*D[17]+7*D[18]);if(K<=$&&K<=ne)return Hw(t,h,e.subarray(u,u+f));var z,Y,ee,se;if(ac(t,h,1+(ne<$)),h+=2,ne<$){z=Nl(y,g,0),Y=y,ee=Nl(N,A,0),se=N;var X=Nl(G,R,0);ac(t,h,P-257),ac(t,h+5,U-1),ac(t,h+10,O-4),h+=14;for(var F=0;F<O;++F)ac(t,h+3*F,G[Uw[F]]);h+=3*O;for(var ie=[k,B],V=0;V<2;++V)for(var H=ie[V],F=0;F<H.length;++F){var re=H[F]&31;ac(t,h,X[re]),h+=G[re],re>15&&(ac(t,h,H[F]>>>5&127),h+=H[F]>>>12)}}else z=Wie,Y=Ou,ee=Kie,se=jm;for(var F=0;F<l;++F)if(r[F]>255){var re=r[F]>>>18&31;Gp(t,h,z[re+257]),h+=Y[re+257],re>7&&(ac(t,h,r[F]>>>23&31),h+=Ov[re]);var de=r[F]&31;Gp(t,h,ee[de]),h+=se[de],de>3&&(Gp(t,h,r[F]>>>5&8191),h+=Bv[de])}else Gp(t,h,z[r[F]]),h+=Y[r[F]];return Gp(t,h,z[256]),h+Y[256]},Qie=new Pm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zie=function(e,t,n,r,i,a){var o=e.length,l=new Xa(r+o+5*(1+Math.floor(o/7e3))+i),u=l.subarray(r,l.length-i),f=0;if(!t||o<8)for(var h=0;h<=o;h+=65535){var p=h+65535;p<o?f=Hw(u,f,e.subarray(h,p)):(u[h]=a,f=Hw(u,f,e.subarray(h,o)))}else{for(var y=Qie[t-1],g=y>>>13,w=y&8191,N=(1<<n)-1,A=new Sa(32768),_=new Sa(N+1),k=Math.ceil(n/3),P=2*k,M=function(Ye){return(e[Ye]^e[Ye+1]<<k^e[Ye+2]<<P)&N},B=new Pm(25e3),U=new Sa(288),D=new Sa(32),F=0,q=0,h=0,G=0,R=0,O=0;h<o;++h){var K=M(h),$=h&32767,ne=_[K];if(A[$]=ne,_[K]=$,R<=h){var z=o-h;if((F>7e3||G>24576)&&z>423){f=E3(e,u,0,B,U,D,q,G,O,h-O,f),G=F=q=0,O=h;for(var Y=0;Y<286;++Y)U[Y]=0;for(var Y=0;Y<30;++Y)D[Y]=0}var ee=2,se=0,X=w,ie=$-ne&32767;if(z>2&&K==M(h-ie))for(var V=Math.min(g,z)-1,H=Math.min(32767,h),re=Math.min(258,z);ie<=H&&--X&&$!=ne;){if(e[h+ee]==e[h+ee-ie]){for(var de=0;de<re&&e[h+de]==e[h+de-ie];++de);if(de>ee){if(ee=de,se=ie,de>V)break;for(var fe=Math.min(ie,de-2),pe=0,Y=0;Y<fe;++Y){var he=h-ie+Y+32768&32767,te=A[he],me=he-te+32768&32767;me>pe&&(pe=me,ne=he)}}}$=ne,ne=A[$],ie+=$-ne+32768&32767}if(se){B[G++]=268435456|Fw[ee]<<18|_3[se];var xe=Fw[ee]&31,we=_3[se]&31;q+=Ov[xe]+Bv[we],++U[257+xe],++D[we],R=h+ee,++F}else B[G++]=e[h],++U[e[h]]}}f=E3(e,u,a,B,U,D,q,G,O,h-O,f)}return ZL(l,0,r+CS(f)+i)},eae=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length,o=0;o!=a;){for(var l=Math.min(o+5552,a);o<l;++o)r+=n[o],i+=r;r%=65521,i%=65521}e=r,t=i},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},tae=function(e,t,n,r,i){return Zie(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,n,r,!0)},nae=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},rae=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},iae=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Vw(e,t){t===void 0&&(t={});var n=eae();n.p(e);var r=tae(e,t,2,4);return rae(r,t),nae(r,r.length-4,n.d()),r}function aae(e,t){return Xie((iae(e),e.subarray(2,-4)),t)}var Ht=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function i2(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var Kn={log:i2,warn:function(e){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):i2.call(null,arguments))},error:function(e){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):i2(e))}};function a2(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ed(r.response,t,n)},r.onerror=function(){Kn.error("could not download file")},r.send()}function k3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rm,Gw,Ed=Ht.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?k3(i.href)?a2(e,t,n):hg(i,i.target="_blank"):hg(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){hg(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(k3(e))a2(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){hg(r)}))}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Ln(a)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return a2(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(Ht.HTMLElement)||Ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var u=Ht.URL||Ht.webkitURL,f=u.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function o2(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=ra(n,r,i,a,t[0],7,-680876936),a=ra(a,n,r,i,t[1],12,-389564586),i=ra(i,a,n,r,t[2],17,606105819),r=ra(r,i,a,n,t[3],22,-1044525330),n=ra(n,r,i,a,t[4],7,-176418897),a=ra(a,n,r,i,t[5],12,1200080426),i=ra(i,a,n,r,t[6],17,-1473231341),r=ra(r,i,a,n,t[7],22,-45705983),n=ra(n,r,i,a,t[8],7,1770035416),a=ra(a,n,r,i,t[9],12,-1958414417),i=ra(i,a,n,r,t[10],17,-42063),r=ra(r,i,a,n,t[11],22,-1990404162),n=ra(n,r,i,a,t[12],7,1804603682),a=ra(a,n,r,i,t[13],12,-40341101),i=ra(i,a,n,r,t[14],17,-1502002290),n=ia(n,r=ra(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=ia(a,n,r,i,t[6],9,-1069501632),i=ia(i,a,n,r,t[11],14,643717713),r=ia(r,i,a,n,t[0],20,-373897302),n=ia(n,r,i,a,t[5],5,-701558691),a=ia(a,n,r,i,t[10],9,38016083),i=ia(i,a,n,r,t[15],14,-660478335),r=ia(r,i,a,n,t[4],20,-405537848),n=ia(n,r,i,a,t[9],5,568446438),a=ia(a,n,r,i,t[14],9,-1019803690),i=ia(i,a,n,r,t[3],14,-187363961),r=ia(r,i,a,n,t[8],20,1163531501),n=ia(n,r,i,a,t[13],5,-1444681467),a=ia(a,n,r,i,t[2],9,-51403784),i=ia(i,a,n,r,t[7],14,1735328473),n=aa(n,r=ia(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=aa(a,n,r,i,t[8],11,-2022574463),i=aa(i,a,n,r,t[11],16,1839030562),r=aa(r,i,a,n,t[14],23,-35309556),n=aa(n,r,i,a,t[1],4,-1530992060),a=aa(a,n,r,i,t[4],11,1272893353),i=aa(i,a,n,r,t[7],16,-155497632),r=aa(r,i,a,n,t[10],23,-1094730640),n=aa(n,r,i,a,t[13],4,681279174),a=aa(a,n,r,i,t[0],11,-358537222),i=aa(i,a,n,r,t[3],16,-722521979),r=aa(r,i,a,n,t[6],23,76029189),n=aa(n,r,i,a,t[9],4,-640364487),a=aa(a,n,r,i,t[12],11,-421815835),i=aa(i,a,n,r,t[15],16,530742520),n=oa(n,r=aa(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=oa(a,n,r,i,t[7],10,1126891415),i=oa(i,a,n,r,t[14],15,-1416354905),r=oa(r,i,a,n,t[5],21,-57434055),n=oa(n,r,i,a,t[12],6,1700485571),a=oa(a,n,r,i,t[3],10,-1894986606),i=oa(i,a,n,r,t[10],15,-1051523),r=oa(r,i,a,n,t[1],21,-2054922799),n=oa(n,r,i,a,t[8],6,1873313359),a=oa(a,n,r,i,t[15],10,-30611744),i=oa(i,a,n,r,t[6],15,-1560198380),r=oa(r,i,a,n,t[13],21,1309151649),n=oa(n,r,i,a,t[4],6,-145523070),a=oa(a,n,r,i,t[11],10,-1120210379),i=oa(i,a,n,r,t[2],15,718787259),r=oa(r,i,a,n,t[9],21,-343485551),e[0]=Tu(n,e[0]),e[1]=Tu(r,e[1]),e[2]=Tu(i,e[2]),e[3]=Tu(a,e[3])}function Uv(e,t,n,r,i,a){return t=Tu(Tu(t,e),Tu(r,a)),Tu(t<<i|t>>>32-i,n)}function ra(e,t,n,r,i,a,o){return Uv(t&n|~t&r,e,t,i,a,o)}function ia(e,t,n,r,i,a,o){return Uv(t&r|n&~r,e,t,i,a,o)}function aa(e,t,n,r,i,a,o){return Uv(t^n^r,e,t,i,a,o)}function oa(e,t,n,r,i,a,o){return Uv(n^(t|~r),e,t,i,a,o)}function tO(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)o2(r,oae(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(o2(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,o2(r,i),r}function oae(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}rm=Ht.atob.bind(Ht),Gw=Ht.btoa.bind(Ht);var T3="0123456789abcdef".split("");function sae(e){for(var t="",n=0;n<4;n++)t+=T3[e>>8*n+4&15]+T3[e>>8*n&15];return t}function lae(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function $w(e){return tO(e).map(lae).join("")}var cae=(function(e){for(var t=0;t<e.length;t++)e[t]=sae(e[t]);return e.join("")})(tO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tu(e,t){if(cae){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ww(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var h=l[u];f=(f+h+o.charCodeAt(u))%256,l[u]=l[f],l[f]=h}n=e,r=l}else l=r;var p=t.length,y=0,g=0,w="";for(u=0;u<p;u++)g=(g+(h=l[y=(y+1)%256]))%256,l[y]=l[g],l[g]=h,o=l[(l[y]+l[g])%256],w+=String.fromCharCode(t.charCodeAt(u)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var P3={print:4,modify:8,copy:16,"annot-forms":32};function oh(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(l){if(P3.perm!==void 0)throw new Error("Invalid permission: "+l);i+=P3[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=$w(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ww(this.encryptionKey,this.padding)}function sh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function j3(e){if(Ln(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){Ht.console&&Kn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Im(e){if(!(this instanceof Im))return new Im(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function nO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Eu(e,t,n,r,i){if(!(this instanceof Eu))return new Eu(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,nO.call(this,r,i)}function Md(e,t,n,r,i){if(!(this instanceof Md))return new Md(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,nO.call(this,r,i)}function Lt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,u=16,f="S",h=null;Ln(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=j3;var w="1.3",N=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(I){w=I};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return A};var _=g.__private__.getPageFormat=function(I){return A[I]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},P=k.COMPAT;function M(){this.saveGraphicsState(),ge(new It(lt,0,0,-lt,0,Js()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),f="n",P=k.ADVANCED}function B(){this.restoreGraphicsState(),f="S",P=k.COMPAT}var U=g.__private__.combineFontStyleAndFontWeight=function(I,Z){if(I=="bold"&&Z=="normal"||I=="bold"&&Z==400||I=="normal"&&Z=="italic"||I=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(I=Z==400||Z==="normal"?I==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||I!=="normal"?(Z==700?"bold":Z)+""+I:"bold"),I};g.advancedAPI=function(I){var Z=P===k.COMPAT;return Z&&M.call(this),typeof I!="function"||(I(this),Z&&B.call(this)),this},g.compatAPI=function(I){var Z=P===k.ADVANCED;return Z&&B.call(this),typeof I!="function"||(I(this),Z&&M.call(this)),this},g.isAdvancedAPI=function(){return P===k.ADVANCED};var D,F=function(I){if(P!==k.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=g.roundToPrecision=g.__private__.roundToPrecision=function(I,Z){var ve=t||Z;if(isNaN(I)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ve).replace(/0+$/,"")};D=g.hpf=g.__private__.hpf=typeof u=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return q(I,u)}:u==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return q(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return q(I,16)};var G=g.f2=g.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return q(I,2)},R=g.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return q(I,3)},O=g.scale=g.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return P===k.COMPAT?I*lt:P===k.ADVANCED?I:void 0},K=function(I){return P===k.COMPAT?Js()-I:P===k.ADVANCED?I:void 0},$=function(I){return O(K(I))};g.__private__.setPrecision=g.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var ne,z="00000000000000000000000000000000",Y=g.__private__.getFileId=function(){return z},ee=g.__private__.setFileId=function(I){return z=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():z.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),h!==null&&(Qn=new oh(h.userPermissions,h.userPassword,h.ownerPassword,z)),z};g.setFileId=function(I){return ee(I),this},g.getFileId=function(){return Y()};var se=g.__private__.convertDateToPDFDate=function(I){var Z=I.getTimezoneOffset(),ve=Z<0?"+":"-",Ne=Math.floor(Math.abs(Z/60)),je=Math.abs(Z%60),Ge=[ve,re(Ne),"'",re(je),"'"].join("");return["D:",I.getFullYear(),re(I.getMonth()+1),re(I.getDate()),re(I.getHours()),re(I.getMinutes()),re(I.getSeconds()),Ge].join("")},X=g.__private__.convertPDFDateToDate=function(I){var Z=parseInt(I.substr(2,4),10),ve=parseInt(I.substr(6,2),10)-1,Ne=parseInt(I.substr(8,2),10),je=parseInt(I.substr(10,2),10),Ge=parseInt(I.substr(12,2),10),at=parseInt(I.substr(14,2),10);return new Date(Z,ve,Ne,je,Ge,at,0)},ie=g.__private__.setCreationDate=function(I){var Z;if(I===void 0&&(I=new Date),I instanceof Date)Z=se(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=I}return ne=Z},V=g.__private__.getCreationDate=function(I){var Z=ne;return I==="jsDate"&&(Z=X(ne)),Z};g.setCreationDate=function(I){return ie(I),this},g.getCreationDate=function(I){return V(I)};var H,re=g.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},de=g.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},fe=0,pe=[],he=[],te=0,me=[],xe=[],we=!1,Ue=he,Ye=function(){fe=0,te=0,he=[],pe=[],me=[],xt=ze(),yt=ze()};g.__private__.setCustomOutputDestination=function(I){we=!0,Ue=I};var Pe=function(I){we||(Ue=I)};g.__private__.resetCustomOutputDestination=function(){we=!1,Ue=he};var ge=g.__private__.out=function(I){return I=I.toString(),te+=I.length+1,Ue.push(I),Ue},mt=g.__private__.write=function(I){return ge(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},ot=g.__private__.getArrayBuffer=function(I){for(var Z=I.length,ve=new ArrayBuffer(Z),Ne=new Uint8Array(ve);Z--;)Ne[Z]=I.charCodeAt(Z);return ve},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return tt};var it=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(I){return it=P===k.ADVANCED?I/lt:I,this};var ct,ut=g.__private__.getFontSize=g.getFontSize=function(){return P===k.COMPAT?it:it*lt},kt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(I){return kt=I,this},g.__private__.getR2L=g.getR2L=function(){return kt};var Nt,Ot=g.__private__.setZoomMode=function(I){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))ct=I;else if(isNaN(I)){if(Z.indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');ct=I}else ct=parseInt(I,10)};g.__private__.getZoomMode=function(){return ct};var De,Qe=g.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');Nt=I};g.__private__.getPageMode=function(){return Nt};var ht=g.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');De=I};g.__private__.getLayoutMode=function(){return De},g.__private__.setDisplayMode=g.setDisplayMode=function(I,Z,ve){return Ot(I),ht(Z),Qe(ve),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(I){if(Object.keys(dt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[I]},g.__private__.getDocumentProperties=function(){return dt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(I){for(var Z in dt)dt.hasOwnProperty(Z)&&I[Z]&&(dt[Z]=I[Z]);return this},g.__private__.setDocumentProperty=function(I,Z){if(Object.keys(dt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[I]=Z};var vt,lt,Bn,qt,vn,Kt={},Dt={},dr=[],Wt={},as={},Pn={},Gn={},Yi=null,gn=0,Ut=[],nn=new j3(g),ro=e.hotfixes||[],Tr={},Fr={},Pr=[],It=function I(Z,ve,Ne,je,Ge,at){if(!(this instanceof I))return new I(Z,ve,Ne,je,Ge,at);isNaN(Z)&&(Z=1),isNaN(ve)&&(ve=0),isNaN(Ne)&&(Ne=0),isNaN(je)&&(je=1),isNaN(Ge)&&(Ge=0),isNaN(at)&&(at=0),this._matrix=[Z,ve,Ne,je,Ge,at]};Object.defineProperty(It.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(It.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(It.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(It.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(It.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(It.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(It.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(It.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(It.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(It.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(It.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(It.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(It.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(It.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(It.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(It.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),It.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(I)},It.prototype.multiply=function(I){var Z=I.sx*this.sx+I.shy*this.shx,ve=I.sx*this.shy+I.shy*this.sy,Ne=I.shx*this.sx+I.sy*this.shx,je=I.shx*this.shy+I.sy*this.sy,Ge=I.tx*this.sx+I.ty*this.shx+this.tx,at=I.tx*this.shy+I.ty*this.sy+this.ty;return new It(Z,ve,Ne,je,Ge,at)},It.prototype.decompose=function(){var I=this.sx,Z=this.shy,ve=this.shx,Ne=this.sy,je=this.tx,Ge=this.ty,at=Math.sqrt(I*I+Z*Z),bt=(I/=at)*ve+(Z/=at)*Ne;ve-=I*bt,Ne-=Z*bt;var Mt=Math.sqrt(ve*ve+Ne*Ne);return bt/=Mt,I*(Ne/=Mt)<Z*(ve/=Mt)&&(I=-I,Z=-Z,bt=-bt,at=-at),{scale:new It(at,0,0,Mt,0,0),translate:new It(1,0,0,1,je,Ge),rotate:new It(I,Z,-Z,I,0,0),skew:new It(1,0,bt,1,0,0)}},It.prototype.toString=function(I){return this.join(" ")},It.prototype.inversed=function(){var I=this.sx,Z=this.shy,ve=this.shx,Ne=this.sy,je=this.tx,Ge=this.ty,at=1/(I*Ne-Z*ve),bt=Ne*at,Mt=-Z*at,Vt=-ve*at,Yt=I*at;return new It(bt,Mt,Vt,Yt,-bt*je-Vt*Ge,-Mt*je-Yt*Ge)},It.prototype.applyToPoint=function(I){var Z=I.x*this.sx+I.y*this.shx+this.tx,ve=I.x*this.shy+I.y*this.sy+this.ty;return new Ll(Z,ve)},It.prototype.applyToRectangle=function(I){var Z=this.applyToPoint(I),ve=this.applyToPoint(new Ll(I.x+I.w,I.y+I.h));return new rd(Z.x,Z.y,ve.x-Z.x,ve.y-Z.y)},It.prototype.clone=function(){var I=this.sx,Z=this.shy,ve=this.shx,Ne=this.sy,je=this.tx,Ge=this.ty;return new It(I,Z,ve,Ne,je,Ge)},g.Matrix=It;var Ki=g.matrixMult=function(I,Z){return Z.multiply(I)},Mi=new It(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Mi;var jr=function(I,Z){if(!as[I]){var ve=(Z instanceof Eu?"Sh":"P")+(Object.keys(Wt).length+1).toString(10);Z.id=ve,as[I]=ve,Wt[ve]=Z,nn.publish("addPattern",Z)}};g.ShadingPattern=Eu,g.TilingPattern=Md,g.addShadingPattern=function(I,Z){return F("addShadingPattern()"),jr(I,Z),this},g.beginTilingPattern=function(I){F("beginTilingPattern()"),ff(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},g.endTilingPattern=function(I,Z){F("endTilingPattern()"),Z.stream=xe[H].join(`
`),jr(I,Z),nn.publish("endTilingPattern",Z),Pr.pop().restore()};var _e=g.__private__.newObject=function(){var I=ze();return $e(I,!0),I},ze=g.__private__.newObjectDeferred=function(){return fe++,pe[fe]=function(){return te},fe},$e=function(I,Z){return Z=typeof Z=="boolean"&&Z,pe[I]=te,Z&&ge(I+" 0 obj"),I},St=g.__private__.newAdditionalObject=function(){var I={objId:ze(),content:""};return me.push(I),I},xt=ze(),yt=ze(),tn=g.__private__.decodeColorString=function(I){var Z=I.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var ve=parseFloat(Z[0]);Z=[ve,ve,ve,"r"]}for(var Ne="#",je=0;je<3;je++)Ne+=("0"+Math.floor(255*parseFloat(Z[je])).toString(16)).slice(-2);return Ne},ii=g.__private__.encodeColorString=function(I){var Z;typeof I=="string"&&(I={ch1:I});var ve=I.ch1,Ne=I.ch2,je=I.ch3,Ge=I.ch4,at=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var bt=new eO(ve);if(bt.ok)ve=bt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var Mt=parseInt(ve.substr(1),16);ve=Mt>>16&255,Ne=Mt>>8&255,je=255&Mt}if(Ne===void 0||Ge===void 0&&ve===Ne&&Ne===je)if(typeof ve=="string")Z=ve+" "+at[0];else switch(I.precision){case 2:Z=G(ve/255)+" "+at[0];break;case 3:default:Z=R(ve/255)+" "+at[0]}else if(Ge===void 0||Ln(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return Z=["1.","1.","1.",at[1]].join(" ");if(typeof ve=="string")Z=[ve,Ne,je,at[1]].join(" ");else switch(I.precision){case 2:Z=[G(ve/255),G(Ne/255),G(je/255),at[1]].join(" ");break;default:case 3:Z=[R(ve/255),R(Ne/255),R(je/255),at[1]].join(" ")}}else if(typeof ve=="string")Z=[ve,Ne,je,Ge,at[2]].join(" ");else switch(I.precision){case 2:Z=[G(ve),G(Ne),G(je),G(Ge),at[2]].join(" ");break;case 3:default:Z=[R(ve),R(Ne),R(je),R(Ge),at[2]].join(" ")}return Z},Qt=g.__private__.getFilters=function(){return o},fr=g.__private__.putStream=function(I){var Z=(I=I||{}).data||"",ve=I.filters||Qt(),Ne=I.alreadyAppliedFilters||[],je=I.addLength1||!1,Ge=Z.length,at=I.objectId,bt=function(ai){return ai};if(h!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(bt=Qn.encryptor(at,0));var Mt={};ve===!0&&(ve=["FlateEncode"]);var Vt=I.additionalKeyValues||[],Yt=(Mt=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(Z,ve):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(Mt.data.length!==0&&(Vt.push({key:"Length",value:Mt.data.length}),je===!0&&Vt.push({key:"Length1",value:Ge})),Yt.length!=0)if(Yt.split("/").length-1==1)Vt.push({key:"Filter",value:Yt});else{Vt.push({key:"Filter",value:"["+Yt+"]"});for(var fn=0;fn<Vt.length;fn+=1)if(Vt[fn].key==="DecodeParms"){for(var Zn=[],ar=0;ar<Mt.reverseChain.split("/").length-1;ar+=1)Zn.push("null");Zn.push(Vt[fn].value),Vt[fn].value="["+Zn.join(" ")+"]"}}ge("<<");for(var Sr=0;Sr<Vt.length;Sr++)ge("/"+Vt[Sr].key+" "+Vt[Sr].value);ge(">>"),Mt.data.length!==0&&(ge("stream"),ge(bt(Mt.data)),ge("endstream"))},ir=g.__private__.putPage=function(I){var Z=I.number,ve=I.data,Ne=I.objId,je=I.contentsObjId;$e(Ne,!0),ge("<</Type /Page"),ge("/Parent "+I.rootDictionaryObjId+" 0 R"),ge("/Resources "+I.resourceDictionaryObjId+" 0 R"),ge("/MediaBox ["+parseFloat(D(I.mediaBox.bottomLeftX))+" "+parseFloat(D(I.mediaBox.bottomLeftY))+" "+D(I.mediaBox.topRightX)+" "+D(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ge("/CropBox ["+D(I.cropBox.bottomLeftX)+" "+D(I.cropBox.bottomLeftY)+" "+D(I.cropBox.topRightX)+" "+D(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ge("/BleedBox ["+D(I.bleedBox.bottomLeftX)+" "+D(I.bleedBox.bottomLeftY)+" "+D(I.bleedBox.topRightX)+" "+D(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ge("/TrimBox ["+D(I.trimBox.bottomLeftX)+" "+D(I.trimBox.bottomLeftY)+" "+D(I.trimBox.topRightX)+" "+D(I.trimBox.topRightY)+"]"),I.artBox!==null&&ge("/ArtBox ["+D(I.artBox.bottomLeftX)+" "+D(I.artBox.bottomLeftY)+" "+D(I.artBox.topRightX)+" "+D(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ge("/UserUnit "+I.userUnit),nn.publish("putPage",{objId:Ne,pageContext:Ut[Z],pageNumber:Z,page:ve}),ge("/Contents "+je+" 0 R"),ge(">>"),ge("endobj");var Ge=ve.join(`
`);return P===k.ADVANCED&&(Ge+=`
Q`),$e(je,!0),fr({data:Ge,filters:Qt(),objectId:je}),ge("endobj"),Ne},Ji=g.__private__.putPages=function(){var I,Z,ve=[];for(I=1;I<=gn;I++)Ut[I].objId=ze(),Ut[I].contentsObjId=ze();for(I=1;I<=gn;I++)ve.push(ir({number:I,data:xe[I],objId:Ut[I].objId,contentsObjId:Ut[I].contentsObjId,mediaBox:Ut[I].mediaBox,cropBox:Ut[I].cropBox,bleedBox:Ut[I].bleedBox,trimBox:Ut[I].trimBox,artBox:Ut[I].artBox,userUnit:Ut[I].userUnit,rootDictionaryObjId:xt,resourceDictionaryObjId:yt}));$e(xt,!0),ge("<</Type /Pages");var Ne="/Kids [";for(Z=0;Z<gn;Z++)Ne+=ve[Z]+" 0 R ";ge(Ne+"]"),ge("/Count "+gn),ge(">>"),ge("endobj"),nn.publish("postPutPages")},ko=function(I){nn.publish("putFont",{font:I,out:ge,newObject:_e,putStream:fr}),I.isAlreadyPutted!==!0&&(I.objectNumber=_e(),ge("<<"),ge("/Type /Font"),ge("/BaseFont /"+sh(I.postScriptName)),ge("/Subtype /Type1"),typeof I.encoding=="string"&&ge("/Encoding /"+I.encoding),ge("/FirstChar 32"),ge("/LastChar 255"),ge(">>"),ge("endobj"))},Us=function(){for(var I in Kt)Kt.hasOwnProperty(I)&&(p===!1||p===!0&&y.hasOwnProperty(I))&&ko(Kt[I])},io=function(I){I.objectNumber=_e();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[D(I.x),D(I.y),D(I.x+I.width),D(I.y+I.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ve=I.pages[1].join(`
`);fr({data:ve,additionalKeyValues:Z,objectId:I.objectNumber}),ge("endobj")},ao=function(){for(var I in Tr)Tr.hasOwnProperty(I)&&io(Tr[I])},Fs=function(I,Z){var ve,Ne=[],je=1/(Z-1);for(ve=0;ve<1;ve+=je)Ne.push(ve);if(Ne.push(1),I[0].offset!=0){var Ge={offset:0,color:I[0].color};I.unshift(Ge)}if(I[I.length-1].offset!=1){var at={offset:1,color:I[I.length-1].color};I.push(at)}for(var bt="",Mt=0,Vt=0;Vt<Ne.length;Vt++){for(ve=Ne[Vt];ve>I[Mt+1].offset;)Mt++;var Yt=I[Mt].offset,fn=(ve-Yt)/(I[Mt+1].offset-Yt),Zn=I[Mt].color,ar=I[Mt+1].color;bt+=de(Math.round((1-fn)*Zn[0]+fn*ar[0]).toString(16))+de(Math.round((1-fn)*Zn[1]+fn*ar[1]).toString(16))+de(Math.round((1-fn)*Zn[2]+fn*ar[2]).toString(16))}return bt.trim()},zs=function(I,Z){Z||(Z=21);var ve=_e(),Ne=Fs(I.colors,Z),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+Z+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fr({data:Ne,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),ge("endobj"),I.objectNumber=_e(),ge("<< /ShadingType "+I.type),ge("/ColorSpace /DeviceRGB");var Ge="/Coords ["+D(parseFloat(I.coords[0]))+" "+D(parseFloat(I.coords[1]))+" ";I.type===2?Ge+=D(parseFloat(I.coords[2]))+" "+D(parseFloat(I.coords[3])):Ge+=D(parseFloat(I.coords[2]))+" "+D(parseFloat(I.coords[3]))+" "+D(parseFloat(I.coords[4]))+" "+D(parseFloat(I.coords[5])),ge(Ge+="]"),I.matrix&&ge("/Matrix ["+I.matrix.toString()+"]"),ge("/Function "+ve+" 0 R"),ge("/Extend [true true]"),ge(">>"),ge("endobj")},Ir=function(I,Z){var ve=ze(),Ne=_e();Z.push({resourcesOid:ve,objectOid:Ne}),I.objectNumber=Ne;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+I.boundingBox.map(D).join(" ")+"]"}),je.push({key:"XStep",value:D(I.xStep)}),je.push({key:"YStep",value:D(I.yStep)}),je.push({key:"Resources",value:ve+" 0 R"}),I.matrix&&je.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),fr({data:I.stream,additionalKeyValues:je,objectId:I.objectNumber}),ge("endobj")},Pl=function(I){var Z;for(Z in Wt)Wt.hasOwnProperty(Z)&&(Wt[Z]instanceof Eu?zs(Wt[Z]):Wt[Z]instanceof Md&&Ir(Wt[Z],I))},Vu=function(I){for(var Z in I.objectNumber=_e(),ge("<<"),I)switch(Z){case"opacity":ge("/ca "+G(I[Z]));break;case"stroke-opacity":ge("/CA "+G(I[Z]))}ge(">>"),ge("endobj")},os=function(){var I;for(I in Pn)Pn.hasOwnProperty(I)&&Vu(Pn[I])},To=function(){for(var I in ge("/XObject <<"),Tr)Tr.hasOwnProperty(I)&&Tr[I].objectNumber>=0&&ge("/"+I+" "+Tr[I].objectNumber+" 0 R");nn.publish("putXobjectDict"),ge(">>")},Qh=function(){Qn.oid=_e(),ge("<<"),ge("/Filter /Standard"),ge("/V "+Qn.v),ge("/R "+Qn.r),ge("/U <"+Qn.toHexString(Qn.U)+">"),ge("/O <"+Qn.toHexString(Qn.O)+">"),ge("/P "+Qn.P),ge(">>"),ge("endobj")},Gu=function(){for(var I in ge("/Font <<"),Kt)Kt.hasOwnProperty(I)&&(p===!1||p===!0&&y.hasOwnProperty(I))&&ge("/"+I+" "+Kt[I].objectNumber+" 0 R");ge(">>")},rf=function(){if(Object.keys(Wt).length>0){for(var I in ge("/Shading <<"),Wt)Wt.hasOwnProperty(I)&&Wt[I]instanceof Eu&&Wt[I].objectNumber>=0&&ge("/"+I+" "+Wt[I].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),ge(">>")}},Dc=function(I){if(Object.keys(Wt).length>0){for(var Z in ge("/Pattern <<"),Wt)Wt.hasOwnProperty(Z)&&Wt[Z]instanceof g.TilingPattern&&Wt[Z].objectNumber>=0&&Wt[Z].objectNumber<I&&ge("/"+Z+" "+Wt[Z].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),ge(">>")}},Rc=function(){if(Object.keys(Pn).length>0){var I;for(I in ge("/ExtGState <<"),Pn)Pn.hasOwnProperty(I)&&Pn[I].objectNumber>=0&&ge("/"+I+" "+Pn[I].objectNumber+" 0 R");nn.publish("putGStateDict"),ge(">>")}},Xn=function(I){$e(I.resourcesOid,!0),ge("<<"),ge("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gu(),rf(),Dc(I.objectOid),Rc(),To(),ge(">>"),ge("endobj")},Ea=function(){var I=[];Us(),os(),ao(),Pl(I),nn.publish("putResources"),I.forEach(Xn),Xn({resourcesOid:yt,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources")},Di=function(){nn.publish("putAdditionalObjects");for(var I=0;I<me.length;I++){var Z=me[I];$e(Z.objId,!0),ge(Z.content),ge("endobj")}nn.publish("postPutAdditionalObjects")},$u=function(I){Dt[I.fontName]=Dt[I.fontName]||{},Dt[I.fontName][I.fontStyle]=I.id},Wu=function(I,Z,ve,Ne,je){var Ge={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:I,fontName:Z,fontStyle:ve,encoding:Ne,isStandardFont:je||!1,metadata:{}};return nn.publish("addFont",{font:Ge,instance:this}),Kt[Ge.id]=Ge,$u(Ge),Ge.id},Yu=function(I){for(var Z=0,ve=tt.length;Z<ve;Z++){var Ne=Wu.call(this,I[Z][0],I[Z][1],I[Z][2],tt[Z][3],!0);p===!1&&(y[Ne]=!0);var je=I[Z][0].split("-");$u({id:Ne,fontName:je[0],fontStyle:je[1]||""})}nn.publish("addFonts",{fonts:Kt,dictionary:Dt})},ka=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(Ne){var Z=Ne.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var ve="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Ht.console)throw new Error(ve);Ht.console.error(ve,Ne),Ht.alert&&alert(ve)}},I.foo.bar=I,I.foo},ss=function(I,Z){var ve,Ne,je,Ge,at,bt,Mt,Vt,Yt;if(je=(Z=Z||{}).sourceEncoding||"Unicode",at=Z.outputEncoding,(Z.autoencode||at)&&Kt[vt].metadata&&Kt[vt].metadata[je]&&Kt[vt].metadata[je].encoding&&(Ge=Kt[vt].metadata[je].encoding,!at&&Kt[vt].encoding&&(at=Kt[vt].encoding),!at&&Ge.codePages&&(at=Ge.codePages[0]),typeof at=="string"&&(at=Ge[at]),at)){for(Mt=!1,bt=[],ve=0,Ne=I.length;ve<Ne;ve++)(Vt=at[I.charCodeAt(ve)])?bt.push(String.fromCharCode(Vt)):bt.push(I[ve]),bt[ve].charCodeAt(0)>>8&&(Mt=!0);I=bt.join("")}for(ve=I.length;Mt===void 0&&ve!==0;)I.charCodeAt(ve-1)>>8&&(Mt=!0),ve--;if(!Mt)return I;for(bt=Z.noBOM?[]:[254,255],ve=0,Ne=I.length;ve<Ne;ve++){if((Yt=(Vt=I.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(Yt),bt.push(Vt-(Yt<<8))}return String.fromCharCode.apply(void 0,bt)},Xi=g.__private__.pdfEscape=g.pdfEscape=function(I,Z){return ss(I,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vi=g.__private__.beginPage=function(I){xe[++gn]=[],Ut[gn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},Oc(gn),Pe(xe[H])},Lc=function(I,Z){var ve,Ne,je;switch(n=Z||n,typeof I=="string"&&(ve=_(I.toLowerCase()),Array.isArray(ve)&&(Ne=ve[0],je=ve[1])),Array.isArray(I)&&(Ne=I[0]*lt,je=I[1]*lt),isNaN(Ne)&&(Ne=i[0],je=i[1]),(Ne>14400||je>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),je=Math.min(14400,je)),i=[Ne,je],n.substr(0,1)){case"l":je>Ne&&(i=[je,Ne]);break;case"p":Ne>je&&(i=[je,Ne])}vi(i),Dl(Wr),ge(co),td!==0&&ge(td+" J"),nd!==0&&ge(nd+" j"),nn.publish("addPage",{pageNumber:gn})},af=function(I){I>0&&I<=gn&&(xe.splice(I,1),Ut.splice(I,1),gn--,H>gn&&(H=gn),this.setPage(H))},Oc=function(I){I>0&&I<=gn&&(H=I)},qs=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return xe.length-1},Ku=function(I,Z,ve){var Ne,je=void 0;return ve=ve||{},I=I!==void 0?I:Kt[vt].fontName,Z=Z!==void 0?Z:Kt[vt].fontStyle,Ne=I.toLowerCase(),Dt[Ne]!==void 0&&Dt[Ne][Z]!==void 0?je=Dt[Ne][Z]:Dt[I]!==void 0&&Dt[I][Z]!==void 0?je=Dt[I][Z]:ve.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+I+"', '"+Z+"'. Refer to getFontList() for available fonts."),je||ve.noFallback||(je=Dt.times[Z])==null&&(je=Dt.times.normal),je},of=g.__private__.putInfo=function(){var I=_e(),Z=function(Ne){return Ne};for(var ve in h!==null&&(Z=Qn.encryptor(I,0)),ge("<<"),ge("/Producer ("+Xi(Z("jsPDF "+Lt.version))+")"),dt)dt.hasOwnProperty(ve)&&dt[ve]&&ge("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Xi(Z(dt[ve]))+")");ge("/CreationDate ("+Xi(Z(ne))+")"),ge(">>"),ge("endobj")},Po=g.__private__.putCatalog=function(I){var Z=(I=I||{}).rootDictionaryObjId||xt;switch(_e(),ge("<<"),ge("/Type /Catalog"),ge("/Pages "+Z+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":ge("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ge("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ge("/OpenAction [3 0 R /Fit]");break;case"original":ge("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+ct;ve.substr(ve.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&ge("/OpenAction [3 0 R /XYZ null null "+G(ct)+"]")}switch(De||(De="continuous"),De){case"continuous":ge("/PageLayout /OneColumn");break;case"single":ge("/PageLayout /SinglePage");break;case"two":case"twoleft":ge("/PageLayout /TwoColumnLeft");break;case"tworight":ge("/PageLayout /TwoColumnRight")}Nt&&ge("/PageMode /"+Nt),nn.publish("putCatalog"),ge(">>"),ge("endobj")},Zh=g.__private__.putTrailer=function(){ge("trailer"),ge("<<"),ge("/Size "+(fe+1)),ge("/Root "+fe+" 0 R"),ge("/Info "+(fe-1)+" 0 R"),h!==null&&ge("/Encrypt "+Qn.oid+" 0 R"),ge("/ID [ <"+z+"> <"+z+"> ]"),ge(">>")},sf=g.__private__.putHeader=function(){ge("%PDF-"+w),ge("%")},lf=g.__private__.putXRef=function(){var I="0000000000";ge("xref"),ge("0 "+(fe+1)),ge("0000000000 65535 f ");for(var Z=1;Z<=fe;Z++)typeof pe[Z]=="function"?ge((I+pe[Z]()).slice(-10)+" 00000 n "):pe[Z]!==void 0?ge((I+pe[Z]).slice(-10)+" 00000 n "):ge("0000000000 00000 n ")},oo=g.__private__.buildDocument=function(){Ye(),Pe(he),nn.publish("buildDocument"),sf(),Ji(),Di(),Ea(),h!==null&&Qh(),of(),Po();var I=te;return lf(),Zh(),ge("startxref"),ge(""+I),ge("%%EOF"),Pe(xe[H]),he.join(`
`)},Bc=g.__private__.getBlob=function(I){return new Blob([ot(I)],{type:"application/pdf"})},Uc=g.output=g.__private__.output=ka((function(I,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",I){case void 0:return oo();case"save":g.save(Z.filename);break;case"arraybuffer":return ot(oo());case"blob":return Bc(oo());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(Bc(oo()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Ne=oo();try{ve=Gw(Ne)}catch{ve=Gw(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+Z.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(je=Z.pdfObjectUrl,Ge="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",bt=Ht.open();return bt!==null&&bt.document.write(at),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Vt=Ht.open();if(Vt!==null){Vt.document.write(Mt);var Yt=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=Z.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Zn=Ht.open();if(Zn!==null&&(Zn.document.write(fn),Zn.document.title=Z.filename),Zn||typeof safari>"u")return Zn;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",Z);default:return null}})),jl=function(I){return Array.isArray(ro)===!0&&ro.indexOf(I)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=jl("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var Qn=null;ie(),ee();var Ju=function(I){return h!==null?Qn.encryptor(I,0):function(Z){return Z}},Fc=g.__private__.getPageInfo=g.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[I].objId,pageNumber:I,pageContext:Ut[I]}},Bt=g.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Ut)if(Ut[Z].objId===I)break;return Fc(Z)},Hs=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ut[H].objId,pageNumber:H,pageContext:Ut[H]}};g.addPage=function(){return Lc.apply(this,arguments),this},g.setPage=function(){return Oc.apply(this,arguments),Pe.call(this,xe[H]),this},g.insertPage=function(I){return this.addPage(),this.movePage(H,I),this},g.movePage=function(I,Z){var ve,Ne;if(I>Z){ve=xe[I],Ne=Ut[I];for(var je=I;je>Z;je--)xe[je]=xe[je-1],Ut[je]=Ut[je-1];xe[Z]=ve,Ut[Z]=Ne,this.setPage(Z)}else if(I<Z){ve=xe[I],Ne=Ut[I];for(var Ge=I;Ge<Z;Ge++)xe[Ge]=xe[Ge+1],Ut[Ge]=Ut[Ge+1];xe[Z]=ve,Ut[Z]=Ne,this.setPage(Z)}return this},g.deletePage=function(){return af.apply(this,arguments),this},g.__private__.text=g.text=function(I,Z,ve,Ne,je){var Ge,at,bt,Mt,Vt,Yt,fn,Zn,ar,Sr=(Ne=Ne||{}).scope||this;if(typeof I=="number"&&typeof Z=="number"&&(typeof ve=="string"||Array.isArray(ve))){var ai=ve;ve=Z,Z=I,I=ai}if(arguments[3]instanceof It?(F("The transform parameter of text() with a Matrix value"),ar=je):(bt=arguments[4],Mt=arguments[5],Ln(fn=arguments[3])==="object"&&fn!==null||(typeof bt=="string"&&(Mt=bt,bt=null),typeof fn=="string"&&(Mt=fn,fn=null),typeof fn=="number"&&(bt=fn,fn=null),Ne={flags:fn,angle:bt,align:Mt})),isNaN(Z)||isNaN(ve)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return Sr;var zr="",xi=!1,ha=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:Ws,cs=Sr.internal.scaleFactor;function hf(Un){return Un=Un.split("	").join(Array(Ne.TabLen||9).join(" ")),Xi(Un,fn)}function $c(Un){for(var Fn,Ar=Un.concat(),Mr=[],Ro=Ar.length;Ro--;)typeof(Fn=Ar.shift())=="string"?Mr.push(Fn):Array.isArray(Un)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?Mr.push(Fn[0]):Mr.push([Fn[0],Fn[1],Fn[2]]);return Mr}function Wc(Un,Fn){var Ar;if(typeof Un=="string")Ar=Fn(Un)[0];else if(Array.isArray(Un)){for(var Mr,Ro,Lo=Un.concat(),wi=[],Ul=Lo.length;Ul--;)typeof(Mr=Lo.shift())=="string"?wi.push(Fn(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(Ro=Fn(Mr[0],Mr[1],Mr[2]),wi.push([Ro[0],Ro[1],Ro[2]]));Ar=wi}return Ar}var Io=!1,us=!0;if(typeof I=="string")Io=!0;else if(Array.isArray(I)){var od=I.concat();at=[];for(var ds,Ri=od.length;Ri--;)(typeof(ds=od.shift())!="string"||Array.isArray(ds)&&typeof ds[0]!="string")&&(us=!1);Io=us}if(Io===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var Bl=it/Sr.internal.scaleFactor,Xs=Bl*(ha-1);switch(Ne.baseline){case"bottom":ve-=Xs;break;case"top":ve+=Bl-Xs;break;case"hanging":ve+=Bl-2*Xs;break;case"middle":ve+=Bl/2-Xs}if((Yt=Ne.maxWidth||0)>0&&(typeof I=="string"?I=Sr.splitTextToSize(I,Yt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce((function(Un,Fn){return Un.concat(Sr.splitTextToSize(Fn,Yt))}),[]))),Ge={text:I,x:Z,y:ve,options:Ne,mutex:{pdfEscape:Xi,activeFontKey:vt,fonts:Kt,activeFontSize:it}},nn.publish("preProcessText",Ge),I=Ge.text,bt=(Ne=Ge.options).angle,!(ar instanceof It)&&bt&&typeof bt=="number"){bt*=Math.PI/180,Ne.rotationDirection===0&&(bt=-bt),P===k.ADVANCED&&(bt=-bt);var Qs=Math.cos(bt),Yc=Math.sin(bt);ar=new It(Qs,Yc,-Yc,Qs,0,0)}else bt&&bt instanceof It&&(ar=bt);P!==k.ADVANCED||ar||(ar=Mi),(Vt=Ne.charSpace||Vc)!==void 0&&(zr+=D(O(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zn=Ne.horizontalScale)!==void 0&&(zr+=D(100*Zn)+` Tz
`),Ne.lang;var Li=-1,pf=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,sd=Sr.internal.getCurrentPageInfo().pageContext;switch(pf){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var mf=sd.usedRenderingMode!==void 0?sd.usedRenderingMode:-1;Li!==-1?zr+=Li+` Tr
`:mf!==-1&&(zr+=`0 Tr
`),Li!==-1&&(sd.usedRenderingMode=Li),Mt=Ne.align||"left";var uo,ld=it*ha,np=Sr.internal.pageSize.getWidth(),Oi=Kt[vt];Vt=Ne.charSpace||Vc,Yt=Ne.maxWidth||0,fn=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var Ia=[];if(Object.prototype.toString.call(I)==="[object Array]"){var pa;at=$c(I),Mt!=="left"&&(uo=at.map((function(Un){return Sr.getStringUnitWidth(Un,{font:Oi,charSpace:Vt,fontSize:it,doKerning:!1})*it/cs})));var Ma,fs=0;if(Mt==="right"){Z-=uo[0],I=[],Ri=at.length;for(var fo=0;fo<Ri;fo++)fo===0?(Ma=lo(Z),pa=ja(ve)):(Ma=O(fs-uo[fo]),pa=-ld),I.push([at[fo],Ma,pa]),fs=uo[fo]}else if(Mt==="center"){Z-=uo[0]/2,I=[],Ri=at.length;for(var ho=0;ho<Ri;ho++)ho===0?(Ma=lo(Z),pa=ja(ve)):(Ma=O((fs-uo[ho])/2),pa=-ld),I.push([at[ho],Ma,pa]),fs=uo[ho]}else if(Mt==="left"){I=[],Ri=at.length;for(var Kc=0;Kc<Ri;Kc++)I.push(at[Kc])}else{if(Mt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');I=[],Ri=at.length,Yt=Yt!==0?Yt:np;for(var bi=0;bi<Ri;bi++)pa=bi===0?ja(ve):-ld,Ma=bi===0?lo(Z):0,bi<Ri-1?Ia.push(D(O((Yt-uo[bi])/(at[bi].split(" ").length-1)))):Ia.push(0),I.push([at[bi],Ma,pa])}}var Zs=typeof Ne.R2L=="boolean"?Ne.R2L:kt;Zs===!0&&(I=Wc(I,(function(Un,Fn,Ar){return[Un.split("").reverse().join(""),Fn,Ar]}))),Ge={text:I,x:Z,y:ve,options:Ne,mutex:{pdfEscape:Xi,activeFontKey:vt,fonts:Kt,activeFontSize:it}},nn.publish("postProcessText",Ge),I=Ge.text,xi=Ge.mutex.isHex||!1;var hs=Kt[vt].encoding;hs!=="WinAnsiEncoding"&&hs!=="StandardEncoding"||(I=Wc(I,(function(Un,Fn,Ar){return[hf(Un),Fn,Ar]}))),at=$c(I),I=[];for(var Mo,Da,Bi,Ra=0,el=1,tl=Array.isArray(at[0])?el:Ra,Zi="",Jc=function(Un,Fn,Ar){var Mr="";return Ar instanceof It?(Ar=typeof Ne.angle=="number"?Ki(Ar,new It(1,0,0,1,Un,Fn)):Ki(new It(1,0,0,1,Un,Fn),Ar),P===k.ADVANCED&&(Ar=Ki(new It(1,0,0,-1,0,0),Ar)),Mr=Ar.join(" ")+` Tm
`):Mr=D(Un)+" "+D(Fn)+` Td
`,Mr},ma=0;ma<at.length;ma++){switch(Zi="",tl){case el:Bi=(xi?"<":"(")+at[ma][0]+(xi?">":")"),Mo=parseFloat(at[ma][1]),Da=parseFloat(at[ma][2]);break;case Ra:Bi=(xi?"<":"(")+at[ma]+(xi?">":")"),Mo=lo(Z),Da=ja(ve)}Ia!==void 0&&Ia[ma]!==void 0&&(Zi=Ia[ma]+` Tw
`),ma===0?I.push(Zi+Jc(Mo,Da,ar)+Bi):tl===Ra?I.push(Zi+Bi):tl===el&&I.push(Zi+Jc(Mo,Da,ar)+Bi)}I=tl===Ra?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Do=`BT
/`;return Do+=vt+" "+it+` Tf
`,Do+=D(it*ha)+` TL
`,Do+=Rl+`
`,Do+=zr,Do+=I,ge(Do+="ET"),y[vt]=!0,Sr};var cf=g.__private__.clip=g.clip=function(I){return ge(I==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return cf("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ge("n"),this};var Ta=g.__private__.isValidStyle=function(I){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Z=!0),Z};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(I){return Ta(I)&&(f=I),this};var Xu=g.__private__.getStyle=g.getStyle=function(I){var Z=f;switch(I){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=I}return Z},Vs=g.close=function(){return ge("h"),this};g.stroke=function(){return ge("S"),this},g.fill=function(I){return Qi("f",I),this},g.fillEvenOdd=function(I){return Qi("f*",I),this},g.fillStroke=function(I){return Qi("B",I),this},g.fillStrokeEvenOdd=function(I){return Qi("B*",I),this};var Qi=function(I,Z){Ln(Z)==="object"?jo(Z,I):ge(I)},Il=function(I){I===null||P===k.ADVANCED&&I===void 0||(I=Xu(I),ge(I))};function Ml(I,Z,ve,Ne,je){var Ge=new Md(Z||this.boundingBox,ve||this.xStep,Ne||this.yStep,this.gState,je||this.matrix);Ge.stream=this.stream;var at=I+"$$"+this.cloneIndex+++"$$";return jr(at,Ge),Ge}var jo=function(I,Z){var ve=as[I.key],Ne=Wt[ve];if(Ne instanceof Eu)ge("q"),ge(Qu(Z)),Ne.gState&&g.setGState(Ne.gState),ge(I.matrix.toString()+" cm"),ge("/"+ve+" sh"),ge("Q");else if(Ne instanceof Md){var je=new It(1,0,0,-1,0,Js());I.matrix&&(je=je.multiply(I.matrix||Mi),ve=Ml.call(Ne,I.key,I.boundingBox,I.xStep,I.yStep,je).id),ge("q"),ge("/Pattern cs"),ge("/"+ve+" scn"),Ne.gState&&g.setGState(Ne.gState),ge(Z),ge("Q")}},Qu=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Gs=g.moveTo=function(I,Z){return ge(D(O(I))+" "+D($(Z))+" m"),this},$s=g.lineTo=function(I,Z){return ge(D(O(I))+" "+D($(Z))+" l"),this},so=g.curveTo=function(I,Z,ve,Ne,je,Ge){return ge([D(O(I)),D($(Z)),D(O(ve)),D($(Ne)),D(O(je)),D($(Ge)),"c"].join(" ")),this};g.__private__.line=g.line=function(I,Z,ve,Ne,je){if(isNaN(I)||isNaN(Z)||isNaN(ve)||isNaN(Ne)||!Ta(je))throw new Error("Invalid arguments passed to jsPDF.line");return P===k.COMPAT?this.lines([[ve-I,Ne-Z]],I,Z,[1,1],je||"S"):this.lines([[ve-I,Ne-Z]],I,Z,[1,1]).stroke()},g.__private__.lines=g.lines=function(I,Z,ve,Ne,je,Ge){var at,bt,Mt,Vt,Yt,fn,Zn,ar,Sr,ai,zr,xi;if(typeof I=="number"&&(xi=ve,ve=Z,Z=I,I=xi),Ne=Ne||[1,1],Ge=Ge||!1,isNaN(Z)||isNaN(ve)||!Array.isArray(I)||!Array.isArray(Ne)||!Ta(je)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Gs(Z,ve),at=Ne[0],bt=Ne[1],Vt=I.length,ai=Z,zr=ve,Mt=0;Mt<Vt;Mt++)(Yt=I[Mt]).length===2?(ai=Yt[0]*at+ai,zr=Yt[1]*bt+zr,$s(ai,zr)):(fn=Yt[0]*at+ai,Zn=Yt[1]*bt+zr,ar=Yt[2]*at+ai,Sr=Yt[3]*bt+zr,ai=Yt[4]*at+ai,zr=Yt[5]*bt+zr,so(fn,Zn,ar,Sr,ai,zr));return Ge&&Vs(),Il(je),this},g.path=function(I){for(var Z=0;Z<I.length;Z++){var ve=I[Z],Ne=ve.c;switch(ve.op){case"m":Gs(Ne[0],Ne[1]);break;case"l":$s(Ne[0],Ne[1]);break;case"c":so.apply(this,Ne);break;case"h":Vs()}}return this},g.__private__.rect=g.rect=function(I,Z,ve,Ne,je){if(isNaN(I)||isNaN(Z)||isNaN(ve)||isNaN(Ne)||!Ta(je))throw new Error("Invalid arguments passed to jsPDF.rect");return P===k.COMPAT&&(Ne=-Ne),ge([D(O(I)),D($(Z)),D(O(ve)),D(O(Ne)),"re"].join(" ")),Il(je),this},g.__private__.triangle=g.triangle=function(I,Z,ve,Ne,je,Ge,at){if(isNaN(I)||isNaN(Z)||isNaN(ve)||isNaN(Ne)||isNaN(je)||isNaN(Ge)||!Ta(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-I,Ne-Z],[je-ve,Ge-Ne],[I-je,Z-Ge]],I,Z,[1,1],at,!0),this},g.__private__.roundedRect=g.roundedRect=function(I,Z,ve,Ne,je,Ge,at){if(isNaN(I)||isNaN(Z)||isNaN(ve)||isNaN(Ne)||isNaN(je)||isNaN(Ge)||!Ta(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*ve),Ge=Math.min(Ge,.5*Ne),this.lines([[ve-2*je,0],[je*bt,0,je,Ge-Ge*bt,je,Ge],[0,Ne-2*Ge],[0,Ge*bt,-je*bt,Ge,-je,Ge],[2*je-ve,0],[-je*bt,0,-je,-Ge*bt,-je,-Ge],[0,2*Ge-Ne],[0,-Ge*bt,je*bt,-Ge,je,-Ge]],I+je,Z,[1,1],at,!0),this},g.__private__.ellipse=g.ellipse=function(I,Z,ve,Ne,je){if(isNaN(I)||isNaN(Z)||isNaN(ve)||isNaN(Ne)||!Ta(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*ve,at=4/3*(Math.SQRT2-1)*Ne;return Gs(I+ve,Z),so(I+ve,Z-at,I+Ge,Z-Ne,I,Z-Ne),so(I-Ge,Z-Ne,I-ve,Z-at,I-ve,Z),so(I-ve,Z+at,I-Ge,Z+Ne,I,Z+Ne),so(I+Ge,Z+Ne,I+ve,Z+at,I+ve,Z),Il(je),this},g.__private__.circle=g.circle=function(I,Z,ve,Ne){if(isNaN(I)||isNaN(Z)||isNaN(ve)||!Ta(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Z,ve,ve,Ne)},g.setFont=function(I,Z,ve){return ve&&(Z=U(Z,ve)),vt=Ku(I,Z,{disableWarning:!1}),this};var zc=g.__private__.getFont=g.getFont=function(){return Kt[Ku.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var I,Z,ve={};for(I in Dt)if(Dt.hasOwnProperty(I))for(Z in ve[I]=[],Dt[I])Dt[I].hasOwnProperty(Z)&&ve[I].push(Z);return ve},g.addFont=function(I,Z,ve,Ne,je){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(ve=U(ve,Ne)),je=je||"Identity-H",Wu.call(this,I,Z,ve,je)};var Ws,Wr=e.lineWidth||.200025,Pa=g.__private__.getLineWidth=g.getLineWidth=function(){return Wr},Dl=g.__private__.setLineWidth=g.setLineWidth=function(I){return Wr=I,ge(D(O(I))+" w"),this};g.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(I,Z){if(I=I||[],Z=Z||0,isNaN(Z)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map((function(ve){return D(O(ve))})).join(" "),Z=D(O(Z)),ge("["+I+"] "+Z+" d"),this};var Ys=g.__private__.getLineHeight=g.getLineHeight=function(){return it*Ws};g.__private__.getLineHeight=g.getLineHeight=function(){return it*Ws};var uf=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Ws=I),this},qc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Ws};uf(e.lineHeight);var lo=g.__private__.getHorizontalCoordinate=function(I){return O(I)},ja=g.__private__.getVerticalCoordinate=function(I){return P===k.ADVANCED?I:Ut[H].mediaBox.topRightY-Ut[H].mediaBox.bottomLeftY-O(I)},Hc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(I){return D(lo(I))},ls=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(I){return D(ja(I))},co=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return tn(co)},g.__private__.setStrokeColor=g.setDrawColor=function(I,Z,ve,Ne){return co=ii({ch1:I,ch2:Z,ch3:ve,ch4:Ne,pdfColorType:"draw",precision:2}),ge(co),this};var Zu=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return tn(Zu)},g.__private__.setFillColor=g.setFillColor=function(I,Z,ve,Ne){return Zu=ii({ch1:I,ch2:Z,ch3:ve,ch4:Ne,pdfColorType:"fill",precision:2}),ge(Zu),this};var Rl=e.textColor||"0 g",ed=g.__private__.getTextColor=g.getTextColor=function(){return tn(Rl)};g.__private__.setTextColor=g.setTextColor=function(I,Z,ve,Ne){return Rl=ii({ch1:I,ch2:Z,ch3:ve,ch4:Ne,pdfColorType:"text",precision:3}),this};var Vc=e.charSpace,ep=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Vc||0)};g.__private__.setCharSpace=g.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vc=I,this};var td=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(I){var Z=g.CapJoinStyles[I];if(Z===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return td=Z,ge(Z+" J"),this};var nd=0;g.__private__.setLineJoin=g.setLineJoin=function(I){var Z=g.CapJoinStyles[I];if(Z===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nd=Z,ge(Z+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ge(D(O(I))+" M"),this},g.GState=Im,g.setGState=function(I){(I=typeof I=="string"?Pn[Gn[I]]:df(null,I)).equals(Yi)||(ge("/"+I.id+" gs"),Yi=I)};var df=function(I,Z){if(!I||!Gn[I]){var ve=!1;for(var Ne in Pn)if(Pn.hasOwnProperty(Ne)&&Pn[Ne].equals(Z)){ve=!0;break}if(ve)Z=Pn[Ne];else{var je="GS"+(Object.keys(Pn).length+1).toString(10);Pn[je]=Z,Z.id=je}return I&&(Gn[I]=Z.id),nn.publish("addGState",Z),Z}};g.addGState=function(I,Z){return df(I,Z),this},g.saveGraphicsState=function(){return ge("q"),dr.push({key:vt,size:it,color:Rl}),this},g.restoreGraphicsState=function(){ge("Q");var I=dr.pop();return vt=I.key,it=I.size,Rl=I.color,Yi=null,this},g.setCurrentTransformationMatrix=function(I){return ge(I.toString()+" cm"),this},g.comment=function(I){return ge("#"+I),this};var Ll=function(I,Z){var ve=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var Ne=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(Ge){isNaN(Ge)||(Ne=parseFloat(Ge))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Ge){je=Ge.toString()}}),this},rd=function(I,Z,ve,Ne){Ll.call(this,I,Z),this.type="rect";var je=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(at){isNaN(at)||(je=parseFloat(at))}});var Ge=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(at){isNaN(at)||(Ge=parseFloat(at))}}),this},id=function(){this.page=gn,this.currentPage=H,this.pages=xe.slice(0),this.pagesContext=Ut.slice(0),this.x=Bn,this.y=qt,this.matrix=vn,this.width=Ol(H),this.height=Js(H),this.outputDestination=Ue,this.id="",this.objectNumber=-1};id.prototype.restore=function(){gn=this.page,H=this.currentPage,Ut=this.pagesContext,xe=this.pages,Bn=this.x,qt=this.y,vn=this.matrix,ad(H,this.width),Gc(H,this.height),Ue=this.outputDestination};var ff=function(I,Z,ve,Ne,je){Pr.push(new id),gn=H=0,xe=[],Bn=I,qt=Z,vn=je,vi([ve,Ne])},tp=function(I){if(Fr[I])Pr.pop().restore();else{var Z=new id,ve="Xo"+(Object.keys(Tr).length+1).toString(10);Z.id=ve,Fr[I]=ve,Tr[ve]=Z,nn.publish("addFormObject",Z),Pr.pop().restore()}};for(var Ks in g.beginFormObject=function(I,Z,ve,Ne,je){return ff(I,Z,ve,Ne,je),this},g.endFormObject=function(I){return tp(I),this},g.doFormObject=function(I,Z){var ve=Tr[Fr[I]];return ge("q"),ge(Z.toString()+" cm"),ge("/"+ve.id+" Do"),ge("Q"),this},g.getFormObject=function(I){var Z=Tr[Fr[I]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},g.save=function(I,Z){return I=I||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Ed(Bc(oo()),I),typeof Ed.unload=="function"&&Ht.setTimeout&&setTimeout(Ed.unload,911),this):new Promise((function(ve,Ne){try{var je=Ed(Bc(oo()),I);typeof Ed.unload=="function"&&Ht.setTimeout&&setTimeout(Ed.unload,911),ve(je)}catch(Ge){Ne(Ge.message)}}))},Lt.API)Lt.API.hasOwnProperty(Ks)&&(Ks==="events"&&Lt.API.events.length?(function(I,Z){var ve,Ne,je;for(je=Z.length-1;je!==-1;je--)ve=Z[je][0],Ne=Z[je][1],I.subscribe.apply(I,[ve].concat(typeof Ne=="function"?[Ne]:Ne))})(nn,Lt.API.events):g[Ks]=Lt.API[Ks]);var Ol=g.getPageWidth=function(I){return(Ut[I=I||H].mediaBox.topRightX-Ut[I].mediaBox.bottomLeftX)/lt},ad=g.setPageWidth=function(I,Z){Ut[I].mediaBox.topRightX=Z*lt+Ut[I].mediaBox.bottomLeftX},Js=g.getPageHeight=function(I){return(Ut[I=I||H].mediaBox.topRightY-Ut[I].mediaBox.bottomLeftY)/lt},Gc=g.setPageHeight=function(I,Z){Ut[I].mediaBox.topRightY=Z*lt+Ut[I].mediaBox.bottomLeftY};return g.internal={pdfEscape:Xi,getStyle:Xu,getFont:zc,getFontSize:ut,getCharSpace:ep,getTextColor:ed,getLineHeight:Ys,getLineHeightFactor:qc,getLineWidth:Pa,write:mt,getHorizontalCoordinate:lo,getVerticalCoordinate:ja,getCoordinateString:Hc,getVerticalCoordinateString:ls,collections:{},newObject:_e,newAdditionalObject:St,newObjectDeferred:ze,newObjectDeferredBegin:$e,getFilters:Qt,putStream:fr,events:nn,scaleFactor:lt,pageSize:{getWidth:function(){return Ol(H)},setWidth:function(I){ad(H,I)},getHeight:function(){return Js(H)},setHeight:function(I){Gc(H,I)}},encryptionOptions:h,encryption:Qn,getEncryptor:Ju,output:Uc,getNumberOfPages:qs,pages:xe,out:ge,f2:G,f3:R,getPageInfo:Fc,getPageInfoByObjId:Bt,getCurrentPageInfo:Hs,getPDFVersion:N,Point:Ll,Rectangle:rd,Matrix:It,hasHotfix:jl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ol(H)},set:function(I){ad(H,I)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Js(H)},set:function(I){Gc(H,I)},enumerable:!0,configurable:!0}),Yu.call(g,tt),vt="F1",Lc(i,n),nn.publish("initialized"),g}oh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},oh.prototype.toHexString=function(e){return e.split("").map((function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)})).join("")},oh.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},oh.prototype.processOwnerPassword=function(e,t){return Ww($w(t).substr(0,5),e)},oh.prototype.encryptor=function(e,t){var n=$w(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ww(n,r)}},Im.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ln(e)!==Ln(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Lt.API={events:[]},Lt.version="2.5.1";var Lr=Lt.API,ES=1,ef=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(e){return e.toFixed(2)},wu=function(e){return e.toFixed(5)};Lr.__acroform__={};var to=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},I3=function(e){return e*ES},gl=function(e){var t=new iO,n=Ct.internal.getHeight(e)||0,r=Ct.internal.getWidth(e)||0;return t.BBox=[0,0,Number(en(r)),Number(en(n))],t},uae=Lr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},dae=Lr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},fae=Lr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Vr=Lr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fae(e,t-1)},Gr=Lr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uae(e,t-1)},$r=Lr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dae(e,t-1)},hae=Lr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(a+l)||0,u.upperRight_X=n(i+o)||0,u.upperRight_Y=r(a)||0,[Number(en(u.lowerLeft_X)),Number(en(u.lowerLeft_Y)),Number(en(u.upperRight_X)),Number(en(u.upperRight_Y))]},pae=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Yw(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+en(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=gl(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Yw=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(R){return R.split(`
`)})):i.map((function(R){return[R]}));var a=n,o=Ct.internal.getHeight(e)||0;o=o<0?-o:o;var l=Ct.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(R,O,K){if(R+1<i.length){var $=O+" "+i[R+1][0];return pg($,e,K).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var f,h,p=pg("3",e,a).height,y=e.multiline?o-a:(o-p)/2,g=y+=2,w=0,N=0,A=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+pg(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var _="",k=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var M=!1;if(i[P].length!==1&&A!==i[P].length-1){if((p+2)*(k+2)+2>o)continue e;_+=i[P][A],M=!0,N=P,P--}else{_=(_+=i[P][A]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var B=parseInt(P),U=u(B,_,a),D=P>=i.length-1;if(U&&!D){_+=" ",A=0;continue}if(U||D){if(D)N=B;else if(e.multiline&&(p+2)*(k+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(k+2)+2>o)continue e;N=B}}for(var F="",q=w;q<=N;q++){var G=i[q];if(e.multiline){if(q===N){F+=G[A]+" ",A=(A+1)%G.length;continue}if(q===w){F+=G[G.length-1]+" ";continue}}F+=G[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,h=pg(F,e,a).width,e.textAlign){case"right":f=l-h-2;break;case"center":f=(l-h)/2;break;case"left":default:f=2}t+=en(f)+" "+en(g)+` Td
`,t+="("+ef(F)+`) Tj
`,t+=-en(f)+` 0 Td
`,g=-(a+2),h=0,w=M?N:N+1,k++,_=""}break}return r.text=t,r.fontSize=a,r},pg=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},mae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gae=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find((function(r){return r.type===n.type&&r.object===n.object}))===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},yae=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Ln(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},vae=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ls.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mae)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ES=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new aO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)})),e.internal.events.subscribe("buildDocument",(function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&gae(a,n)}})(e)})),e.internal.events.subscribe("putCatalog",(function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)})),e.internal.events.subscribe("postPutPages",(function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],u=[],f=l.Rect;if(l.Rect&&(l.Rect=hae(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ct.createDefaultAppearanceStream(l),Ln(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=pae(l);u.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var p="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var g=l.appearanceStreamContent[y];if(p+="/"+y+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var w=g[o];typeof w=="function"&&(w=w.call(i,l)),p+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(i,l)),p+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);p+=">>"}u.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&yae(i.internal.acroformPlugin.xForms,i)})(n,e)})),e.internal.acroformPlugin.isInitialized=!0}},rO=Lr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Ln(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+ef(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},s2=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ef(r(e))+")"},bl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bl.prototype.toString=function(){return this.objId+" 0 R"},bl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},bl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"}));for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:rO(i,this.objId,this.scope)}):i instanceof bl?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var iO=function(){bl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};to(iO,bl);var aO=function(){bl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ef(n(e))+")"}},set:function(n){e=n}})};to(aO,bl);var Ls=function e(){bl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');t=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vr(t,3)},set:function(_){_?this.F=Gr(t,3):this.F=$r(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ry)return;a="FieldObject"+e.FieldNum++}var _=function(k){return k};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+ef(_(a))+")"},set:function(_){a=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(_){a=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(_){u=_}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/ES:f},set:function(_){f=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Ry||this instanceof Du))return s2(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof hi?y:s2(y,this.objId,this.scope)},set:function(_){_=_.toString(),y=this instanceof hi?_:_.substr(0,1)==="("?eh(_.substr(1,_.length-2)):eh(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi?eh(y.substr(1,y.length-1)):y},set:function(_){_=_.toString(),y=this instanceof hi?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof hi?g:s2(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof hi?_:_.substr(0,1)==="("?eh(_.substr(1,_.length-2)):eh(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi?eh(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof hi?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(_){_=!!_,N=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(_){w=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,1)},set:function(_){_?this.Ff=Gr(this.Ff,1):this.Ff=$r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,2)},set:function(_){_?this.Ff=Gr(this.Ff,2):this.Ff=$r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,3)},set:function(_){_?this.Ff=Gr(this.Ff,3):this.Ff=$r(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');A=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(A){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};to(Ls,bl);var Ud=function(){Ls.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rO(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,o,l){l||(l=1);for(var u,f=[];u=o.exec(a);)f.push(u[l]);return f})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,18)},set:function(n){n?this.Ff=Gr(this.Ff,18):this.Ff=$r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Gr(this.Ff,19):this.Ff=$r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,20)},set:function(n){n?(this.Ff=Gr(this.Ff,20),t.sort()):this.Ff=$r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,22)},set:function(n){n?this.Ff=Gr(this.Ff,22):this.Ff=$r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(n){n?this.Ff=Gr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,27)},set:function(n){n?this.Ff=Gr(this.Ff,27):this.Ff=$r(this.Ff,27)}}),this.hasAppearanceStream=!1};to(Ud,Ls);var Fd=function(){Ud.call(this),this.fontName="helvetica",this.combo=!1};to(Fd,Ud);var zd=function(){Fd.call(this),this.combo=!0};to(zd,Fd);var im=function(){zd.call(this),this.edit=!0};to(im,zd);var hi=function(){Ls.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,15)},set:function(n){n?this.Ff=Gr(this.Ff,15):this.Ff=$r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,16)},set:function(n){n?this.Ff=Gr(this.Ff,16):this.Ff=$r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,17)},set:function(n){n?this.Ff=Gr(this.Ff,17):this.Ff=$r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(n){n?this.Ff=Gr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+ef(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ln(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};to(hi,Ls);var am=function(){hi.call(this),this.pushButton=!0};to(am,hi);var qd=function(){hi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};to(qd,hi);var Ry=function(){var e,t;Ls.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+ef(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ln(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};to(Ry,Ls),qd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},qd.prototype.createOption=function(e){var t=new Ry;return t.Parent=this,t.optionName=e,this.Kids.push(t),xae.call(this.scope,t),t};var om=function(){hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};to(om,hi);var Du=function(){Ls.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,13)},set:function(t){t?this.Ff=Gr(this.Ff,13):this.Ff=$r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,21)},set:function(t){t?this.Ff=Gr(this.Ff,21):this.Ff=$r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,23)},set:function(t){t?this.Ff=Gr(this.Ff,23):this.Ff=$r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,24)},set:function(t){t?this.Ff=Gr(this.Ff,24):this.Ff=$r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,25)},set:function(t){t?this.Ff=Gr(this.Ff,25):this.Ff=$r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,26)},set:function(t){t?this.Ff=Gr(this.Ff,26):this.Ff=$r(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};to(Du,Ls);var sm=function(){Du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vr(this.Ff,14)},set:function(e){e?this.Ff=Gr(this.Ff,14):this.Ff=$r(this.Ff,14)}}),this.password=!0};to(sm,Du);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=gl(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Yw(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+en(Ct.internal.getWidth(e))+" "+en(Ct.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+en(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=gl(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Ct.internal.getHeight(e),o=Ct.internal.getWidth(e),l=Yw(e,e.caption);return i.push("1 g"),i.push("0 0 "+en(o)+" "+en(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+en(o-1)+" "+en(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+en(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=gl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+en(Ct.internal.getWidth(e))+" "+en(Ct.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Circle.YesNormal,t.D[e]=Ct.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=gl(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ct.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+wu(Ct.internal.getWidth(e)/2)+" "+wu(Ct.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=gl(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ct.internal.Bezier_C).toFixed(5)),o=Number((r*Ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wu(Ct.internal.getWidth(e)/2)+" "+wu(Ct.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+wu(Ct.internal.getWidth(e)/2)+" "+wu(Ct.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=gl(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wu(Ct.internal.getWidth(e)/2)+" "+wu(Ct.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Cross.YesNormal,t.D[e]=Ct.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=gl(e);t.scope=e.scope;var n=[],r=Ct.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+en(Ct.internal.getWidth(e)-2)+" "+en(Ct.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(en(r.x1.x)+" "+en(r.x1.y)+" m"),n.push(en(r.x2.x)+" "+en(r.x2.y)+" l"),n.push(en(r.x4.x)+" "+en(r.x4.y)+" m"),n.push(en(r.x3.x)+" "+en(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=gl(e);t.scope=e.scope;var n=Ct.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+en(Ct.internal.getWidth(e))+" "+en(Ct.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+en(Ct.internal.getWidth(e)-2)+" "+en(Ct.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(en(n.x1.x)+" "+en(n.x1.y)+" m"),r.push(en(n.x2.x)+" "+en(n.x2.y)+" l"),r.push(en(n.x4.x)+" "+en(n.x4.y)+" m"),r.push(en(n.x3.x)+" "+en(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=gl(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+en(Ct.internal.getWidth(e))+" "+en(Ct.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ct.internal.getWidth(e),n=Ct.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ct.internal.getWidth=function(e){var t=0;return Ln(e)==="object"&&(t=I3(e.Rect[2])),t},Ct.internal.getHeight=function(e){var t=0;return Ln(e)==="object"&&(t=I3(e.Rect[3])),t};var xae=Lr.addField=function(e){if(vae(this,e),!(e instanceof Ls))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Lr.AcroFormChoiceField=Ud,Lr.AcroFormListBox=Fd,Lr.AcroFormComboBox=zd,Lr.AcroFormEditBox=im,Lr.AcroFormButton=hi,Lr.AcroFormPushButton=am,Lr.AcroFormRadioButton=qd,Lr.AcroFormCheckBox=om,Lr.AcroFormTextField=Du,Lr.AcroFormPasswordField=sm,Lr.AcroFormAppearance=Ct,Lr.AcroForm={ChoiceField:Ud,ListBox:Fd,ComboBox:zd,EditBox:im,Button:hi,PushButton:am,RadioButton:qd,CheckBox:om,TextField:Du,PasswordField:sm,Appearance:Ct},Lt.AcroForm={ChoiceField:Ud,ListBox:Fd,ComboBox:zd,EditBox:im,Button:hi,PushButton:am,RadioButton:qd,CheckBox:om,TextField:Du,PasswordField:sm,Appearance:Ct};var bae=Lt.AcroForm;function oO(e){return e.reduce((function(t,n,r){return t[n]=r,t}),{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(R,O){var K,$,ne,z,Y,ee=t;if((O=O||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(U(R))for(Y in n)for(ne=n[Y],K=0;K<ne.length;K+=1){for(z=!0,$=0;$<ne[K].length;$+=1)if(ne[K][$]!==void 0&&ne[K][$]!==R[$]){z=!1;break}if(z===!0){ee=Y;break}}else for(Y in n)for(ne=n[Y],K=0;K<ne.length;K+=1){for(z=!0,$=0;$<ne[K].length;$+=1)if(ne[K][$]!==void 0&&ne[K][$]!==R.charCodeAt($)){z=!1;break}if(z===!0){ee=Y;break}}return ee===t&&O!==t&&(ee=O),ee},i=function R(O){for(var K=this.internal.write,$=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:O.width}),z.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var Y="",ee=0,se=O.transparency.length;ee<se;ee++)Y+=O.transparency[ee]+" "+O.transparency[ee]+" ";z.push({key:"Mask",value:"["+Y+"]"})}O.sMask!==void 0&&z.push({key:"SMask",value:O.objectId+1+" 0 R"});var X=O.filter!==void 0?["/"+O.filter]:void 0;if($({data:O.data,additionalKeyValues:z,alreadyAppliedFilters:X,objectId:O.objectId}),K("endobj"),"sMask"in O&&O.sMask!==void 0){var ie="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,V={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ie,data:O.sMask};"filter"in O&&(V.filter=O.filter),R.call(this,V)}if(O.colorSpace===A.INDEXED){var H=this.internal.newObject();$({data:F(new Uint8Array(O.palette)),objectId:H}),K("endobj")}},a=function(){var R=this.internal.collections.addImage_images;for(var O in R)i.call(this,R[O])},o=function(){var R,O=this.internal.collections.addImage_images,K=this.internal.write;for(var $ in O)K("/I"+(R=O[$]).index,R.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var R=this.internal.collections.addImage_images;return l.call(this),R},f=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(R){return typeof e["process"+R.toUpperCase()]=="function"},p=function(R){return Ln(R)==="object"&&R.nodeType===1},y=function(R,O){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var K=""+R.getAttribute("src");if(K.indexOf("data:image/")===0)return rm(unescape(K).split("base64,").pop());var $=e.loadFile(K,!0);if($!==void 0)return $}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var ne;switch(O){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return rm(R.toDataURL(ne,1).split("base64,").pop())}},g=function(R){var O=this.internal.collections.addImage_images;if(O){for(var K in O)if(R===O[K].alias)return O[K]}},w=function(R,O,K){return R||O||(R=-96,O=-96),R<0&&(R=-1*K.width*72/R/this.internal.scaleFactor),O<0&&(O=-1*K.height*72/O/this.internal.scaleFactor),R===0&&(R=O*K.width/K.height),O===0&&(O=R*K.height/K.width),[R,O]},N=function(R,O,K,$,ne,z){var Y=w.call(this,K,$,ne),ee=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,X=u.call(this);if(K=Y[0],$=Y[1],X[ne.index]=ne,z){z*=Math.PI/180;var ie=Math.cos(z),V=Math.sin(z),H=function(de){return de.toFixed(4)},re=[H(ie),H(V),H(-1*V),H(ie),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,ee(R),se(O+$),"cm"].join(" ")),this.internal.write(re.join(" ")),this.internal.write([ee(K),"0","0",ee($),"0","0","cm"].join(" "))):this.internal.write([ee(K),"0","0",ee($),ee(R),se(O+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(R){var O,K,$=0;if(typeof R=="string")for(K=R.length,O=0;O<K;O++)$=($<<5)-$+R.charCodeAt(O),$|=0;else if(U(R))for(K=R.byteLength/2,O=0;O<K;O++)$=($<<5)-$+R[O],$|=0;return $},P=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var O=!0;return R.length===0&&(O=!1),R.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(O=!1),O},M=e.__addimage__.extractImageFromDataUrl=function(R){var O=(R=R||"").split("base64,"),K=null;if(O.length===2){var $=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(O[0]);Array.isArray($)&&(K={mimeType:$[1],charset:$[2],data:O[1]})}return K},B=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(R){return B()&&R instanceof ArrayBuffer};var U=e.__addimage__.isArrayBufferView=function(R){return B()&&typeof Uint32Array<"u"&&(R instanceof Int8Array||R instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array)},D=e.__addimage__.binaryStringToUint8Array=function(R){for(var O=R.length,K=new Uint8Array(O),$=0;$<O;$++)K[$]=R.charCodeAt($);return K},F=e.__addimage__.arrayBufferToBinaryString=function(R){for(var O="",K=U(R)?R:new Uint8Array(R),$=0;$<K.length;$+=8192)O+=String.fromCharCode.apply(null,K.subarray($,$+8192));return O};e.addImage=function(){var R,O,K,$,ne,z,Y,ee,se;if(typeof arguments[1]=="number"?(O=t,K=arguments[1],$=arguments[2],ne=arguments[3],z=arguments[4],Y=arguments[5],ee=arguments[6],se=arguments[7]):(O=arguments[1],K=arguments[2],$=arguments[3],ne=arguments[4],z=arguments[5],Y=arguments[6],ee=arguments[7],se=arguments[8]),Ln(R=arguments[0])==="object"&&!p(R)&&"imageData"in R){var X=R;R=X.imageData,O=X.format||O||t,K=X.x||K||0,$=X.y||$||0,ne=X.w||X.width||ne,z=X.h||X.height||z,Y=X.alias||Y,ee=X.compression||ee,se=X.rotation||X.angle||se}var ie=this.internal.getFilters();if(ee===void 0&&ie.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(K)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var V=q.call(this,R,O,Y,ee);return N.call(this,K,$,ne,z,V,se),this};var q=function(R,O,K,$){var ne,z,Y;if(typeof R=="string"&&r(R)===t){R=unescape(R);var ee=G(R,!1);(ee!==""||(ee=e.loadFile(R,!0))!==void 0)&&(R=ee)}if(p(R)&&(R=y(R,O)),O=r(R,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((Y=K)==null||Y.length===0)&&(K=(function(se){return typeof se=="string"||U(se)?k(se):U(se.data)?k(se.data):null})(R)),(ne=g.call(this,K))||(B()&&(R instanceof Uint8Array||O==="RGBA"||(z=R,R=D(R))),ne=this["process"+O.toUpperCase()](R,f.call(this),K,(function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in e.image_compression?se:_.NONE})($),z)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},G=e.__addimage__.convertBase64ToBinaryString=function(R,O){var K;O=typeof O!="boolean"||O;var $,ne="";if(typeof R=="string"){$=(K=M(R))!==null?K.data:R;try{ne=rm($)}catch(z){if(O)throw P($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};e.getImageProperties=function(R){var O,K,$="";if(p(R)&&(R=y(R)),typeof R=="string"&&r(R)===t&&(($=G(R,!1))===""&&($=e.loadFile(R)||""),R=$),K=r(R),!h(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!B()||R instanceof Uint8Array||(R=D(R)),!(O=this["process"+K.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=K,O}})(Lt.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Lt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((r=f[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(N.objId),k=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(_(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+g(_(k))+") >>",N.content=a;var P=N.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(N.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var U=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(n),y:f(r),w:u(n+i),h:f(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,l,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(n,l).length;o=Math.ceil(f*h)}else l=u,o=f;return this.text(n,r,i,a),i+=.2*f,a.align==="center"&&(r-=u/2),a.align==="right"&&(r-=u),this.link(r,i-f,l,o,a),u},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Lt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=e.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&a(N)&&t[N.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&i.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&a(N)&&t[N.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&a(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&a(N)&&t[N.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&a(N)&&t[N.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(N){var A=0,_=n,k="",P=0;for(A=0;A<N.length;A+=1)_[N.charCodeAt(A)]!==void 0?(P++,typeof(_=_[N.charCodeAt(A)])=="number"&&(k+=String.fromCharCode(_),_=n,P=0),A===N.length-1&&(_=n,k+=N.charAt(A-(P-1)),A-=P-1,P=0)):(_=n,k+=N.charAt(A-P),A-=P,P=0);return k};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(N,A,_){return o(N)?a(N)===!1?-1:!f(N)||!o(A)&&!o(_)||!o(_)&&l(A)||l(N)&&!o(A)||l(N)&&u(A)||l(N)&&l(A)?0:h(N)&&o(A)&&!l(A)&&o(_)&&f(_)?3:l(N)||!o(_)?1:2:-1},g=function(N){var A=0,_=0,k=0,P="",M="",B="",U=(N=N||"").split("\\s+"),D=[];for(A=0;A<U.length;A+=1){for(D.push(""),_=0;_<U[A].length;_+=1)P=U[A][_],M=U[A][_-1],B=U[A][_+1],o(P)?(k=y(P,M,B),D[A]+=k!==-1?String.fromCharCode(t[P.charCodeAt(0)][k]):P):D[A]+=P;D[A]=p(D[A])}return D.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var N,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(A)){var k=0;for(_=[],k=0;k<A.length;k+=1)Array.isArray(A[k])?_.push([g(A[k][0]),A[k][1],A[k][2]]):_.push([g(A[k])]);N=_}else N=g(A);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",w])})(Lt.API),Lt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Lt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(N){w=N}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,g=0,w=0,N=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var _=f.maxWidth;_>0?typeof u=="string"?u=this.splitTextToSize(u,_):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce((function(P,M){return P.concat(A.splitTextToSize(M,_))}),[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)g<(N=this.getStringUnitWidth(u[k],{font:p})*h)&&(g=N);return g!==0&&(w=u.length),{w:g/=y,h:Math.max((w*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=p.top,g&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-h,u.y+h,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+h,{align:"center",baseline:"top",maxWidth:u.width-h-h}):this.text(u.text,u.x+h,u.y+h,{align:"left",baseline:"top",maxWidth:u.width-h-h})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,h,p,y){if(r.call(this),!h)throw new Error("No data for PDF table.");var g,w,N,A,_=[],k=[],P=[],M={},B={},U=[],D=[],F=(y=y||{}).autoSize||!1,q=y.printHeaders!==!1,G=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,R=y.margins||Object.assign({width:this.getPageWidth()},t),O=typeof y.padding=="number"?y.padding:3,K=y.headerBackgroundColor||"#c8c8c8",$=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=$,this.setFontSize(G),p==null)k=_=Object.keys(h[0]),P=_.map((function(){return"left"}));else if(Array.isArray(p)&&Ln(p[0])==="object")for(_=p.map((function(X){return X.name})),k=p.map((function(X){return X.prompt||X.name||""})),P=p.map((function(X){return X.align||"left"})),g=0;g<p.length;g+=1)B[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(k=_=p,P=_.map((function(){return"left"})));if(F||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<_.length;g+=1){for(M[A=_[g]]=h.map((function(X){return X[A]})),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(k[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=M[A],this.setFont(void 0,"normal"),N=0;N<w.length;N+=1)U.push(this.getTextDimensions(w[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[A]=Math.max.apply(null,U)+O+O,U=[]}if(q){var ne={};for(g=0;g<_.length;g+=1)ne[_[g]]={},ne[_[g]].text=k[g],ne[_[g]].align=P[g];var z=l.call(this,ne,B);D=_.map((function(X){return new a(u,f,B[X],z,ne[X].text,void 0,ne[X].align)})),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var Y=p.reduce((function(X,ie){return X[ie.name]=ie.align,X}),{});for(g=0;g<h.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:h[g]},this);var ee=l.call(this,h[g],B);for(N=0;N<_.length;N+=1){var se=h[g][_[N]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:N,data:se},this),o.call(this,new a(u,f,B[_[N]],ee,se,g+2,Y[_[N]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map((function(g){var w=u[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[g]-h-h)}),this).map((function(g){return this.getLineHeightFactor()*g.length*p/y+h+h}),this).reduce((function(g,w){return Math.max(g,w)}),0)};e.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(w)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(Lt.API);var sO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kw=oO(lO),cO=[100,200,300,400,500,600,700,800,900],wae=oO(cO);function Jw(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return sO[a=a||"normal"]?a:"normal"})(e.style),r=(function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}})(e.weight),i=(function(a){return typeof Kw[a=a||"normal"]=="number"?a:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function M3(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Nae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},D3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function R3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Sae(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Nae,n.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=Jw(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+R3(a)+"' and default family '"+r+"'.");if(o=(function(u,f){if(f[u])return f[u];var h=Kw[u],p=h<=Kw.normal?-1:1,y=M3(f,lO,h,p);if(!y)throw new Error("Could not find a matching font-stretch value for "+u);return y})(a.stretch,o),o=(function(u,f){if(f[u])return f[u];for(var h=sO[u],p=0;p<h.length;++p)if(f[h[p]])return f[h[p]];throw new Error("Could not find a matching font-style for "+u)})(a.style,o),!(o=(function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var h=wae[u],p=M3(f,cO,h,u<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+u);return p})(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+R3(a)+"'.");return o}function L3(e){return e.trimLeft()}function Aae(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function _ae(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var mg,O3,B3,l2=["times"];(function(e){var t,n,r,i,a,o,l,u,f,h=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new u,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new h}]);var p=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=V;Object.defineProperty(this,"pdf",{get:function(){return H}});var re=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return re},set:function(Pe){re=!!Pe}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(Pe){de=!!Pe}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(Pe){isNaN(Pe)||(fe=Pe)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Pe){isNaN(Pe)||(pe=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Pe){var ge;typeof Pe=="number"?ge=[Pe,Pe,Pe,Pe]:((ge=new Array(4))[0]=Pe[0],ge[1]=Pe.length>=2?Pe[1]:ge[0],ge[2]=Pe.length>=3?Pe[2]:ge[0],ge[3]=Pe.length>=4?Pe[3]:ge[1]),f.margin=ge}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Pe){he=Pe}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(Pe){te=Pe}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(Pe){me=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Pe){Pe instanceof h&&(f=Pe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Pe){f.path=Pe}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Pe){xe=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var ge;ge=y(Pe),this.ctx.fillStyle=ge.style,this.ctx.isFillTransparent=ge.a===0,this.ctx.fillOpacity=ge.a,this.pdf.setFillColor(ge.r,ge.g,ge.b,{a:ge.a}),this.pdf.setTextColor(ge.r,ge.g,ge.b,{a:ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var ge=y(Pe);this.ctx.strokeStyle=ge.style,this.ctx.isStrokeTransparent=ge.a===0,this.ctx.strokeOpacity=ge.a,ge.a===0?this.pdf.setDrawColor(255,255,255):(ge.a,this.pdf.setDrawColor(ge.r,ge.g,ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var we=null;function Ue(Pe,ge){if(we===null){var mt=(function(ot){var tt=[];return Object.keys(ot).forEach((function(it){ot[it].forEach((function(ct){var ut=null;switch(ct){case"bold":ut={family:it,weight:"bold"};break;case"italic":ut={family:it,style:"italic"};break;case"bolditalic":ut={family:it,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:it}}ut!==null&&(ut.ref={name:it,style:ct},tt.push(ut))}))})),tt})(Pe.getFontList());we=(function(ot){for(var tt={},it=0;it<ot.length;++it){var ct=Jw(ot[it]),ut=ct.family,kt=ct.stretch,Nt=ct.style,Ot=ct.weight;tt[ut]=tt[ut]||{},tt[ut][kt]=tt[ut][kt]||{},tt[ut][kt][Nt]=tt[ut][kt][Nt]||{},tt[ut][kt][Nt][Ot]=ct}return tt})(mt.concat(ge))}return we}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(Pe){we=null,Ye=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var ge;if(this.ctx.font=Pe,(ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var mt=ge[1],ot=(ge[2],ge[3]),tt=ge[4],it=(ge[5],ge[6]),ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(ct==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:ct==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var ut=(function(dt){var vt,lt,Bn=[],qt=dt.trim();if(qt==="")return l2;if(qt in D3)return[D3[qt]];for(;qt!=="";){switch(lt=null,vt=(qt=L3(qt)).charAt(0)){case'"':case"'":lt=Aae(qt.substring(1),vt);break;default:lt=_ae(qt)}if(lt===null||(Bn.push(lt[0]),(qt=L3(lt[1]))!==""&&qt.charAt(0)!==","))return l2;qt=qt.replace(/^,/,"")}return Bn})(it);if(this.fontFaces){var kt=Sae(Ue(this.pdf,this.fontFaces),ut.map((function(dt){return{family:dt,stretch:"normal",weight:ot,style:mt}})));this.pdf.setFont(kt.ref.name,kt.ref.style)}else{var Nt="";(ot==="bold"||parseInt(ot,10)>=700||mt==="bold")&&(Nt="bold"),mt==="italic"&&(Nt+="italic"),Nt.length===0&&(Nt="normal");for(var Ot="",De={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<ut.length;Qe++){if(this.pdf.internal.getFont(ut[Qe],Nt,{noFallback:!0,disableWarning:!0})!==void 0){Ot=ut[Qe];break}if(Nt==="bolditalic"&&this.pdf.internal.getFont(ut[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=ut[Qe],Nt="bold";else if(this.pdf.internal.getFont(ut[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=ut[Qe],Nt="normal";break}}if(Ot===""){for(var ht=0;ht<ut.length;ht++)if(De[ut[ht]]){Ot=De[ut[ht]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,Nt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};p.prototype.setLineDash=function(V){this.lineDash=V},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){M.call(this,"fill",!1)},p.prototype.stroke=function(){M.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(V,H){if(isNaN(V)||isNaN(H))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var re=this.ctx.transform.applyToPoint(new o(V,H));this.path.push({type:"mt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(V,H)},p.prototype.closePath=function(){var V=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Ln(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){V=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},p.prototype.lineTo=function(V,H){if(isNaN(V)||isNaN(H))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var re=this.ctx.transform.applyToPoint(new o(V,H));this.path.push({type:"lt",x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},p.prototype.quadraticCurveTo=function(V,H,re,de){if(isNaN(re)||isNaN(de)||isNaN(V)||isNaN(H))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(re,de)),pe=this.ctx.transform.applyToPoint(new o(V,H));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},p.prototype.bezierCurveTo=function(V,H,re,de,fe,pe){if(isNaN(fe)||isNaN(pe)||isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(fe,pe)),te=this.ctx.transform.applyToPoint(new o(V,H)),me=this.ctx.transform.applyToPoint(new o(re,de));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:me.x,y2:me.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},p.prototype.arc=function(V,H,re,de,fe,pe){if(isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de)||isNaN(fe))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(V,H));V=he.x,H=he.y;var te=this.ctx.transform.applyToPoint(new o(0,re)),me=this.ctx.transform.applyToPoint(new o(0,0));re=Math.sqrt(Math.pow(te.x-me.x,2)+Math.pow(te.y-me.y,2))}Math.abs(fe-de)>=2*Math.PI&&(de=0,fe=2*Math.PI),this.path.push({type:"arc",x:V,y:H,radius:re,startAngle:de,endAngle:fe,counterclockwise:pe})},p.prototype.arcTo=function(V,H,re,de,fe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(V,H,re,de){if(isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,H),this.lineTo(V+re,H),this.lineTo(V+re,H+de),this.lineTo(V,H+de),this.lineTo(V,H),this.lineTo(V+re,H),this.lineTo(V,H)},p.prototype.fillRect=function(V,H,re,de){if(isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,H,re,de),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},p.prototype.strokeRect=function(V,H,re,de){if(isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(V,H,re,de),this.stroke())},p.prototype.clearRect=function(V,H,re,de){if(isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,H,re,de))},p.prototype.save=function(V){V=typeof V!="boolean"||V;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},p.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,re=0;re<this.pdf.internal.getNumberOfPages();re++)this.pdf.setPage(re+1),this.pdf.internal.out("Q");this.pdf.setPage(H),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(V){var H,re,de,fe;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))H=0,re=0,de=0,fe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(pe!==null)H=parseInt(pe[1]),re=parseInt(pe[2]),de=parseInt(pe[3]),fe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)H=parseInt(pe[1]),re=parseInt(pe[2]),de=parseInt(pe[3]),fe=parseFloat(pe[4]);else{if(fe=1,typeof V=="string"&&V.charAt(0)!=="#"){var he=new eO(V);V=he.ok?he.toHex():"#000000"}V.length===4?(H=V.substring(1,2),H+=H,re=V.substring(2,3),re+=re,de=V.substring(3,4),de+=de):(H=V.substring(1,3),re=V.substring(3,5),de=V.substring(5,7)),H=parseInt(H,16),re=parseInt(re,16),de=parseInt(de,16)}}return{r:H,g:re,b:de,a:fe,style:V}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(V,H,re,de){if(isNaN(H)||isNaN(re)||typeof V!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!g.call(this)){var fe=ee(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;O.call(this,{text:V,x:H,y:re,scale:pe,angle:fe,align:this.textAlign,maxWidth:de})}},p.prototype.strokeText=function(V,H,re,de){if(isNaN(H)||isNaN(re)||typeof V!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){de=isNaN(de)?void 0:de;var fe=ee(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;O.call(this,{text:V,x:H,y:re,scale:pe,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:de})}},p.prototype.measureText=function(V){if(typeof V!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,re=this.pdf.internal.scaleFactor,de=H.internal.getFontSize(),fe=H.getStringUnitWidth(V)*de/H.internal.scaleFactor,pe=function(he){var te=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new pe({width:fe*=Math.round(96*re/72*1e4)/1e4})},p.prototype.scale=function(V,H){if(isNaN(V)||isNaN(H))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var re=new u(V,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.rotate=function(V){if(isNaN(V))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.translate=function(V,H){if(isNaN(V)||isNaN(H))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var re=new u(1,0,0,1,V,H);this.ctx.transform=this.ctx.transform.multiply(re)},p.prototype.transform=function(V,H,re,de,fe,pe){if(isNaN(V)||isNaN(H)||isNaN(re)||isNaN(de)||isNaN(fe)||isNaN(pe))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new u(V,H,re,de,fe,pe);this.ctx.transform=this.ctx.transform.multiply(he)},p.prototype.setTransform=function(V,H,re,de,fe,pe){V=isNaN(V)?1:V,H=isNaN(H)?0:H,re=isNaN(re)?0:re,de=isNaN(de)?1:de,fe=isNaN(fe)?0:fe,pe=isNaN(pe)?0:pe,this.ctx.transform=new u(V,H,re,de,fe,pe)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(V,H,re,de,fe,pe,he,te,me){var xe=this.pdf.getImageProperties(V),we=1,Ue=1,Ye=1,Pe=1;de!==void 0&&te!==void 0&&(Ye=te/de,Pe=me/fe,we=xe.width/de*te/de,Ue=xe.height/fe*me/fe),pe===void 0&&(pe=H,he=re,H=0,re=0),de!==void 0&&te===void 0&&(te=de,me=fe),de===void 0&&te===void 0&&(te=xe.width,me=xe.height);for(var ge,mt=this.ctx.transform.decompose(),ot=ee(mt.rotate.shx),tt=new u,it=(tt=(tt=(tt=tt.multiply(mt.translate)).multiply(mt.skew)).multiply(mt.scale)).applyToRectangle(new l(pe-H*Ye,he-re*Pe,de*we,fe*Ue)),ct=A.call(this,it),ut=[],kt=0;kt<ct.length;kt+=1)ut.indexOf(ct[kt])===-1&&ut.push(ct[kt]);if(P(ut),this.autoPaging)for(var Nt=ut[0],Ot=ut[ut.length-1],De=Nt;De<Ot+1;De++){this.pdf.setPage(De);var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=De===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=De===1?0:dt+(De-2)*vt;if(this.ctx.clip_path.length!==0){var Bn=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ge,this.posX+this.margin[3],-lt+ht+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Bn}var qt=JSON.parse(JSON.stringify(it));qt=k([qt],this.posX+this.margin[3],-lt+ht+this.ctx.prevPageLastElemOffset)[0];var vn=(De>Nt||De<Ot)&&N.call(this);vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,vt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,ot),vn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",it.x,it.y,it.w,it.h,null,null,ot)};var A=function(V,H,re){var de=[];H=H||this.pdf.internal.pageSize.width,re=re||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":de.push(Math.floor((V.y+fe)/re)+1);break;case"arc":de.push(Math.floor((V.y+fe-V.radius)/re)+1),de.push(Math.floor((V.y+fe+V.radius)/re)+1);break;case"qct":var pe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);de.push(Math.floor((pe.y+fe)/re)+1),de.push(Math.floor((pe.y+pe.h+fe)/re)+1);break;case"bct":var he=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);de.push(Math.floor((he.y+fe)/re)+1),de.push(Math.floor((he.y+he.h+fe)/re)+1);break;case"rect":de.push(Math.floor((V.y+fe)/re)+1),de.push(Math.floor((V.y+V.h+fe)/re)+1)}for(var te=0;te<de.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<de[te];)_.call(this);return de},_=function(){var V=this.fillStyle,H=this.strokeStyle,re=this.font,de=this.lineCap,fe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=H,this.font=re,this.lineCap=de,this.lineWidth=fe,this.lineJoin=pe},k=function(V,H,re){for(var de=0;de<V.length;de++)switch(V[de].type){case"bct":V[de].x2+=H,V[de].y2+=re;case"qct":V[de].x1+=H,V[de].y1+=re;case"mt":case"lt":case"arc":default:V[de].x+=H,V[de].y+=re}return V},P=function(V){return V.sort((function(H,re){return H-re}))},M=function(V,H){for(var re,de,fe=this.fillStyle,pe=this.strokeStyle,he=this.lineCap,te=this.lineWidth,me=Math.abs(te*this.ctx.transform.scaleX),xe=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Ye=[],Pe=0;Pe<Ue.length;Pe++)if(Ue[Pe].x!==void 0)for(var ge=A.call(this,Ue[Pe]),mt=0;mt<ge.length;mt+=1)Ye.indexOf(ge[mt])===-1&&Ye.push(ge[mt]);for(var ot=0;ot<Ye.length;ot++)for(;this.pdf.internal.getNumberOfPages()<Ye[ot];)_.call(this);if(P(Ye),this.autoPaging)for(var tt=Ye[0],it=Ye[Ye.length-1],ct=tt;ct<it+1;ct++){this.pdf.setPage(ct),this.fillStyle=fe,this.strokeStyle=pe,this.lineCap=he,this.lineWidth=me,this.lineJoin=xe;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=ct===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=ct===1?0:Nt+(ct-2)*Ot;if(this.ctx.clip_path.length!==0){var Qe=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(re,this.posX+this.margin[3],-De+kt+this.ctx.prevPageLastElemOffset),B.call(this,V,!0),this.path=Qe}if(de=JSON.parse(JSON.stringify(we)),this.path=k(de,this.posX+this.margin[3],-De+kt+this.ctx.prevPageLastElemOffset),H===!1||ct===0){var ht=(ct>tt||ct<it)&&N.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Ot,null).clip().discardPath()),B.call(this,V,H),ht&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=me,B.call(this,V,H),this.lineWidth=te;this.path=we},B=function(V,H){if((V!=="stroke"||H||!w.call(this))&&(V==="stroke"||H||!g.call(this))){for(var re,de,fe=[],pe=this.path,he=0;he<pe.length;he++){var te=pe[he];switch(te.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:te,deltas:[],abs:[]});break;case"lt":var me=fe.length;if(pe[he-1]&&!isNaN(pe[he-1].x)&&(re=[te.x-pe[he-1].x,te.y-pe[he-1].y],me>0)){for(;me>=0;me--)if(fe[me-1].close!==!0&&fe[me-1].begin!==!0){fe[me-1].deltas.push(re),fe[me-1].abs.push(te);break}}break;case"bct":re=[te.x1-pe[he-1].x,te.y1-pe[he-1].y,te.x2-pe[he-1].x,te.y2-pe[he-1].y,te.x-pe[he-1].x,te.y-pe[he-1].y],fe[fe.length-1].deltas.push(re);break;case"qct":var xe=pe[he-1].x+2/3*(te.x1-pe[he-1].x),we=pe[he-1].y+2/3*(te.y1-pe[he-1].y),Ue=te.x+2/3*(te.x1-te.x),Ye=te.y+2/3*(te.y1-te.y),Pe=te.x,ge=te.y;re=[xe-pe[he-1].x,we-pe[he-1].y,Ue-pe[he-1].x,Ye-pe[he-1].y,Pe-pe[he-1].x,ge-pe[he-1].y],fe[fe.length-1].deltas.push(re);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(te)}}de=H?null:V==="stroke"?"stroke":"fill";for(var mt=!1,ot=0;ot<fe.length;ot++)if(fe[ot].arc)for(var tt=fe[ot].abs,it=0;it<tt.length;it++){var ct=tt[it];ct.type==="arc"?F.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,H,!mt):K.call(this,ct.x,ct.y),mt=!0}else if(fe[ot].close===!0)this.pdf.internal.out("h"),mt=!1;else if(fe[ot].begin!==!0){var ut=fe[ot].start.x,kt=fe[ot].start.y;$.call(this,fe[ot].deltas,ut,kt),mt=!0}de&&q.call(this,de),H&&G.call(this)}},U=function(V){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,re=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-re;case"top":return V+H-re;case"hanging":return V+H-2*re;case"middle":return V+H/2-re;case"ideographic":return V;case"alphabetic":default:return V}},D=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(H,re){this.colorStops.push([H,re])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(V,H,re,de,fe,pe,he,te,me){for(var xe=z.call(this,re,de,fe,pe),we=0;we<xe.length;we++){var Ue=xe[we];we===0&&(me?R.call(this,Ue.x1+V,Ue.y1+H):K.call(this,Ue.x1+V,Ue.y1+H)),ne.call(this,V,H,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}te?G.call(this):q.call(this,he)},q=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(V,H){this.pdf.internal.out(n(V)+" "+r(H)+" m")},O=function(V){var H;switch(V.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var re=this.pdf.getTextDimensions(V.text),de=U.call(this,V.y),fe=D.call(this,de)-re.h,pe=this.ctx.transform.applyToPoint(new o(V.x,de)),he=this.ctx.transform.decompose(),te=new u;te=(te=(te=te.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var me,xe,we,Ue=this.ctx.transform.applyToRectangle(new l(V.x,de,re.w,re.h)),Ye=te.applyToRectangle(new l(V.x,fe,re.w,re.h)),Pe=A.call(this,Ye),ge=[],mt=0;mt<Pe.length;mt+=1)ge.indexOf(Pe[mt])===-1&&ge.push(Pe[mt]);if(P(ge),this.autoPaging)for(var ot=ge[0],tt=ge[ge.length-1],it=ot;it<tt+1;it++){this.pdf.setPage(it);var ct=it===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Nt=kt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],De=Ot-this.margin[3],Qe=it===1?0:ut+(it-2)*Nt;if(this.ctx.clip_path.length!==0){var ht=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(me,this.posX+this.margin[3],-1*Qe+ct),B.call(this,"fill",!0),this.path=ht}var dt=k([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Qe+ct+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*V.scale),we=this.lineWidth,this.lineWidth=we*V.scale);var vt=this.autoPaging!=="text";if(vt||dt.y+dt.h<=kt){if(vt||dt.y>=ct&&dt.x<=Ot){var lt=vt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ot-dt.x)[0],Bn=k([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Qe+ct+this.ctx.prevPageLastElemOffset)[0],qt=vt&&(it>ot||it<tt)&&N.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,Nt,null).clip().discardPath()),this.pdf.text(lt,Bn.x,Bn.y,{angle:V.angle,align:H,renderingMode:V.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else dt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-dt.y);V.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=we)}else V.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*V.scale),we=this.lineWidth,this.lineWidth=we*V.scale),this.pdf.text(V.text,pe.x+this.posX,pe.y+this.posY,{angle:V.angle,align:H,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=we)},K=function(V,H,re,de){re=re||0,de=de||0,this.pdf.internal.out(n(V+re)+" "+r(H+de)+" l")},$=function(V,H,re){return this.pdf.lines(V,H,re,null,null)},ne=function(V,H,re,de,fe,pe,he,te){this.pdf.internal.out([t(i(re+V)),t(a(de+H)),t(i(fe+V)),t(a(pe+H)),t(i(he+V)),t(a(te+H)),"c"].join(" "))},z=function(V,H,re,de){for(var fe=2*Math.PI,pe=Math.PI/2;H>re;)H-=fe;var he=Math.abs(re-H);he<fe&&de&&(he=fe-he);for(var te=[],me=de?-1:1,xe=H;he>1e-5;){var we=xe+me*Math.min(he,pe);te.push(Y.call(this,V,xe,we)),he-=Math.abs(we-xe),xe=we}return te},Y=function(V,H,re){var de=(re-H)/2,fe=V*Math.cos(de),pe=V*Math.sin(de),he=fe,te=-pe,me=he*he+te*te,xe=me+he*fe+te*pe,we=4/3*(Math.sqrt(2*me*xe)-xe)/(he*pe-te*fe),Ue=he-we*te,Ye=te+we*he,Pe=Ue,ge=-Ye,mt=de+H,ot=Math.cos(mt),tt=Math.sin(mt);return{x1:V*Math.cos(H),y1:V*Math.sin(H),x2:Ue*ot-Ye*tt,y2:Ue*tt+Ye*ot,x3:Pe*ot-ge*tt,y3:Pe*tt+ge*ot,x4:V*Math.cos(re),y4:V*Math.sin(re)}},ee=function(V){return 180*V/Math.PI},se=function(V,H,re,de,fe,pe){var he=V+.5*(re-V),te=H+.5*(de-H),me=fe+.5*(re-fe),xe=pe+.5*(de-pe),we=Math.min(V,fe,he,me),Ue=Math.max(V,fe,he,me),Ye=Math.min(H,pe,te,xe),Pe=Math.max(H,pe,te,xe);return new l(we,Ye,Ue-we,Pe-Ye)},X=function(V,H,re,de,fe,pe,he,te){var me,xe,we,Ue,Ye,Pe,ge,mt,ot,tt,it,ct,ut,kt,Nt=re-V,Ot=de-H,De=fe-re,Qe=pe-de,ht=he-fe,dt=te-pe;for(xe=0;xe<41;xe++)ot=(ge=(we=V+(me=xe/40)*Nt)+me*((Ye=re+me*De)-we))+me*(Ye+me*(fe+me*ht-Ye)-ge),tt=(mt=(Ue=H+me*Ot)+me*((Pe=de+me*Qe)-Ue))+me*(Pe+me*(pe+me*dt-Pe)-mt),xe==0?(it=ot,ct=tt,ut=ot,kt=tt):(it=Math.min(it,ot),ct=Math.min(ct,tt),ut=Math.max(ut,ot),kt=Math.max(kt,tt));return new l(Math.round(it),Math.round(ct),Math.round(ut-it),Math.round(kt-ct))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,H,re=(V=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:H}));this.prevLineDash!==re&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=re)}}})(Lt.API),(function(e){var t=function(a){var o,l,u,f,h,p,y,g,w,N;for(l=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(h=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(N=h%85))/85)-(w=h%85))/85)-(g=h%85))/85)-(y=h%85))/85)%85,l.push(p+33,y+33,g+33,w+33,N+33)):l.push(122);return(function(A,_){for(var k=_;k>0;k--)A.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,u,f,h,p=String,y="length",g=255,w="charCodeAt",N="slice",A="replace";for(a[N](-2),a=a[N](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),u=[],f=0,h=(a+=o="uuuuu"[N](a[y]%5||5))[y];h>f;f+=5)l=52200625*(a[w](f)-33)+614125*(a[w](f+1)-33)+7225*(a[w](f+2)-33)+85*(a[w](f+3)-33)+(a[w](f+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(_,k){for(var P=k;P>0;P--)_.pop()})(u,o[y]),p.fromCharCode.apply(p,u)},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=Vw(o)).reduce((function(u,f){return u+String.fromCharCode(f)}),"")};e.processDataByFilters=function(a,o){var l=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map((function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)})).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(Lt.API),(function(e){e.loadFile=function(t,n,r){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(u,f,h){var p=new XMLHttpRequest,y=0,g=function(w){var N=w.length,A=[],_=String.fromCharCode;for(y=0;y<N;y+=1)A.push(_(255&w.charCodeAt(y)));return A.join("")};if(p.open("GET",u,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(g(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return g(p.responseText)})(i,a,o)}catch{}return l})(t,n,r)},e.loadImageFile=e.loadFile})(Lt.API),(function(e){function t(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):Bw(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function n(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):Bw(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var r=function(o){var l=Ln(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(n).then((function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function u(f,h){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)h!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(u(y,h));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",(function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft}),!0)),p})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then((function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var g=f[y],w=g.src.find((function(N){return N.format==="truetype"}));w&&u.addFont(w.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map((function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}}),this);return this.then((function(){return this.thenList(l)}))},a.prototype.get=function(o,l){return this.then((function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u}))},a.prototype.setMargin=function(o){return this.then((function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,f){return Math.floor(u*f/72*96)}return this.then((function(){(o=o||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},a.prototype.setProgress=function(o,l,u,f){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,f){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,(function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,(function(p){return u.updateProgress(null,f),p})).then(f,h).then((function(p){return u.updateProgress(1),p}))}))},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=u.call(f,o,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach((function(u){l=l.thenCore(u)})),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Lt.getPageSize=function(o,l,u){if(Ln(o)==="object"){var f=o;o=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var g,w=0,N=0;if(y.hasOwnProperty(p))w=y[p][1]/h,N=y[p][0]/h;else try{w=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",N>w&&(g=N,N=w,w=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>N&&(g=N,N=w,w=g)}return{width:N,height:w,unit:l,k:h,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Jw):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}})(Lt.API),Lt.API.addJS=function(e){return B3=e,this.internal.events.subscribe("postPutResources",(function(){mg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),O3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+B3+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){mg!==void 0&&O3!==void 0&&this.internal.out("/Names <</JavaScript "+mg+" 0 R>>")})),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=r.exec(o);if(l!=null){var u=l[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(a=0;a<f;a++){var p=n.internal.newObject();h.push(p);var y=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<h.length;a++)n.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Lt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,l){var u,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=(function(p){for(var y,g=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,N={width:0,height:0,numcomponents:1},A=4;A<w;A+=2){if(A+=g,t.indexOf(p.charCodeAt(A+1))!==-1){y=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),N={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:y,numcomponents:p.charCodeAt(A+9)};break}g=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return N})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:n,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}})(Lt.API);var th,gg,U3,F3,z3,Cae=(function(){var e,t,n;function r(a){var o,l,u,f,h,p,y,g,w,N,A,_,k,P;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),w=(function(){var M,B;for(B=[],M=0;M<4;++M)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),f=this.readUInt16()||100,p.delay=1e3*h/f,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),a=(p!=null?p.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((N=u-this.transparency.indexed.length)>0)for(k=0;0<=N?k<N:k>N;0<=N?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(A=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,A.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,A.slice(y+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(p,y,g,w){var N,A,_,k,P,M,B,U,D,F,q,G,R,O,K,$,ne,z,Y,ee,se,X=Math.ceil((f.width-p)/g),ie=Math.ceil((f.height-y)/w),V=f.width==X&&f.height==ie;for(O=o*X,G=V?l:new Uint8Array(O*ie),M=a.length,R=0,A=0;R<ie&&u<M;){switch(a[u++]){case 0:for(k=ne=0;ne<O;k=ne+=1)G[A++]=a[u++];break;case 1:for(k=z=0;z<O;k=z+=1)N=a[u++],P=k<o?0:G[A-o],G[A++]=(N+P)%256;break;case 2:for(k=Y=0;Y<O;k=Y+=1)N=a[u++],_=(k-k%o)/o,K=R&&G[(R-1)*O+_*o+k%o],G[A++]=(K+N)%256;break;case 3:for(k=ee=0;ee<O;k=ee+=1)N=a[u++],_=(k-k%o)/o,P=k<o?0:G[A-o],K=R&&G[(R-1)*O+_*o+k%o],G[A++]=(N+Math.floor((P+K)/2))%256;break;case 4:for(k=se=0;se<O;k=se+=1)N=a[u++],_=(k-k%o)/o,P=k<o?0:G[A-o],R===0?K=$=0:(K=G[(R-1)*O+_*o+k%o],$=_&&G[(R-1)*O+(_-1)*o+k%o]),B=P+K-$,U=Math.abs(B-P),F=Math.abs(B-K),q=Math.abs(B-$),D=U<=F&&U<=q?P:F<=q?K:$,G[A++]=(N+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!V){var H=((y+R*w)*f.width+p)*o,re=R*O;for(k=0;k<X;k+=1){for(var de=0;de<o;de+=1)l[H++]=G[re++];H+=(g-1)*o}}R++}}return a=aae(a),f.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,o,l,u,f,h,p,y,g;for(l=this.palette,h=this.transparency.indexed||[],f=new Uint8Array((h.length||0)+l.length),u=0,a=0,o=p=0,y=l.length;p<y;o=p+=3)f[u++]=l[o],f[u++]=l[o+1],f[u++]=l[o+2],f[u++]=(g=h[a++])!=null?g:255;return f},r.prototype.copyToImageData=function(a,o){var l,u,f,h,p,y,g,w,N,A,_;if(u=this.colors,N=null,l=this.hasAlphaChannel,this.palette.length&&(N=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),u=4,l=!0),w=(f=a.data||a).length,p=N||o,h=y=0,u===1)for(;h<w;)g=N?4*o[h/4]:y,A=p[g++],f[h++]=A,f[h++]=A,f[h++]=A,f[h++]=l?p[g++]:255,y=g;else for(;h<w;)g=N?4*o[h/4]:y,f[h++]=p[g++],f[h++]=p[g++],f[h++]=p[g++],f[h++]=l?p[g++]:255,y=g},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{t=Ht.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var o,l,u,f,h,p,y,g;if(this.animation){for(g=[],l=h=0,p=(y=this.animation.frames).length;h<p;l=++h)o=y[l],u=a.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,f),o.imageData=u,g.push(o.image=e(u));return g}},r.prototype.renderFrame=function(a,o){var l,u,f;return l=(u=this.animation.frames)[o],f=u[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var o,l,u,f,h,p,y=this;return l=0,p=this.animation,f=p.numFrames,u=p.frames,h=p.numPlays,(o=function(){var g,w;if(g=l++%f,w=u[g],y.renderFrame(a,g),f>1&&l/f<h)return y.animation._timeout=setTimeout(o,w.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Eae(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,u=null;a&&(l=t,u=o,t+=3*o);var f=!0,h=[],p=0,y=null,g=0,w=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];p=e[t++]|e[t++]<<8,y=e[t++],(1&N)==0&&(y=null),g=N>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,M=e[t++],B=M>>6&1,U=1<<(7&M)+1,D=l,F=u,q=!1;M>>7&&(q=!0,D=t,F=U,t+=3*U);var G=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:A,y:_,width:k,height:P,has_local_palette:q,palette_offset:D,palette_size:F,data_offset:G,data_length:t-G,transparent_index:y,interlaced:!!B,delay:p,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return w},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,K){var $=this.frameInfo(O),ne=$.width*$.height,z=new Uint8Array(ne);q3(e,$.data_offset,z,ne);var Y=$.palette_offset,ee=$.transparent_index;ee===null&&(ee=256);var se=$.width,X=n-se,ie=se,V=4*($.y*n+$.x),H=4*(($.y+$.height)*n+$.x),re=V,de=4*X;$.interlaced===!0&&(de+=4*n*7);for(var fe=8,pe=0,he=z.length;pe<he;++pe){var te=z[pe];if(ie===0&&(ie=se,(re+=de)>=H&&(de=4*X+4*n*(fe-1),re=V+(se+X)*(fe<<1),fe>>=1)),te===ee)re+=4;else{var me=e[Y+3*te],xe=e[Y+3*te+1],we=e[Y+3*te+2];K[re++]=we,K[re++]=xe,K[re++]=me,K[re++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(O,K){var $=this.frameInfo(O),ne=$.width*$.height,z=new Uint8Array(ne);q3(e,$.data_offset,z,ne);var Y=$.palette_offset,ee=$.transparent_index;ee===null&&(ee=256);var se=$.width,X=n-se,ie=se,V=4*($.y*n+$.x),H=4*(($.y+$.height)*n+$.x),re=V,de=4*X;$.interlaced===!0&&(de+=4*n*7);for(var fe=8,pe=0,he=z.length;pe<he;++pe){var te=z[pe];if(ie===0&&(ie=se,(re+=de)>=H&&(de=4*X+4*n*(fe-1),re=V+(se+X)*(fe<<1),fe>>=1)),te===ee)re+=4;else{var me=e[Y+3*te],xe=e[Y+3*te+1],we=e[Y+3*te+2];K[re++]=me,K[re++]=xe,K[re++]=we,K[re++]=255}--ie}}}function q3(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,u=i+1,f=(1<<u)-1,h=0,p=0,y=0,g=e[t++],w=new Int32Array(4096),N=null;;){for(;h<16&&g!==0;)p|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<u)break;var A=p&f;if(p>>=u,h-=u,A!==a){if(A===o)break;for(var _=A<l?A:N,k=0,P=_;P>a;)P=w[P]>>8,++k;var M=P;if(y+k+(_!==A?1:0)>r)return void Kn.log("Warning, gif stream longer than expected.");n[y++]=M;var B=y+=k;for(_!==A&&(n[y++]=M),P=_;k--;)P=w[P],n[--B]=255&P,P>>=8;N!==null&&l<4096&&(w[l++]=N<<8|M,l>=f+1&&u<12&&(++u,f=f<<1|1)),N=A}else l=o+1,f=(1<<(u=i+1))-1,N=null}return y!==r&&Kn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function c2(e){var t,n,r,i,a,o=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),y=new Array(65535),g=new Array(64),w=new Array(64),N=[],A=0,_=7,k=new Array(64),P=new Array(64),M=new Array(64),B=new Array(256),U=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(V,H){for(var re=0,de=0,fe=new Array,pe=1;pe<=16;pe++){for(var he=1;he<=V[pe];he++)fe[H[de]]=[],fe[H[de]][0]=re,fe[H[de]][1]=pe,de++,re++;re*=2}return fe}function Y(V){for(var H=V[0],re=V[1]-1;re>=0;)H&1<<re&&(A|=1<<_),re--,--_<0&&(A==255?(ee(255),ee(0)):ee(A),_=7,A=0)}function ee(V){N.push(V)}function se(V){ee(V>>8&255),ee(255&V)}function X(V,H,re,de,fe){for(var pe,he=fe[0],te=fe[240],me=(function(tt,it){var ct,ut,kt,Nt,Ot,De,Qe,ht,dt,vt,lt=0;for(dt=0;dt<8;++dt){ct=tt[lt],ut=tt[lt+1],kt=tt[lt+2],Nt=tt[lt+3],Ot=tt[lt+4],De=tt[lt+5],Qe=tt[lt+6];var Bn=ct+(ht=tt[lt+7]),qt=ct-ht,vn=ut+Qe,Kt=ut-Qe,Dt=kt+De,dr=kt-De,Wt=Nt+Ot,as=Nt-Ot,Pn=Bn+Wt,Gn=Bn-Wt,Yi=vn+Dt,gn=vn-Dt;tt[lt]=Pn+Yi,tt[lt+4]=Pn-Yi;var Ut=.707106781*(gn+Gn);tt[lt+2]=Gn+Ut,tt[lt+6]=Gn-Ut;var nn=.382683433*((Pn=as+dr)-(gn=Kt+qt)),ro=.5411961*Pn+nn,Tr=1.306562965*gn+nn,Fr=.707106781*(Yi=dr+Kt),Pr=qt+Fr,It=qt-Fr;tt[lt+5]=It+ro,tt[lt+3]=It-ro,tt[lt+1]=Pr+Tr,tt[lt+7]=Pr-Tr,lt+=8}for(lt=0,dt=0;dt<8;++dt){ct=tt[lt],ut=tt[lt+8],kt=tt[lt+16],Nt=tt[lt+24],Ot=tt[lt+32],De=tt[lt+40],Qe=tt[lt+48];var Ki=ct+(ht=tt[lt+56]),Mi=ct-ht,jr=ut+Qe,_e=ut-Qe,ze=kt+De,$e=kt-De,St=Nt+Ot,xt=Nt-Ot,yt=Ki+St,tn=Ki-St,ii=jr+ze,Qt=jr-ze;tt[lt]=yt+ii,tt[lt+32]=yt-ii;var fr=.707106781*(Qt+tn);tt[lt+16]=tn+fr,tt[lt+48]=tn-fr;var ir=.382683433*((yt=xt+$e)-(Qt=_e+Mi)),Ji=.5411961*yt+ir,ko=1.306562965*Qt+ir,Us=.707106781*(ii=$e+_e),io=Mi+Us,ao=Mi-Us;tt[lt+40]=ao+Ji,tt[lt+24]=ao-Ji,tt[lt+8]=io+ko,tt[lt+56]=io-ko,lt++}for(dt=0;dt<64;++dt)vt=tt[dt]*it[dt],g[dt]=vt>0?vt+.5|0:vt-.5|0;return g})(V,H),xe=0;xe<64;++xe)w[D[xe]]=me[xe];var we=w[0]-re;re=w[0],we==0?Y(de[0]):(Y(de[y[pe=32767+we]]),Y(p[pe]));for(var Ue=63;Ue>0&&w[Ue]==0;)Ue--;if(Ue==0)return Y(he),re;for(var Ye,Pe=1;Pe<=Ue;){for(var ge=Pe;w[Pe]==0&&Pe<=Ue;)++Pe;var mt=Pe-ge;if(mt>=16){Ye=mt>>4;for(var ot=1;ot<=Ye;++ot)Y(te);mt&=15}pe=32767+w[Pe],Y(fe[(mt<<4)+y[pe]]),Y(p[pe]),Pe++}return Ue!=63&&Y(he),re}function ie(V){V=Math.min(Math.max(V,1),100),a!=V&&((function(H){for(var re=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var fe=o((re[de]*H+50)/100);fe=Math.min(Math.max(fe,1),255),l[D[de]]=fe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var te=o((pe[he]*H+50)/100);te=Math.min(Math.max(te,1),255),u[D[he]]=te}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,we=0;we<8;we++)for(var Ue=0;Ue<8;Ue++)f[xe]=1/(l[D[xe]]*me[we]*me[Ue]*8),h[xe]=1/(u[D[xe]]*me[we]*me[Ue]*8),xe++})(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,H){H&&ie(H),N=new Array,A=0,_=7,se(65496),se(65504),se(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),se(1),se(1),ee(0),ee(0),(function(){se(65499),se(132),ee(0);for(var ut=0;ut<64;ut++)ee(l[ut]);ee(1);for(var kt=0;kt<64;kt++)ee(u[kt])})(),(function(ut,kt){se(65472),se(17),ee(8),se(kt),se(ut),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(V.width,V.height),(function(){se(65476),se(418),ee(0);for(var ut=0;ut<16;ut++)ee(F[ut+1]);for(var kt=0;kt<=11;kt++)ee(q[kt]);ee(16);for(var Nt=0;Nt<16;Nt++)ee(G[Nt+1]);for(var Ot=0;Ot<=161;Ot++)ee(R[Ot]);ee(1);for(var De=0;De<16;De++)ee(O[De+1]);for(var Qe=0;Qe<=11;Qe++)ee(K[Qe]);ee(17);for(var ht=0;ht<16;ht++)ee($[ht+1]);for(var dt=0;dt<=161;dt++)ee(ne[dt])})(),se(65498),se(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var re=0,de=0,fe=0;A=0,_=7,this.encode.displayName="_encode_";for(var pe,he,te,me,xe,we,Ue,Ye,Pe,ge=V.data,mt=V.width,ot=V.height,tt=4*mt,it=0;it<ot;){for(pe=0;pe<tt;){for(xe=tt*it+pe,Ue=-1,Ye=0,Pe=0;Pe<64;Pe++)we=xe+(Ye=Pe>>3)*tt+(Ue=4*(7&Pe)),it+Ye>=ot&&(we-=tt*(it+1+Ye-ot)),pe+Ue>=tt&&(we-=pe+Ue-tt+4),he=ge[we++],te=ge[we++],me=ge[we++],k[Pe]=(U[he]+U[te+256>>0]+U[me+512>>0]>>16)-128,P[Pe]=(U[he+768>>0]+U[te+1024>>0]+U[me+1280>>0]>>16)-128,M[Pe]=(U[he+1280>>0]+U[te+1536>>0]+U[me+1792>>0]>>16)-128;re=X(k,f,re,t,r),de=X(P,h,de,n,i),fe=X(M,h,fe,n,i),pe+=32}it+=8}if(_>=0){var ct=[];ct[1]=_+1,ct[0]=(1<<_+1)-1,Y(ct)}return se(65497),new Uint8Array(N)},e=e||50,(function(){for(var V=String.fromCharCode,H=0;H<256;H++)B[H]=V(H)})(),t=z(F,q),n=z(O,K),r=z(G,R),i=z($,ne),(function(){for(var V=1,H=2,re=1;re<=15;re++){for(var de=V;de<H;de++)y[32767+de]=re,p[32767+de]=[],p[32767+de][1]=re,p[32767+de][0]=de;for(var fe=-(H-1);fe<=-V;fe++)y[32767+fe]=re,p[32767+fe]=[],p[32767+fe][1]=re,p[32767+fe][0]=H-1+fe;V<<=1,H<<=1}})(),(function(){for(var V=0;V<256;V++)U[V]=19595*V,U[V+256>>0]=38470*V,U[V+512>>0]=7471*V+32768,U[V+768>>0]=-11059*V,U[V+1024>>0]=-21709*V,U[V+1280>>0]=32768*V+8421375,U[V+1536>>0]=-27439*V,U[V+1792>>0]=-5329*V})(),ie(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function As(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H3(e){function t(F){if(!F)throw Error("assert :P")}function n(F,q,G){for(var R=0;4>R;R++)if(F[q+R]!=G.charCodeAt(R))return!0;return!1}function r(F,q,G,R,O){for(var K=0;K<O;K++)F[q+K]=G[R+K]}function i(F,q,G,R){for(var O=0;O<R;O++)F[q+O]=G}function a(F){return new Int32Array(F)}function o(F,q){for(var G=[],R=0;R<F;R++)G.push(new q);return G}function l(F,q){var G=[];return(function R(O,K,$){for(var ne=$[K],z=0;z<ne&&(O.push($.length>K+1?[]:new q),!($.length<K+1));z++)R(O[z],K+1,$)})(G,0,F),G}var u=function(){var F=this;function q(b,E){for(var L=1<<E-1>>>0;b&L;)L>>>=1;return L?(b&L-1)+L:b}function G(b,E,L,W,Q){t(!(W%L));do b[E+(W-=L)]=Q;while(0<W)}function R(b,E,L,W,Q){if(t(2328>=Q),512>=Q)var ae=a(512);else if((ae=a(Q))==null)return 0;return(function(oe,le,ue,ye,Se,Me){var Ie,ke,Ze=le,Ve=1<<ue,Ae=a(16),Ee=a(16);for(t(Se!=0),t(ye!=null),t(oe!=null),t(0<ue),ke=0;ke<Se;++ke){if(15<ye[ke])return 0;++Ae[ye[ke]]}if(Ae[0]==Se)return 0;for(Ee[1]=0,Ie=1;15>Ie;++Ie){if(Ae[Ie]>1<<Ie)return 0;Ee[Ie+1]=Ee[Ie]+Ae[Ie]}for(ke=0;ke<Se;++ke)Ie=ye[ke],0<ye[ke]&&(Me[Ee[Ie]++]=ke);if(Ee[15]==1)return(ye=new O).g=0,ye.value=Me[0],G(oe,Ze,1,Ve,ye),Ve;var Je,nt=-1,Ke=Ve-1,gt=0,ft=1,jt=1,pt=1<<ue;for(ke=0,Ie=1,Se=2;Ie<=ue;++Ie,Se<<=1){if(ft+=jt<<=1,0>(jt-=Ae[Ie]))return 0;for(;0<Ae[Ie];--Ae[Ie])(ye=new O).g=Ie,ye.value=Me[ke++],G(oe,Ze+gt,Se,pt,ye),gt=q(gt,Ie)}for(Ie=ue+1,Se=2;15>=Ie;++Ie,Se<<=1){if(ft+=jt<<=1,0>(jt-=Ae[Ie]))return 0;for(;0<Ae[Ie];--Ae[Ie]){if(ye=new O,(gt&Ke)!=nt){for(Ze+=pt,Je=1<<(nt=Ie)-ue;15>nt&&!(0>=(Je-=Ae[nt]));)++nt,Je<<=1;Ve+=pt=1<<(Je=nt-ue),oe[le+(nt=gt&Ke)].g=Je+ue,oe[le+nt].value=Ze-le-nt}ye.g=Ie-ue,ye.value=Me[ke++],G(oe,Ze+(gt>>ue),Se,pt,ye),gt=q(gt,Ie)}}return ft!=2*Ee[15]-1?0:Ve})(b,E,L,W,Q,ae)}function O(){this.value=this.g=0}function K(){this.value=this.g=0}function $(){this.G=o(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ri,K)}function ne(b,E,L,W){t(b!=null),t(E!=null),t(2147483648>W),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=E,b.pa=L,b.Jd=E,b.Yc=L+W,b.Zc=4<=W?L+W-4+1:L,pe(b)}function z(b,E){for(var L=0;0<E--;)L|=te(b,128)<<E;return L}function Y(b,E){var L=z(b,E);return he(b)?-L:L}function ee(b,E,L,W){var Q,ae=0;for(t(b!=null),t(E!=null),t(4294967288>W),b.Sb=W,b.Ra=0,b.u=0,b.h=0,4<W&&(W=4),Q=0;Q<W;++Q)ae+=E[L+Q]<<8*Q;b.Ra=ae,b.bb=W,b.oa=E,b.pa=L}function se(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Qs-8>>>0,++b.bb,b.u-=8;re(b)&&(b.h=1,b.u=0)}function X(b,E){if(t(0<=E),!b.h&&E<=Xs){var L=H(b)&Bl[E];return b.u+=E,se(b),L}return b.h=1,b.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(b){return b.Ra>>>(b.u&Qs-1)>>>0}function re(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Qs}function de(b,E){b.u=E,b.h=re(b)}function fe(b){b.u>=Yc&&(t(b.u>=Yc),se(b))}function pe(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function he(b){return z(b,1)}function te(b,E){var L=b.Ca;0>b.b&&pe(b);var W=b.b,Q=L*E>>>8,ae=(b.I>>>W>Q)+0;for(ae?(L-=Q,b.I-=Q+1<<W>>>0):L=Q+1,W=L,Q=0;256<=W;)Q+=8,W>>=8;return W=7^Q+Li[W],b.b-=W,b.Ca=(L<<W)-1,ae}function me(b,E,L){b[E+0]=L>>24&255,b[E+1]=L>>16&255,b[E+2]=L>>8&255,b[E+3]=L>>0&255}function xe(b,E){return b[E+0]<<0|b[E+1]<<8}function we(b,E){return xe(b,E)|b[E+2]<<16}function Ue(b,E){return xe(b,E)|xe(b,E+2)<<16}function Ye(b,E){var L=1<<E;return t(b!=null),t(0<E),b.X=a(L),b.X==null?0:(b.Mb=32-E,b.Xa=E,1)}function Pe(b,E){t(b!=null),t(E!=null),t(b.Xa==E.Xa),r(E.X,0,b.X,0,1<<E.Xa)}function ge(){this.X=[],this.Xa=this.Mb=0}function mt(b,E,L,W){t(L!=null),t(W!=null);var Q=L[0],ae=W[0];return Q==0&&(Q=(b*ae+E/2)/E),ae==0&&(ae=(E*Q+b/2)/b),0>=Q||0>=ae?0:(L[0]=Q,W[0]=ae,1)}function ot(b,E){return b+(1<<E)-1>>>E}function tt(b,E){return((4278255360&b)+(4278255360&E)>>>0&4278255360)+((16711935&b)+(16711935&E)>>>0&16711935)>>>0}function it(b,E){F[E]=function(L,W,Q,ae,oe,le,ue){var ye;for(ye=0;ye<oe;++ye){var Se=F[b](le[ue+ye-1],Q,ae+ye);le[ue+ye]=tt(L[W+ye],Se)}}}function ct(){this.ud=this.hd=this.jd=0}function ut(b,E){return((4278124286&(b^E))>>>1)+(b&E)>>>0}function kt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Nt(b,E){return kt(b+(b-E+.5>>1))}function Ot(b,E,L){return Math.abs(E-L)-Math.abs(b-L)}function De(b,E,L,W,Q,ae,oe){for(W=ae[oe-1],L=0;L<Q;++L)ae[oe+L]=W=tt(b[E+L],W)}function Qe(b,E,L,W,Q){var ae;for(ae=0;ae<L;++ae){var oe=b[E+ae],le=oe>>8&255,ue=16711935&(ue=(ue=16711935&oe)+((le<<16)+le));W[Q+ae]=(4278255360&oe)+ue>>>0}}function ht(b,E){E.jd=b>>0&255,E.hd=b>>8&255,E.ud=b>>16&255}function dt(b,E,L,W,Q,ae){var oe;for(oe=0;oe<W;++oe){var le=E[L+oe],ue=le>>>8,ye=le,Se=255&(Se=(Se=le>>>16)+((b.jd<<24>>24)*(ue<<24>>24)>>>5));ye=255&(ye=(ye=ye+((b.hd<<24>>24)*(ue<<24>>24)>>>5))+((b.ud<<24>>24)*(Se<<24>>24)>>>5)),Q[ae+oe]=(4278255360&le)+(Se<<16)+ye}}function vt(b,E,L,W,Q){F[E]=function(ae,oe,le,ue,ye,Se,Me,Ie,ke){for(ue=Me;ue<Ie;++ue)for(Me=0;Me<ke;++Me)ye[Se++]=Q(le[W(ae[oe++])])},F[b]=function(ae,oe,le,ue,ye,Se,Me){var Ie=8>>ae.b,ke=ae.Ea,Ze=ae.K[0],Ve=ae.w;if(8>Ie)for(ae=(1<<ae.b)-1,Ve=(1<<Ie)-1;oe<le;++oe){var Ae,Ee=0;for(Ae=0;Ae<ke;++Ae)Ae&ae||(Ee=W(ue[ye++])),Se[Me++]=Q(Ze[Ee&Ve]),Ee>>=Ie}else F["VP8LMapColor"+L](ue,ye,Ze,Ve,Se,Me,oe,le,ke)}}function lt(b,E,L,W,Q){for(L=E+L;E<L;){var ae=b[E++];W[Q++]=ae>>16&255,W[Q++]=ae>>8&255,W[Q++]=ae>>0&255}}function Bn(b,E,L,W,Q){for(L=E+L;E<L;){var ae=b[E++];W[Q++]=ae>>16&255,W[Q++]=ae>>8&255,W[Q++]=ae>>0&255,W[Q++]=ae>>24&255}}function qt(b,E,L,W,Q){for(L=E+L;E<L;){var ae=(oe=b[E++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;W[Q++]=ae,W[Q++]=oe}}function vn(b,E,L,W,Q){for(L=E+L;E<L;){var ae=(oe=b[E++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;W[Q++]=ae,W[Q++]=oe}}function Kt(b,E,L,W,Q){for(L=E+L;E<L;){var ae=b[E++];W[Q++]=ae>>0&255,W[Q++]=ae>>8&255,W[Q++]=ae>>16&255}}function Dt(b,E,L,W,Q,ae){if(ae==0)for(L=E+L;E<L;)me(W,((ae=b[E++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),Q+=32;else r(W,Q,b,E,L)}function dr(b,E){F[E][0]=F[b+"0"],F[E][1]=F[b+"1"],F[E][2]=F[b+"2"],F[E][3]=F[b+"3"],F[E][4]=F[b+"4"],F[E][5]=F[b+"5"],F[E][6]=F[b+"6"],F[E][7]=F[b+"7"],F[E][8]=F[b+"8"],F[E][9]=F[b+"9"],F[E][10]=F[b+"10"],F[E][11]=F[b+"11"],F[E][12]=F[b+"12"],F[E][13]=F[b+"13"],F[E][14]=F[b+"0"],F[E][15]=F[b+"0"]}function Wt(b){return b==hd||b==bf||b==Qc||b==wf}function as(){this.eb=[],this.size=this.A=this.fb=0}function Pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new as,this.f.kb=new Pn,this.sd=null}function Yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ut(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function nn(b,E){var L=b.T,W=E.ba.f.RGBA,Q=W.eb,ae=W.fb+b.ka*W.A,oe=li[E.ba.S],le=b.y,ue=b.O,ye=b.f,Se=b.N,Me=b.ea,Ie=b.W,ke=E.cc,Ze=E.dc,Ve=E.Mc,Ae=E.Nc,Ee=b.ka,Je=b.ka+b.T,nt=b.U,Ke=nt+1>>1;for(Ee==0?oe(le,ue,null,null,ye,Se,Me,Ie,ye,Se,Me,Ie,Q,ae,null,null,nt):(oe(E.ec,E.fc,le,ue,ke,Ze,Ve,Ae,ye,Se,Me,Ie,Q,ae-W.A,Q,ae,nt),++L);Ee+2<Je;Ee+=2)ke=ye,Ze=Se,Ve=Me,Ae=Ie,Se+=b.Rc,Ie+=b.Rc,ae+=2*W.A,oe(le,(ue+=2*b.fa)-b.fa,le,ue,ke,Ze,Ve,Ae,ye,Se,Me,Ie,Q,ae-W.A,Q,ae,nt);return ue+=b.fa,b.j+Je<b.o?(r(E.ec,E.fc,le,ue,nt),r(E.cc,E.dc,ye,Se,Ke),r(E.Mc,E.Nc,Me,Ie,Ke),L--):1&Je||oe(le,ue,null,null,ye,Se,Me,Ie,ye,Se,Me,Ie,Q,ae+W.A,null,null,nt),L}function ro(b,E,L){var W=b.F,Q=[b.J];if(W!=null){var ae=b.U,oe=E.ba.S,le=oe==fd||oe==Qc;E=E.ba.f.RGBA;var ue=[0],ye=b.ka;ue[0]=b.T,b.Kb&&(ye==0?--ue[0]:(--ye,Q[0]-=b.width),b.j+b.ka+b.T==b.o&&(ue[0]=b.o-b.j-ye));var Se=E.eb;ye=E.fb+ye*E.A,b=Ul(W,Q[0],b.width,ae,ue,Se,ye+(le?0:3),E.A),t(L==ue),b&&Wt(oe)&&Lo(Se,ye,le,ae,ue,E.A)}return 0}function Tr(b){var E=b.ma,L=E.ba.S,W=11>L,Q=L==Si||L==La||L==fd||L==Xc||L==12||Wt(L);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!us(E.Oa,b,Q?11:12))return 0;if(Q&&Wt(L)&&at(),b.da)alert("todo:use_scaling");else{if(W){if(E.Ib=Ut,b.Kb){if(L=b.U+1>>1,E.memory=a(b.U+2*L),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+b.U,E.Mc=E.cc,E.Nc=E.dc+L,E.Ib=nn,at()}}else alert("todo:EmitYUV");Q&&(E.Jb=ro,W&&je())}if(W&&!ll){for(b=0;256>b;++b)ci[b]=89858*(b-128)+tu>>qa,Jv[b]=-22014*(b-128)+tu,u0[b]=-45773*(b-128),Cf[b]=113618*(b-128)+tu>>qa;for(b=Hl;b<sl;++b)E=76283*(b-16)+tu>>qa,Xv[b-Hl]=ha(E,255),Qv[b-Hl]=ha(E+8>>4,15);ll=1}return 1}function Fr(b){var E=b.ma,L=b.U,W=b.T;return t(!(1&b.ka)),0>=L||0>=W?0:(L=E.Ib(b,E),E.Jb!=null&&E.Jb(b,E,L),E.Dc+=L,1)}function Pr(b){b.ma.memory=null}function It(b,E,L,W){return X(b,8)!=47?0:(E[0]=X(b,14)+1,L[0]=X(b,14)+1,W[0]=X(b,1),X(b,3)!=0?0:!b.h)}function Ki(b,E){if(4>b)return b+1;var L=b-2>>1;return(2+(1&b)<<L)+X(E,L)+1}function Mi(b,E){return 120<E?E-120:1<=(L=((L=Ba[E-1])>>4)*b+(8-(15&L)))?L:1;var L}function jr(b,E,L){var W=H(L),Q=b[E+=255&W].g-8;return 0<Q&&(de(L,L.u+8),W=H(L),E+=b[E].value,E+=W&(1<<Q)-1),de(L,L.u+b[E].g),b[E].value}function _e(b,E,L){return L.g+=b.g,L.value+=b.value<<E>>>0,t(8>=L.g),b.g}function ze(b,E,L){var W=b.xc;return t((E=W==0?0:b.vc[b.md*(L>>W)+(E>>W)])<b.Wb),b.Ya[E]}function $e(b,E,L,W){var Q=b.ab,ae=b.c*E,oe=b.C;E=oe+E;var le=L,ue=W;for(W=b.Ta,L=b.Ua;0<Q--;){var ye=b.gc[Q],Se=oe,Me=E,Ie=le,ke=ue,Ze=(ue=W,le=L,ye.Ea);switch(t(Se<Me),t(Me<=ye.nc),ye.hc){case 2:mf(Ie,ke,(Me-Se)*Ze,ue,le);break;case 0:var Ve=Se,Ae=Me,Ee=ue,Je=le,nt=(pt=ye).Ea;Ve==0&&(pf(Ie,ke,null,null,1,Ee,Je),De(Ie,ke+1,0,0,nt-1,Ee,Je+1),ke+=nt,Je+=nt,++Ve);for(var Ke=1<<pt.b,gt=Ke-1,ft=ot(nt,pt.b),jt=pt.K,pt=pt.w+(Ve>>pt.b)*ft;Ve<Ae;){var xn=jt,cn=pt,hn=1;for(sd(Ie,ke,Ee,Je-nt,1,Ee,Je);hn<nt;){var Jt=(hn&~gt)+Ke;Jt>nt&&(Jt=nt),(0,Ia[xn[cn++]>>8&15])(Ie,ke+ +hn,Ee,Je+hn-nt,Jt-hn,Ee,Je+hn),hn=Jt}ke+=nt,Je+=nt,++Ve&gt||(pt+=ft)}Me!=ye.nc&&r(ue,le-Ze,ue,le+(Me-Se-1)*Ze,Ze);break;case 1:for(Ze=Ie,Ae=ke,nt=(Ie=ye.Ea)-(Je=Ie&~(Ee=(ke=1<<ye.b)-1)),Ve=ot(Ie,ye.b),Ke=ye.K,ye=ye.w+(Se>>ye.b)*Ve;Se<Me;){for(gt=Ke,ft=ye,jt=new ct,pt=Ae+Je,xn=Ae+Ie;Ae<pt;)ht(gt[ft++],jt),pa(jt,Ze,Ae,ke,ue,le),Ae+=ke,le+=ke;Ae<xn&&(ht(gt[ft++],jt),pa(jt,Ze,Ae,nt,ue,le),Ae+=nt,le+=nt),++Se&Ee||(ye+=Ve)}break;case 3:if(Ie==ue&&ke==le&&0<ye.b){for(Ae=ue,Ie=Ze=le+(Me-Se)*Ze-(Je=(Me-Se)*ot(ye.Ea,ye.b)),ke=ue,Ee=le,Ve=[],Je=(nt=Je)-1;0<=Je;--Je)Ve[Je]=ke[Ee+Je];for(Je=nt-1;0<=Je;--Je)Ae[Ie+Je]=Ve[Je];uo(ye,Se,Me,ue,Ze,ue,le)}else uo(ye,Se,Me,Ie,ke,ue,le)}le=W,ue=L}ue!=L&&r(W,L,le,ue,ae)}function St(b,E){var L=b.V,W=b.Ba+b.c*b.C,Q=E-b.C;if(t(E<=b.l.o),t(16>=Q),0<Q){var ae=b.l,oe=b.Ta,le=b.Ua,ue=ae.width;if($e(b,Q,L,W),Q=le=[le],t((L=b.C)<(W=E)),t(ae.v<ae.va),W>ae.o&&(W=ae.o),L<ae.j){var ye=ae.j-L;L=ae.j,Q[0]+=ye*ue}if(L>=W?L=0:(Q[0]+=4*ae.v,ae.ka=L-ae.j,ae.U=ae.va-ae.v,ae.T=W-L,L=1),L){if(le=le[0],11>(L=b.ca).S){var Se=L.f.RGBA,Me=(W=L.S,Q=ae.U,ae=ae.T,ye=Se.eb,Se.A),Ie=ae;for(Se=Se.fb+b.Ma*Se.A;0<Ie--;){var ke=oe,Ze=le,Ve=Q,Ae=ye,Ee=Se;switch(W){case vf:Ma(ke,Ze,Ve,Ae,Ee);break;case Si:fs(ke,Ze,Ve,Ae,Ee);break;case hd:fs(ke,Ze,Ve,Ae,Ee),Lo(Ae,Ee,0,Ve,1,0);break;case xf:Kc(ke,Ze,Ve,Ae,Ee);break;case La:Dt(ke,Ze,Ve,Ae,Ee,1);break;case bf:Dt(ke,Ze,Ve,Ae,Ee,1),Lo(Ae,Ee,0,Ve,1,0);break;case fd:Dt(ke,Ze,Ve,Ae,Ee,0);break;case Qc:Dt(ke,Ze,Ve,Ae,Ee,0),Lo(Ae,Ee,1,Ve,1,0);break;case Xc:fo(ke,Ze,Ve,Ae,Ee);break;case wf:fo(ke,Ze,Ve,Ae,Ee),wi(Ae,Ee,Ve,1,0);break;case nl:ho(ke,Ze,Ve,Ae,Ee);break;default:t(0)}le+=ue,Se+=Me}b.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=L.height)}}b.C=E,t(b.C<=b.i)}function xt(b){var E;if(0<b.ua)return 0;for(E=0;E<b.Wb;++E){var L=b.Ya[E].G,W=b.Ya[E].H;if(0<L[1][W[1]+0].g||0<L[2][W[2]+0].g||0<L[3][W[3]+0].g)return 0}return 1}function yt(b,E,L,W,Q,ae){if(b.Z!=0){var oe=b.qd,le=b.rd;for(t(ms[b.Z]!=null);E<L;++E)ms[b.Z](oe,le,W,Q,W,Q,ae),oe=W,le=Q,Q+=ae;b.qd=oe,b.rd=le}}function tn(b,E){var L=b.l.ma,W=L.Z==0||L.Z==1?b.l.j:b.C;if(W=b.C<W?W:b.C,t(E<=b.l.o),E>W){var Q=b.l.width,ae=L.ca,oe=L.tb+Q*W,le=b.V,ue=b.Ba+b.c*W,ye=b.gc;t(b.ab==1),t(ye[0].hc==3),np(ye[0],W,E,le,ue,ae,oe),yt(L,W,E,ae,oe,Q)}b.C=b.Ma=E}function ii(b,E,L,W,Q,ae,oe){var le=b.$/W,ue=b.$%W,ye=b.m,Se=b.s,Me=L+b.$,Ie=Me;Q=L+W*Q;var ke=L+W*ae,Ze=280+Se.ua,Ve=b.Pb?le:16777216,Ae=0<Se.ua?Se.Wa:null,Ee=Se.wc,Je=Me<ke?ze(Se,ue,le):null;t(b.C<ae),t(ke<=Q);var nt=!1;e:for(;;){for(;nt||Me<ke;){var Ke=0;if(le>=Ve){var gt=Me-L;t((Ve=b).Pb),Ve.wd=Ve.m,Ve.xd=gt,0<Ve.s.ua&&Pe(Ve.s.Wa,Ve.s.vb),Ve=le+rl}if(ue&Ee||(Je=ze(Se,ue,le)),t(Je!=null),Je.Qb&&(E[Me]=Je.qb,nt=!0),!nt)if(fe(ye),Je.jc){Ke=ye,gt=E;var ft=Me,jt=Je.pd[H(Ke)&Ri-1];t(Je.jc),256>jt.g?(de(Ke,Ke.u+jt.g),gt[ft]=jt.value,Ke=0):(de(Ke,Ke.u+jt.g-256),t(256<=jt.value),Ke=jt.value),Ke==0&&(nt=!0)}else Ke=jr(Je.G[0],Je.H[0],ye);if(ye.h)break;if(nt||256>Ke){if(!nt)if(Je.nd)E[Me]=(Je.qb|Ke<<8)>>>0;else{if(fe(ye),nt=jr(Je.G[1],Je.H[1],ye),fe(ye),gt=jr(Je.G[2],Je.H[2],ye),ft=jr(Je.G[3],Je.H[3],ye),ye.h)break;E[Me]=(ft<<24|nt<<16|Ke<<8|gt)>>>0}if(nt=!1,++Me,++ue>=W&&(ue=0,++le,oe!=null&&le<=ae&&!(le%16)&&oe(b,le),Ae!=null))for(;Ie<Me;)Ke=E[Ie++],Ae.X[(506832829*Ke&4294967295)>>>Ae.Mb]=Ke}else if(280>Ke){if(Ke=Ki(Ke-256,ye),gt=jr(Je.G[4],Je.H[4],ye),fe(ye),gt=Mi(W,gt=Ki(gt,ye)),ye.h)break;if(Me-L<gt||Q-Me<Ke)break e;for(ft=0;ft<Ke;++ft)E[Me+ft]=E[Me+ft-gt];for(Me+=Ke,ue+=Ke;ue>=W;)ue-=W,++le,oe!=null&&le<=ae&&!(le%16)&&oe(b,le);if(t(Me<=Q),ue&Ee&&(Je=ze(Se,ue,le)),Ae!=null)for(;Ie<Me;)Ke=E[Ie++],Ae.X[(506832829*Ke&4294967295)>>>Ae.Mb]=Ke}else{if(!(Ke<Ze))break e;for(nt=Ke-280,t(Ae!=null);Ie<Me;)Ke=E[Ie++],Ae.X[(506832829*Ke&4294967295)>>>Ae.Mb]=Ke;Ke=Me,t(!(nt>>>(gt=Ae).Xa)),E[Ke]=gt.X[nt],nt=!0}nt||t(ye.h==re(ye))}if(b.Pb&&ye.h&&Me<Q)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Pe(b.s.vb,b.s.Wa);else{if(ye.h)break e;oe!=null&&oe(b,le>ae?ae:le),b.a=0,b.$=Me-L}return 1}return b.a=3,0}function Qt(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var E=b.Wa;E!=null&&(E.X=null),b.vb=null,t(b!=null)}function fr(){var b=new tp;return b==null?null:(b.a=0,b.xb=ip,dr("Predictor","VP8LPredictors"),dr("Predictor","VP8LPredictors_C"),dr("PredictorAdd","VP8LPredictorsAdd"),dr("PredictorAdd","VP8LPredictorsAdd_C"),mf=Qe,pa=dt,Ma=lt,fs=Bn,fo=qt,ho=vn,Kc=Kt,F.VP8LMapColor32b=ld,F.VP8LMapColor8b=Oi,b)}function ir(b,E,L,W,Q){var ae=1,oe=[b],le=[E],ue=W.m,ye=W.s,Se=null,Me=0;e:for(;;){if(L)for(;ae&&X(ue,1);){var Ie=oe,ke=le,Ze=W,Ve=1,Ae=Ze.m,Ee=Ze.gc[Ze.ab],Je=X(Ae,2);if(Ze.Oc&1<<Je)ae=0;else{switch(Ze.Oc|=1<<Je,Ee.hc=Je,Ee.Ea=Ie[0],Ee.nc=ke[0],Ee.K=[null],++Ze.ab,t(4>=Ze.ab),Je){case 0:case 1:Ee.b=X(Ae,3)+2,Ve=ir(ot(Ee.Ea,Ee.b),ot(Ee.nc,Ee.b),0,Ze,Ee.K),Ee.K=Ee.K[0];break;case 3:var nt,Ke=X(Ae,8)+1,gt=16<Ke?0:4<Ke?1:2<Ke?2:3;if(Ie[0]=ot(Ee.Ea,gt),Ee.b=gt,nt=Ve=ir(Ke,1,0,Ze,Ee.K)){var ft,jt=Ke,pt=Ee,xn=1<<(8>>pt.b),cn=a(xn);if(cn==null)nt=0;else{var hn=pt.K[0],Jt=pt.w;for(cn[0]=pt.K[0][0],ft=1;ft<1*jt;++ft)cn[ft]=tt(hn[Jt+ft],cn[ft-1]);for(;ft<4*xn;++ft)cn[ft]=0;pt.K[0]=null,pt.K[0]=cn,nt=1}}Ve=nt;break;case 2:break;default:t(0)}ae=Ve}}if(oe=oe[0],le=le[0],ae&&X(ue,1)&&!(ae=1<=(Me=X(ue,4))&&11>=Me)){W.a=3;break e}var Cn;if(Cn=ae)t:{var wn,Ft,jn,Yr=W,pr=oe,Ai=le,yn=Me,ui=L,ea=Yr.m,qr=Yr.s,mr=[null],Kr=1,va=0,Ha=Ua[yn];n:for(;;){if(ui&&X(ea,1)){var Dr=X(ea,3)+2,Cr=ot(pr,Dr),Jr=ot(Ai,Dr),xa=Cr*Jr;if(!ir(Cr,Jr,0,Yr,mr))break n;for(mr=mr[0],qr.xc=Dr,wn=0;wn<xa;++wn){var Bo=mr[wn]>>8&65535;mr[wn]=Bo,Bo>=Kr&&(Kr=Bo+1)}}if(ea.h)break n;for(Ft=0;5>Ft;++Ft){var or=zl[Ft];!Ft&&0<yn&&(or+=1<<yn),va<or&&(va=or)}var Uo=o(Kr*Ha,O),ta=Kr,gr=o(ta,$);if(gr==null)var Vl=null;else t(65536>=ta),Vl=gr;var ba=a(va);if(Vl==null||ba==null||Uo==null){Yr.a=1;break n}var Gt=Uo;for(wn=jn=0;wn<Kr;++wn){var on=Vl[wn],Wn=on.G,gs=on.H,Gl=0,Fo=1,yd=0;for(Ft=0;5>Ft;++Ft){or=zl[Ft],Wn[Ft]=Gt,gs[Ft]=jn,!Ft&&0<yn&&(or+=1<<yn);i:{var cl,ul=or,kf=Yr,zn=ba,op=Gt,sp=jn,Tf=0,ys=kf.m,Zv=X(ys,1);if(i(zn,0,0,ul),Zv){var lp=X(ys,1)+1,cp=X(ys,1),Pf=X(ys,cp==0?1:8);zn[Pf]=1,lp==2&&(zn[Pf=X(ys,8)]=1);var Xr=1}else{var yr=a(19),vd=X(ys,4)+4;if(19<vd){kf.a=3;var dl=0;break i}for(cl=0;cl<vd;++cl)yr[pd[cl]]=X(ys,3);var ru=void 0,$l=void 0,zo=kf,jf=yr,iu=ul,If=zn,Mf=0,vs=zo.m,up=8,dp=o(128,O);r:for(;R(dp,0,7,jf,19);){if(X(vs,1)){var d0=2+2*X(vs,3);if((ru=2+X(vs,d0))>iu)break r}else ru=iu;for($l=0;$l<iu&&ru--;){fe(vs);var fp=dp[0+(127&H(vs))];de(vs,vs.u+fp.g);var fl=fp.value;if(16>fl)If[$l++]=fl,fl!=0&&(up=fl);else{var f0=fl==16,h0=fl-16,p0=Zc[h0],hp=X(vs,Oa[h0])+p0;if($l+hp>iu)break r;for(var m0=f0?up:0;0<hp--;)If[$l++]=m0}}Mf=1;break r}Mf||(zo.a=3),Xr=Mf}(Xr=Xr&&!ys.h)&&(Tf=R(op,sp,8,zn,ul)),Xr&&Tf!=0?dl=Tf:(kf.a=3,dl=0)}if(dl==0)break n;if(Fo&&Nf[Ft]==1&&(Fo=Gt[jn].g==0),Gl+=Gt[jn].g,jn+=dl,3>=Ft){var Wl,Df=ba[0];for(Wl=1;Wl<or;++Wl)ba[Wl]>Df&&(Df=ba[Wl]);yd+=Df}}if(on.nd=Fo,on.Qb=0,Fo&&(on.qb=(Wn[3][gs[3]+0].value<<24|Wn[1][gs[1]+0].value<<16|Wn[2][gs[2]+0].value)>>>0,Gl==0&&256>Wn[0][gs[0]+0].value&&(on.Qb=1,on.qb+=Wn[0][gs[0]+0].value<<8)),on.jc=!on.Qb&&6>yd,on.jc){var xd,qo=on;for(xd=0;xd<Ri;++xd){var xs=xd,bs=qo.pd[xs],Rf=qo.G[0][qo.H[0]+xs];256<=Rf.value?(bs.g=Rf.g+256,bs.value=Rf.value):(bs.g=0,bs.value=0,xs>>=_e(Rf,8,bs),xs>>=_e(qo.G[1][qo.H[1]+xs],16,bs),xs>>=_e(qo.G[2][qo.H[2]+xs],0,bs),_e(qo.G[3][qo.H[3]+xs],24,bs))}}}qr.vc=mr,qr.Wb=Kr,qr.Ya=Vl,qr.yc=Uo,Cn=1;break t}Cn=0}if(!(ae=Cn)){W.a=3;break e}if(0<Me){if(ye.ua=1<<Me,!Ye(ye.Wa,Me)){W.a=1,ae=0;break e}}else ye.ua=0;var Lf=W,Yl=oe,g0=le,au=Lf.s,ou=au.xc;if(Lf.c=Yl,Lf.i=g0,au.md=ot(Yl,ou),au.wc=ou==0?-1:(1<<ou)-1,L){W.xb=il;break e}if((Se=a(oe*le))==null){W.a=1,ae=0;break e}ae=(ae=ii(W,Se,0,oe,le,le,null))&&!ue.h;break e}return ae?(Q!=null?Q[0]=Se:(t(Se==null),t(L)),W.$=0,L||Qt(ye)):Qt(ye),ae}function Ji(b,E){var L=b.c*b.i,W=L+E+16*E;return t(b.c<=E),b.V=a(W),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+L+E,1)}function ko(b,E){var L=b.C,W=E-L,Q=b.V,ae=b.Ba+b.c*L;for(t(E<=b.l.o);0<W;){var oe=16<W?16:W,le=b.l.ma,ue=b.l.width,ye=ue*oe,Se=le.ca,Me=le.tb+ue*L,Ie=b.Ta,ke=b.Ua;$e(b,oe,Q,ae),ga(Ie,ke,Se,Me,ye),yt(le,L,L+oe,Se,Me,ue),W-=oe,Q+=oe*b.c,L+=oe}t(L==E),b.C=b.Ma=E}function Us(){this.ub=this.yd=this.td=this.Rb=0}function io(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ao(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Fs(){this.Yb=(function(){var b=[];return(function E(L,W,Q){for(var ae=Q[W],oe=0;oe<ae&&(L.push(Q.length>W+1?[]:0),!(Q.length<W+1));oe++)E(L[oe],W+1,Q)})(b,0,[3,11]),b})()}function zs(){this.jb=a(3),this.Wc=l([4,8],Fs),this.Xc=l([4,17],Fs)}function Ir(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pl(){this.ld=this.La=this.dd=this.tc=0}function Vu(){this.Na=this.la=0}function os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function To(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pl),this.Y=0,this.ya=Array(new To),this.aa=0,this.l=new Dc}function Gu(){this.y=a(16),this.f=a(8),this.ea=a(8)}function rf(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new Us,this.Kc=new io,this.ed=new Ir,this.Qa=new ao,this.Ic=this.$c=this.Aa=0,this.D=new Qh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ie),this.ia=0,this.pb=o(4,os),this.Pa=new zs,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gu),this.Hd=0,this.rb=Array(new Vu),this.sb=0,this.wa=Array(new Pl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new To),this.L=this.aa=0,this.gd=l([4,2],Pl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Dc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rc(){var b=new rf;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,ya||(ya=$u)),b}function Xn(b,E,L){return b.a==0&&(b.a=E,b.sc=L,b.cb=0),0}function Ea(b,E,L){return 3<=L&&b[E+0]==157&&b[E+1]==1&&b[E+2]==42}function Di(b,E){if(b==null)return 0;if(b.a=0,b.sc="OK",E==null)return Xn(b,2,"null VP8Io passed to VP8GetHeaders()");var L=E.data,W=E.w,Q=E.ha;if(4>Q)return Xn(b,7,"Truncated header.");var ae=L[W+0]|L[W+1]<<8|L[W+2]<<16,oe=b.Od;if(oe.Rb=!(1&ae),oe.td=ae>>1&7,oe.yd=ae>>4&1,oe.ub=ae>>5,3<oe.td)return Xn(b,3,"Incorrect keyframe parameters.");if(!oe.yd)return Xn(b,4,"Frame not displayable.");W+=3,Q-=3;var le=b.Kc;if(oe.Rb){if(7>Q)return Xn(b,7,"cannot parse picture header");if(!Ea(L,W,Q))return Xn(b,3,"Bad code word");le.c=16383&(L[W+4]<<8|L[W+3]),le.Td=L[W+4]>>6,le.i=16383&(L[W+6]<<8|L[W+5]),le.Ud=L[W+6]>>6,W+=7,Q-=7,b.za=le.c+15>>4,b.Ub=le.i+15>>4,E.width=le.c,E.height=le.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((ae=b.Pa).jb,0,255,ae.jb.length),t((ae=b.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,i(ae.Zb,0,0,ae.Zb.length),i(ae.Lb,0,0,ae.Lb)}if(oe.ub>Q)return Xn(b,7,"bad partition length");ne(ae=b.m,L,W,oe.ub),W+=oe.ub,Q-=oe.ub,oe.Rb&&(le.Ld=he(ae),le.Kd=he(ae)),le=b.Qa;var ue,ye=b.Pa;if(t(ae!=null),t(le!=null),le.Cb=he(ae),le.Cb){if(le.Bb=he(ae),he(ae)){for(le.Fb=he(ae),ue=0;4>ue;++ue)le.Zb[ue]=he(ae)?Y(ae,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=he(ae)?Y(ae,6):0}if(le.Bb)for(ue=0;3>ue;++ue)ye.jb[ue]=he(ae)?z(ae,8):255}else le.Bb=0;if(ae.Ka)return Xn(b,3,"cannot parse segment header");if((le=b.ed).zd=he(ae),le.Tb=z(ae,6),le.wb=z(ae,3),le.Pc=he(ae),le.Pc&&he(ae)){for(ye=0;4>ye;++ye)he(ae)&&(le.vd[ye]=Y(ae,6));for(ye=0;4>ye;++ye)he(ae)&&(le.od[ye]=Y(ae,6))}if(b.L=le.Tb==0?0:le.zd?1:2,ae.Ka)return Xn(b,3,"cannot parse filter header");var Se=Q;if(Q=ue=W,W=ue+Se,le=Se,b.Xb=(1<<z(b.m,2))-1,Se<3*(ye=b.Xb))L=7;else{for(ue+=3*ye,le-=3*ye,Se=0;Se<ye;++Se){var Me=L[Q+0]|L[Q+1]<<8|L[Q+2]<<16;Me>le&&(Me=le),ne(b.Jc[+Se],L,ue,Me),ue+=Me,le-=Me,Q+=3}ne(b.Jc[+ye],L,ue,le),L=ue<W?0:5}if(L!=0)return Xn(b,L,"cannot parse partitions");for(L=z(ue=b.m,7),Q=he(ue)?Y(ue,4):0,W=he(ue)?Y(ue,4):0,le=he(ue)?Y(ue,4):0,ye=he(ue)?Y(ue,4):0,ue=he(ue)?Y(ue,4):0,Se=b.Qa,Me=0;4>Me;++Me){if(Se.Cb){var Ie=Se.Zb[Me];Se.Fb||(Ie+=L)}else{if(0<Me){b.pb[Me]=b.pb[0];continue}Ie=L}var ke=b.pb[Me];ke.Sc[0]=Fa[ha(Ie+Q,127)],ke.Sc[1]=za[ha(Ie+0,127)],ke.Eb[0]=2*Fa[ha(Ie+W,127)],ke.Eb[1]=101581*za[ha(Ie+le,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Fa[ha(Ie+ye,117)],ke.Qc[1]=za[ha(Ie+ue,127)],ke.lc=Ie+ue}if(!oe.Rb)return Xn(b,4,"Not a key frame.");for(he(ae),oe=b.Pa,L=0;4>L;++L){for(Q=0;8>Q;++Q)for(W=0;3>W;++W)for(le=0;11>le;++le)ye=te(ae,$n[L][Q][W][le])?z(ae,8):c0[L][Q][W][le],oe.Wc[L][Q].Yb[W][le]=ye;for(Q=0;17>Q;++Q)oe.Xc[L][Q]=oe.Wc[L][ln[Q]]}return b.kc=he(ae),b.kc&&(b.Bd=z(ae,8)),b.cb=1}function $u(b,E,L,W,Q,ae,oe){var le=E[Q].Yb[L];for(L=0;16>Q;++Q){if(!te(b,le[L+0]))return Q;for(;!te(b,le[L+1]);)if(le=E[++Q].Yb[0],L=0,Q==16)return 16;var ue=E[Q+1].Yb;if(te(b,le[L+2])){var ye=b,Se=0;if(te(ye,(Ie=le)[(Me=L)+3]))if(te(ye,Ie[Me+6])){for(le=0,Me=2*(Se=te(ye,Ie[Me+8]))+(Ie=te(ye,Ie[Me+9+Se])),Se=0,Ie=l0[Me];Ie[le];++le)Se+=Se+te(ye,Ie[le]);Se+=3+(8<<Me)}else te(ye,Ie[Me+7])?(Se=7+2*te(ye,165),Se+=te(ye,145)):Se=5+te(ye,159);else Se=te(ye,Ie[Me+4])?3+te(ye,Ie[Me+5]):2;le=ue[2]}else Se=1,le=ue[1];ue=oe+rp[Q],0>(ye=b).b&&pe(ye);var Me,Ie=ye.b,ke=(Me=ye.Ca>>1)-(ye.I>>Ie)>>31;--ye.b,ye.Ca+=ke,ye.Ca|=1,ye.I-=(Me+1&ke)<<Ie,ae[ue]=((Se^ke)-ke)*W[(0<Q)+0]}return 16}function Wu(b){var E=b.rb[b.sb-1];E.la=0,E.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Yu(b,E){if(b==null)return 0;if(E==null)return Xn(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!Di(b,E))return 0;if(t(b.cb),E.ac==null||E.ac(E)){E.ob&&(b.L=0);var L=nu[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=E.v-L>>4,b.zb=E.j-L>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=E.o+15+L>>4,b.Hb=E.va+15+L>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var W=b.ed;for(L=0;4>L;++L){var Q;if(b.Qa.Cb){var ae=b.Qa.Lb[L];b.Qa.Fb||(ae+=W.Tb)}else ae=W.Tb;for(Q=0;1>=Q;++Q){var oe=b.gd[L][Q],le=ae;if(W.Pc&&(le+=W.vd[0],Q&&(le+=W.od[0])),0<(le=0>le?0:63<le?63:le)){var ue=le;0<W.wb&&(ue=4<W.wb?ue>>2:ue>>1)>9-W.wb&&(ue=9-W.wb),1>ue&&(ue=1),oe.dd=ue,oe.tc=2*le+ue,oe.ld=40<=le?2:15<=le?1:0}else oe.tc=0;oe.La=Q}}}L=0}else Xn(b,6,"Frame setup failed"),L=b.a;if(L=L==0){if(L){b.$c=0,0<b.Aa||(b.Ic=gd);e:{L=b.Ic,W=4*(ue=b.za);var ye=32*ue,Se=ue+1,Me=0<b.L?ue*(0<b.Aa?2:1):0,Ie=(b.Aa==2?2:1)*ue;if((oe=W+832+(Q=3*(16*L+nu[b.L])/2*ye)+(ae=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=oe)L=0;else{if(oe>b.Vb){if(b.Vb=0,b.Ec=a(oe),b.Fc=0,b.Ec==null){L=Xn(b,1,"no memory during frame initialization.");break e}b.Vb=oe}oe=b.Ec,le=b.Fc,b.Ac=oe,b.Bc=le,le+=W,b.Gd=o(ye,Gu),b.Hd=0,b.rb=o(Se+1,Vu),b.sb=1,b.wa=Me?o(Me,Pl):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=ue),t(!0),b.oc=oe,b.pc=le,le+=832,b.ya=o(Ie,To),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=ue),b.R=16*ue,b.B=8*ue,ue=(ye=nu[b.L])*b.R,ye=ye/2*b.B,b.sa=oe,b.ta=le+ue,b.qa=b.sa,b.ra=b.ta+16*L*b.R+ye,b.Ha=b.qa,b.Ia=b.ra+8*L*b.B+ye,b.$c=0,le+=Q,b.mb=ae?oe:null,b.nb=ae?le:null,t(le+ae<=b.Fc+b.Vb),Wu(b),i(b.Ac,b.Bc,0,W),L=1}}if(L){if(E.ka=0,E.y=b.sa,E.O=b.ta,E.f=b.qa,E.N=b.ra,E.ea=b.Ha,E.Vd=b.Ia,E.fa=b.R,E.Rc=b.B,E.F=null,E.J=0,!yf){for(L=-255;255>=L;++L)Fl[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)gf[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)cd[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)ud[255+L]=0>L?0:255<L?255:L;yf=1}bi=of,Zs=af,Mo=Oc,Da=qs,Bi=Ku,hs=Lc,Ra=Zu,el=Rl,tl=ep,Zi=td,Jc=ed,ma=Vc,Do=nd,Un=df,Fn=qc,Ar=lo,Mr=ja,Ro=Hc,hr[0]=Ta,hr[1]=Zh,hr[2]=Hs,hr[3]=cf,hr[4]=Xu,hr[5]=Qi,hr[6]=Vs,hr[7]=Il,hr[8]=jo,hr[9]=Ml,Ui[0]=jl,Ui[1]=lf,Ui[2]=oo,Ui[3]=Bc,Ui[4]=Qn,Ui[5]=Ju,Ui[6]=Fc,po[0]=so,po[1]=sf,po[2]=Qu,po[3]=Gs,po[4]=Ws,po[5]=zc,po[6]=Wr,L=1}else L=0}L&&(L=(function(ke,Ze){for(ke.M=0;ke.M<ke.Va;++ke.M){var Ve,Ae=ke.Jc[ke.M&ke.Xb],Ee=ke.m,Je=ke;for(Ve=0;Ve<Je.za;++Ve){var nt=Ee,Ke=Je,gt=Ke.Ac,ft=Ke.Bc+4*Ve,jt=Ke.zc,pt=Ke.ya[Ke.aa+Ve];if(Ke.Qa.Bb?pt.$b=te(nt,Ke.Pa.jb[0])?2+te(nt,Ke.Pa.jb[2]):te(nt,Ke.Pa.jb[1]):pt.$b=0,Ke.kc&&(pt.Ad=te(nt,Ke.Bd)),pt.Za=!te(nt,145)+0,pt.Za){var xn=pt.Ob,cn=0;for(Ke=0;4>Ke;++Ke){var hn,Jt=jt[0+Ke];for(hn=0;4>hn;++hn){Jt=si[gt[ft+hn]][Jt];for(var Cn=Sf[te(nt,Jt[0])];0<Cn;)Cn=Sf[2*Cn+te(nt,Jt[Cn])];Jt=-Cn,gt[ft+hn]=Jt}r(xn,cn,gt,ft,4),cn+=4,jt[0+Ke]=Jt}}else Jt=te(nt,156)?te(nt,128)?1:3:te(nt,163)?2:0,pt.Ob[0]=Jt,i(gt,ft,Jt,4),i(jt,0,Jt,4);pt.Dd=te(nt,142)?te(nt,114)?te(nt,183)?1:3:2:0}if(Je.m.Ka)return Xn(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if(Je=Ae,nt=(Ee=ke).rb[Ee.sb-1],gt=Ee.rb[Ee.sb+Ee.ja],Ve=Ee.ya[Ee.aa+Ee.ja],ft=Ee.kc?Ve.Ad:0)nt.la=gt.la=0,Ve.Za||(nt.Na=gt.Na=0),Ve.Hc=0,Ve.Gc=0,Ve.ia=0;else{var wn,Ft;if(nt=gt,gt=Je,ft=Ee.Pa.Xc,jt=Ee.ya[Ee.aa+Ee.ja],pt=Ee.pb[jt.$b],Ke=jt.ad,xn=0,cn=Ee.rb[Ee.sb-1],Jt=hn=0,i(Ke,xn,0,384),jt.Za)var jn=0,Yr=ft[3];else{Cn=a(16);var pr=nt.Na+cn.Na;if(pr=ya(gt,ft[1],pr,pt.Eb,0,Cn,0),nt.Na=cn.Na=(0<pr)+0,1<pr)bi(Cn,0,Ke,xn);else{var Ai=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)Ke[xn+Cn]=Ai}jn=1,Yr=ft[0]}var yn=15&nt.la,ui=15&cn.la;for(Cn=0;4>Cn;++Cn){var ea=1&ui;for(Ai=Ft=0;4>Ai;++Ai)yn=yn>>1|(ea=(pr=ya(gt,Yr,pr=ea+(1&yn),pt.Sc,jn,Ke,xn))>jn)<<7,Ft=Ft<<2|(3<pr?3:1<pr?2:Ke[xn+0]!=0),xn+=16;yn>>=4,ui=ui>>1|ea<<7,hn=(hn<<8|Ft)>>>0}for(Yr=yn,jn=ui>>4,wn=0;4>wn;wn+=2){for(Ft=0,yn=nt.la>>4+wn,ui=cn.la>>4+wn,Cn=0;2>Cn;++Cn){for(ea=1&ui,Ai=0;2>Ai;++Ai)pr=ea+(1&yn),yn=yn>>1|(ea=0<(pr=ya(gt,ft[2],pr,pt.Qc,0,Ke,xn)))<<3,Ft=Ft<<2|(3<pr?3:1<pr?2:Ke[xn+0]!=0),xn+=16;yn>>=2,ui=ui>>1|ea<<5}Jt|=Ft<<4*wn,Yr|=yn<<4<<wn,jn|=(240&ui)<<wn}nt.la=Yr,cn.la=jn,jt.Hc=hn,jt.Gc=Jt,jt.ia=43690&Jt?0:pt.ia,ft=!(hn|Jt)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[Ve.$b][Ve.Za],Ee.wa[Ee.Y+Ee.ja].La|=!ft),Je.Ka)return Xn(ke,7,"Premature end-of-file encountered.")}if(Wu(ke),Ee=Ze,Je=1,Ve=(Ae=ke).D,nt=0<Ae.L&&Ae.M>=Ae.zb&&Ae.M<=Ae.Va,Ae.Aa==0)e:{if(Ve.M=Ae.M,Ve.uc=nt,Wc(Ae,Ve),Je=1,Ve=(Ft=Ae.D).Nb,nt=(Jt=nu[Ae.L])*Ae.R,gt=Jt/2*Ae.B,Cn=16*Ve*Ae.R,Ai=8*Ve*Ae.B,ft=Ae.sa,jt=Ae.ta-nt+Cn,pt=Ae.qa,Ke=Ae.ra-gt+Ai,xn=Ae.Ha,cn=Ae.Ia-gt+Ai,ui=(yn=Ft.M)==0,hn=yn>=Ae.Va-1,Ae.Aa==2&&Wc(Ae,Ft),Ft.uc)for(ea=(pr=Ae).D.M,t(pr.D.uc),Ft=pr.yb;Ft<pr.Hb;++Ft){jn=Ft,Yr=ea;var qr=(mr=(or=pr).D).Nb;wn=or.R;var mr=mr.wa[mr.Y+jn],Kr=or.sa,va=or.ta+16*qr*wn+16*jn,Ha=mr.dd,Dr=mr.tc;if(Dr!=0)if(t(3<=Dr),or.L==1)0<jn&&Ar(Kr,va,wn,Dr+4),mr.La&&Ro(Kr,va,wn,Dr),0<Yr&&Fn(Kr,va,wn,Dr+4),mr.La&&Mr(Kr,va,wn,Dr);else{var Cr=or.B,Jr=or.qa,xa=or.ra+8*qr*Cr+8*jn,Bo=or.Ha,or=or.Ia+8*qr*Cr+8*jn;qr=mr.ld,0<jn&&(el(Kr,va,wn,Dr+4,Ha,qr),Zi(Jr,xa,Bo,or,Cr,Dr+4,Ha,qr)),mr.La&&(ma(Kr,va,wn,Dr,Ha,qr),Un(Jr,xa,Bo,or,Cr,Dr,Ha,qr)),0<Yr&&(Ra(Kr,va,wn,Dr+4,Ha,qr),tl(Jr,xa,Bo,or,Cr,Dr+4,Ha,qr)),mr.La&&(Jc(Kr,va,wn,Dr,Ha,qr),Do(Jr,xa,Bo,or,Cr,Dr,Ha,qr))}}if(Ae.ia&&alert("todo:DitherRow"),Ee.put!=null){if(Ft=16*yn,yn=16*(yn+1),ui?(Ee.y=Ae.sa,Ee.O=Ae.ta+Cn,Ee.f=Ae.qa,Ee.N=Ae.ra+Ai,Ee.ea=Ae.Ha,Ee.W=Ae.Ia+Ai):(Ft-=Jt,Ee.y=ft,Ee.O=jt,Ee.f=pt,Ee.N=Ke,Ee.ea=xn,Ee.W=cn),hn||(yn-=Jt),yn>Ee.o&&(yn=Ee.o),Ee.F=null,Ee.J=null,Ae.Fa!=null&&0<Ae.Fa.length&&Ft<yn&&(Ee.J=Gc(Ae,Ee,Ft,yn-Ft),Ee.F=Ae.mb,Ee.F==null&&Ee.F.length==0)){Je=Xn(Ae,3,"Could not decode alpha data.");break e}Ft<Ee.j&&(Jt=Ee.j-Ft,Ft=Ee.j,t(!(1&Jt)),Ee.O+=Ae.R*Jt,Ee.N+=Ae.B*(Jt>>1),Ee.W+=Ae.B*(Jt>>1),Ee.F!=null&&(Ee.J+=Ee.width*Jt)),Ft<yn&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=Ft-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=yn-Ft,Je=Ee.put(Ee))}Ve+1!=Ae.Ic||hn||(r(Ae.sa,Ae.ta-nt,ft,jt+16*Ae.R,nt),r(Ae.qa,Ae.ra-gt,pt,Ke+8*Ae.B,gt),r(Ae.Ha,Ae.Ia-gt,xn,cn+8*Ae.B,gt))}if(!Je)return Xn(ke,6,"Output aborted.")}return 1})(b,E)),E.bc!=null&&E.bc(E),L&=1}return L?(b.cb=0,L):0}function ka(b,E,L,W,Q){Q=b[E+L+32*W]+(Q>>3),b[E+L+32*W]=-256&Q?0>Q?0:255:Q}function ss(b,E,L,W,Q,ae){ka(b,E,0,L,W+Q),ka(b,E,1,L,W+ae),ka(b,E,2,L,W-ae),ka(b,E,3,L,W-Q)}function Xi(b){return(20091*b>>16)+b}function vi(b,E,L,W){var Q,ae=0,oe=a(16);for(Q=0;4>Q;++Q){var le=b[E+0]+b[E+8],ue=b[E+0]-b[E+8],ye=(35468*b[E+4]>>16)-Xi(b[E+12]),Se=Xi(b[E+4])+(35468*b[E+12]>>16);oe[ae+0]=le+Se,oe[ae+1]=ue+ye,oe[ae+2]=ue-ye,oe[ae+3]=le-Se,ae+=4,E++}for(Q=ae=0;4>Q;++Q)le=(b=oe[ae+0]+4)+oe[ae+8],ue=b-oe[ae+8],ye=(35468*oe[ae+4]>>16)-Xi(oe[ae+12]),ka(L,W,0,0,le+(Se=Xi(oe[ae+4])+(35468*oe[ae+12]>>16))),ka(L,W,1,0,ue+ye),ka(L,W,2,0,ue-ye),ka(L,W,3,0,le-Se),ae++,W+=32}function Lc(b,E,L,W){var Q=b[E+0]+4,ae=35468*b[E+4]>>16,oe=Xi(b[E+4]),le=35468*b[E+1]>>16;ss(L,W,0,Q+oe,b=Xi(b[E+1]),le),ss(L,W,1,Q+ae,b,le),ss(L,W,2,Q-ae,b,le),ss(L,W,3,Q-oe,b,le)}function af(b,E,L,W,Q){vi(b,E,L,W),Q&&vi(b,E+16,L,W+4)}function Oc(b,E,L,W){Zs(b,E+0,L,W,1),Zs(b,E+32,L,W+128,1)}function qs(b,E,L,W){var Q;for(b=b[E+0]+4,Q=0;4>Q;++Q)for(E=0;4>E;++E)ka(L,W,E,Q,b)}function Ku(b,E,L,W){b[E+0]&&Da(b,E+0,L,W),b[E+16]&&Da(b,E+16,L,W+4),b[E+32]&&Da(b,E+32,L,W+128),b[E+48]&&Da(b,E+48,L,W+128+4)}function of(b,E,L,W){var Q,ae=a(16);for(Q=0;4>Q;++Q){var oe=b[E+0+Q]+b[E+12+Q],le=b[E+4+Q]+b[E+8+Q],ue=b[E+4+Q]-b[E+8+Q],ye=b[E+0+Q]-b[E+12+Q];ae[0+Q]=oe+le,ae[8+Q]=oe-le,ae[4+Q]=ye+ue,ae[12+Q]=ye-ue}for(Q=0;4>Q;++Q)oe=(b=ae[0+4*Q]+3)+ae[3+4*Q],le=ae[1+4*Q]+ae[2+4*Q],ue=ae[1+4*Q]-ae[2+4*Q],ye=b-ae[3+4*Q],L[W+0]=oe+le>>3,L[W+16]=ye+ue>>3,L[W+32]=oe-le>>3,L[W+48]=ye-ue>>3,W+=64}function Po(b,E,L){var W,Q=E-32,ae=Ni,oe=255-b[Q-1];for(W=0;W<L;++W){var le,ue=ae,ye=oe+b[E-1];for(le=0;le<L;++le)b[E+le]=ue[ye+b[Q+le]];E+=32}}function Zh(b,E){Po(b,E,4)}function sf(b,E){Po(b,E,8)}function lf(b,E){Po(b,E,16)}function oo(b,E){var L;for(L=0;16>L;++L)r(b,E+32*L,b,E-32,16)}function Bc(b,E){var L;for(L=16;0<L;--L)i(b,E,b[E-1],16),E+=32}function Uc(b,E,L){var W;for(W=0;16>W;++W)i(E,L+32*W,b,16)}function jl(b,E){var L,W=16;for(L=0;16>L;++L)W+=b[E-1+32*L]+b[E+L-32];Uc(W>>5,b,E)}function Qn(b,E){var L,W=8;for(L=0;16>L;++L)W+=b[E-1+32*L];Uc(W>>4,b,E)}function Ju(b,E){var L,W=8;for(L=0;16>L;++L)W+=b[E+L-32];Uc(W>>4,b,E)}function Fc(b,E){Uc(128,b,E)}function Bt(b,E,L){return b+2*E+L+2>>2}function Hs(b,E){var L,W=E-32;for(W=new Uint8Array([Bt(b[W-1],b[W+0],b[W+1]),Bt(b[W+0],b[W+1],b[W+2]),Bt(b[W+1],b[W+2],b[W+3]),Bt(b[W+2],b[W+3],b[W+4])]),L=0;4>L;++L)r(b,E+32*L,W,0,W.length)}function cf(b,E){var L=b[E-1],W=b[E-1+32],Q=b[E-1+64],ae=b[E-1+96];me(b,E+0,16843009*Bt(b[E-1-32],L,W)),me(b,E+32,16843009*Bt(L,W,Q)),me(b,E+64,16843009*Bt(W,Q,ae)),me(b,E+96,16843009*Bt(Q,ae,ae))}function Ta(b,E){var L,W=4;for(L=0;4>L;++L)W+=b[E+L-32]+b[E-1+32*L];for(W>>=3,L=0;4>L;++L)i(b,E+32*L,W,4)}function Xu(b,E){var L=b[E-1+0],W=b[E-1+32],Q=b[E-1+64],ae=b[E-1-32],oe=b[E+0-32],le=b[E+1-32],ue=b[E+2-32],ye=b[E+3-32];b[E+0+96]=Bt(W,Q,b[E-1+96]),b[E+1+96]=b[E+0+64]=Bt(L,W,Q),b[E+2+96]=b[E+1+64]=b[E+0+32]=Bt(ae,L,W),b[E+3+96]=b[E+2+64]=b[E+1+32]=b[E+0+0]=Bt(oe,ae,L),b[E+3+64]=b[E+2+32]=b[E+1+0]=Bt(le,oe,ae),b[E+3+32]=b[E+2+0]=Bt(ue,le,oe),b[E+3+0]=Bt(ye,ue,le)}function Vs(b,E){var L=b[E+1-32],W=b[E+2-32],Q=b[E+3-32],ae=b[E+4-32],oe=b[E+5-32],le=b[E+6-32],ue=b[E+7-32];b[E+0+0]=Bt(b[E+0-32],L,W),b[E+1+0]=b[E+0+32]=Bt(L,W,Q),b[E+2+0]=b[E+1+32]=b[E+0+64]=Bt(W,Q,ae),b[E+3+0]=b[E+2+32]=b[E+1+64]=b[E+0+96]=Bt(Q,ae,oe),b[E+3+32]=b[E+2+64]=b[E+1+96]=Bt(ae,oe,le),b[E+3+64]=b[E+2+96]=Bt(oe,le,ue),b[E+3+96]=Bt(le,ue,ue)}function Qi(b,E){var L=b[E-1+0],W=b[E-1+32],Q=b[E-1+64],ae=b[E-1-32],oe=b[E+0-32],le=b[E+1-32],ue=b[E+2-32],ye=b[E+3-32];b[E+0+0]=b[E+1+64]=ae+oe+1>>1,b[E+1+0]=b[E+2+64]=oe+le+1>>1,b[E+2+0]=b[E+3+64]=le+ue+1>>1,b[E+3+0]=ue+ye+1>>1,b[E+0+96]=Bt(Q,W,L),b[E+0+64]=Bt(W,L,ae),b[E+0+32]=b[E+1+96]=Bt(L,ae,oe),b[E+1+32]=b[E+2+96]=Bt(ae,oe,le),b[E+2+32]=b[E+3+96]=Bt(oe,le,ue),b[E+3+32]=Bt(le,ue,ye)}function Il(b,E){var L=b[E+0-32],W=b[E+1-32],Q=b[E+2-32],ae=b[E+3-32],oe=b[E+4-32],le=b[E+5-32],ue=b[E+6-32],ye=b[E+7-32];b[E+0+0]=L+W+1>>1,b[E+1+0]=b[E+0+64]=W+Q+1>>1,b[E+2+0]=b[E+1+64]=Q+ae+1>>1,b[E+3+0]=b[E+2+64]=ae+oe+1>>1,b[E+0+32]=Bt(L,W,Q),b[E+1+32]=b[E+0+96]=Bt(W,Q,ae),b[E+2+32]=b[E+1+96]=Bt(Q,ae,oe),b[E+3+32]=b[E+2+96]=Bt(ae,oe,le),b[E+3+64]=Bt(oe,le,ue),b[E+3+96]=Bt(le,ue,ye)}function Ml(b,E){var L=b[E-1+0],W=b[E-1+32],Q=b[E-1+64],ae=b[E-1+96];b[E+0+0]=L+W+1>>1,b[E+2+0]=b[E+0+32]=W+Q+1>>1,b[E+2+32]=b[E+0+64]=Q+ae+1>>1,b[E+1+0]=Bt(L,W,Q),b[E+3+0]=b[E+1+32]=Bt(W,Q,ae),b[E+3+32]=b[E+1+64]=Bt(Q,ae,ae),b[E+3+64]=b[E+2+64]=b[E+0+96]=b[E+1+96]=b[E+2+96]=b[E+3+96]=ae}function jo(b,E){var L=b[E-1+0],W=b[E-1+32],Q=b[E-1+64],ae=b[E-1+96],oe=b[E-1-32],le=b[E+0-32],ue=b[E+1-32],ye=b[E+2-32];b[E+0+0]=b[E+2+32]=L+oe+1>>1,b[E+0+32]=b[E+2+64]=W+L+1>>1,b[E+0+64]=b[E+2+96]=Q+W+1>>1,b[E+0+96]=ae+Q+1>>1,b[E+3+0]=Bt(le,ue,ye),b[E+2+0]=Bt(oe,le,ue),b[E+1+0]=b[E+3+32]=Bt(L,oe,le),b[E+1+32]=b[E+3+64]=Bt(W,L,oe),b[E+1+64]=b[E+3+96]=Bt(Q,W,L),b[E+1+96]=Bt(ae,Q,W)}function Qu(b,E){var L;for(L=0;8>L;++L)r(b,E+32*L,b,E-32,8)}function Gs(b,E){var L;for(L=0;8>L;++L)i(b,E,b[E-1],8),E+=32}function $s(b,E,L){var W;for(W=0;8>W;++W)i(E,L+32*W,b,8)}function so(b,E){var L,W=8;for(L=0;8>L;++L)W+=b[E+L-32]+b[E-1+32*L];$s(W>>4,b,E)}function zc(b,E){var L,W=4;for(L=0;8>L;++L)W+=b[E+L-32];$s(W>>3,b,E)}function Ws(b,E){var L,W=4;for(L=0;8>L;++L)W+=b[E-1+32*L];$s(W>>3,b,E)}function Wr(b,E){$s(128,b,E)}function Pa(b,E,L){var W=b[E-L],Q=b[E+0],ae=3*(Q-W)+ps[1020+b[E-2*L]-b[E+L]],oe=dd[112+(ae+4>>3)];b[E-L]=Ni[255+W+dd[112+(ae+3>>3)]],b[E+0]=Ni[255+Q-oe]}function Dl(b,E,L,W){var Q=b[E+0],ae=b[E+L];return oi[255+b[E-2*L]-b[E-L]]>W||oi[255+ae-Q]>W}function Ys(b,E,L,W){return 4*oi[255+b[E-L]-b[E+0]]+oi[255+b[E-2*L]-b[E+L]]<=W}function uf(b,E,L,W,Q){var ae=b[E-3*L],oe=b[E-2*L],le=b[E-L],ue=b[E+0],ye=b[E+L],Se=b[E+2*L],Me=b[E+3*L];return 4*oi[255+le-ue]+oi[255+oe-ye]>W?0:oi[255+b[E-4*L]-ae]<=Q&&oi[255+ae-oe]<=Q&&oi[255+oe-le]<=Q&&oi[255+Me-Se]<=Q&&oi[255+Se-ye]<=Q&&oi[255+ye-ue]<=Q}function qc(b,E,L,W){var Q=2*W+1;for(W=0;16>W;++W)Ys(b,E+W,L,Q)&&Pa(b,E+W,L)}function lo(b,E,L,W){var Q=2*W+1;for(W=0;16>W;++W)Ys(b,E+W*L,1,Q)&&Pa(b,E+W*L,1)}function ja(b,E,L,W){var Q;for(Q=3;0<Q;--Q)qc(b,E+=4*L,L,W)}function Hc(b,E,L,W){var Q;for(Q=3;0<Q;--Q)lo(b,E+=4,L,W)}function ls(b,E,L,W,Q,ae,oe,le){for(ae=2*ae+1;0<Q--;){if(uf(b,E,L,ae,oe))if(Dl(b,E,L,le))Pa(b,E,L);else{var ue=b,ye=E,Se=L,Me=ue[ye-2*Se],Ie=ue[ye-Se],ke=ue[ye+0],Ze=ue[ye+Se],Ve=ue[ye+2*Se],Ae=27*(Je=ps[1020+3*(ke-Ie)+ps[1020+Me-Ze]])+63>>7,Ee=18*Je+63>>7,Je=9*Je+63>>7;ue[ye-3*Se]=Ni[255+ue[ye-3*Se]+Je],ue[ye-2*Se]=Ni[255+Me+Ee],ue[ye-Se]=Ni[255+Ie+Ae],ue[ye+0]=Ni[255+ke-Ae],ue[ye+Se]=Ni[255+Ze-Ee],ue[ye+2*Se]=Ni[255+Ve-Je]}E+=W}}function co(b,E,L,W,Q,ae,oe,le){for(ae=2*ae+1;0<Q--;){if(uf(b,E,L,ae,oe))if(Dl(b,E,L,le))Pa(b,E,L);else{var ue=b,ye=E,Se=L,Me=ue[ye-Se],Ie=ue[ye+0],ke=ue[ye+Se],Ze=dd[112+((Ve=3*(Ie-Me))+4>>3)],Ve=dd[112+(Ve+3>>3)],Ae=Ze+1>>1;ue[ye-2*Se]=Ni[255+ue[ye-2*Se]+Ae],ue[ye-Se]=Ni[255+Me+Ve],ue[ye+0]=Ni[255+Ie-Ze],ue[ye+Se]=Ni[255+ke-Ae]}E+=W}}function Zu(b,E,L,W,Q,ae){ls(b,E,L,1,16,W,Q,ae)}function Rl(b,E,L,W,Q,ae){ls(b,E,1,L,16,W,Q,ae)}function ed(b,E,L,W,Q,ae){var oe;for(oe=3;0<oe;--oe)co(b,E+=4*L,L,1,16,W,Q,ae)}function Vc(b,E,L,W,Q,ae){var oe;for(oe=3;0<oe;--oe)co(b,E+=4,1,L,16,W,Q,ae)}function ep(b,E,L,W,Q,ae,oe,le){ls(b,E,Q,1,8,ae,oe,le),ls(L,W,Q,1,8,ae,oe,le)}function td(b,E,L,W,Q,ae,oe,le){ls(b,E,1,Q,8,ae,oe,le),ls(L,W,1,Q,8,ae,oe,le)}function nd(b,E,L,W,Q,ae,oe,le){co(b,E+4*Q,Q,1,8,ae,oe,le),co(L,W+4*Q,Q,1,8,ae,oe,le)}function df(b,E,L,W,Q,ae,oe,le){co(b,E+4,1,Q,8,ae,oe,le),co(L,W+4,1,Q,8,ae,oe,le)}function Ll(){this.ba=new Gn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function id(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ff(){this.ua=0,this.Wa=new ge,this.vb=new ge,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new O}function tp(){this.xb=this.a=0,this.l=new Dc,this.ca=new Gn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ff,this.ab=0,this.gc=o(4,id),this.Oc=0}function Ks(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ol(b,E,L,W,Q,ae,oe){for(b=b==null?0:b[E+0],E=0;E<oe;++E)Q[ae+E]=b+L[W+E]&255,b=Q[ae+E]}function ad(b,E,L,W,Q,ae,oe){var le;if(b==null)Ol(null,null,L,W,Q,ae,oe);else for(le=0;le<oe;++le)Q[ae+le]=b[E+le]+L[W+le]&255}function Js(b,E,L,W,Q,ae,oe){if(b==null)Ol(null,null,L,W,Q,ae,oe);else{var le,ue=b[E+0],ye=ue,Se=ue;for(le=0;le<oe;++le)ye=Se+(ue=b[E+le])-ye,Se=L[W+le]+(-256&ye?0>ye?0:255:ye)&255,ye=ue,Q[ae+le]=Se}}function Gc(b,E,L,W){var Q=E.width,ae=E.o;if(t(b!=null&&E!=null),0>L||0>=W||L+W>ae)return null;if(!b.Cc){if(b.ga==null){var oe;if(b.ga=new Ks,(oe=b.ga==null)||(oe=E.width*E.o,t(b.Gb.length==0),b.Gb=a(oe),b.Uc=0,b.Gb==null?oe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,oe=1),oe=!oe),!oe){oe=b.ga;var le=b.Fa,ue=b.P,ye=b.qc,Se=b.mb,Me=b.nb,Ie=ue+1,ke=ye-1,Ze=oe.l;if(t(le!=null&&Se!=null&&E!=null),ms[0]=null,ms[1]=Ol,ms[2]=ad,ms[3]=Js,oe.ca=Se,oe.tb=Me,oe.c=E.width,oe.i=E.height,t(0<oe.c&&0<oe.i),1>=ye)E=0;else if(oe.$a=le[ue+0]>>0&3,oe.Z=le[ue+0]>>2&3,oe.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||ue)E=0;else if(Ze.put=Fr,Ze.ac=Tr,Ze.bc=Pr,Ze.ma=oe,Ze.width=E.width,Ze.height=E.height,Ze.Da=E.Da,Ze.v=E.v,Ze.va=E.va,Ze.j=E.j,Ze.o=E.o,oe.$a)e:{t(oe.$a==1),E=fr();t:for(;;){if(E==null){E=0;break e}if(t(oe!=null),oe.mc=E,E.c=oe.c,E.i=oe.i,E.l=oe.l,E.l.ma=oe,E.l.width=oe.c,E.l.height=oe.i,E.a=0,ee(E.m,le,Ie,ke),!ir(oe.c,oe.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&xt(E.s)?(oe.ic=1,le=E.c*E.i,E.Ta=null,E.Ua=0,E.V=a(le),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(oe.ic=0,E=Ji(E,oe.c)),!E))break t;E=1;break e}oe.mc=null,E=0}else E=ke>=oe.c*oe.i;oe=!E}if(oe)return null;b.ga.Lc!=1?b.Ga=0:W=ae-L}t(b.ga!=null),t(L+W<=ae);e:{if(E=(le=b.ga).c,ae=le.l.o,le.$a==0){if(Ie=b.rc,ke=b.Vc,Ze=b.Fa,ue=b.P+1+L*E,ye=b.mb,Se=b.nb+L*E,t(ue<=b.P+b.qc),le.Z!=0)for(t(ms[le.Z]!=null),oe=0;oe<W;++oe)ms[le.Z](Ie,ke,Ze,ue,ye,Se,E),Ie=ye,ke=Se,Se+=E,ue+=E;else for(oe=0;oe<W;++oe)r(ye,Se,Ze,ue,E),Ie=ye,ke=Se,Se+=E,ue+=E;b.rc=Ie,b.Vc=ke}else{if(t(le.mc!=null),E=L+W,t((oe=le.mc)!=null),t(E<=oe.i),oe.C>=E)E=1;else if(le.ic||je(),le.ic){le=oe.V,Ie=oe.Ba,ke=oe.c;var Ve=oe.i,Ae=(Ze=1,ue=oe.$/ke,ye=oe.$%ke,Se=oe.m,Me=oe.s,oe.$),Ee=ke*Ve,Je=ke*E,nt=Me.wc,Ke=Ae<Je?ze(Me,ye,ue):null;t(Ae<=Ee),t(E<=Ve),t(xt(Me));t:for(;;){for(;!Se.h&&Ae<Je;){if(ye&nt||(Ke=ze(Me,ye,ue)),t(Ke!=null),fe(Se),256>(Ve=jr(Ke.G[0],Ke.H[0],Se)))le[Ie+Ae]=Ve,++Ae,++ye>=ke&&(ye=0,++ue<=E&&!(ue%16)&&tn(oe,ue));else{if(!(280>Ve)){Ze=0;break t}Ve=Ki(Ve-256,Se);var gt,ft=jr(Ke.G[4],Ke.H[4],Se);if(fe(Se),!(Ae>=(ft=Mi(ke,ft=Ki(ft,Se)))&&Ee-Ae>=Ve)){Ze=0;break t}for(gt=0;gt<Ve;++gt)le[Ie+Ae+gt]=le[Ie+Ae+gt-ft];for(Ae+=Ve,ye+=Ve;ye>=ke;)ye-=ke,++ue<=E&&!(ue%16)&&tn(oe,ue);Ae<Je&&ye&nt&&(Ke=ze(Me,ye,ue))}t(Se.h==re(Se))}tn(oe,ue>E?E:ue);break t}!Ze||Se.h&&Ae<Ee?(Ze=0,oe.a=Se.h?5:3):oe.$=Ae,E=Ze}else E=ii(oe,oe.V,oe.Ba,oe.c,oe.i,E,ko);if(!E){W=0;break e}}L+W>=ae&&(b.Cc=1),W=1}if(!W)return null;if(b.Cc&&((W=b.ga)!=null&&(W.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+L*Q}function I(b,E,L,W,Q,ae){for(;0<Q--;){var oe,le=b,ue=E+(L?1:0),ye=b,Se=E+(L?0:3);for(oe=0;oe<W;++oe){var Me=ye[Se+4*oe];Me!=255&&(Me*=32897,le[ue+4*oe+0]=le[ue+4*oe+0]*Me>>23,le[ue+4*oe+1]=le[ue+4*oe+1]*Me>>23,le[ue+4*oe+2]=le[ue+4*oe+2]*Me>>23)}E+=ae}}function Z(b,E,L,W,Q){for(;0<W--;){var ae;for(ae=0;ae<L;++ae){var oe=b[E+2*ae+0],le=15&(ye=b[E+2*ae+1]),ue=4369*le,ye=(240&ye|ye>>4)*ue>>16;b[E+2*ae+0]=(240&oe|oe>>4)*ue>>16&240|(15&oe|oe<<4)*ue>>16>>4&15,b[E+2*ae+1]=240&ye|le}E+=Q}}function ve(b,E,L,W,Q,ae,oe,le){var ue,ye,Se=255;for(ye=0;ye<Q;++ye){for(ue=0;ue<W;++ue){var Me=b[E+ue];ae[oe+4*ue]=Me,Se&=Me}E+=L,oe+=le}return Se!=255}function Ne(b,E,L,W,Q){var ae;for(ae=0;ae<Q;++ae)L[W+ae]=b[E+ae]>>8}function je(){Lo=I,wi=Z,Ul=ve,ga=Ne}function Ge(b,E,L){F[b]=function(W,Q,ae,oe,le,ue,ye,Se,Me,Ie,ke,Ze,Ve,Ae,Ee,Je,nt){var Ke,gt=nt-1>>1,ft=le[ue+0]|ye[Se+0]<<16,jt=Me[Ie+0]|ke[Ze+0]<<16;t(W!=null);var pt=3*ft+jt+131074>>2;for(E(W[Q+0],255&pt,pt>>16,Ve,Ae),ae!=null&&(pt=3*jt+ft+131074>>2,E(ae[oe+0],255&pt,pt>>16,Ee,Je)),Ke=1;Ke<=gt;++Ke){var xn=le[ue+Ke]|ye[Se+Ke]<<16,cn=Me[Ie+Ke]|ke[Ze+Ke]<<16,hn=ft+xn+jt+cn+524296,Jt=hn+2*(xn+jt)>>3;pt=Jt+ft>>1,ft=(hn=hn+2*(ft+cn)>>3)+xn>>1,E(W[Q+2*Ke-1],255&pt,pt>>16,Ve,Ae+(2*Ke-1)*L),E(W[Q+2*Ke-0],255&ft,ft>>16,Ve,Ae+(2*Ke-0)*L),ae!=null&&(pt=hn+jt>>1,ft=Jt+cn>>1,E(ae[oe+2*Ke-1],255&pt,pt>>16,Ee,Je+(2*Ke-1)*L),E(ae[oe+2*Ke+0],255&ft,ft>>16,Ee,Je+(2*Ke+0)*L)),ft=xn,jt=cn}1&nt||(pt=3*ft+jt+131074>>2,E(W[Q+nt-1],255&pt,pt>>16,Ve,Ae+(nt-1)*L),ae!=null&&(pt=3*jt+ft+131074>>2,E(ae[oe+nt-1],255&pt,pt>>16,Ee,Je+(nt-1)*L)))}}function at(){li[vf]=ql,li[Si]=eu,li[xf]=ap,li[La]=Af,li[fd]=al,li[Xc]=Oo,li[nl]=ol,li[hd]=eu,li[bf]=Af,li[Qc]=al,li[wf]=Oo}function bt(b){return b&-16384?0>b?0:255:b>>_f}function Mt(b,E){return bt((19077*b>>8)+(26149*E>>8)-14234)}function Vt(b,E,L){return bt((19077*b>>8)-(6419*E>>8)-(13320*L>>8)+8708)}function Yt(b,E){return bt((19077*b>>8)+(33050*E>>8)-17685)}function fn(b,E,L,W,Q){W[Q+0]=Mt(b,L),W[Q+1]=Vt(b,E,L),W[Q+2]=Yt(b,E)}function Zn(b,E,L,W,Q){W[Q+0]=Yt(b,E),W[Q+1]=Vt(b,E,L),W[Q+2]=Mt(b,L)}function ar(b,E,L,W,Q){var ae=Vt(b,E,L);E=ae<<3&224|Yt(b,E)>>3,W[Q+0]=248&Mt(b,L)|ae>>5,W[Q+1]=E}function Sr(b,E,L,W,Q){var ae=240&Yt(b,E)|15;W[Q+0]=240&Mt(b,L)|Vt(b,E,L)>>4,W[Q+1]=ae}function ai(b,E,L,W,Q){W[Q+0]=255,fn(b,E,L,W,Q+1)}function zr(b,E,L,W,Q){Zn(b,E,L,W,Q),W[Q+3]=255}function xi(b,E,L,W,Q){fn(b,E,L,W,Q),W[Q+3]=255}function ha(b,E){return 0>b?0:b>E?E:b}function cs(b,E,L){F[b]=function(W,Q,ae,oe,le,ue,ye,Se,Me){for(var Ie=Se+(-2&Me)*L;Se!=Ie;)E(W[Q+0],ae[oe+0],le[ue+0],ye,Se),E(W[Q+1],ae[oe+0],le[ue+0],ye,Se+L),Q+=2,++oe,++ue,Se+=2*L;1&Me&&E(W[Q+0],ae[oe+0],le[ue+0],ye,Se)}}function hf(b,E,L){return L==0?b==0?E==0?6:5:E==0?4:0:L}function $c(b,E,L,W,Q){switch(b>>>30){case 3:Zs(E,L,W,Q,0);break;case 2:hs(E,L,W,Q);break;case 1:Da(E,L,W,Q)}}function Wc(b,E){var L,W,Q=E.M,ae=E.Nb,oe=b.oc,le=b.pc+40,ue=b.oc,ye=b.pc+584,Se=b.oc,Me=b.pc+600;for(L=0;16>L;++L)oe[le+32*L-1]=129;for(L=0;8>L;++L)ue[ye+32*L-1]=129,Se[Me+32*L-1]=129;for(0<Q?oe[le-1-32]=ue[ye-1-32]=Se[Me-1-32]=129:(i(oe,le-32-1,127,21),i(ue,ye-32-1,127,9),i(Se,Me-32-1,127,9)),W=0;W<b.za;++W){var Ie=E.ya[E.aa+W];if(0<W){for(L=-1;16>L;++L)r(oe,le+32*L-4,oe,le+32*L+12,4);for(L=-1;8>L;++L)r(ue,ye+32*L-4,ue,ye+32*L+4,4),r(Se,Me+32*L-4,Se,Me+32*L+4,4)}var ke=b.Gd,Ze=b.Hd+W,Ve=Ie.ad,Ae=Ie.Hc;if(0<Q&&(r(oe,le-32,ke[Ze].y,0,16),r(ue,ye-32,ke[Ze].f,0,8),r(Se,Me-32,ke[Ze].ea,0,8)),Ie.Za){var Ee=oe,Je=le-32+16;for(0<Q&&(W>=b.za-1?i(Ee,Je,ke[Ze].y[15],4):r(Ee,Je,ke[Ze+1].y,0,4)),L=0;4>L;L++)Ee[Je+128+L]=Ee[Je+256+L]=Ee[Je+384+L]=Ee[Je+0+L];for(L=0;16>L;++L,Ae<<=2)Ee=oe,Je=le+_r[L],hr[Ie.Ob[L]](Ee,Je),$c(Ae,Ve,16*+L,Ee,Je)}else if(Ee=hf(W,Q,Ie.Ob[0]),Ui[Ee](oe,le),Ae!=0)for(L=0;16>L;++L,Ae<<=2)$c(Ae,Ve,16*+L,oe,le+_r[L]);for(L=Ie.Gc,Ee=hf(W,Q,Ie.Dd),po[Ee](ue,ye),po[Ee](Se,Me),Ae=Ve,Ee=ue,Je=ye,255&(Ie=L>>0)&&(170&Ie?Mo(Ae,256,Ee,Je):Bi(Ae,256,Ee,Je)),Ie=Se,Ae=Me,255&(L>>=8)&&(170&L?Mo(Ve,320,Ie,Ae):Bi(Ve,320,Ie,Ae)),Q<b.Ub-1&&(r(ke[Ze].y,0,oe,le+480,16),r(ke[Ze].f,0,ue,ye+224,8),r(ke[Ze].ea,0,Se,Me+224,8)),L=8*ae*b.B,ke=b.sa,Ze=b.ta+16*W+16*ae*b.R,Ve=b.qa,Ie=b.ra+8*W+L,Ae=b.Ha,Ee=b.Ia+8*W+L,L=0;16>L;++L)r(ke,Ze+L*b.R,oe,le+32*L,16);for(L=0;8>L;++L)r(Ve,Ie+L*b.B,ue,ye+32*L,8),r(Ae,Ee+L*b.B,Se,Me+32*L,8)}}function Io(b,E,L,W,Q,ae,oe,le,ue){var ye=[0],Se=[0],Me=0,Ie=ue!=null?ue.kd:0,ke=ue??new rd;if(b==null||12>L)return 7;ke.data=b,ke.w=E,ke.ha=L,E=[E],L=[L],ke.gb=[ke.gb];e:{var Ze=E,Ve=L,Ae=ke.gb;if(t(b!=null),t(Ve!=null),t(Ae!=null),Ae[0]=0,12<=Ve[0]&&!n(b,Ze[0],"RIFF")){if(n(b,Ze[0]+8,"WEBP")){Ae=3;break e}var Ee=Ue(b,Ze[0]+4);if(12>Ee||4294967286<Ee){Ae=3;break e}if(Ie&&Ee>Ve[0]-8){Ae=7;break e}Ae[0]=Ee,Ze[0]+=12,Ve[0]-=12}Ae=0}if(Ae!=0)return Ae;for(Ee=0<ke.gb[0],L=L[0];;){e:{var Je=b;Ve=E,Ae=L;var nt=ye,Ke=Se,gt=Ze=[0];if((pt=Me=[Me])[0]=0,8>Ae[0])Ae=7;else{if(!n(Je,Ve[0],"VP8X")){if(Ue(Je,Ve[0]+4)!=10){Ae=3;break e}if(18>Ae[0]){Ae=7;break e}var ft=Ue(Je,Ve[0]+8),jt=1+we(Je,Ve[0]+12);if(2147483648<=jt*(Je=1+we(Je,Ve[0]+15))){Ae=3;break e}gt!=null&&(gt[0]=ft),nt!=null&&(nt[0]=jt),Ke!=null&&(Ke[0]=Je),Ve[0]+=18,Ae[0]-=18,pt[0]=1}Ae=0}}if(Me=Me[0],Ze=Ze[0],Ae!=0)return Ae;if(Ve=!!(2&Ze),!Ee&&Me)return 3;if(ae!=null&&(ae[0]=!!(16&Ze)),oe!=null&&(oe[0]=Ve),le!=null&&(le[0]=0),oe=ye[0],Ze=Se[0],Me&&Ve&&ue==null){Ae=0;break}if(4>L){Ae=7;break}if(Ee&&Me||!Ee&&!Me&&!n(b,E[0],"ALPH")){L=[L],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{ft=b,Ae=E,Ee=L;var pt=ke.gb;nt=ke.na,Ke=ke.P,gt=ke.Sa,jt=22,t(ft!=null),t(Ee!=null),Je=Ae[0];var xn=Ee[0];for(t(nt!=null),t(gt!=null),nt[0]=null,Ke[0]=null,gt[0]=0;;){if(Ae[0]=Je,Ee[0]=xn,8>xn){Ae=7;break e}var cn=Ue(ft,Je+4);if(4294967286<cn){Ae=3;break e}var hn=8+cn+1&-2;if(jt+=hn,0<pt&&jt>pt){Ae=3;break e}if(!n(ft,Je,"VP8 ")||!n(ft,Je,"VP8L")){Ae=0;break e}if(xn[0]<hn){Ae=7;break e}n(ft,Je,"ALPH")||(nt[0]=ft,Ke[0]=Je+8,gt[0]=cn),Je+=hn,xn-=hn}}if(L=L[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Ae!=0)break}L=[L],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(pt=b,Ae=E,Ee=L,nt=ke.gb[0],Ke=ke.Ja,gt=ke.xa,ft=Ae[0],Je=!n(pt,ft,"VP8 "),jt=!n(pt,ft,"VP8L"),t(pt!=null),t(Ee!=null),t(Ke!=null),t(gt!=null),8>Ee[0])Ae=7;else{if(Je||jt){if(pt=Ue(pt,ft+4),12<=nt&&pt>nt-12){Ae=3;break e}if(Ie&&pt>Ee[0]-8){Ae=7;break e}Ke[0]=pt,Ae[0]+=8,Ee[0]-=8,gt[0]=jt}else gt[0]=5<=Ee[0]&&pt[ft+0]==47&&!(pt[ft+4]>>5),Ke[0]=Ee[0];Ae=0}if(L=L[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],E=E[0],Ae!=0)break;if(4294967286<ke.Ja)return 3;if(le==null||Ve||(le[0]=ke.xa?2:1),oe=[oe],Ze=[Ze],ke.xa){if(5>L){Ae=7;break}le=oe,Ie=Ze,Ve=ae,b==null||5>L?b=0:5<=L&&b[E+0]==47&&!(b[E+4]>>5)?(Ee=[0],pt=[0],nt=[0],ee(Ke=new V,b,E,L),It(Ke,Ee,pt,nt)?(le!=null&&(le[0]=Ee[0]),Ie!=null&&(Ie[0]=pt[0]),Ve!=null&&(Ve[0]=nt[0]),b=1):b=0):b=0}else{if(10>L){Ae=7;break}le=Ze,b==null||10>L||!Ea(b,E+3,L-3)?b=0:(Ie=b[E+0]|b[E+1]<<8|b[E+2]<<16,Ve=16383&(b[E+7]<<8|b[E+6]),b=16383&(b[E+9]<<8|b[E+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=ke.Ja||!Ve||!b?b=0:(oe&&(oe[0]=Ve),le&&(le[0]=b),b=1))}if(!b||(oe=oe[0],Ze=Ze[0],Me&&(ye[0]!=oe||Se[0]!=Ze)))return 3;ue!=null&&(ue[0]=ke,ue.offset=E-ue.w,t(4294967286>E-ue.w),t(ue.offset==ue.ha-L));break}return Ae==0||Ae==7&&Me&&ue==null?(ae!=null&&(ae[0]|=ke.na!=null&&0<ke.na.length),W!=null&&(W[0]=oe),Q!=null&&(Q[0]=Ze),0):Ae}function us(b,E,L){var W=E.width,Q=E.height,ae=0,oe=0,le=W,ue=Q;if(E.Da=b!=null&&0<b.Da,E.Da&&(le=b.cd,ue=b.bd,ae=b.v,oe=b.j,11>L||(ae&=-2,oe&=-2),0>ae||0>oe||0>=le||0>=ue||ae+le>W||oe+ue>Q))return 0;if(E.v=ae,E.j=oe,E.va=ae+le,E.o=oe+ue,E.U=le,E.T=ue,E.da=b!=null&&0<b.da,E.da){if(!mt(le,ue,L=[b.ib],ae=[b.hb]))return 0;E.ib=L[0],E.hb=ae[0]}return E.ob=b!=null&&b.ob,E.Kb=b==null||!b.Sd,E.da&&(E.ob=E.ib<3*W/4&&E.hb<3*Q/4,E.Kb=0),1}function od(b){if(b==null)return 2;if(11>b.S){var E=b.f.RGBA;E.fb+=(b.height-1)*E.A,E.A=-E.A}else E=b.f.kb,b=b.height,E.O+=(b-1)*E.fa,E.fa=-E.fa,E.N+=(b-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(b-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(b-1)*E.lb,E.lb=-E.lb);return 0}function ds(b,E,L,W){if(W==null||0>=b||0>=E)return 2;if(L!=null){if(L.Da){var Q=L.cd,ae=L.bd,oe=-2&L.v,le=-2&L.j;if(0>oe||0>le||0>=Q||0>=ae||oe+Q>b||le+ae>E)return 2;b=Q,E=ae}if(L.da){if(!mt(b,E,Q=[L.ib],ae=[L.hb]))return 2;b=Q[0],E=ae[0]}}W.width=b,W.height=E;e:{var ue=W.width,ye=W.height;if(b=W.S,0>=ue||0>=ye||!(b>=vf&&13>b))b=2;else{if(0>=W.Rd&&W.sd==null){oe=ae=Q=E=0;var Se=(le=ue*Ef[b])*ye;if(11>b||(ae=(ye+1)/2*(E=(ue+1)/2),b==12&&(oe=(Q=ue)*ye)),(ye=a(Se+2*ae+oe))==null){b=1;break e}W.sd=ye,11>b?((ue=W.f.RGBA).eb=ye,ue.fb=0,ue.A=le,ue.size=Se):((ue=W.f.kb).y=ye,ue.O=0,ue.fa=le,ue.Fd=Se,ue.f=ye,ue.N=0+Se,ue.Ab=E,ue.Cd=ae,ue.ea=ye,ue.W=0+Se+ae,ue.Db=E,ue.Ed=ae,b==12&&(ue.F=ye,ue.J=0+Se+2*ae),ue.Tc=oe,ue.lb=Q)}if(E=1,Q=W.S,ae=W.width,oe=W.height,Q>=vf&&13>Q)if(11>Q)b=W.f.RGBA,E&=(le=Math.abs(b.A))*(oe-1)+ae<=b.size,E&=le>=ae*Ef[Q],E&=b.eb!=null;else{b=W.f.kb,le=(ae+1)/2,Se=(oe+1)/2,ue=Math.abs(b.fa),ye=Math.abs(b.Ab);var Me=Math.abs(b.Db),Ie=Math.abs(b.lb),ke=Ie*(oe-1)+ae;E&=ue*(oe-1)+ae<=b.Fd,E&=ye*(Se-1)+le<=b.Cd,E=(E&=Me*(Se-1)+le<=b.Ed)&ue>=ae&ye>=le&Me>=le,E&=b.y!=null,E&=b.f!=null,E&=b.ea!=null,Q==12&&(E&=Ie>=ae,E&=ke<=b.Tc,E&=b.F!=null)}else E=0;b=E?0:2}}return b!=0||L!=null&&L.fd&&(b=od(W)),b}var Ri=64,Bl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xs=24,Qs=32,Yc=8,Li=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(b){return b},F.Predictor2=function(b,E,L){return E[L+0]},F.Predictor3=function(b,E,L){return E[L+1]},F.Predictor4=function(b,E,L){return E[L-1]},F.Predictor5=function(b,E,L){return ut(ut(b,E[L+1]),E[L+0])},F.Predictor6=function(b,E,L){return ut(b,E[L-1])},F.Predictor7=function(b,E,L){return ut(b,E[L+0])},F.Predictor8=function(b,E,L){return ut(E[L-1],E[L+0])},F.Predictor9=function(b,E,L){return ut(E[L+0],E[L+1])},F.Predictor10=function(b,E,L){return ut(ut(b,E[L-1]),ut(E[L+0],E[L+1]))},F.Predictor11=function(b,E,L){var W=E[L+0];return 0>=Ot(W>>24&255,b>>24&255,(E=E[L-1])>>24&255)+Ot(W>>16&255,b>>16&255,E>>16&255)+Ot(W>>8&255,b>>8&255,E>>8&255)+Ot(255&W,255&b,255&E)?W:b},F.Predictor12=function(b,E,L){var W=E[L+0];return(kt((b>>24&255)+(W>>24&255)-((E=E[L-1])>>24&255))<<24|kt((b>>16&255)+(W>>16&255)-(E>>16&255))<<16|kt((b>>8&255)+(W>>8&255)-(E>>8&255))<<8|kt((255&b)+(255&W)-(255&E)))>>>0},F.Predictor13=function(b,E,L){var W=E[L-1];return(Nt((b=ut(b,E[L+0]))>>24&255,W>>24&255)<<24|Nt(b>>16&255,W>>16&255)<<16|Nt(b>>8&255,W>>8&255)<<8|Nt(b>>0&255,W>>0&255))>>>0};var pf=F.PredictorAdd0;F.PredictorAdd1=De,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var sd=F.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",(function(b){return b>>8&255}),(function(b){return b})),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(b){return b}),(function(b){return b>>8&255}));var mf,uo=F.ColorIndexInverseTransform,ld=F.MapARGB,np=F.VP8LColorIndexInverseTransformAlpha,Oi=F.MapAlpha,Ia=F.VP8LPredictorsAdd=[];Ia.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var pa,Ma,fs,fo,ho,Kc,bi,Zs,hs,Mo,Da,Bi,Ra,el,tl,Zi,Jc,ma,Do,Un,Fn,Ar,Mr,Ro,Lo,wi,Ul,ga,Fl=a(511),gf=a(2041),cd=a(225),ud=a(767),yf=0,ps=gf,dd=cd,Ni=ud,oi=Fl,vf=0,Si=1,xf=2,La=3,fd=4,Xc=5,nl=6,hd=7,bf=8,Qc=9,wf=10,Oa=[2,3,7],Zc=[3,3,11],zl=[280,256,256,256,40],Nf=[0,1,1,1,0],pd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ba=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ua=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],rl=8,Fa=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],za=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ya=null,l0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],c0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$n=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ln=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ui=[],hr=[],po=[],il=1,ip=2,ms=[],li=[];Ge("UpsampleRgbLinePair",fn,3),Ge("UpsampleBgrLinePair",Zn,3),Ge("UpsampleRgbaLinePair",xi,4),Ge("UpsampleBgraLinePair",zr,4),Ge("UpsampleArgbLinePair",ai,4),Ge("UpsampleRgba4444LinePair",Sr,2),Ge("UpsampleRgb565LinePair",ar,2);var ql=F.UpsampleRgbLinePair,ap=F.UpsampleBgrLinePair,eu=F.UpsampleRgbaLinePair,Af=F.UpsampleBgraLinePair,al=F.UpsampleArgbLinePair,Oo=F.UpsampleRgba4444LinePair,ol=F.UpsampleRgb565LinePair,qa=16,tu=1<<qa-1,Hl=-227,sl=482,_f=6,ll=0,ci=a(256),Cf=a(256),u0=a(256),Jv=a(256),Xv=a(sl-Hl),Qv=a(sl-Hl);cs("YuvToRgbRow",fn,3),cs("YuvToBgrRow",Zn,3),cs("YuvToRgbaRow",xi,4),cs("YuvToBgraRow",zr,4),cs("YuvToArgbRow",ai,4),cs("YuvToRgba4444Row",Sr,2),cs("YuvToRgb565Row",ar,2);var _r=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nu=[0,2,8],md=[8,7,6,4,4,2,2,2,1,1,1,1],gd=1;this.WebPDecodeRGBA=function(b,E,L,W,Q){var ae=Si,oe=new Ll,le=new Gn;oe.ba=le,le.S=ae,le.width=[le.width],le.height=[le.height];var ue=le.width,ye=le.height,Se=new Yi;if(Se==null||b==null)var Me=2;else t(Se!=null),Me=Io(b,E,L,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Me!=0?ue=0:(ue!=null&&(ue[0]=Se.width[0]),ye!=null&&(ye[0]=Se.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],W!=null&&(W[0]=le.width),Q!=null&&(Q[0]=le.height);e:{if(W=new Dc,(Q=new rd).data=b,Q.w=E,Q.ha=L,Q.kd=1,E=[0],t(Q!=null),((b=Io(Q.data,Q.w,Q.ha,null,null,null,E,null,Q))==0||b==7)&&E[0]&&(b=4),(E=b)==0){if(t(oe!=null),W.data=Q.data,W.w=Q.w+Q.offset,W.ha=Q.ha-Q.offset,W.put=Fr,W.ac=Tr,W.bc=Pr,W.ma=oe,Q.xa){if((b=fr())==null){oe=1;break e}if((function(Ie,ke){var Ze=[0],Ve=[0],Ae=[0];t:for(;;){if(Ie==null)return 0;if(ke==null)return Ie.a=2,0;if(Ie.l=ke,Ie.a=0,ee(Ie.m,ke.data,ke.w,ke.ha),!It(Ie.m,Ze,Ve,Ae)){Ie.a=3;break t}if(Ie.xb=ip,ke.width=Ze[0],ke.height=Ve[0],!ir(Ze[0],Ve[0],1,Ie,null))break t;return 1}return t(Ie.a!=0),0})(b,W)){if(W=(E=ds(W.width,W.height,oe.Oa,oe.ba))==0){t:{W=b;n:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((L=W.l)!=null),t((Q=L.ma)!=null),W.xb!=0){if(W.ca=Q.ba,W.tb=Q.tb,t(W.ca!=null),!us(Q.Oa,L,La)){W.a=2;break n}if(!Ji(W,L.width)||L.da)break n;if((L.da||Wt(W.ca.S))&&je(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&je()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Ye(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!ii(W,W.V,W.Ba,W.c,W.i,L.o,St))break n;Q.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(E=b.a)}else E=b.a}else{if((b=new Rc)==null){oe=1;break e}if(b.Fa=Q.na,b.P=Q.P,b.qc=Q.Sa,Di(b,W)){if((E=ds(W.width,W.height,oe.Oa,oe.ba))==0){if(b.Aa=0,L=oe.Oa,t((Q=b)!=null),L!=null){if(0<(ue=0>(ue=L.Md)?0:100<ue?255:255*ue/100)){for(ye=Se=0;4>ye;++ye)12>(Me=Q.pb[ye]).lc&&(Me.ia=ue*md[0>Me.lc?0:Me.lc]>>3),Se|=Me.ia;Se&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=L.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}Yu(b,W)||(E=b.a)}}else E=b.a}E==0&&oe.Oa!=null&&oe.Oa.fd&&(E=od(oe.ba))}oe=E}ae=oe!=0?null:11>ae?le.f.RGBA.eb:le.f.kb.y}else ae=null;return ae};var Ef=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(F,q){for(var G="",R=0;R<4;R++)G+=String.fromCharCode(F[q++]);return G}function h(F,q){return(F[q+0]<<0|F[q+1]<<8|F[q+2]<<16)>>>0}function p(F,q){return(F[q+0]<<0|F[q+1]<<8|F[q+2]<<16|F[q+3]<<24)>>>0}new u;var y=[0],g=[0],w=[],N=new u,A=e,_=(function(F,q){var G={},R=0,O=!1,K=0,$=0;if(G.frames=[],!(function(H,re,de,fe){for(var pe=0;pe<fe;pe++)if(H[re+pe]!=de.charCodeAt(pe))return!0;return!1})(F,q,"RIFF",4)){var ne,z;for(p(F,q+=4),q+=8;q<F.length;){var Y=f(F,q),ee=p(F,q+=4);q+=4;var se=ee+(1&ee);switch(Y){case"VP8 ":case"VP8L":G.frames[R]===void 0&&(G.frames[R]={}),(V=G.frames[R]).src_off=O?$:q-8,V.src_size=K+ee+8,R++,O&&(O=!1,K=0,$=0);break;case"VP8X":(V=G.header={}).feature_flags=F[q];var X=q+4;V.canvas_width=1+h(F,X),X+=3,V.canvas_height=1+h(F,X),X+=3;break;case"ALPH":O=!0,K=se+8,$=q-8;break;case"ANIM":(V=G.header).bgcolor=p(F,q),X=q+4,V.loop_count=(ne=F)[(z=X)+0]<<0|ne[z+1]<<8,X+=2;break;case"ANMF":var ie,V;(V=G.frames[R]={}).offset_x=2*h(F,q),q+=3,V.offset_y=2*h(F,q),q+=3,V.width=1+h(F,q),q+=3,V.height=1+h(F,q),q+=3,V.duration=h(F,q),q+=3,ie=F[q++],V.dispose=1&ie,V.blend=ie>>1&1}Y!="ANMF"&&(q+=se)}return G}})(A,0);_.response=A,_.rgbaoutput=!0,_.dataurl=!1;var k=_.header?_.header:null,P=_.frames?_.frames:null;if(k){k.loop_counter=k.loop_count,y=[k.canvas_height],g=[k.canvas_width];for(var M=0;M<P.length&&P[M].blend!=0;M++);}var B=P[0],U=N.WebPDecodeRGBA(A,B.src_off,B.src_size,g,y);B.rgba=U,B.imgwidth=g[0],B.imgheight=y[0];for(var D=0;D<g[0]*y[0]*4;D++)w[D]=U[D];return this.width=g,this.height=y,this.data=w,this}(function(e){var t=function(){return typeof Vw=="function"},n=function(y,g,w,N){var A=4,_=o;switch(N){case e.image_compression.FAST:A=1,_=a;break;case e.image_compression.MEDIUM:A=6,_=l;break;case e.image_compression.SLOW:A=9,_=u}y=r(y,g,w,_);var k=Vw(y,{level:A});return e.__addimage__.arrayBufferToBinaryString(k)},r=function(y,g,w,N){for(var A,_,k,P=y.length/g,M=new Uint8Array(y.length+P),B=h(),U=0;U<P;U+=1){if(k=U*g,A=y.subarray(k,k+g),N)M.set(N(A,w,_),k+U);else{for(var D,F=B.length,q=[];D<F;D+=1)q[D]=B[D](A,w,_);var G=p(q.concat());M.set(q[G],k+U)}_=A}return M},i=function(y){var g=Array.apply([],y);return g.unshift(0),g},a=function(y,g){var w,N=[],A=y.length;N[0]=1;for(var _=0;_<A;_+=1)w=y[_-g]||0,N[_+1]=y[_]-w+256&255;return N},o=function(y,g,w){var N,A=[],_=y.length;A[0]=2;for(var k=0;k<_;k+=1)N=w&&w[k]||0,A[k+1]=y[k]-N+256&255;return A},l=function(y,g,w){var N,A,_=[],k=y.length;_[0]=3;for(var P=0;P<k;P+=1)N=y[P-g]||0,A=w&&w[P]||0,_[P+1]=y[P]+256-(N+A>>>1)&255;return _},u=function(y,g,w){var N,A,_,k,P=[],M=y.length;P[0]=4;for(var B=0;B<M;B+=1)N=y[B-g]||0,A=w&&w[B]||0,_=w&&w[B-g]||0,k=f(N,A,_),P[B+1]=y[B]-k+256&255;return P},f=function(y,g,w){if(y===g&&g===w)return y;var N=Math.abs(g-w),A=Math.abs(y-w),_=Math.abs(y+g-w-w);return N<=A&&N<=_?y:A<=_?g:w},h=function(){return[i,a,o,l,u]},p=function(y){var g=y.map((function(w){return w.reduce((function(N,A){return N+Math.abs(A)}),0)}));return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(y,g,w,N){var A,_,k,P,M,B,U,D,F,q,G,R,O,K,$,ne=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(k=new Cae(y)).imgData,_=k.bits,A=k.colorSpace,M=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){F=(D=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,G=new Uint8Array(F*k.colors),q=new Uint8Array(F);var Y,ee=k.pixelBitlength-k.bits;for(K=0,$=0;K<F;K++){for(O=D[K],Y=0;Y<ee;)G[$++]=O>>>Y&255,Y+=k.bits;q[K]=O>>>Y&255}}if(k.bits===16){F=(D=new Uint32Array(k.decodePixels().buffer)).length,G=new Uint8Array(F*(32/k.pixelBitlength)*k.colors),q=new Uint8Array(F*(32/k.pixelBitlength)),R=k.colors>1,K=0,$=0;for(var se=0;K<F;)O=D[K++],G[$++]=O>>>0&255,R&&(G[$++]=O>>>16&255,O=D[K++],G[$++]=O>>>0&255),q[se++]=O>>>16&255;_=8}N!==e.image_compression.NONE&&t()?(y=n(G,k.width*k.colors,k.colors,N),U=n(q,k.width,1,N)):(y=G,U=q,ne=void 0)}if(k.colorType===3&&(A=this.color_spaces.INDEXED,B=k.palette,k.transparency.indexed)){var X=k.transparency.indexed,ie=0;for(K=0,F=X.length;K<F;++K)ie+=X[K];if((ie/=255)===F-1&&X.indexOf(0)!==-1)P=[X.indexOf(0)];else if(ie!==F){for(D=k.decodePixels(),q=new Uint8Array(D.length),K=0,F=D.length;K<F;K++)q[K]=X[D[K]];U=n(q,k.width,1)}}var V=(function(H){var re;switch(H){case e.image_compression.FAST:re=11;break;case e.image_compression.MEDIUM:re=13;break;case e.image_compression.SLOW:re=14;break;default:re=12}return re})(N);return ne===this.decode.FLATE_DECODE&&(z="/Predictor "+V+" "),z+="/Colors "+M+" /BitsPerComponent "+_+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:w,data:y,index:g,filter:ne,decodeParameters:z,transparency:P,palette:B,sMask:U,predictor:V,width:k.width,height:k.height,bitsPerComponent:_,colorSpace:A}}}})(Lt.API),(function(e){e.processGIF89A=function(t,n,r,i){var a=new Eae(t),o=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:o,height:l},h=new c2(100).encode(f,100);return e.processJPEG.call(this,h,n,r,i)},e.processGIF87A=e.processGIF89A})(Lt.API),As.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},As.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Kn.log("bit decode error:"+n)}},As.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},As.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=a>>4,u=15&a,f=this.palette[l];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},As.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},As.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,f=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=f}this.pos+=e}},As.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,u=(o>>5&n)/n*255|0,f=(o>>11)/t*255|0,h=i*this.width*4+4*a;this.data[h]=f,this.data[h+1]=u,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},As.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},As.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},As.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,i){var a=new As(t,!1),o=a.width,l=a.height,u={data:a.getData(),width:o,height:l},f=new c2(100).encode(u,100);return e.processJPEG.call(this,f,n,r,i)}})(Lt.API),H3.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,i){var a=new H3(t),o=a.width,l=a.height,u={data:a.getData(),width:o,height:l},f=new c2(100).encode(u,100);return e.processJPEG.call(this,f,n,r,i)}})(Lt.API),Lt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,u=0,f=0;f<i;f+=4){var h=r[f],p=r[f+1],y=r[f+2],g=r[f+3];a[l++]=h,a[l++]=p,a[l++]=y,o[u++]=g}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},th=Lt.API,gg=th.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=t.doKerning!==!1,y=0,g=e.length,w=0,N=l[0]||u,A=[];for(n=0;n<g;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(y=p&&Ln(f[r])==="object"&&!isNaN(parseInt(f[r][w],10))?f[r][w]/h:0,A.push((l[r]||N)/u+y)),w=r;return A},U3=th.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return th.processArabic&&(e=th.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:gg.apply(this,arguments).reduce((function(a,o){return a+o}),0)},F3=function(e,t,n,r){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;i.push(e.slice(0,a));var u=a;for(l=0;a!==o;)l+t[a]>r&&(i.push(e.slice(u,a)),l=0,u=a),l+=t[a],a++;return u!==a&&i.push(e.slice(u,a)),i},z3=function(e,t,n){n||(n={});var r,i,a,o,l,u,f,h=[],p=[h],y=n.textIndent||0,g=0,w=0,N=e.split(" "),A=gg.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var _=Array(u).join(" "),k=[];N.map((function(M){(M=M.split(/\s*\n/)).length>1?k=k.concat(M.map((function(B,U){return(U&&B.length?`
`:"")+B}))):k.push(M[0])})),N=k,u=U3.apply(this,[_,n])}for(a=0,o=N.length;a<o;a++){var P=0;if(r=N[a],u&&r[0]==`
`&&(r=r.substr(1),P=1),y+g+(w=(i=gg.apply(this,[r,n])).reduce((function(M,B){return M+B}),0))>t||P){if(w>t){for(l=F3.apply(this,[r,i,t-(y+g),t]),h.push(l.shift()),h=[l.pop()];l.length;)p.push([l.shift()]);w=i.slice(r.length-(h[0]?h[0].length:0)).reduce((function(M,B){return M+B}),0)}else h=[r];p.push(h),y=w+u,g=A}else h.push(r),y+=g+w,g=A}return f=u?function(M,B){return(B?_:"")+M.join(" ")}:function(M){return M.join(" ")},p.map(f)},th.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,u,f=[];for(l=0,u=r.length;l<u;l++)f=f.concat(z3.apply(this,[r[l],o,a]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var y,g,w,N,A=["{"];for(var _ in p){if(y=p[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=a(_).slice(2)).slice(0,-1)+r[g.slice(-1)]),typeof y=="number")y<0?(w=a(y).slice(3),N="-"):(w=a(y).slice(2),N=""),w=N+w.slice(0,-1)+r[w.slice(-1)];else{if(Ln(y)!=="object")throw new Error("Don't know what to do with value type "+Ln(y)+".");w=o(y)}A.push(g+w)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,w,N,A={},_=1,k=A,P=[],M="",B="",U=p.length-1,D=1;D<U;D+=1)(N=p[D])=="'"?y?(w=y.join(""),y=void 0):y=[]:y?y.push(N):N=="{"?(P.push([k,w]),k={},w=void 0):N=="}"?((g=P.pop())[0][g[1]]=k,w=void 0,k=g[0]):N=="-"?_=-1:w===void 0?n.hasOwnProperty(N)?(M+=n[N],w=parseInt(M,16)*_,_=1,M=""):M+=N:n.hasOwnProperty(N)?(B+=n[N],k[w]=parseInt(B,16)*_,_=1,w=void 0,B=""):B+=N;return A},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var y=p.font,g=h.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var w=f.Unicode[y.postScriptName];w&&(y.metadata.Unicode.encoding=w,y.encoding=w.codePages[0])}])})(Lt.API),(function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(rm(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Lt),(function(e){function t(){return(Ht.canvg?Promise.resolve(Ht.canvg):Bw(()=>import("./index.es-bP3aJkCG.js"),[])).catch((function(n){return Promise.reject(new Error("Could not load canvg: "+n))})).then((function(n){return n.default?n.default:n}))}Lt.API.addSvgAsImage=function(n,r,i,a,o,l,u,f){if(isNaN(r)||isNaN(i))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=o;var p=h.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,h.width,h.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then((function(w){return w.fromString(p,n,y)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(w){return w.render(y)})).then((function(){g.addImage(h.toDataURL("image/jpeg",1),r,i,a,o,u,f)}))}})(),Lt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Lt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],f=0,h=0,p=0;function y(w,N){var A,_=!1;for(A=0;A<w.length;A+=1)w[A]===N&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(p=0;p<g;p+=1)n[l[p]].value=n[l[p]].defaultValue,n[l[p]].explicitSet=!1}if(Ln(e)==="object"){for(i in e)if(a=e[i],y(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&y(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(f=0;f<a.length;f+=1)if(r=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(h=0;h<a[f].length;h+=1)typeof a[f][h]!="number"&&(r=!1);r===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var w,N=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?N.push("/"+w+" /"+n[w].value):N.push("/"+w+" "+n[w].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+o.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(Lt.API),(function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,u=o.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,y=a.length;p<y;++p){if(l=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(p),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(f[4-l.length],l)}return h.join("")},r=function(a){var o,l,u,f,h,p,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],p=0,y=(l=Object.keys(a).sort((function(g,w){return g-w}))).length;p<y;p++)o=l[p],u.length>=100&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(f=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+f+">"));return u.length&&(h+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,u=o.out,f=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",w=0;w<y.length;w++)g+=String.fromCharCode(y[w]);var N=f();h({data:g,addLength1:!0,objectId:N}),u("endobj");var A=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var _=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+sh(l.fontName)),u("/FontFile2 "+N+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var k=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+sh(l.fontName)),u("/FontDescriptor "+_+" 0 R"),u("/W "+e.API.PDFObject.convert(p)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+sh(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,u=o.out,f=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,y="",g=0;g<p.length;g++)y+=String.fromCharCode(p[g]);var w=f();h({data:y,addLength1:!0,objectId:w}),u("endobj");var N=f();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var A=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+sh(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var _=0;_<l.metadata.hmtx.widths.length;_++)l.metadata.hmtx.widths[_]=parseInt(l.metadata.hmtx.widths[_]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+sh(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",u=a.x,f=a.y,h=a.options||{},p=a.mutex||{},y=p.pdfEscape,g=p.activeFontKey,w=p.fonts,N=g,A="",_=0,k="",P=w[N].encoding;if(w[N].encoding!=="Identity-H")return{text:l,x:u,y:f,options:h,mutex:p};for(k=l,N=g,Array.isArray(l)&&(k=l[0]),_=0;_<k.length;_+=1)w[N].metadata.hasOwnProperty("cmap")&&(o=w[N].metadata.cmap.unicode.codeMap[k[_].charCodeAt(0)]),o||k[_].charCodeAt(0)<256&&w[N].metadata.hasOwnProperty("Unicode")?A+=k[_]:A+="";var M="";return parseInt(N.slice(1))<14||P==="WinAnsiEncoding"?M=y(A,N).split("").map((function(B){return B.charCodeAt(0).toString(16)})).join(""):P==="Identity-H"&&(M=n(A,w[N])),p.isHex=!0,{text:M,x:u,y:f,options:h,mutex:p}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?l.push([i(Object.assign({},u,{text:o[f][0]})).text,o[f][1],o[f][2]]):l.push(i(Object.assign({},u,{text:o[f]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:o})).text}])})(Lt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Lt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,l,u,f,h,p=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,P=0;this.__bidiEngine__={};var M=function(R){var O=R.charCodeAt(),K=O>>8,$=N[K];return $!==void 0?p[256*$+(255&O)]:K===252||K===253?"AL":_.test(K)?"L":K===8?"R":"N"},B=function(R){for(var O,K=0;K<R.length;K++){if((O=M(R.charAt(K)))==="L")return!1;if(O==="R")return!0}return!1},U=function(R,O,K,$){var ne,z,Y,ee,se=O[$];switch(se){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(se="AN");break;case"AL":k=!0,se="R";break;case"WS":se="N";break;case"CS":$<1||$+1>=O.length||(ne=K[$-1])!=="EN"&&ne!=="AN"||(z=O[$+1])!=="EN"&&z!=="AN"?se="N":k&&(z="AN"),se=z===ne?z:"N";break;case"ES":se=(ne=$>0?K[$-1]:"B")==="EN"&&$+1<O.length&&O[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&K[$-1]==="EN"){se="EN";break}if(k){se="N";break}for(Y=$+1,ee=O.length;Y<ee&&O[Y]==="ET";)Y++;se=Y<ee&&O[Y]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ee=O.length,Y=$+1;Y<ee&&O[Y]==="NSM";)Y++;if(Y<ee){var X=R[$],ie=X>=1425&&X<=2303||X===64286;if(ne=O[Y],ie&&(ne==="R"||ne==="AL")){se="R";break}}}se=$<1||(ne=O[$-1])==="B"?"N":K[$-1];break;case"B":k=!1,i=!0,se=P;break;case"S":a=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":se="N"}return se},D=function(R,O,K){var $=R.split("");return K&&F($,K,{hiLevel:P}),$.reverse(),O&&O.reverse(),$.join("")},F=function(R,O,K){var $,ne,z,Y,ee,se=-1,X=R.length,ie=0,V=[],H=P?g:y,re=[];for(k=!1,i=!1,a=!1,ne=0;ne<X;ne++)re[ne]=M(R[ne]);for(z=0;z<X;z++){if(ee=ie,V[z]=U(R,re,V,z),$=240&(ie=H[ee][w[V[z]]]),ie&=15,O[z]=Y=H[ie][5],$>0)if($===16){for(ne=se;ne<z;ne++)O[ne]=1;se=-1}else se=-1;if(H[ie][6])se===-1&&(se=z);else if(se>-1){for(ne=se;ne<z;ne++)O[ne]=Y;se=-1}re[z]==="B"&&(O[z]=0),K.hiLevel|=Y}a&&(function(de,fe,pe){for(var he=0;he<pe;he++)if(de[he]==="S"){fe[he]=P;for(var te=he-1;te>=0&&de[te]==="WS";te--)fe[te]=P}})(re,O,X)},q=function(R,O,K,$,ne){if(!(ne.hiLevel<R)){if(R===1&&P===1&&!i)return O.reverse(),void(K&&K.reverse());for(var z,Y,ee,se,X=O.length,ie=0;ie<X;){if($[ie]>=R){for(ee=ie+1;ee<X&&$[ee]>=R;)ee++;for(se=ie,Y=ee-1;se<Y;se++,Y--)z=O[se],O[se]=O[Y],O[Y]=z,K&&(z=K[se],K[se]=K[Y],K[Y]=z);ie=ee}ie++}}},G=function(R,O,K){var $=R.split(""),ne={hiLevel:P};return K||(K=[]),F($,K,ne),(function(z,Y,ee){if(ee.hiLevel!==0&&h)for(var se,X=0;X<z.length;X++)Y[X]===1&&(se=A.indexOf(z[X]))>=0&&(z[X]=A[se+1])})($,K,ne),q(2,$,O,K,ne),q(1,$,O,K,ne),$.join("")};return this.__bidiEngine__.doBidiReorder=function(R,O,K){if((function(ne,z){if(z)for(var Y=0;Y<ne.length;Y++)z[Y]=Y;l===void 0&&(l=B(ne)),f===void 0&&(f=B(ne))})(R,O),o||!u||f)if(o&&u&&l^f)P=l?1:0,R=D(R,O,K);else if(!o&&u&&f)P=l?1:0,R=G(R,O,K),R=D(R,O);else if(!o||l||u||f){if(o&&!u&&l^f)R=D(R,O),l?(P=0,R=G(R,O,K)):(P=1,R=G(R,O,K),R=D(R,O));else if(o&&l&&!u&&f)P=1,R=G(R,O,K),R=D(R,O);else if(!o&&!u&&l^f){var $=h;l?(P=1,R=G(R,O,K),P=0,h=!1,R=G(R,O,K),h=$):(P=0,R=G(R,O,K),R=D(R,O),P=1,h=!1,R=G(R,O,K),h=$,R=D(R,O))}}else P=0,R=G(R,O,K);else P=l?1:0,R=G(R,O,K);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,u=R.isOutputVisual,l=R.isInputRtl,f=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),o=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Lt),Lt.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Bu(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new qae(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kae(this.contents),this.head=new Pae(this),this.name=new Rae(this),this.cmap=new uO(this),this.toUnicode={},this.hhea=new jae(this),this.maxp=new Lae(this),this.hmtx=new Oae(this),this.post=new Mae(this),this.os2=new Iae(this),this.loca=new zae(this),this.glyf=new Bae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,f;for(f=[],o=0,l=(u=this.bbox).length;o<l;o++)t=u[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var Os,Bu=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,l,u;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*l+u},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e})(),kae=(function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,l,u,f,h,p,y,g,w,N;for(N in g=Object.keys(n).length,u=Math.log(2),p=16*Math.floor(Math.log(g)/u),o=Math.floor(p/u),h=16*g-p,(i=new Bu).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(h),a=16*g,f=i.pos+a,l=null,w=[],n)for(y=n[N],i.writeString(N),i.writeInt(e(y)),i.writeInt(f),i.writeInt(y.length),w=w.concat(y),N==="head"&&(l=f),f+=y.length;f%4;)w.push(0),f++;return i.write(w),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=dO.call(n);n.length%4;)n.push(0);for(a=new Bu(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),Tae={}.hasOwnProperty,Tl=function(e,t){for(var n in t)Tae.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Os=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Pae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Bu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t})(),V3=(function(){function e(t,n){var r,i,a,o,l,u,f,h,p,y,g,w,N,A,_,k,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,a=(function(){var M,B;for(B=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)B.push(t.readUInt16());return B})(),t.pos+=2,N=(function(){var M,B;for(B=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)B.push(t.readUInt16());return B})(),f=(function(){var M,B;for(B=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)B.push(t.readUInt16());return B})(),h=(function(){var M,B;for(B=[],u=M=0;0<=y?M<y:M>y;u=0<=y?++M:--M)B.push(t.readUInt16());return B})(),i=(this.length-t.pos+this.offset)/2,l=(function(){var M,B;for(B=[],u=M=0;0<=i?M<i:M>i;u=0<=i?++M:--M)B.push(t.readUInt16());return B})(),u=_=0,P=a.length;_<P;u=++_)for(A=a[u],r=k=w=N[u];w<=A?k<=A:k>=A;r=w<=A?++k:--k)h[u]===0?o=r+f[u]:(o=l[h[u]/2+(r-w)-(y-u)]||0)!==0&&(o+=f[u]),this.codeMap[r]=65535&o}t.pos=p}return e.encode=function(t,n){var r,i,a,o,l,u,f,h,p,y,g,w,N,A,_,k,P,M,B,U,D,F,q,G,R,O,K,$,ne,z,Y,ee,se,X,ie,V,H,re,de,fe,pe,he,te,me,xe,we;switch($=new Bu,o=Object.keys(t).sort((function(Ue,Ye){return Ue-Ye})),n){case"macroman":for(N=0,A=(function(){var Ue=[];for(w=0;w<256;++w)Ue.push(0);return Ue})(),k={0:0},a={},ne=0,se=o.length;ne<se;ne++)k[te=t[i=o[ne]]]==null&&(k[te]=++N),a[i]={old:t[i],new:k[t[i]]},A[i]=k[t[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(A),{charMap:a,subtable:$.data,maxGlyphID:N+1};case"unicode":for(O=[],p=[],P=0,k={},r={},_=f=null,z=0,X=o.length;z<X;z++)k[B=t[i=o[z]]]==null&&(k[B]=++P),r[i]={old:B,new:k[B]},l=k[B]-i,_!=null&&l===f||(_&&p.push(_),O.push(i),f=l),_=i;for(_&&p.push(_),p.push(65535),O.push(65535),G=2*(q=O.length),F=2*Math.pow(Math.log(q)/Math.LN2,2),y=Math.log(F/2)/Math.LN2,D=2*q-F,u=[],U=[],g=[],w=Y=0,ie=O.length;Y<ie;w=++Y){if(R=O[w],h=p[w],R===65535){u.push(0),U.push(0);break}if(R-(K=r[R].new)>=32768)for(u.push(0),U.push(2*(g.length+q-w)),i=ee=R;R<=h?ee<=h:ee>=h;i=R<=h?++ee:--ee)g.push(r[i].new);else u.push(K-R),U.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*q+2*g.length),$.writeUInt16(0),$.writeUInt16(G),$.writeUInt16(F),$.writeUInt16(y),$.writeUInt16(D),pe=0,V=p.length;pe<V;pe++)i=p[pe],$.writeUInt16(i);for($.writeUInt16(0),he=0,H=O.length;he<H;he++)i=O[he],$.writeUInt16(i);for(me=0,re=u.length;me<re;me++)l=u[me],$.writeUInt16(l);for(xe=0,de=U.length;xe<de;xe++)M=U[xe],$.writeUInt16(M);for(we=0,fe=g.length;we<fe;we++)N=g[we],$.writeUInt16(N);return{charMap:r,subtable:$.data,maxGlyphID:P+1}}},e})(),uO=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new V3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,a;return r==null&&(r="macroman"),i=V3.encode(n,r),(a=new Bu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t})(),jae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t})(),Iae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i})(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i})(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t})(),Mae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)r=n.readByte(),a.push(this.names.push(n.readString(r)));return a;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,f;for(f=[],o=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;o=0<=u?++l:--l)f.push(n.readUInt32());return f}).call(this)}},t})(),Dae=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Rae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,a,o,l,u,f,h,p,y,g;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},o=p=0,y=i.length;p<y;o=++p)a=i[o],n.pos=a.offset,h=n.readString(a.length),l=new Dae(h,a),f[g=a.nameID]==null&&(f[g]=[]),f[a.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t})(),Lae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t})(),Oae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,a,o,l,u,f;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,p;for(p=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)p.push(n.readInt16());return p})(),this.widths=(function(){var h,p,y,g;for(g=[],h=0,p=(y=this.metrics).length;h<p;h++)o=y[h],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],f=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t})(),dO=[].slice,Bae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,a,o,l,u,f,h,p,y;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(a=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(u=new Bu(r.read(a))).readShort(),h=u.readShort(),y=u.readShort(),f=u.readShort(),p=u.readShort(),this.cache[n]=l===-1?new Fae(u,h,y,f,p):new Uae(u,l,h,y,f,p),this.cache[n]))},t.prototype.encode=function(n,r,i){var a,o,l,u,f;for(l=[],o=[],u=0,f=r.length;u<f;u++)a=n[r[u]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t})(),Uae=(function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Fae=(function(){function e(t,n,r,i,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Bu(dO.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),zae=(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Tl(t,Os),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<r.length&&r[o]==l){++o,i[l]=a;var u=this.offsets[l],f=this.offsets[l+1]-u;f>0&&(a+=f)}for(var h=new Array(4*i.length),p=0;p<i.length;++p)h[4*p+3]=255&i[p],h[4*p+2]=(65280&i[p])>>8,h[4*p+1]=(16711680&i[p])>>16,h[4*p]=(4278190080&i[p])>>24;return h},t})(),qae=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,l,u;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))r=u[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,l,u,f,h,p,y,g,w,N,A,_;for(i in r=uO.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},_=r.charMap)g[(u=_[i]).old]=u.new;for(w in y=r.maxGlyphID,o)w in g||(g[w]=y++);return h=(function(k){var P,M;for(P in M={},k)M[k[P]]=P;return M})(g),p=Object.keys(h).sort((function(k,P){return k-P})),N=(function(){var k,P,M;for(M=[],k=0,P=p.length;k<P;k++)l=p[k],M.push(h[l]);return M})(),a=this.font.glyf.encode(o,N,g),f=this.font.loca.encode(a.offsets,N),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e})();Lt.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+(function(){var l,u,f;for(f=[],l=0,u=n.length;l<u;l++)r=n[l],f.push(t.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t})();const Hae=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:bae,AcroFormAppearance:Ct,AcroFormButton:hi,AcroFormCheckBox:om,AcroFormChoiceField:Ud,AcroFormComboBox:zd,AcroFormEditBox:im,AcroFormListBox:Fd,AcroFormPasswordField:sm,AcroFormPushButton:am,AcroFormRadioButton:qd,AcroFormTextField:Du,GState:Im,ShadingPattern:Eu,TilingPattern:Md,default:Lt,jsPDF:Lt},Symbol.toStringTag,{value:"Module"}));var Mg={exports:{}};const Vae=e9(Hae);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var G3=Mg.exports,$3;function Gae(){return $3||($3=1,(function(e,t){(function(r,i){e.exports=i((function(){try{return Vae}catch{}})())})(typeof globalThis<"u"?globalThis:typeof G3<"u"?G3:typeof window<"u"?window:typeof self<"u"?self:Z7,function(n){return(function(){var r={172:(function(l,u){var f=this&&this.__extends||(function(){var y=function(g,w){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,A){N.__proto__=A}||function(N,A){for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&(N[_]=A[_])},y(g,w)};return function(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");y(g,w);function N(){this.constructor=g}g.prototype=w===null?Object.create(w):(N.prototype=w.prototype,new N)}})();Object.defineProperty(u,"__esModule",{value:!0}),u.CellHookData=u.HookData=void 0;var h=(function(){function y(g,w,N){this.table=w,this.pageNumber=w.pageNumber,this.pageCount=this.pageNumber,this.settings=w.settings,this.cursor=N,this.doc=g.getDocument()}return y})();u.HookData=h;var p=(function(y){f(g,y);function g(w,N,A,_,k,P){var M=y.call(this,w,N,P)||this;return M.cell=A,M.row=_,M.column=k,M.section=_.section,M}return g})(h);u.CellHookData=p}),340:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0});var h=f(4),p=f(136),y=f(744),g=f(776),w=f(664),N=f(972);function A(_){_.API.autoTable=function(){for(var k=[],P=0;P<arguments.length;P++)k[P]=arguments[P];var M;k.length===1?M=k[0]:(console.error("Use of deprecated autoTable initiation"),M=k[2]||{},M.columns=k[0],M.body=k[1]);var B=(0,g.parseInput)(this,M),U=(0,N.createTable)(this,B);return(0,w.drawTable)(this,U),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(k,P,M,B){(0,p.default)(k,P,M,B,this)},_.API.autoTableSetDefaults=function(k){return y.DocHandler.setDefaults(k,this),this},_.autoTableSetDefaults=function(k,P){y.DocHandler.setDefaults(k,P)},_.API.autoTableHtmlToJson=function(k,P){var M;if(P===void 0&&(P=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var B=new y.DocHandler(this),U=(0,h.parseHtml)(B,k,window,P,!1),D=U.head,F=U.body,q=((M=D[0])===null||M===void 0?void 0:M.map(function(G){return G.content}))||[];return{columns:q,rows:F,data:F}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var k=this.lastAutoTable;return k&&k.finalY?k.finalY:0},_.API.autoTableAddPageContent=function(k){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=k,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}u.default=A}),136:(function(l,u){Object.defineProperty(u,"__esModule",{value:!0});function f(h,p,y,g,w){g=g||{};var N=1.15,A=w.internal.scaleFactor,_=w.internal.getFontSize()/A,k=w.getLineHeightFactor?w.getLineHeightFactor():N,P=_*k,M=/\r\n|\r|\n/g,B="",U=1;if((g.valign==="middle"||g.valign==="bottom"||g.halign==="center"||g.halign==="right")&&(B=typeof h=="string"?h.split(M):h,U=B.length||1),y+=_*(2-N),g.valign==="middle"?y-=U/2*P:g.valign==="bottom"&&(y-=U*P),g.halign==="center"||g.halign==="right"){var D=_;if(g.halign==="center"&&(D*=.5),B&&U>=1){for(var F=0;F<B.length;F++)w.text(B[F],p-w.getStringUnitWidth(B[F])*D,y),y+=P;return w}p-=w.getStringUnitWidth(h)*D}return g.halign==="justify"?w.text(h,p,y,{maxWidth:g.maxWidth||100,align:"justify"}):w.text(h,p,y),w}u.default=f}),420:(function(l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getPageAvailableWidth=u.parseSpacing=u.getFillStyle=u.addTableBorder=u.getStringWidth=void 0;function f(w,N,A){A.applyStyles(N,!0);var _=Array.isArray(w)?w:[w],k=_.map(function(P){return A.getTextWidth(P)}).reduce(function(P,M){return Math.max(P,M)},0);return k}u.getStringWidth=f;function h(w,N,A,_){var k=N.settings.tableLineWidth,P=N.settings.tableLineColor;w.applyStyles({lineWidth:k,lineColor:P});var M=p(k,!1);M&&w.rect(A.x,A.y,N.getWidth(w.pageSize().width),_.y-A.y,M)}u.addTableBorder=h;function p(w,N){var A=w>0,_=N||N===0;return A&&_?"DF":A?"S":_?"F":null}u.getFillStyle=p;function y(w,N){var A,_,k,P;if(w=w||N,Array.isArray(w)){if(w.length>=4)return{top:w[0],right:w[1],bottom:w[2],left:w[3]};if(w.length===3)return{top:w[0],right:w[1],bottom:w[2],left:w[1]};if(w.length===2)return{top:w[0],right:w[1],bottom:w[0],left:w[1]};w.length===1?w=w[0]:w=N}return typeof w=="object"?(typeof w.vertical=="number"&&(w.top=w.vertical,w.bottom=w.vertical),typeof w.horizontal=="number"&&(w.right=w.horizontal,w.left=w.horizontal),{left:(A=w.left)!==null&&A!==void 0?A:N,top:(_=w.top)!==null&&_!==void 0?_:N,right:(k=w.right)!==null&&k!==void 0?k:N,bottom:(P=w.bottom)!==null&&P!==void 0?P:N}):(typeof w!="number"&&(w=N),{top:w,right:w,bottom:w,left:w})}u.parseSpacing=y;function g(w,N){var A=y(N.settings.margin,0);return w.pageSize().width-(A.left+A.right)}u.getPageAvailableWidth=g}),796:(function(l,u){var f=this&&this.__extends||(function(){var g=function(w,N){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,_){A.__proto__=_}||function(A,_){for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(A[k]=_[k])},g(w,N)};return function(w,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");g(w,N);function A(){this.constructor=w}w.prototype=N===null?Object.create(N):(A.prototype=N.prototype,new A)}})();Object.defineProperty(u,"__esModule",{value:!0}),u.getTheme=u.defaultStyles=u.HtmlRowInput=void 0;var h=(function(g){f(w,g);function w(N){var A=g.call(this)||this;return A._element=N,A}return w})(Array);u.HtmlRowInput=h;function p(g){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/g,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}u.defaultStyles=p;function y(g){var w={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return w[g]}u.getTheme=y}),903:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.parseCss=void 0;var h=f(420);function p(A,_,k,P,M){var B={},U=1.3333333333333333,D=g(_,function(se){return M.getComputedStyle(se).backgroundColor});D!=null&&(B.fillColor=D);var F=g(_,function(se){return M.getComputedStyle(se).color});F!=null&&(B.textColor=F);var q=N(P,k);q&&(B.cellPadding=q);var G="borderTopColor",R=U*k,O=P.borderTopWidth;if(P.borderBottomWidth===O&&P.borderRightWidth===O&&P.borderLeftWidth===O){var K=(parseFloat(O)||0)/R;K&&(B.lineWidth=K)}else B.lineWidth={top:(parseFloat(P.borderTopWidth)||0)/R,right:(parseFloat(P.borderRightWidth)||0)/R,bottom:(parseFloat(P.borderBottomWidth)||0)/R,left:(parseFloat(P.borderLeftWidth)||0)/R},B.lineWidth.top||(B.lineWidth.right?G="borderRightColor":B.lineWidth.bottom?G="borderBottomColor":B.lineWidth.left&&(G="borderLeftColor"));console.log(B.lineWidth);var $=g(_,function(se){return M.getComputedStyle(se)[G]});$!=null&&(B.lineColor=$);var ne=["left","right","center","justify"];ne.indexOf(P.textAlign)!==-1&&(B.halign=P.textAlign),ne=["middle","bottom","top"],ne.indexOf(P.verticalAlign)!==-1&&(B.valign=P.verticalAlign);var z=parseInt(P.fontSize||"");isNaN(z)||(B.fontSize=z/U);var Y=y(P);Y&&(B.fontStyle=Y);var ee=(P.fontFamily||"").toLowerCase();return A.indexOf(ee)!==-1&&(B.font=ee),B}u.parseCss=p;function y(A){var _="";return(A.fontWeight==="bold"||A.fontWeight==="bolder"||parseInt(A.fontWeight)>=700)&&(_="bold"),(A.fontStyle==="italic"||A.fontStyle==="oblique")&&(_+="italic"),_}function g(A,_){var k=w(A,_);if(!k)return null;var P=k.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!P||!Array.isArray(P))return null;var M=[parseInt(P[1]),parseInt(P[2]),parseInt(P[3])],B=parseInt(P[4]);return B===0||isNaN(M[0])||isNaN(M[1])||isNaN(M[2])?null:M}function w(A,_){var k=_(A);return k==="rgba(0, 0, 0, 0)"||k==="transparent"||k==="initial"||k==="inherit"?A.parentElement==null?null:w(A.parentElement,_):k}function N(A,_){var k=[A.paddingTop,A.paddingRight,A.paddingBottom,A.paddingLeft],P=96/(72/_),M=(parseInt(A.lineHeight)-parseInt(A.fontSize))/_/2,B=k.map(function(D){return parseInt(D||"0")/P}),U=(0,h.parseSpacing)(B,0);return M>U.top&&(U.top=M),M>U.bottom&&(U.bottom=M),U}}),744:(function(l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.DocHandler=void 0;var f={},h=(function(){function p(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return p.setDefaults=function(y,g){g===void 0&&(g=null),g?g.__autoTableDocumentDefaults=y:f=y},p.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},p.prototype.applyStyles=function(y,g){var w,N,A;g===void 0&&(g=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var _=this.jsPDFDocument.internal.getFont(),k=_.fontStyle,P=_.fontName;if(y.font&&(P=y.font),y.fontStyle){k=y.fontStyle;var M=this.getFontList()[P];M&&M.indexOf(k)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(M[0]),k=M[0])}if(this.jsPDFDocument.setFont(P,k),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!g){var B=p.unifyColor(y.fillColor);B&&(w=this.jsPDFDocument).setFillColor.apply(w,B),B=p.unifyColor(y.textColor),B&&(N=this.jsPDFDocument).setTextColor.apply(N,B),B=p.unifyColor(y.lineColor),B&&(A=this.jsPDFDocument).setDrawColor.apply(A,B),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},p.prototype.splitTextToSize=function(y,g,w){return this.jsPDFDocument.splitTextToSize(y,g,w)},p.prototype.rect=function(y,g,w,N,A){return this.jsPDFDocument.rect(y,g,w,N,A)},p.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},p.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},p.prototype.getDocument=function(){return this.jsPDFDocument},p.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},p.prototype.addPage=function(){return this.jsPDFDocument.addPage()},p.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},p.prototype.getGlobalOptions=function(){return f||{}},p.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},p.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},p.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},p.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},p.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},p.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},p})();u.DocHandler=h}),4:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.parseHtml=void 0;var h=f(903),p=f(796);function y(N,A,_,k,P){var M,B;k===void 0&&(k=!1),P===void 0&&(P=!1);var U;typeof A=="string"?U=_.document.querySelector(A):U=A;var D=Object.keys(N.getFontList()),F=N.scaleFactor(),q=[],G=[],R=[];if(!U)return console.error("Html table could not be found with input: ",A),{head:q,body:G,foot:R};for(var O=0;O<U.rows.length;O++){var K=U.rows[O],$=(B=(M=K==null?void 0:K.parentElement)===null||M===void 0?void 0:M.tagName)===null||B===void 0?void 0:B.toLowerCase(),ne=g(D,F,_,K,k,P);ne&&($==="thead"?q.push(ne):$==="tfoot"?R.push(ne):G.push(ne))}return{head:q,body:G,foot:R}}u.parseHtml=y;function g(N,A,_,k,P,M){for(var B=new p.HtmlRowInput(k),U=0;U<k.cells.length;U++){var D=k.cells[U],F=_.getComputedStyle(D);if(P||F.display!=="none"){var q=void 0;M&&(q=(0,h.parseCss)(N,D,A,F,_)),B.push({rowSpan:D.rowSpan,colSpan:D.colSpan,styles:q,_element:D,content:w(D)})}}var G=_.getComputedStyle(k);if(B.length>0&&(P||G.display!=="none"))return B}function w(N){var A=N.cloneNode(!0);return A.innerHTML=A.innerHTML.replace(/\n/g,"").replace(/ +/g," "),A.innerHTML=A.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),A.innerText||A.textContent||""}}),776:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.parseInput=void 0;var h=f(4),p=f(356),y=f(420),g=f(744),w=f(792);function N(U,D){var F=new g.DocHandler(U),q=F.getDocumentOptions(),G=F.getGlobalOptions();(0,w.default)(F,G,q,D);var R=(0,p.assign)({},G,q,D),O;typeof window<"u"&&(O=window);var K=A(G,q,D),$=_(G,q,D),ne=k(F,R),z=M(F,R,O);return{id:D.tableId,content:z,hooks:$,styles:K,settings:ne}}u.parseInput=N;function A(U,D,F){for(var q={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},G=function($){if($==="columnStyles"){var ne=U[$],z=D[$],Y=F[$];q.columnStyles=(0,p.assign)({},ne,z,Y)}else{var ee=[U,D,F],se=ee.map(function(X){return X[$]||{}});q[$]=(0,p.assign)({},se[0],se[1],se[2])}},R=0,O=Object.keys(q);R<O.length;R++){var K=O[R];G(K)}return q}function _(U,D,F){for(var q=[U,D,F],G={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},R=0,O=q;R<O.length;R++){var K=O[R];K.didParseCell&&G.didParseCell.push(K.didParseCell),K.willDrawCell&&G.willDrawCell.push(K.willDrawCell),K.didDrawCell&&G.didDrawCell.push(K.didDrawCell),K.willDrawPage&&G.willDrawPage.push(K.willDrawPage),K.didDrawPage&&G.didDrawPage.push(K.didDrawPage)}return G}function k(U,D){var F,q,G,R,O,K,$,ne,z,Y,ee,se,X=(0,y.parseSpacing)(D.margin,40/U.scaleFactor()),ie=(F=P(U,D.startY))!==null&&F!==void 0?F:X.top,V;D.showFoot===!0?V="everyPage":D.showFoot===!1?V="never":V=(q=D.showFoot)!==null&&q!==void 0?q:"everyPage";var H;D.showHead===!0?H="everyPage":D.showHead===!1?H="never":H=(G=D.showHead)!==null&&G!==void 0?G:"everyPage";var re=(R=D.useCss)!==null&&R!==void 0?R:!1,de=D.theme||(re?"plain":"striped"),fe=!!D.horizontalPageBreak,pe=(O=D.horizontalPageBreakRepeat)!==null&&O!==void 0?O:null;return{includeHiddenHtml:(K=D.includeHiddenHtml)!==null&&K!==void 0?K:!1,useCss:re,theme:de,startY:ie,margin:X,pageBreak:($=D.pageBreak)!==null&&$!==void 0?$:"auto",rowPageBreak:(ne=D.rowPageBreak)!==null&&ne!==void 0?ne:"auto",tableWidth:(z=D.tableWidth)!==null&&z!==void 0?z:"auto",showHead:H,showFoot:V,tableLineWidth:(Y=D.tableLineWidth)!==null&&Y!==void 0?Y:0,tableLineColor:(ee=D.tableLineColor)!==null&&ee!==void 0?ee:200,horizontalPageBreak:fe,horizontalPageBreakRepeat:pe,horizontalPageBreakBehaviour:(se=D.horizontalPageBreakBehaviour)!==null&&se!==void 0?se:"afterAllRows"}}function P(U,D){var F=U.getLastAutoTable(),q=U.scaleFactor(),G=U.pageNumber(),R=!1;if(F&&F.startPageNumber){var O=F.startPageNumber+F.pageNumber-1;R=O===G}return typeof D=="number"?D:(D==null||D===!1)&&R&&(F==null?void 0:F.finalY)!=null?F.finalY+20/q:null}function M(U,D,F){var q=D.head||[],G=D.body||[],R=D.foot||[];if(D.html){var O=D.includeHiddenHtml;if(F){var K=(0,h.parseHtml)(U,D.html,F,O,D.useCss)||{};q=K.head||q,G=K.body||q,R=K.foot||q}else console.error("Cannot parse html in non browser environment")}var $=D.columns||B(q,G,R);return{columns:$,head:q,body:G,foot:R}}function B(U,D,F){var q=U[0]||D[0]||F[0]||[],G=[];return Object.keys(q).filter(function(R){return R!=="_element"}).forEach(function(R){var O=1,K;Array.isArray(q)?K=q[parseInt(R)]:K=q[R],typeof K=="object"&&!Array.isArray(K)&&(O=(K==null?void 0:K.colSpan)||1);for(var $=0;$<O;$++){var ne=void 0;Array.isArray(q)?ne=G.length:ne=R+($>0?"_".concat($):"");var z={dataKey:ne};G.push(z)}}),G}}),792:(function(l,u){Object.defineProperty(u,"__esModule",{value:!0});function f(p,y,g,w){for(var N=function(P){P&&typeof P!="object"&&console.error("The options parameter should be of type object, is: "+typeof P),typeof P.extendWidth<"u"&&(P.tableWidth=P.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof P.margins<"u"&&(typeof P.margin>"u"&&(P.margin=P.margins),console.error("Use of deprecated option: margins, use margin instead.")),P.startY&&typeof P.startY!="number"&&(console.error("Invalid value for startY option",P.startY),delete P.startY),!P.didDrawPage&&(P.afterPageContent||P.beforePageContent||P.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),P.didDrawPage=function(R){p.applyStyles(p.userStyles),P.beforePageContent&&P.beforePageContent(R),p.applyStyles(p.userStyles),P.afterPageContent&&P.afterPageContent(R),p.applyStyles(p.userStyles),P.afterPageAdd&&R.pageNumber>1&&R.afterPageAdd(R),p.applyStyles(p.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(R){P[R]&&console.error('The "'.concat(R,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(R){var O=R[0],K=R[1];P[K]&&(console.error("Use of deprecated option ".concat(K,". Use ").concat(O," instead")),P[O]=P[K])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(R){var O=typeof R=="string"?R:R[0],K=typeof R=="string"?R:R[1];typeof P[O]<"u"&&(typeof P.styles[K]>"u"&&(P.styles[K]=P[O]),console.error("Use of deprecated option: "+O+", use the style "+K+" instead."))});for(var M=0,B=["styles","bodyStyles","headStyles","footStyles"];M<B.length;M++){var U=B[M];h(P[U]||{})}for(var D=P.columnStyles||{},F=0,q=Object.keys(D);F<q.length;F++){var G=q[F];h(D[G]||{})}},A=0,_=[y,g,w];A<_.length;A++){var k=_[A];N(k)}}u.default=f;function h(p){p.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),p.minCellHeight||(p.minCellHeight=p.rowHeight)):p.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),p.cellWidth||(p.cellWidth=p.columnWidth))}}),260:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.Column=u.Cell=u.Row=u.Table=void 0;var h=f(796),p=f(172),y=f(420),g=(function(){function _(k,P){this.pageNumber=1,this.pageCount=1,this.id=k.id,this.settings=k.settings,this.styles=k.styles,this.hooks=k.hooks,this.columns=P.columns,this.head=P.head,this.body=P.body,this.foot=P.foot}return _.prototype.getHeadHeight=function(k){return this.head.reduce(function(P,M){return P+M.getMaxCellHeight(k)},0)},_.prototype.getFootHeight=function(k){return this.foot.reduce(function(P,M){return P+M.getMaxCellHeight(k)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(k,P,M,B,U,D){for(var F=0,q=P;F<q.length;F++){var G=q[F],R=new p.CellHookData(k,this,M,B,U,D),O=G(R)===!1;if(M.text=Array.isArray(M.text)?M.text:[M.text],O)return!1}return!0},_.prototype.callEndPageHooks=function(k,P){k.applyStyles(k.userStyles);for(var M=0,B=this.hooks.didDrawPage;M<B.length;M++){var U=B[M];U(new p.HookData(k,this,P))}},_.prototype.callWillDrawPageHooks=function(k,P){for(var M=0,B=this.hooks.willDrawPage;M<B.length;M++){var U=B[M];U(new p.HookData(k,this,P))}},_.prototype.getWidth=function(k){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var P=this.columns.reduce(function(B,U){return B+U.wrappedWidth},0);return P}else{var M=this.settings.margin;return k-M.left-M.right}},_})();u.Table=g;var w=(function(){function _(k,P,M,B,U){U===void 0&&(U=!1),this.height=0,this.raw=k,k instanceof h.HtmlRowInput&&(this.raw=k._element,this.element=k._element),this.index=P,this.section=M,this.cells=B,this.spansMultiplePages=U}return _.prototype.getMaxCellHeight=function(k){var P=this;return k.reduce(function(M,B){var U;return Math.max(M,((U=P.cells[B.index])===null||U===void 0?void 0:U.height)||0)},0)},_.prototype.hasRowSpan=function(k){var P=this;return k.filter(function(M){var B=P.cells[M.index];return B?B.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(k,P){return this.getMaxCellHeight(P)<=k},_.prototype.getMinimumRowHeight=function(k,P){var M=this;return k.reduce(function(B,U){var D=M.cells[U.index];if(!D)return 0;var F=P.getLineHeight(D.styles.fontSize),q=D.padding("vertical"),G=q+F;return G>B?G:B},0)},_})();u.Row=w;var N=(function(){function _(k,P,M){var B,U;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=P,this.section=M,this.raw=k;var D=k;k!=null&&typeof k=="object"&&!Array.isArray(k)?(this.rowSpan=k.rowSpan||1,this.colSpan=k.colSpan||1,D=(U=(B=k.content)!==null&&B!==void 0?B:k.title)!==null&&U!==void 0?U:k,k._element&&(this.raw=k._element)):(this.rowSpan=1,this.colSpan=1);var F=D!=null?""+D:"",q=/\r\n|\r|\n/g;this.text=F.split(q)}return _.prototype.getTextPos=function(){var k;if(this.styles.valign==="top")k=this.y+this.padding("top");else if(this.styles.valign==="bottom")k=this.y+this.height-this.padding("bottom");else{var P=this.height-this.padding("vertical");k=this.y+P/2+this.padding("top")}var M;if(this.styles.halign==="right")M=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var B=this.width-this.padding("horizontal");M=this.x+B/2+this.padding("left")}else M=this.x+this.padding("left");return{x:M,y:k}},_.prototype.getContentHeight=function(k,P){P===void 0&&(P=1.15);var M=Array.isArray(this.text)?this.text.length:1,B=this.styles.fontSize/k*P,U=M*B+this.padding("vertical");return Math.max(U,this.styles.minCellHeight)},_.prototype.padding=function(k){var P=(0,y.parseSpacing)(this.styles.cellPadding,0);return k==="vertical"?P.top+P.bottom:k==="horizontal"?P.left+P.right:P[k]},_})();u.Cell=N;var A=(function(){function _(k,P,M){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=k,this.raw=P,this.index=M}return _.prototype.getMaxCustomCellWidth=function(k){for(var P=0,M=0,B=k.allRows();M<B.length;M++){var U=B[M],D=U.cells[this.index];D&&typeof D.styles.cellWidth=="number"&&(P=Math.max(P,D.styles.cellWidth))}return P},_})();u.Column=A}),356:(function(l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function f(h,p,y,g,w){if(h==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(h),A=1;A<arguments.length;A++){var _=arguments[A];if(_!=null)for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(N[k]=_[k])}return N}u.assign=f}),972:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.createTable=void 0;var h=f(744),p=f(260),y=f(324),g=f(796),w=f(356);function N(U,D){var F=new h.DocHandler(U),q=A(D,F.scaleFactor()),G=new p.Table(D,q);return(0,y.calculateWidths)(F,G),F.applyStyles(F.userStyles),G}u.createTable=N;function A(U,D){var F=U.content,q=M(F.columns);if(F.head.length===0){var G=k(q,"head");G&&F.head.push(G)}if(F.foot.length===0){var G=k(q,"foot");G&&F.foot.push(G)}var R=U.settings.theme,O=U.styles;return{columns:q,head:_("head",F.head,q,O,R,D),body:_("body",F.body,q,O,R,D),foot:_("foot",F.foot,q,O,R,D)}}function _(U,D,F,q,G,R){var O={},K=D.map(function($,ne){for(var z=0,Y={},ee=0,se=0,X=0,ie=F;X<ie.length;X++){var V=ie[X];if(O[V.index]==null||O[V.index].left===0)if(se===0){var H=void 0;Array.isArray($)?H=$[V.index-ee-z]:H=$[V.dataKey];var re={};typeof H=="object"&&!Array.isArray(H)&&(re=(H==null?void 0:H.styles)||{});var de=B(U,V,ne,G,q,R,re),fe=new p.Cell(H,de,U);Y[V.dataKey]=fe,Y[V.index]=fe,se=fe.colSpan-1,O[V.index]={left:fe.rowSpan-1,times:se}}else se--,ee++;else O[V.index].left--,se=O[V.index].times,z++}return new p.Row($,ne,U,Y)});return K}function k(U,D){var F={};return U.forEach(function(q){if(q.raw!=null){var G=P(D,q.raw);G!=null&&(F[q.dataKey]=G)}}),Object.keys(F).length>0?F:null}function P(U,D){if(U==="head"){if(typeof D=="object")return D.header||D.title||null;if(typeof D=="string"||typeof D=="number")return D}else if(U==="foot"&&typeof D=="object")return D.footer;return null}function M(U){return U.map(function(D,F){var q,G,R;return typeof D=="object"?R=(G=(q=D.dataKey)!==null&&q!==void 0?q:D.key)!==null&&G!==void 0?G:F:R=F,new p.Column(R,D,F)})}function B(U,D,F,q,G,R,O){var K=(0,g.getTheme)(q),$;U==="head"?$=G.headStyles:U==="body"?$=G.bodyStyles:U==="foot"&&($=G.footStyles);var ne=(0,w.assign)({},K.table,K[U],G.styles,$),z=G.columnStyles[D.dataKey]||G.columnStyles[D.index]||{},Y=U==="body"?z:{},ee=U==="body"&&F%2===0?(0,w.assign)({},K.alternateRow,G.alternateRowStyles):{},se=(0,g.defaultStyles)(R),X=(0,w.assign)({},se,ne,ee,Y);return(0,w.assign)(X,O)}}),664:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.addPage=u.drawTable=void 0;var h=f(420),p=f(260),y=f(744),g=f(356),w=f(136),N=f(224);function A(z,Y){var ee=Y.settings,se=ee.startY,X=ee.margin,ie={x:X.left,y:se},V=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns),H=se+X.bottom+V;if(ee.pageBreak==="avoid"){var re=Y.body,de=re.reduce(function(he,te){return he+te.height},0);H+=de}var fe=new y.DocHandler(z);(ee.pageBreak==="always"||ee.startY!=null&&H>fe.pageSize().height)&&(ne(fe),ie.y=X.top),Y.callWillDrawPageHooks(fe,ie);var pe=(0,g.assign)({},ie);Y.startPageNumber=fe.pageNumber(),ee.horizontalPageBreak?_(fe,Y,pe,ie):(fe.applyStyles(fe.userStyles),(ee.showHead==="firstPage"||ee.showHead==="everyPage")&&Y.head.forEach(function(he){return G(fe,Y,he,ie,Y.columns)}),fe.applyStyles(fe.userStyles),Y.body.forEach(function(he,te){var me=te===Y.body.length-1;q(fe,Y,he,me,pe,ie,Y.columns)}),fe.applyStyles(fe.userStyles),(ee.showFoot==="lastPage"||ee.showFoot==="everyPage")&&Y.foot.forEach(function(he){return G(fe,Y,he,ie,Y.columns)})),(0,h.addTableBorder)(fe,Y,pe,ie),Y.callEndPageHooks(fe,ie),Y.finalY=ie.y,z.lastAutoTable=Y,z.previousAutoTable=Y,z.autoTable&&(z.autoTable.previous=Y),fe.applyStyles(fe.userStyles)}u.drawTable=A;function _(z,Y,ee,se){var X=(0,N.calculateAllColumnsCanFitInPage)(z,Y),ie=Y.settings;if(ie.horizontalPageBreakBehaviour==="afterAllRows")X.forEach(function(de,fe){z.applyStyles(z.userStyles),fe>0?$(z,Y,ee,se,de.columns,!0):k(z,Y,se,de.columns),P(z,Y,ee,se,de.columns),B(z,Y,se,de.columns)});else for(var V=-1,H=X[0],re=function(){var de=V;if(H){z.applyStyles(z.userStyles);var fe=H.columns;V>=0?$(z,Y,ee,se,fe,!0):k(z,Y,se,fe),de=M(z,Y,V+1,se,fe),B(z,Y,se,fe)}var pe=de-V;X.slice(1).forEach(function(he){z.applyStyles(z.userStyles),$(z,Y,ee,se,he.columns,!0),M(z,Y,V+1,se,he.columns,pe),B(z,Y,se,he.columns)}),V=de};V<Y.body.length-1;)re()}function k(z,Y,ee,se){var X=Y.settings;z.applyStyles(z.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&Y.head.forEach(function(ie){return G(z,Y,ie,ee,se)})}function P(z,Y,ee,se,X){z.applyStyles(z.userStyles),Y.body.forEach(function(ie,V){var H=V===Y.body.length-1;q(z,Y,ie,H,ee,se,X)})}function M(z,Y,ee,se,X,ie){z.applyStyles(z.userStyles),ie=ie??Y.body.length;var V=Math.min(ee+ie,Y.body.length),H=-1;return Y.body.slice(ee,V).forEach(function(re,de){var fe=ee+de===Y.body.length-1,pe=K(z,Y,fe,se);re.canEntireRowFit(pe,X)&&(G(z,Y,re,se,X),H=ee+de)}),H}function B(z,Y,ee,se){var X=Y.settings;z.applyStyles(z.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&Y.foot.forEach(function(ie){return G(z,Y,ie,ee,se)})}function U(z,Y,ee){var se=ee.getLineHeight(z.styles.fontSize),X=z.padding("vertical"),ie=Math.floor((Y-X)/se);return Math.max(0,ie)}function D(z,Y,ee,se){var X={};z.spansMultiplePages=!0,z.height=0;for(var ie=0,V=0,H=ee.columns;V<H.length;V++){var re=H[V],de=z.cells[re.index];if(de){Array.isArray(de.text)||(de.text=[de.text]);var fe=new p.Cell(de.raw,de.styles,de.section);fe=(0,g.assign)(fe,de),fe.text=[];var pe=U(de,Y,se);de.text.length>pe&&(fe.text=de.text.splice(pe,de.text.length));var he=se.scaleFactor(),te=se.getLineHeightFactor();de.contentHeight=de.getContentHeight(he,te),de.contentHeight>=Y&&(de.contentHeight=Y,fe.styles.minCellHeight-=Y),de.contentHeight>z.height&&(z.height=de.contentHeight),fe.contentHeight=fe.getContentHeight(he,te),fe.contentHeight>ie&&(ie=fe.contentHeight),X[re.index]=fe}}var me=new p.Row(z.raw,-1,z.section,X,!0);me.height=ie;for(var xe=0,we=ee.columns;xe<we.length;xe++){var re=we[xe],fe=me.cells[re.index];fe&&(fe.height=me.height);var de=z.cells[re.index];de&&(de.height=z.height)}return me}function F(z,Y,ee,se){var X=z.pageSize().height,ie=se.settings.margin,V=ie.top+ie.bottom,H=X-V;Y.section==="body"&&(H-=se.getHeadHeight(se.columns)+se.getFootHeight(se.columns));var re=Y.getMinimumRowHeight(se.columns,z),de=re<ee;if(re>H)return console.error("Will not be able to print row ".concat(Y.index," correctly since it's minimum height is larger than page height")),!0;if(!de)return!1;var fe=Y.hasRowSpan(se.columns),pe=Y.getMaxCellHeight(se.columns)>H;return pe?(fe&&console.error("The content of row ".concat(Y.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(fe||se.settings.rowPageBreak==="avoid")}function q(z,Y,ee,se,X,ie,V){var H=K(z,Y,se,ie);if(ee.canEntireRowFit(H,V))G(z,Y,ee,ie,V);else if(F(z,ee,H,Y)){var re=D(ee,H,Y,z);G(z,Y,ee,ie,V),$(z,Y,X,ie,V),q(z,Y,re,se,X,ie,V)}else $(z,Y,X,ie,V),q(z,Y,ee,se,X,ie,V)}function G(z,Y,ee,se,X){se.x=Y.settings.margin.left;for(var ie=0,V=X;ie<V.length;ie++){var H=V[ie],re=ee.cells[H.index];if(!re){se.x+=H.width;continue}z.applyStyles(re.styles),re.x=se.x,re.y=se.y;var de=Y.callCellHooks(z,Y.hooks.willDrawCell,re,ee,H,se);if(de===!1){se.x+=H.width;continue}R(z,re,se);var fe=re.getTextPos();(0,w.default)(re.text,fe.x,fe.y,{halign:re.styles.halign,valign:re.styles.valign,maxWidth:Math.ceil(re.width-re.padding("left")-re.padding("right"))},z.getDocument()),Y.callCellHooks(z,Y.hooks.didDrawCell,re,ee,H,se),se.x+=H.width}se.y+=ee.height}function R(z,Y,ee){var se=Y.styles;if(z.getDocument().setFillColor(z.getDocument().getFillColor()),typeof se.lineWidth=="number"){var X=(0,h.getFillStyle)(se.lineWidth,se.fillColor);X&&z.rect(Y.x,ee.y,Y.width,Y.height,X)}else typeof se.lineWidth=="object"&&(se.fillColor&&z.rect(Y.x,ee.y,Y.width,Y.height,"F"),O(z,Y,ee,se.lineWidth))}function O(z,Y,ee,se){var X,ie,V,H;se.top&&(X=ee.x,ie=ee.y,V=ee.x+Y.width,H=ee.y,se.right&&(V+=.5*se.right),se.left&&(X-=.5*se.left),re(se.top,X,ie,V,H)),se.bottom&&(X=ee.x,ie=ee.y+Y.height,V=ee.x+Y.width,H=ee.y+Y.height,se.right&&(V+=.5*se.right),se.left&&(X-=.5*se.left),re(se.bottom,X,ie,V,H)),se.left&&(X=ee.x,ie=ee.y,V=ee.x,H=ee.y+Y.height,se.top&&(ie-=.5*se.top),se.bottom&&(H+=.5*se.bottom),re(se.left,X,ie,V,H)),se.right&&(X=ee.x+Y.width,ie=ee.y,V=ee.x+Y.width,H=ee.y+Y.height,se.top&&(ie-=.5*se.top),se.bottom&&(H+=.5*se.bottom),re(se.right,X,ie,V,H));function re(de,fe,pe,he,te){z.getDocument().setLineWidth(de),z.getDocument().line(fe,pe,he,te,"S")}}function K(z,Y,ee,se){var X=Y.settings.margin.bottom,ie=Y.settings.showFoot;return(ie==="everyPage"||ie==="lastPage"&&ee)&&(X+=Y.getFootHeight(Y.columns)),z.pageSize().height-se.y-X}function $(z,Y,ee,se,X,ie){X===void 0&&(X=[]),ie===void 0&&(ie=!1),z.applyStyles(z.userStyles),Y.settings.showFoot==="everyPage"&&!ie&&Y.foot.forEach(function(H){return G(z,Y,H,se,X)}),Y.callEndPageHooks(z,se);var V=Y.settings.margin;(0,h.addTableBorder)(z,Y,ee,se),ne(z),Y.pageNumber++,Y.pageCount++,se.x=V.left,se.y=V.top,ee.y=V.top,Y.callWillDrawPageHooks(z,se),Y.settings.showHead==="everyPage"&&(Y.head.forEach(function(H){return G(z,Y,H,se,X)}),z.applyStyles(z.userStyles))}u.addPage=$;function ne(z){var Y=z.pageNumber();z.setPage(Y+1);var ee=z.pageNumber();return ee===Y?(z.addPage(),!0):!1}}),224:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.calculateAllColumnsCanFitInPage=void 0;var h=f(420);function p(g,w,N){var A;N===void 0&&(N={});var _=(0,h.getPageAvailableWidth)(g,w),k=new Map,P=[],M=[],B=[];w.settings.horizontalPageBreakRepeat,Array.isArray(w.settings.horizontalPageBreakRepeat)?B=w.settings.horizontalPageBreakRepeat:(typeof w.settings.horizontalPageBreakRepeat=="string"||typeof w.settings.horizontalPageBreakRepeat=="number")&&(B=[w.settings.horizontalPageBreakRepeat]),B.forEach(function(q){var G=w.columns.find(function(R){return R.dataKey===q||R.index===q});G&&!k.has(G.index)&&(k.set(G.index,!0),P.push(G.index),M.push(w.columns[G.index]),_-=G.wrappedWidth)});for(var U=!0,D=(A=N==null?void 0:N.start)!==null&&A!==void 0?A:0;D<w.columns.length;){if(k.has(D)){D++;continue}var F=w.columns[D].wrappedWidth;if(U||_>=F)U=!1,P.push(D),M.push(w.columns[D]),_-=F;else break;D++}return{colIndexes:P,columns:M,lastIndex:D-1}}function y(g,w){for(var N=[],A=0;A<w.columns.length;A++){var _=p(g,w,{start:A});_.columns.length&&(N.push(_),A=_.lastIndex)}return N}u.calculateAllColumnsCanFitInPage=y}),324:(function(l,u,f){Object.defineProperty(u,"__esModule",{value:!0}),u.ellipsize=u.resizeColumns=u.calculateWidths=void 0;var h=f(420);function p(P,M){y(P,M);var B=[],U=0;M.columns.forEach(function(F){var q=F.getMaxCustomCellWidth(M);q?F.width=q:(F.width=F.wrappedWidth,B.push(F)),U+=F.width});var D=M.getWidth(P.pageSize().width)-U;D&&(D=g(B,D,function(F){return Math.max(F.minReadableWidth,F.minWidth)})),D&&(D=g(B,D,function(F){return F.minWidth})),D=Math.abs(D),!M.settings.horizontalPageBreak&&D>.1/P.scaleFactor()&&(D=D<1?D:Math.round(D),console.warn("Of the table content, ".concat(D," units width could not fit page"))),N(M),A(M,P),w(M)}u.calculateWidths=p;function y(P,M){var B=P.scaleFactor(),U=M.settings.horizontalPageBreak,D=(0,h.getPageAvailableWidth)(P,M);M.allRows().forEach(function(F){for(var q=0,G=M.columns;q<G.length;q++){var R=G[q],O=F.cells[R.index];if(O){var K=M.hooks.didParseCell;M.callCellHooks(P,K,O,F,R,null);var $=O.padding("horizontal");O.contentWidth=(0,h.getStringWidth)(O.text,O.styles,P)+$;var ne=(0,h.getStringWidth)(O.text.join(" ").split(/\s+/),O.styles,P);if(O.minReadableWidth=ne+O.padding("horizontal"),typeof O.styles.cellWidth=="number")O.minWidth=O.styles.cellWidth,O.wrappedWidth=O.styles.cellWidth;else if(O.styles.cellWidth==="wrap"||U===!0)O.contentWidth>D?(O.minWidth=D,O.wrappedWidth=D):(O.minWidth=O.contentWidth,O.wrappedWidth=O.contentWidth);else{var z=10/B;O.minWidth=O.styles.minCellWidth||z,O.wrappedWidth=O.contentWidth,O.minWidth>O.wrappedWidth&&(O.wrappedWidth=O.minWidth)}}}}),M.allRows().forEach(function(F){for(var q=0,G=M.columns;q<G.length;q++){var R=G[q],O=F.cells[R.index];if(O&&O.colSpan===1)R.wrappedWidth=Math.max(R.wrappedWidth,O.wrappedWidth),R.minWidth=Math.max(R.minWidth,O.minWidth),R.minReadableWidth=Math.max(R.minReadableWidth,O.minReadableWidth);else{var K=M.styles.columnStyles[R.dataKey]||M.styles.columnStyles[R.index]||{},$=K.cellWidth||K.minCellWidth;$&&typeof $=="number"&&(R.minWidth=$,R.wrappedWidth=$)}O&&(O.colSpan>1&&!R.minWidth&&(R.minWidth=O.minWidth),O.colSpan>1&&!R.wrappedWidth&&(R.wrappedWidth=O.minWidth))}})}function g(P,M,B){for(var U=M,D=P.reduce(function(z,Y){return z+Y.wrappedWidth},0),F=0;F<P.length;F++){var q=P[F],G=q.wrappedWidth/D,R=U*G,O=q.width+R,K=B(q),$=O<K?K:O;M-=$-q.width,q.width=$}if(M=Math.round(M*1e10)/1e10,M){var ne=P.filter(function(z){return M<0?z.width>B(z):!0});ne.length&&(M=g(ne,M,B))}return M}u.resizeColumns=g;function w(P){for(var M={},B=1,U=P.allRows(),D=0;D<U.length;D++)for(var F=U[D],q=0,G=P.columns;q<G.length;q++){var R=G[q],O=M[R.index];if(B>1)B--,delete F.cells[R.index];else if(O)O.cell.height+=F.height,B=O.cell.colSpan,delete F.cells[R.index],O.left--,O.left<=1&&delete M[R.index];else{var K=F.cells[R.index];if(!K)continue;if(K.height=F.height,K.rowSpan>1){var $=U.length-D,ne=K.rowSpan>$?$:K.rowSpan;M[R.index]={cell:K,left:ne,row:F}}}}}function N(P){for(var M=P.allRows(),B=0;B<M.length;B++)for(var U=M[B],D=null,F=0,q=0,G=0;G<P.columns.length;G++){var R=P.columns[G];if(q-=1,q>1&&P.columns[G+1])F+=R.width,delete U.cells[R.index];else if(D){var O=D;delete U.cells[R.index],D=null,O.width=R.width+F}else{var O=U.cells[R.index];if(!O)continue;if(q=O.colSpan,F=0,O.colSpan>1){D=O,F+=R.width;continue}O.width=R.width+F}}}function A(P,M){for(var B={count:0,height:0},U=0,D=P.allRows();U<D.length;U++){for(var F=D[U],q=0,G=P.columns;q<G.length;q++){var R=G[q],O=F.cells[R.index];if(O){M.applyStyles(O.styles,!0);var K=O.width-O.padding("horizontal");if(O.styles.overflow==="linebreak")O.text=M.splitTextToSize(O.text,K+1/M.scaleFactor(),{fontSize:O.styles.fontSize});else if(O.styles.overflow==="ellipsize")O.text=_(O.text,K,O.styles,M,"...");else if(O.styles.overflow==="hidden")O.text=_(O.text,K,O.styles,M,"");else if(typeof O.styles.overflow=="function"){var $=O.styles.overflow(O.text,K);typeof $=="string"?O.text=[$]:O.text=$}O.contentHeight=O.getContentHeight(M.scaleFactor(),M.getLineHeightFactor());var ne=O.contentHeight/O.rowSpan;O.rowSpan>1&&B.count*B.height<ne*O.rowSpan?B={height:ne,count:O.rowSpan}:B&&B.count>0&&B.height>ne&&(ne=B.height),ne>F.height&&(F.height=ne)}}B.count--}}function _(P,M,B,U,D){return P.map(function(F){return k(F,M,B,U,D)})}u.ellipsize=_;function k(P,M,B,U,D){var F=1e4*U.scaleFactor();if(M=Math.ceil(M*F)/F,M>=(0,h.getStringWidth)(P,B,U))return P;for(;M<(0,h.getStringWidth)(P+D,B,U)&&!(P.length<=1);)P=P.substring(0,P.length-1);return P.trim()+D}}),964:(function(l){if(typeof n>"u"){var u=new Error("Cannot find module 'undefined'");throw u.code="MODULE_NOT_FOUND",u}l.exports=n})},i={};function a(l){var u=i[l];if(u!==void 0)return u.exports;var f=i[l]={exports:{}};return r[l].call(f.exports,f,f.exports,a),f.exports}var o={};return(function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var u=a(340),f=a(776),h=a(664),p=a(972),y=a(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return y.Table}});var g=a(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return g.CellHookData}});var w=a(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return w.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return w.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return w.Row}});function N(M){(0,u.default)(M)}l.applyPlugin=N;function A(M,B){var U=(0,f.parseInput)(M,B),D=(0,p.createTable)(M,U);(0,h.drawTable)(M,D)}function _(M,B){var U=(0,f.parseInput)(M,B);return(0,p.createTable)(M,U)}l.__createTable=_;function k(M,B){(0,h.drawTable)(M,B)}l.__drawTable=k;try{var P=a(964);P.jsPDF&&(P=P.jsPDF),N(P)}catch{}l.default=A})(),o})()})})(Mg)),Mg.exports}Gae();function fO(e){const t=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=l=>l===0?"":l<20?t[l]:l<100?n[Math.floor(l/10)]+(l%10!==0?" "+t[l%10]:""):l<1e3?t[Math.floor(l/100)]+"Hundred "+r(l%100):l<1e5?r(Math.floor(l/1e3))+"Thousand "+r(l%1e3):l<1e7?r(Math.floor(l/1e5))+"Lakh "+r(l%1e5):r(Math.floor(l/1e7))+"Crore "+r(l%1e7),[i,a]=e.toString().split(".");let o=r(Number(i));if(a&&Number(a)>0){const l=a.padEnd(2,"0").slice(0,2);o+="and "+r(Number(l))+"Paisa "}return o.trim()+" Only"}const hO=(e,t,n,r)=>{const i=new Lt,a=Be.getBusinessProfile();i.setFontSize(20),i.setTextColor(16,185,129),i.text(a.name,105,20,{align:"center"}),i.setFontSize(10),i.setTextColor(100,100,100),i.text(`${a.address} | PAN: ${a.pan} | Ph: ${a.phone}`,105,26,{align:"center"}),i.setFontSize(14),i.setTextColor(0,0,0),i.text(e,14,40),i.setFontSize(8),i.text(`Generated on: ${new Date().toLocaleString()}`,14,45),i.autoTable({startY:50,head:[t],body:n,theme:"grid",headStyles:{fillColor:[15,23,42],textColor:[255,255,255],fontStyle:"bold"},styles:{fontSize:8,cellPadding:3},alternateRowStyles:{fillColor:[248,250,252]}}),i.save(`${r}_${new Date().toISOString().split("T")[0]}.pdf`)},kS=(e,t)=>{const n=new Lt,r=Be.getBusinessProfile(),i=["PAYMENT_IN","PAYMENT_OUT","EXPENSE"].includes(e.type);n.setFontSize(18),n.setTextColor(0,0,0),n.text(r.name,14,20),n.setFontSize(9),n.setTextColor(100,100,100),n.text(r.address,14,25),n.text(`PAN: ${r.pan} | Ph: ${r.phone}`,14,30),n.setFontSize(16),n.setTextColor(0,0,0);const a=e.type==="SALE"?"TAX INVOICE":e.type.replace("_"," ");n.text(a,196,20,{align:"right"}),n.setFontSize(10),n.text(`#${e.id}`,196,26,{align:"right"}),n.setFontSize(10),n.setTextColor(0,0,0),n.text(i?"PAID TO/FROM:":"BILLED TO:",14,45),n.setFontSize(12),n.text(e.partyName,14,51),n.setFontSize(9),n.setTextColor(100,100,100),t!=null&&t.address&&n.text(t.address,14,56),t!=null&&t.phone&&n.text(`Ph: ${t.phone}`,14,61),n.setTextColor(0,0,0),n.text("DATE (NEPALI):",196,45,{align:"right"}),n.text(Rn(e.date),196,51,{align:"right"});let o=70;if(e.items&&e.items.length>0){const u=["S.N.","Description","Qty","Rate","Amount"],f=e.items.map((h,p)=>[p+1,h.productName,`${h.quantity} ${h.unit||"pcs"}`,qe(h.rate),qe(h.amount)]);n.autoTable({startY:70,head:[u],body:f,theme:"striped",headStyles:{fillColor:[15,23,42],textColor:[255,255,255],fontStyle:"bold"},columnStyles:{0:{halign:"center",cellWidth:10},2:{halign:"center",cellWidth:25},3:{halign:"right",cellWidth:35},4:{halign:"right",cellWidth:35}}}),o=n.lastAutoTable.finalY+10}else n.setFillColor(248,250,252),n.rect(14,70,182,30,"F"),n.setFontSize(12),n.setTextColor(0,0,0),n.text("Transaction Amount:",20,80),n.setFontSize(18),n.setTextColor(16,185,129),n.text(`Rs. ${qe(e.totalAmount)}`,190,85,{align:"right"}),o=110;n.setFontSize(10),n.setTextColor(0,0,0),n.text("Notes / Remarks:",14,o),n.setFontSize(9),n.setTextColor(100,100,100),n.text(e.notes||"N/A",14,o+5),i||(n.setTextColor(0,0,0),n.setFontSize(10),n.text("Sub Total:",140,o),n.text(qe(e.subTotal||e.totalAmount),196,o,{align:"right"}),e.discount&&(n.text("Discount (-):",140,o+5),n.text(qe(e.discount),196,o+5,{align:"right"})),n.setFontSize(12),n.setTextColor(16,185,129),n.text("GRAND TOTAL:",140,o+15),n.text(`Rs. ${qe(e.totalAmount)}`,196,o+15,{align:"right"})),n.setFontSize(9),n.setTextColor(100,100,100),n.text("Amount in words:",14,o+25),n.setFontSize(9),n.setTextColor(0,0,0),n.text(fO(e.totalAmount),14,o+30);const l=250;n.setDrawColor(200,200,200),n.line(14,l,70,l),n.line(140,l,196,l),n.setFontSize(8),n.text("Receiver's Signature",42,l+5,{align:"center"}),n.text("Authorized Signature",168,l+5,{align:"center"}),n.save(`${e.type}_${e.id}.pdf`)},$ae=e=>{const t=new Lt,n=Be.getBusinessProfile();t.setFontSize(18),t.text(n.name,14,20),t.setFontSize(9),t.setTextColor(100,100,100),t.text(`REPAIR SERVICE TICKET #${e.ticketNumber}`,196,20,{align:"right"}),t.text(n.address,14,25),t.text(`Contact: ${n.phone}`,14,30),t.setDrawColor(240,240,240),t.setFillColor(249,250,251),t.rect(14,40,182,40,"F"),t.setFontSize(10),t.setTextColor(0,0,0),t.text("CUSTOMER:",20,50),t.text(e.customerName,50,50),t.text("PHONE:",20,56),t.text(e.customerPhone,50,56),t.text("INTAKE:",20,62),t.text(Rn(e.date),50,62),t.text("DEVICE:",110,50),t.text(e.deviceModel,135,50),t.text("IMEI/SN:",110,56),t.text(e.deviceImei||"N/A",135,56),t.text("STATUS:",110,62),t.text(e.status,135,62),t.text("PROBLEM DESCRIPTION:",14,95),t.setFontSize(9),t.setTextColor(100,100,100);const r=t.splitTextToSize(e.problemDescription||"No description provided.",170);t.text(r,14,102);const i=140;t.setFontSize(12),t.setTextColor(0,0,0),t.text("Estimated Service Cost:",14,i),t.text(qe(e.estimatedCost),196,i,{align:"right"}),t.setTextColor(16,185,129),t.text("Advance Received:",14,i+10),t.text(qe(e.advanceAmount),196,i+10,{align:"right"}),t.save(`Service_Ticket_${e.ticketNumber}.pdf`)},Wae=e=>{const t=new Lt,n=Be.getBusinessProfile();t.setFontSize(18),t.text(n.name,14,20),t.setFontSize(9),t.text(`WARRANTY CLAIM TICKET #${e.ticketNumber}`,196,20,{align:"right"}),t.setFontSize(11),t.text(`Customer: ${e.customerName}`,14,40),t.text(`Claim Date: ${Rn(e.dateReceived)}`,14,46),e.vendorName&&t.text(`Vendor: ${e.vendorName}`,14,52);const r=["S.N.","Product Name","Serial Number","Issue"],i=e.items.map((a,o)=>[o+1,a.productName,a.serialNumber,a.problemDescription]);t.autoTable({startY:65,head:[r],body:i,theme:"grid",headStyles:{fillColor:[147,51,234]}}),t.save(`Warranty_${e.ticketNumber}.pdf`)},Yae=({triggerAdd:e})=>{const[t,n]=j.useState([]),[r,i]=j.useState(!1),[a,o]=j.useState({type:"customer",name:"",phone:"",address:"",dueDate:""}),[l,u]=j.useState(""),{addToast:f}=kr(),h=sn.can("parties","edit"),p=sn.can("parties","delete");j.useEffect(()=>{n(Be.getParties())},[r]),j.useEffect(()=>{e&&e>0&&h&&N()},[e]);const y=k=>{k.preventDefault(),h&&a.name&&(a.id?Be.updateParty(a):Be.addParty({id:Date.now().toString(),name:a.name,phone:a.phone||"",type:a.type,address:a.address,dueDate:a.dueDate,balance:0}),i(!1),A(),n(Be.getParties()),f("Party saved successfully","success"))},g=k=>{h&&(o({...k}),i(!0))},w=()=>{const k=["Name","Type","Phone","Address","Balance"],P=_.map(M=>[M.name,M.type.toUpperCase(),M.phone||"-",M.address||"-",qe(M.balance)]);hO("Partner Balance Summary Report",k,P,"Parties_Report"),f("PDF download started","success")},N=()=>{A(),i(!0)},A=()=>{o({type:"customer",name:"",phone:"",address:"",dueDate:""})},_=t.filter(k=>k.name.toLowerCase().includes(l.toLowerCase())||k.phone&&k.phone.includes(l));return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Parties"}),d.jsxs("div",{className:"flex gap-3",children:[h&&d.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors font-bold uppercase text-[10px] tracking-widest shadow-md",children:[d.jsx(ca,{className:"w-4 h-4"})," Add Party"]}),d.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-blue-600 rounded-lg hover:bg-blue-50 shadow-sm",title:"Download PDF",children:[d.jsx(Xd,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),d.jsxs("button",{onClick:()=>jc(YL(t),"Parties_Report"),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 shadow-sm",children:[d.jsx(wc,{className:"w-4 h-4"})," Excel"]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search parties...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:l,onChange:k=>u(k.target.value)})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Name"}),d.jsx("th",{className:"px-6 py-3",children:"Type"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Balance"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(k=>d.jsxs("tr",{className:"hover:bg-gray-50 group",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:k.name}),d.jsx("td",{className:"px-6 py-4 capitalize",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:k.type})}),d.jsx("td",{className:`px-6 py-4 text-right font-bold ${k.balance>=0?"text-green-600":"text-red-600"}`,children:qe(Math.abs(k.balance))}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[h&&d.jsx("button",{onClick:()=>g(k),className:"p-1.5 text-gray-500 hover:text-blue-600",children:d.jsx(Nc,{className:"w-4 h-4"})}),p&&d.jsx("button",{onClick:()=>{window.confirm("Delete party?")},className:"p-1.5 text-gray-500 hover:text-red-600",children:d.jsx(rs,{className:"w-4 h-4"})})]})})]},k.id))})]})})]}),r&&h&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[d.jsx("h2",{className:"text-lg font-bold mb-4",children:a.id?"Edit Party":"Add New Party"}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),d.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 outline-none focus:ring-2 focus:ring-brand-500",value:a.name,onChange:k=>o({...a,name:k.target.value})})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-brand-500 text-white rounded-lg font-bold",children:"Save Party"})]})]})]})})]})},Kae=({triggerAdd:e,refreshKey:t,onNavigateToRestock:n})=>{const[r,i]=j.useState([]),[a,o]=j.useState(!1),[l,u]=j.useState({name:"",category:"",type:"goods",stock:0,minStockLevel:5,purchasePrice:0,salePrice:0,unit:"pcs"}),[f,h]=j.useState(!1),p=j.useRef(null),[y,g]=j.useState(""),[w,N]=j.useState("All Categories"),{addToast:A}=kr(),_=sn.can("inventory","edit"),k=sn.can("inventory","delete");j.useEffect(()=>{i(Be.getProducts())},[a,t]),j.useEffect(()=>{e&&e>0&&_&&P()},[e]),j.useEffect(()=>{function q(G){p.current&&!p.current.contains(G.target)&&h(!1)}return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const P=()=>{u({name:"",category:"",type:"goods",stock:0,minStockLevel:5,purchasePrice:0,salePrice:0,unit:"pcs"}),o(!0)},M=q=>{_&&(u({...q}),o(!0))},B=q=>{k&&window.confirm("Are you sure you want to delete this item?")&&(Be.deleteProduct(q),i(Be.getProducts()),A("Item deleted successfully","success"))},U=q=>{if(q.preventDefault(),l.name){const G={id:l.id||Date.now().toString(),name:l.name,category:l.category||"General",type:l.type,stock:l.type==="service"?0:Number(l.stock),minStockLevel:l.type==="service"?0:Number(l.minStockLevel||0),purchasePrice:Number(l.purchasePrice),salePrice:Number(l.salePrice),wholesalePrice:Number(l.wholesalePrice),unit:l.unit||"pcs",secondaryUnit:l.secondaryUnit,conversionRatio:l.conversionRatio?Number(l.conversionRatio):void 0};l.id?Be.updateProduct(G):Be.addProduct(G),o(!1),i(Be.getProducts()),A("Product saved successfully","success")}},D=()=>{const q=["Item Name","Category","Stock","Unit","Sale Price"],G=F.map(R=>[R.name,R.category||"General",R.type==="service"?"-":R.stock,R.unit,qe(R.salePrice)]);hO("Current Inventory Stock List",q,G,"Inventory_Report"),A("PDF download started","success")},F=r.filter(q=>{const G=q.name.toLowerCase().includes(y.toLowerCase()),R=w==="All Categories"||(q.category||"General")===w;return G&&R});return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(Nh,{className:"w-6 h-6 text-brand-500"})," Inventory Master"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage products, services and stock thresholds"})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[_&&d.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-bold",children:[d.jsx(ca,{className:"w-4 h-4"})," Add Item"]}),d.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-blue-600 rounded-lg hover:bg-blue-50 shadow-sm",title:"Download PDF",children:[d.jsx(Xd,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:"PDF"})]}),d.jsxs("button",{onClick:()=>jc(WL(r),"Inventory_Report"),className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 shadow-sm",children:[d.jsx(wc,{className:"w-4 h-4"})," Excel"]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[d.jsx("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4",children:d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search items...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:y,onChange:q=>g(q.target.value)})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Item Details"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Stock"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Purchase"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Sales"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:F.map(q=>d.jsxs("tr",{className:"hover:bg-gray-50 group transition-colors",children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"font-bold text-gray-900",children:q.name}),d.jsx("div",{className:"text-[10px] text-gray-400 uppercase",children:q.category})]}),d.jsx("td",{className:`px-6 py-4 text-center font-black text-lg ${q.stock<(q.minStockLevel||5)?"text-red-500":"text-emerald-600"}`,children:q.type==="service"?"-":q.stock}),d.jsx("td",{className:"px-6 py-4 text-right text-gray-600 font-mono",children:qe(q.purchasePrice)}),d.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900 font-mono",children:qe(q.salePrice)}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[_&&d.jsx("button",{onClick:()=>M(q),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:d.jsx(Nc,{className:"w-4 h-4"})}),k&&d.jsx("button",{onClick:()=>B(q.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:d.jsx(rs,{className:"w-4 h-4"})})]})})]},q.id))})]})})]}),a&&_&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[d.jsx(Nh,{className:"w-6 h-6 text-brand-500"})," ",l.id?"Edit Item":"New Item"]}),d.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full transition-colors",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:U,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Product Name"}),d.jsx("input",{required:!0,autoFocus:!0,className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",value:l.name,onChange:q=>u({...l,name:q.target.value})})]}),d.jsxs("div",{ref:p,className:"relative",children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Category"}),d.jsx("input",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",value:l.category,onChange:q=>u({...l,category:q.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Type"}),d.jsxs("select",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none bg-white font-medium",value:l.type,onChange:q=>u({...l,type:q.target.value}),children:[d.jsx("option",{value:"goods",children:"Goods"}),d.jsx("option",{value:"service",children:"Service"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Unit"}),d.jsx("input",{className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-medium",value:l.unit,onChange:q=>u({...l,unit:q.target.value})})]}),l.type!=="service"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1.5",children:"Stock"}),d.jsx("input",{type:"number",step:"any",className:"w-full border border-gray-300 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none font-bold",value:l.stock,onChange:q=>u({...l,stock:Number(q.target.value)})})]})]}),d.jsxs("div",{className:"p-5 bg-gray-50 rounded-2xl border border-gray-100 grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-bold text-gray-500 mb-1",children:"BUY PRICE"}),d.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-xl p-2.5 text-sm outline-none",value:l.purchasePrice,onChange:q=>u({...l,purchasePrice:Number(q.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[10px] font-bold text-brand-600 mb-1",children:"SALE PRICE"}),d.jsx("input",{type:"number",className:"w-full border border-brand-200 rounded-xl p-2.5 text-sm outline-none",value:l.salePrice,onChange:q=>u({...l,salePrice:Number(q.target.value)})})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-6 py-2.5 text-gray-600 font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-10 py-2.5 bg-brand-600 text-white rounded-xl hover:bg-brand-700 font-bold shadow-lg",children:"Save Item"})]})]})]})})]})},Jae=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(""),[i,a]=j.useState("All Categories");j.useEffect(()=>{t(Be.getProducts())},[]);const o=["All Categories",...Array.from(new Set(e.map(u=>u.category||"General")))],l=e.filter(u=>{const f=u.name.toLowerCase().includes(n.toLowerCase()),h=i==="All Categories"||(u.category||"General")===i;return f&&h});return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Price List"}),d.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors border border-gray-200",children:[d.jsx(js,{className:"w-4 h-4"}),"Print List"]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm print:shadow-none print:border-none",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100 flex gap-4 print:hidden",children:[d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1 max-w-md",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search items by name...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:n,onChange:u=>r(u.target.value)})]}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{className:"h-full pl-10 pr-8 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm appearance-none outline-none cursor-pointer text-gray-700",value:i,onChange:u=>a(u.target.value),children:o.map(u=>d.jsx("option",{value:u,children:u},u))}),d.jsx(GB,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-600 font-medium print:bg-gray-100 print:text-black",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Item Name"}),d.jsx("th",{className:"px-6 py-3",children:"Category"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Unit"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Stock"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Sales Price"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Wholesale Price"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l.map((u,f)=>d.jsxs("tr",{className:"hover:bg-gray-50 group print:border-b print:border-gray-200",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:u.name}),d.jsx("td",{className:"px-6 py-4 text-gray-500",children:u.category||"General"}),d.jsx("td",{className:"px-6 py-4 text-center text-gray-500 uppercase text-xs",children:u.unit}),d.jsx("td",{className:`px-6 py-4 text-center font-medium ${u.type==="service"?"text-gray-400":u.stock<5?"text-red-500":"text-gray-700"}`,children:u.type==="service"?"N/A":u.stock}),d.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-800",children:qe(u.salePrice)}),d.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-600",children:u.wholesalePrice?qe(u.wholesalePrice):"-"})]},u.id)),l.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No items found matching your filters."})})]})]})})]})]})},Xae=({transaction:e,party:t,onClose:n})=>{const[r,i]=j.useState(null);j.useEffect(()=>{i(Be.getBusinessProfile())},[]);const a=()=>{switch(e.type){case"SALE":return"Estimate Bill";case"PURCHASE":return"Purchase Bill";case"QUOTATION":return"Quotation";case"SALE_RETURN":return"Credit Note";case"PURCHASE_RETURN":return"Debit Note";case"PAYMENT_IN":return"Receipt Voucher";case"PAYMENT_OUT":return"Payment Voucher";default:return"Invoice"}};return r?d.jsxs("div",{className:"fixed inset-0 z-[200] bg-gray-900/50 flex items-start justify-center p-4 overflow-y-auto print:p-0 print:bg-white print:static print:block print:overflow-visible",children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @media print {
          @page {
            size: A4;
            margin: 10mm;
          }
          html, body, #root, #main-app-container {
            height: auto !important;
            overflow: visible !important;
            margin: 0 !important;
            padding: 0 !important;
            background: white !important;
          }
          aside, header, main, .fixed.bottom-6.right-6 {
            display: none !important;
          }
          .print-bill-container-inner {
            position: static !important;
            display: block !important;
            background: white !important;
            padding: 0 !important;
            margin: 0 !important;
          }
          .print-bill-target {
            position: static !important;
            width: 100% !important;
            display: block !important;
            box-shadow: none !important;
            border: none !important;
            margin: 0 !important;
            padding: 0 !important;
          }
          .no-print {
            display: none !important;
          }
        }
      `}}),d.jsxs("div",{className:"fixed top-4 right-4 flex gap-2 no-print z-[210]",children:[d.jsx("button",{onClick:()=>kS(e,t),className:"bg-blue-600 text-white p-3 rounded-full shadow-xl hover:bg-blue-700 transition-all active:scale-95",title:"Download PDF",children:d.jsx(Xd,{className:"w-6 h-6"})}),d.jsx("button",{onClick:()=>window.print(),className:"bg-brand-600 text-white p-3 rounded-full shadow-xl hover:bg-brand-700 transition-all active:scale-95",title:"Print via Browser",children:d.jsx(js,{className:"w-6 h-6"})}),d.jsx("button",{onClick:n,className:"bg-gray-800 text-white p-3 rounded-full shadow-xl hover:bg-gray-900 transition-all active:scale-95",title:"Close Preview",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"print-bill-container-inner w-full flex justify-center",children:d.jsxs("div",{className:"print-bill-target bg-white w-full max-w-[210mm] shadow-2xl p-10 mt-10 mb-10 print:mt-0 print:mb-0 print:p-0 print:max-w-none",children:[d.jsxs("div",{className:"flex justify-between items-start mb-8 border-b-2 border-gray-100 pb-6 print:border-gray-300",children:[d.jsxs("div",{className:"flex gap-5",children:[r.logoUrl?d.jsx("img",{src:r.logoUrl,alt:"Logo",className:"w-20 h-20 rounded-xl object-cover"}):d.jsx("div",{className:"w-16 h-16 rounded-xl bg-brand-50 flex items-center justify-center border border-brand-100 print:border-gray-400",children:d.jsx(k5,{className:"w-8 h-8 text-brand-500 print:text-gray-900"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-black text-gray-900 uppercase tracking-tight leading-none mb-2",children:r.name}),d.jsx("p",{className:"text-sm text-gray-600 font-medium",children:r.address}),d.jsxs("div",{className:"mt-1 space-y-0.5",children:[d.jsxs("p",{className:"text-xs text-gray-500 font-bold",children:["PAN/VAT: ",r.pan]}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Contact: ",r.phone]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("h2",{className:"text-3xl font-black text-gray-900 uppercase tracking-tighter mb-1",children:a()}),d.jsx("div",{className:"bg-gray-900 text-white px-3 py-1 text-xs font-bold inline-block rounded uppercase tracking-widest print:bg-gray-100 print:text-gray-900 print:border print:border-gray-900",children:e.type.replace("_"," ")})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-10 mb-8",children:[d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-0.5",children:"Billed To"}),d.jsx("p",{className:"text-lg font-black text-gray-900 leading-tight",children:e.partyName}),(t==null?void 0:t.address)&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.address}),(t==null?void 0:t.phone)&&d.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",t.phone]})]}),d.jsxs("div",{className:"pt-2 border-t border-dashed border-gray-100 print:border-gray-300",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Opening Balance"}),d.jsxs("p",{className:"text-sm font-bold text-gray-700",children:["Rs. ",t?qe(Math.abs(t.balance)):"0.00"]})]})]}),d.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Voucher No"}),d.jsxs("p",{className:"font-mono text-lg font-black text-gray-900",children:["#",e.id]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Date (Nepali)"}),d.jsx("p",{className:"font-bold text-gray-800",children:Rn(e.date)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block",children:"Payment Mode"}),d.jsx("p",{className:"text-sm font-bold px-2 py-0.5 bg-gray-100 rounded border border-gray-200 print:bg-white print:border-gray-800",children:e.paymentMode||"Credit"})]})]})]}),d.jsx("div",{className:"mb-10",children:d.jsxs("table",{className:"w-full text-sm border-collapse",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-900 text-white print:bg-gray-100 print:text-black print:border-y print:border-black",children:[d.jsx("th",{className:"py-3 px-4 text-center border border-transparent print:border-black w-16 font-black uppercase text-[10px]",children:"S.N."}),d.jsx("th",{className:"py-3 px-4 text-left border border-transparent print:border-black font-black uppercase text-[10px]",children:"Description of Goods"}),d.jsx("th",{className:"py-3 px-4 text-center border border-transparent print:border-black w-24 font-black uppercase text-[10px]",children:"Qty"}),d.jsx("th",{className:"py-3 px-4 text-right border border-transparent print:border-black w-32 font-black uppercase text-[10px]",children:"Rate (Rs)"}),d.jsx("th",{className:"py-3 px-4 text-right border border-transparent print:border-black w-32 font-black uppercase text-[10px]",children:"Total (Rs)"})]})}),d.jsx("tbody",{children:e.items&&e.items.length>0?e.items.map((o,l)=>d.jsxs("tr",{className:"border-b border-gray-100 print:border-gray-300",children:[d.jsx("td",{className:"py-3 px-4 text-center border-x border-gray-100 print:border-black",children:l+1}),d.jsx("td",{className:"py-3 px-4 border-x border-gray-100 print:border-black font-medium",children:o.productName}),d.jsxs("td",{className:"py-3 px-4 text-center border-x border-gray-100 print:border-black",children:[o.quantity," ",o.unit||"pcs"]}),d.jsx("td",{className:"py-3 px-4 text-right border-x border-gray-100 print:border-black",children:qe(o.rate)}),d.jsx("td",{className:"py-3 px-4 text-right border-x border-gray-100 print:border-black font-bold",children:qe(o.amount)})]},l)):d.jsx("tr",{children:d.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400 italic",children:"No items recorded in this transaction."})})})]})}),d.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 print:bg-white print:border-gray-800",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Amount In Words"}),d.jsx("p",{className:"text-sm font-bold text-gray-800 italic leading-snug",children:fO(e.totalAmount)})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Remarks / Notes"}),d.jsx("p",{className:"text-sm text-gray-600 italic",children:e.notes||"N/A"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center py-1",children:[d.jsx("span",{className:"text-gray-500 font-medium",children:"Sub Total:"}),d.jsx("span",{className:"font-bold text-gray-900",children:qe(e.subTotal||e.totalAmount)})]}),e.discount&&e.discount>0&&d.jsxs("div",{className:"flex justify-between items-center py-1 text-red-600",children:[d.jsx("span",{className:"font-medium",children:"Discount (-):"}),d.jsx("span",{className:"font-bold",children:qe(e.discount)})]}),e.tax&&e.tax>0&&d.jsxs("div",{className:"flex justify-between items-center py-1",children:[d.jsx("span",{className:"text-gray-500 font-medium",children:"Tax (+):"}),d.jsx("span",{className:"font-bold text-gray-900",children:qe(e.tax)})]}),d.jsxs("div",{className:"flex justify-between items-center pt-3 border-t-2 border-gray-900 mt-2",children:[d.jsx("span",{className:"text-lg font-black text-gray-900 uppercase",children:"Grand Total:"}),d.jsxs("span",{className:"text-2xl font-black text-brand-600 print:text-black",children:["Rs. ",qe(e.totalAmount)]})]})]})]}),d.jsxs("div",{className:"mt-20 flex justify-between items-end",children:[d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"w-48 border-t border-gray-400 pt-2 text-xs font-bold uppercase text-gray-500",children:"Receiver's Signature"})}),d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"w-48 border-t-2 border-gray-900 pt-2 text-xs font-black uppercase text-gray-900",children:"Authorized Signature"})})]}),d.jsx("div",{className:"mt-10 pt-6 border-t border-dashed border-gray-200 text-center no-print",children:d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-[0.3em]",children:"Computer Generated Invoice - No Signature Required if Printed"})})]})})]}):null},Nu=({type:e,onNew:t,refreshKey:n,onEdit:r,onConvert:i})=>{const[a,o]=j.useState([]),[l,u]=j.useState([]),[f,h]=j.useState(""),[p,y]=j.useState(()=>{const O=new Date;return O.setDate(1),O.toISOString()}),[g,w]=j.useState(new Date().toISOString()),[N,A]=j.useState({key:"date",direction:"desc"}),[_,k]=j.useState(null),[P,M]=j.useState(void 0),{addToast:B}=kr(),U=e.toLowerCase().replace("_","-").includes("sale")?"sales-invoices":"purchase-bills",D=sn.can(U,"edit"),F=sn.can(U,"delete");j.useEffect(()=>{const O=Be.getTransactions().filter(K=>K.type===e);o(O)},[e,n]),j.useEffect(()=>{let O=a;if(p){const K=new Date(p);K.setHours(0,0,0,0),O=O.filter($=>new Date($.date)>=K)}if(g){const K=new Date(g);K.setHours(23,59,59,999),O=O.filter($=>new Date($.date)<=K)}if(f){const K=f.toLowerCase();O=O.filter($=>$.partyName.toLowerCase().includes(K)||$.id.toLowerCase().includes(K))}O.sort((K,$)=>{const ne=K[N.key],z=$[N.key];return ne<z?N.direction==="asc"?-1:1:ne>z?N.direction==="asc"?1:-1:0}),u(O)},[a,f,p,g,N]);const q=O=>{F&&window.confirm("Are you sure you want to void this transaction?")&&(Be.deleteTransaction(O),o(K=>K.filter($=>$.id!==O)))},G=O=>{const K=Be.getParties().find($=>$.id===O.partyId);kS(O,K),B("PDF download started","success")},R=()=>{switch(e){case"SALE":return"Sales Invoices";case"PURCHASE":return"Purchase Bills";case"PAYMENT_IN":return"Payment In";case"PAYMENT_OUT":return"Payment Out";default:return"Transactions"}};return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 capitalize",children:R()}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>jc(_S(l),"Transactions"),className:"p-3 bg-white border border-gray-200 text-emerald-600 rounded-lg hover:bg-emerald-50 shadow-sm",title:"Export to Excel",children:d.jsx(wc,{className:"w-4 h-4"})}),D&&d.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors shadow-sm ${e.includes("SALE")?"bg-brand-500 hover:bg-brand-600":"bg-blue-500 hover:bg-blue-600"}`,children:[d.jsx(ca,{className:"w-4 h-4"})," New"]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[d.jsx("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 w-full sm:max-w-xs",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:f,onChange:O=>h(O.target.value)})]})}),d.jsx("div",{className:"overflow-x-auto rounded-b-xl",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Date"}),d.jsx("th",{className:"px-6 py-3",children:"Vch No"}),d.jsx("th",{className:"px-6 py-3",children:"Party Name"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(O=>d.jsxs("tr",{className:"hover:bg-gray-50 group",children:[d.jsx("td",{className:"px-6 py-4 text-gray-500",children:Rn(O.date)}),d.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:["#",O.id.slice(-6)]}),d.jsx("td",{className:"px-6 py-4 text-gray-700 font-medium",children:O.partyName}),d.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:qe(O.totalAmount)}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r&&D&&d.jsx("button",{onClick:()=>r(O),className:"p-1.5 text-gray-400 hover:text-blue-600",children:d.jsx(Nc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>G(O),className:"p-1.5 text-gray-400 hover:text-emerald-600",title:"Download PDF",children:d.jsx(Xd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>{M(Be.getParties().find(K=>K.id===O.partyId)),k(O)},className:"p-1.5 text-gray-400 hover:text-blue-600",title:"Print Browser",children:d.jsx(js,{className:"w-4 h-4"})}),F&&d.jsx("button",{onClick:()=>q(O.id),className:"p-1.5 text-gray-400 hover:text-red-600 opacity-0 group-hover:opacity-100",children:d.jsx(rs,{className:"w-4 h-4"})})]})})]},O.id))})]})})]}),_&&d.jsx(Xae,{transaction:_,party:P,onClose:()=>k(null)})]})},Wi=({value:e,onChange:t,placeholder:n="DD/MM/YYYY",className:r=""})=>{const[i,a]=j.useState(!1),[o,l]=j.useState(""),u=j.useRef(null),f=j.useRef(null),[h,p]=j.useState(2081),[y,g]=j.useState(0);j.useEffect(()=>{if(e){l(Rn(e));const q=fm(new Date(e));p(q.year),g(q.month-1)}else l("")},[e]),j.useEffect(()=>{function q(G){u.current&&!u.current.contains(G.target)&&a(!1)}return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const w=q=>{let G=q.target.value.replace(/[^\d/]/g,"");(G.length===2&&!G.includes("/")||G.length===5&&G.split("/").length===2)&&(G=G+"/"),l(G.substring(0,10))},N=()=>{if(!o){t("");return}const q=SF(),G=o.split("/");let R=parseInt(G[0]),O=G.length>1&&G[1]!==""?parseInt(G[1]):q.month,K=G.length>2&&G[2]!==""?parseInt(G[2]):q.year;K<100&&(K=2e3+K);const $=`${String(R).padStart(2,"0")}/${String(O).padStart(2,"0")}/${K}`;if(wF($)){const ne=ch(K,O,R);ne.setHours(12,0,0,0),t(ne.toISOString()),l($)}else l(e?Rn(e):"")},A=q=>{q.key==="Enter"&&(N(),a(!1)),q.key==="Escape"&&a(!1)},_=()=>{y===0?(g(11),p(q=>q-1)):g(q=>q-1)},k=()=>{y===11?(g(0),p(q=>q+1)):g(q=>q+1)},P=q=>{const G=ch(h,y+1,q);G.setHours(12,0,0,0),t(G.toISOString()),a(!1)},M=q=>{q.stopPropagation(),l(""),t("")},B=Oj(h,y),D=ch(h,y+1,1).getDay(),F=()=>{const q=[];for(let G=0;G<D;G++)q.push(d.jsx("div",{className:"h-8 w-8"},`empty-${G}`));for(let G=1;G<=B;G++){const R=ch(h,y+1,G),O=e&&new Date(e).toDateString()===R.toDateString(),K=new Date().toDateString()===R.toDateString();q.push(d.jsx("button",{type:"button",onClick:()=>P(G),className:`h-8 w-8 rounded-full text-sm flex items-center justify-center transition-colors
            ${O?"bg-brand-500 text-white font-bold":K?"bg-brand-50 text-brand-600 font-semibold border border-brand-200":"hover:bg-gray-100 text-gray-700"}
          `,children:G},G))}return q};return d.jsxs("div",{className:`relative ${r}`,ref:u,children:[d.jsxs("div",{className:"flex items-center bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-brand-500 focus-within:border-brand-500 transition-all",children:[d.jsx("div",{className:"p-2.5 text-gray-400",children:d.jsx(S5,{className:"w-4 h-4"})}),d.jsx("input",{ref:f,type:"text",className:"flex-1 bg-transparent py-2 px-1 text-sm outline-none placeholder-gray-400 dark:placeholder-gray-500 text-gray-700 dark:text-gray-200",placeholder:n,value:o,onChange:w,onKeyDown:A,onBlur:N,onFocus:()=>a(!0)}),o&&d.jsx("button",{type:"button",onClick:M,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(bn,{className:"w-4 h-4"})}),d.jsx("button",{type:"button",onClick:()=>a(!i),className:"p-2.5 bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 border-l border-gray-300 dark:border-gray-600 transition-colors",children:d.jsx(Sl,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})})]}),i&&d.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-100 dark:border-gray-700 p-4 w-72 z-[100] animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("button",{type:"button",onClick:_,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:d.jsx(yj,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),d.jsxs("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:[O2[y]," ",h]}),d.jsx("button",{type:"button",onClick:k,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:d.jsx(_5,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2 text-center",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(q=>d.jsx("div",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500",children:q},q))}),d.jsx("div",{className:"grid grid-cols-7 gap-y-1 justify-items-center",children:F()}),d.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 flex justify-between",children:[d.jsx("button",{type:"button",onClick:()=>{t(""),l(""),a(!1)},className:"text-xs text-red-500 hover:text-red-600 font-medium",children:"Clear"}),d.jsx("button",{type:"button",onClick:()=>{t(new Date().toISOString()),a(!1)},className:"text-xs text-brand-600 hover:text-brand-700 dark:text-brand-400 font-medium",children:"Today"})]})]})]})},nh=[1e3,500,100,50,20,10,5,2,1],Qae=({type:e,initialData:t,onClose:n,onSave:r})=>{const[i,a]=j.useState([]),[o,l]=j.useState([]),[u,f]=j.useState([]),[h,p]=j.useState(""),[y,g]=j.useState(new Date().toISOString()),[w,N]=j.useState(""),[A,_]=j.useState(""),[k,P]=j.useState("Credit"),[M,B]=j.useState("retail"),[U,D]=j.useState(""),[F,q]=j.useState(!1),[G,R]=j.useState(0),[O,K]=j.useState(!1),[$,ne]=j.useState({name:"",phone:"",address:""}),[z,Y]=j.useState(!1),[ee,se]=j.useState({name:"",salePrice:0,purchasePrice:0,stock:0,unit:"pcs"}),[X,ie]=j.useState(!1),[V,H]=j.useState([]),[re,de]=j.useState(!1),[fe,pe]=j.useState(nh.map(_e=>({denomination:_e,count:0}))),[he,te]=j.useState(nh.map(_e=>({denomination:_e,count:0}))),[me,xe]=j.useState([{id:"1",productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),[we,Ue]=j.useState(0),[Ye,Pe]=j.useState(""),[ge,mt]=j.useState(!1),[ot,tt]=j.useState(0),it=j.useRef(new Map),ct=j.useRef(null),ut=j.useRef(null),kt=j.useRef(null),{addToast:Nt}=kr(),Ot=e==="PURCHASE"||e==="PURCHASE_ORDER"||e==="PURCHASE_RETURN";j.useEffect(()=>{if(ge&&ct.current){const _e=ct.current.querySelector(`[data-index="${ot}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[ot,ge]),j.useEffect(()=>{if(F&&ut.current){const _e=ut.current.querySelector(`[data-index="${G}"]`);_e&&_e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[G,F]),j.useEffect(()=>{const _e=Be.getParties();a(_e),l(Be.getProducts()),f(Be.getAccounts()),t?Qe(t,_e):N(De())},[t,e]),j.useEffect(()=>{const _e=ze=>{ct.current&&!ct.current.contains(ze.target)&&mt(!1),ut.current&&!ut.current.contains(ze.target)&&q(!1)};return document.addEventListener("mousedown",_e),()=>document.removeEventListener("mousedown",_e)},[]),j.useEffect(()=>{const _e=ze=>{(ze.ctrlKey||ze.metaKey)&&ze.key==="s"&&(ze.preventDefault(),nn()),ze.key==="Escape"&&!re&&!O&&!X&&!z&&n()};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[me,h,w,y,k,re,O,X,z]);const De=()=>{const _e=Be.getTransactions().filter($e=>$e.type===e);let ze=0;return _e.forEach($e=>{const St=parseInt($e.id);!isNaN(St)&&St<1e8&&St>ze&&(ze=St)}),(ze+1).toString()},Qe=(_e,ze)=>{p(_e.partyId);const $e=ze.find(xt=>xt.id===_e.partyId);D($e?$e.name:_e.partyName),g(_e.date);const St=_e.id===""||_e.type!==e;if(N(St?De():_e.id),_(_e.notes||""),_e.accountId)P(_e.accountId);else if(_e.paymentMode==="Credit")P("Credit");else{const xt=Be.getAccounts().find(yt=>yt.type===_e.paymentMode)||Be.getAccounts().find(yt=>yt.isDefault);P(xt?xt.id:"Credit")}if(_e.items){const xt=_e.items.map((yt,tn)=>({id:tn.toString(),productId:yt.productId,productName:yt.productName,quantity:yt.quantity,unit:yt.unit||"",rate:yt.rate,discountAmount:yt.discount||"",amount:yt.amount}));xt.push({id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}),xe(xt)}_e.cashBreakdown&&(pe(_e.cashBreakdown.received),te(_e.cashBreakdown.returned))},ht=_e=>{B(_e);const ze=me.map($e=>{if(!$e.productId)return $e;const St=o.find(yt=>yt.id===$e.productId);if(!St)return $e;let xt=_e==="retail"?St.salePrice:_e==="wholesale"?St.wholesalePrice||St.salePrice:St.purchasePrice;return $e.unit&&St.secondaryUnit&&$e.unit===St.secondaryUnit&&St.conversionRatio&&(xt=parseFloat((xt/St.conversionRatio).toFixed(2))),{...$e,rate:xt,amount:(Number($e.quantity)||0)*xt-(Number($e.discountAmount)||0)}});xe(ze),Nt(`Switched to ${_e} pricing mode. All rates updated.`,"info")},dt=()=>{const _e=i.find(ze=>ze.id==="1"||ze.name&&ze.name.toLowerCase().includes("walk-in"));_e&&vt(_e)},vt=_e=>{p(_e.id),D(_e.name),q(!1),setTimeout(()=>Gn(0,"productName"),50)},lt=()=>{ne({name:U,phone:"",address:""}),K(!0),q(!1)},Bn=()=>{if(!$.name)return;const ze={id:Date.now().toString(),name:$.name,phone:$.phone,address:$.address,type:e.includes("PURCHASE")?"supplier":"customer",balance:0};Be.addParty(ze),a(Be.getParties()),vt(ze),K(!1),Nt(`Added new party: ${ze.name}`,"success")},qt=_e=>{if(_e.preventDefault(),!ee.name)return;const $e={id:Date.now().toString(),name:ee.name,salePrice:Number(ee.salePrice)||0,purchasePrice:Number(ee.purchasePrice)||0,stock:Number(ee.stock)||0,unit:ee.unit||"pcs",type:"goods",category:"General"};Be.addProduct($e),l(Be.getProducts()),Y(!1),Nt(`Item "${$e.name}" created.`,"success"),Wt(we,$e)},vn=_e=>{const ze=Number(_e.quantity)||0,$e=Number(_e.rate)||0,St=Number(_e.discountAmount)||0;return ze*$e-St},Kt=()=>{const _e=(Ye||"").toLowerCase();return _e?o.filter(ze=>ze.name&&ze.name.toLowerCase().includes(_e)||ze.id&&ze.id.toLowerCase().includes(_e)).slice(0,10):[]},Dt=()=>{const _e=(U||"").toLowerCase();return!_e&&!F?[]:i.filter(ze=>ze.name&&ze.name.toLowerCase().includes(_e)||ze.phone&&ze.phone.includes(_e))},dr=(_e,ze,$e)=>{const St=[...me],xt={...St[_e]};if(ze==="productName")xt.productName=$e,Pe($e),mt(!0),tt(0),$e===""&&(xt.productId="",xt.unit="",xt.rate="");else if(ze==="unit"){xt.unit=$e;const yt=o.find(tn=>tn.id===xt.productId);if(yt){let tn=Ot?yt.purchasePrice:M==="wholesale"?yt.wholesalePrice||yt.salePrice:M==="cost"?yt.purchasePrice:yt.salePrice;$e===yt.secondaryUnit&&yt.conversionRatio?xt.rate=parseFloat((tn/yt.conversionRatio).toFixed(2)):xt.rate=tn}}else xt[ze]=$e===""?"":Number($e);xt.amount=vn(xt),St[_e]=xt,xe(St)},Wt=(_e,ze)=>{const $e=[...me],St={...$e[_e]};St.productId=ze.id,St.productName=ze.name,St.unit=ze.unit,St.quantity===""&&(St.quantity=""),St.rate=Ot?ze.purchasePrice:M==="wholesale"?ze.wholesalePrice||ze.salePrice:M==="cost"?ze.purchasePrice:ze.salePrice,St.amount=vn(St),$e[_e]=St,xe($e),Pe(""),mt(!1),Gn(_e,"quantity")},as=_e=>{me.length<=1?xe([{id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]):xe(me.filter((ze,$e)=>$e!==_e))},Pn=()=>{const _e=Date.now().toString();xe(ze=>[...ze,{id:_e,productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),setTimeout(()=>Gn(me.length,"productName"),50)},Gn=(_e,ze)=>{const $e=`${_e}-${ze}`,St=it.current.get($e);St&&(St.focus(),St instanceof HTMLInputElement&&St.select()),Ue(_e)},Yi=_e=>{if(F){const ze=Dt(),$e=ze.length;if(_e.key==="ArrowDown"){_e.preventDefault(),R(St=>(St+1)%($e+1));return}if(_e.key==="ArrowUp"){_e.preventDefault(),R(St=>(St-1+($e+1))%($e+1));return}if(_e.key==="Enter"){_e.preventDefault(),G<$e?vt(ze[G]):lt();return}_e.key==="Escape"&&q(!1)}_e.key==="Enter"&&!F&&U&&h&&Gn(0,"productName")},gn=(_e,ze,$e)=>{if($e==="productName"&&ge){const St=Kt(),xt=St.length;if(_e.key==="ArrowDown"){_e.preventDefault(),tt(yt=>(yt+1)%(xt+1));return}if(_e.key==="ArrowUp"){_e.preventDefault(),tt(yt=>(yt-1+(xt+1))%(xt+1));return}if(_e.key==="Enter"){_e.preventDefault(),ot<xt?Wt(ze,St[ot]):(se({name:Ye,salePrice:0,purchasePrice:0,stock:0,unit:"pcs"}),Y(!0),mt(!1));return}if(_e.key==="Escape"){mt(!1);return}}if(_e.key==="Enter")if(_e.preventDefault(),$e==="productName")Gn(ze,"quantity");else if($e==="quantity"){const St=o.find(yt=>yt.id===me[ze].productId);(St==null?void 0:St.secondaryUnit)?Gn(ze,"unit"):Gn(ze,"rate")}else $e==="unit"?Gn(ze,"rate"):$e==="rate"?Gn(ze,"discountAmount"):$e==="discountAmount"&&(ze===me.length-1?me[ze].productName&&Pn():Gn(ze+1,"productName"))},Ut=()=>{V.forEach(_e=>{const ze=Be.getProducts().find($e=>$e.id===_e.productId);ze&&Be.updateProduct({...ze,purchasePrice:_e.newPurchasePrice,salePrice:_e.newSalePrice,wholesalePrice:_e.newWholesalePrice})}),Nt("Product prices updated successfully","success"),nn(!0)},nn=(_e=!1)=>{const ze=me.filter(Qt=>Qt.productName&&Qt.productName.trim()!=="");if(!h){Nt("Please select a party","error");return}if(ze.length===0){Nt("Please add at least one item","error");return}if(e==="PURCHASE"&&!_e){const Qt=[];if(ze.forEach(fr=>{if(!fr.productId)return;const ir=o.find(Ji=>Ji.id===fr.productId);if(ir){let Ji=Number(fr.rate);fr.unit&&ir.secondaryUnit&&fr.unit===ir.secondaryUnit&&ir.conversionRatio&&(Ji*=ir.conversionRatio),Ji>ir.purchasePrice&&Qt.push({productId:ir.id,productName:ir.name,oldPurchasePrice:ir.purchasePrice,newPurchasePrice:Ji,newSalePrice:ir.salePrice,newWholesalePrice:ir.wholesalePrice||ir.salePrice})}}),Qt.length>0){H(Qt),ie(!0);return}}const $e=i.find(Qt=>Qt.id===h),St=ze.reduce((Qt,fr)=>Qt+fr.amount,0);let xt,yt=k;if(k!=="Credit"){const Qt=u.find(fr=>fr.id===k);Qt&&(xt=Qt.id,yt=Qt.type==="Cash"?"Cash":"Bank")}const tn={id:w,date:y,type:e,partyId:h,partyName:($e==null?void 0:$e.name)||"Unknown",items:ze.map(Qt=>({productId:Qt.productId||`custom-${Date.now()}`,productName:Qt.productName,quantity:Number(Qt.quantity),unit:Qt.unit,rate:Number(Qt.rate),discount:Number(Qt.discountAmount),amount:Qt.amount})),subTotal:St,totalAmount:St,notes:A,paymentMode:yt,accountId:xt,cashBreakdown:yt==="Cash"?{received:fe,returned:he}:void 0};t&&t.id===w&&t.type===e?(Be.updateTransaction(t.id,tn),r()):(Be.addTransaction(tn),e==="SALE"?(Nt("Sale saved. Ready for next.","success"),xe([{id:Date.now().toString(),productId:"",productName:"",quantity:"",unit:"",rate:"",discountAmount:"",amount:0}]),p(""),D(""),_(""),P("Credit"),B("retail"),N(De()),pe(nh.map(Qt=>({denomination:Qt,count:0}))),te(nh.map(Qt=>({denomination:Qt,count:0}))),setTimeout(()=>{var Qt;return(Qt=kt.current)==null?void 0:Qt.focus()},100)):r())},ro=u.find(_e=>_e.id===k),Tr=(ro==null?void 0:ro.type)==="Cash",Fr=me.reduce((_e,ze)=>_e+ze.amount,0),Pr=fe.reduce((_e,ze)=>_e+ze.denomination*ze.count,0),It=he.reduce((_e,ze)=>_e+ze.denomination*ze.count,0),Ki=()=>{const _e=Be.getCashDrawer();let ze=Pr-Fr;if(ze<=0){te(nh.map(xt=>({denomination:xt,count:0})));return}const $e=new Map;_e.notes.forEach(xt=>$e.set(xt.denomination,xt.count)),fe.forEach(xt=>{const yt=$e.get(xt.denomination)||0;$e.set(xt.denomination,yt+xt.count)});const St=[];for(const xt of nh){const yt=$e.get(xt)||0;if(yt>0&&ze>=xt){const tn=Math.min(Math.floor(ze/xt),yt);St.push({denomination:xt,count:tn}),ze-=tn*xt}else St.push({denomination:xt,count:0})}te(St)},Mi=Kt(),jr=Dt();return d.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col h-screen",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-white shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:d.jsx(bn,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[t&&t.id===w?"Edit":"New"," ",e.replace("_"," ")]}),d.jsxs("p",{className:"text-xs text-gray-500",children:["Press ",d.jsx("kbd",{className:"bg-gray-100 px-1 rounded text-[10px]",children:"Enter"})," to move, ",d.jsx("kbd",{className:"bg-gray-100 px-1 rounded text-[10px]",children:"Ctrl+S"})," to save"]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[(e==="SALE"||e==="QUOTATION")&&d.jsxs("div",{className:"flex items-center bg-gray-100 rounded-xl p-1 border border-gray-200 mr-4 shadow-inner",children:[d.jsxs("button",{onClick:()=>ht("retail"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all flex items-center gap-1.5 ${M==="retail"?"bg-white text-brand-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[d.jsx(Ah,{className:"w-3 h-3"})," Retail"]}),d.jsxs("button",{onClick:()=>ht("wholesale"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all flex items-center gap-1.5 ${M==="wholesale"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[d.jsx(uU,{className:"w-3 h-3"})," Wholesale"]}),d.jsxs("button",{onClick:()=>ht("cost"),className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all flex items-center gap-1.5 ${M==="cost"?"bg-white text-orange-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[d.jsx(pB,{className:"w-3 h-3"})," Cost"]})]}),d.jsxs("div",{className:"text-right mr-4 hidden md:block",children:[d.jsx("span",{className:"block text-xs text-gray-500 uppercase tracking-wider",children:"Total Amount"}),d.jsx("span",{className:"block text-xl font-bold text-brand-600",children:qe(Fr)})]}),d.jsxs("button",{onClick:()=>nn(),className:"flex items-center gap-2 px-6 py-2.5 bg-brand-600 text-white rounded-lg font-bold hover:bg-brand-700 shadow-md transition-all active:scale-95",children:[d.jsx(dc,{className:"w-5 h-5"}),t||e!=="SALE"?"Save Invoice":"Save & New"]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 md:p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm grid grid-cols-1 md:grid-cols-12 gap-6",children:[d.jsxs("div",{className:"md:col-span-5 relative",children:[d.jsxs("div",{className:"flex justify-between mb-1.5",children:[d.jsx("label",{className:"text-sm font-bold text-gray-700",children:"Party"}),e==="SALE"&&d.jsxs("button",{onClick:dt,className:"text-xs text-brand-600 font-medium hover:underline flex items-center gap-1",children:[d.jsx(KU,{className:"w-3 h-3"})," Quick Cash"]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{ref:kt,autoFocus:!t,type:"text",className:"w-full pl-9 pr-8 p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"Search Party...",value:U,onChange:_e=>{D(_e.target.value),q(!0),p(""),R(0)},onFocus:()=>q(!0),onKeyDown:Yi}),d.jsx(Ur,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"})]}),F&&d.jsx("div",{ref:ut,className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 mt-1 max-h-60 overflow-y-auto",children:jr.length===0?d.jsx("div",{className:"p-1",children:d.jsxs("button",{onClick:lt,className:"w-full text-left p-2.5 bg-brand-50 text-brand-700 hover:bg-brand-100 rounded-md text-sm font-bold flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4"}),'Create "',U,'"']})}):d.jsxs(d.Fragment,{children:[jr.map((_e,ze)=>d.jsxs("div",{"data-index":ze,className:`p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group ${G===ze?"bg-blue-100 text-blue-900":"hover:bg-blue-50"}`,onClick:()=>vt(_e),children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-gray-800 text-sm",children:_e.name}),d.jsx("div",{className:"text-xs text-gray-500",children:_e.phone||"No Phone"})]}),d.jsx("div",{className:`text-xs px-2 py-0.5 rounded ${_e.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:_e.type})]},_e.id)),d.jsx("div",{"data-index":jr.length,className:`p-2 border-t border-gray-100 ${G===jr.length?"bg-blue-100":""}`,children:d.jsxs("button",{onClick:lt,className:"w-full text-left p-2.5 text-blue-700 rounded-md text-sm font-bold flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4"}),'Create "',U,'"']})})]})})]}),d.jsxs("div",{className:"md:col-span-3",children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Invoice Date"}),d.jsx(Wi,{value:y,onChange:g})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Invoice No"}),d.jsx("input",{type:"text",className:"w-full p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm font-mono outline-none",value:w,onChange:_e=>N(_e.target.value)})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1.5",children:"Payment"}),d.jsxs("div",{className:"flex gap-1",children:[d.jsxs("select",{className:"flex-1 p-2.5 bg-gray-50 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:k,onChange:_e=>P(_e.target.value),children:[d.jsx("option",{value:"Credit",children:"Credit (Due)"}),d.jsx("optgroup",{label:"Paid Now",children:u.map(_e=>d.jsx("option",{value:_e.id,children:_e.name},_e.id))})]}),Tr&&d.jsx("button",{onClick:()=>de(!0),className:`p-2.5 rounded-lg border flex items-center justify-center transition-all ${Pr>0?"bg-emerald-50 border-emerald-200 text-emerald-600 shadow-sm":"bg-white border-gray-300 text-gray-400 hover:bg-gray-50"}`,title:"Cash Note Breakdown",children:d.jsx(So,{className:"w-5 h-5"})})]})]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden min-h-[400px] flex flex-col",children:[d.jsxs("div",{className:"grid grid-cols-[40px_minmax(250px,2fr)_100px_80px_100px_100px_120px_40px] gap-2 bg-gray-50 border-b border-gray-200 px-4 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider sticky top-0 z-10",children:[d.jsx("div",{className:"text-center",children:"#"}),d.jsx("div",{children:"Product Name"}),d.jsx("div",{children:"Quantity"}),d.jsx("div",{children:"Unit"}),d.jsx("div",{children:"Rate"}),d.jsx("div",{children:"Discount"}),d.jsx("div",{className:"text-right",children:"Amount"}),d.jsx("div",{})]}),d.jsxs("div",{className:"flex-1 p-2 space-y-1 overflow-y-auto",children:[me.map((_e,ze)=>d.jsxs("div",{className:`grid grid-cols-[40px_minmax(250px,2fr)_100px_80px_100px_100px_120px_40px] gap-2 items-start px-2 py-1.5 rounded-lg border ${we===ze?"bg-blue-50/50 border-blue-200":"bg-white border-transparent"}`,children:[d.jsx("div",{className:"flex items-center justify-center h-9 text-gray-400 font-medium text-sm",children:ze+1}),d.jsxs("div",{className:"relative",children:[d.jsx(Ur,{className:"absolute left-2.5 top-2.5 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:$e=>{$e&&it.current.set(`${ze}-productName`,$e)},type:"text",className:"w-full pl-8 pr-3 py-2 border border-gray-300 rounded-md text-sm outline-none",placeholder:"Search Item...",value:_e.productName,onChange:$e=>dr(ze,"productName",$e.target.value),onKeyDown:$e=>gn($e,ze,"productName"),onFocus:()=>{Ue(ze),mt(!0),Pe(_e.productName)}}),ge&&we===ze&&d.jsxs("div",{ref:ct,className:"absolute top-full left-0 w-[420px] bg-white border border-gray-200 rounded-lg shadow-xl z-50 mt-1 max-h-60 overflow-y-auto",children:[Mi.map(($e,St)=>d.jsxs("div",{"data-index":St,className:`p-2.5 border-b border-gray-50 last:border-0 cursor-pointer flex justify-between items-center group ${ot===St?"bg-blue-100 text-blue-900":"hover:bg-blue-50"}`,onClick:()=>Wt(ze,$e),children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-gray-800 text-sm",children:$e.name}),d.jsx("div",{className:"text-[10px] text-gray-500 flex gap-2 mt-0.5",children:d.jsxs("span",{children:["Stock: ",$e.stock," ",$e.unit]})})]}),d.jsx("div",{className:"text-right font-bold text-brand-600 text-sm",children:qe(Ot?$e.purchasePrice:M==="wholesale"?$e.wholesalePrice||$e.salePrice:M==="cost"?$e.purchasePrice:$e.salePrice)})]},$e.id)),d.jsx("div",{"data-index":Mi.length,className:`p-2 border-t border-gray-100 ${ot===Mi.length?"bg-blue-100":""}`,children:d.jsxs("button",{onClick:()=>{se({name:Ye,salePrice:0,purchasePrice:0,stock:0,unit:"pcs"}),Y(!0),mt(!1)},className:"w-full text-left p-2.5 text-blue-700 rounded-md text-sm font-bold flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4"}),' Create "',Ye,'"']})})]})]}),d.jsx("div",{children:d.jsx("input",{ref:$e=>{$e&&it.current.set(`${ze}-quantity`,$e)},type:"number",min:"0",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-center font-bold",placeholder:"Qty",value:_e.quantity,onChange:$e=>dr(ze,"quantity",$e.target.value),onKeyDown:$e=>gn($e,ze,"quantity"),onFocus:$e=>{Ue(ze),$e.target.select()}})}),d.jsx("div",{children:d.jsx("div",{className:"h-9 flex items-center justify-center text-[10px] text-gray-500 bg-gray-50 border border-gray-200 rounded-md font-bold uppercase",children:_e.unit||"-"})}),d.jsx("div",{children:d.jsx("input",{ref:$e=>{$e&&it.current.set(`${ze}-rate`,$e)},type:"number",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-right",placeholder:"Rate",value:_e.rate,onChange:$e=>dr(ze,"rate",$e.target.value),onKeyDown:$e=>gn($e,ze,"rate"),onFocus:$e=>{Ue(ze),$e.target.select()}})}),d.jsx("div",{children:d.jsx("input",{ref:$e=>{$e&&it.current.set(`${ze}-discountAmount`,$e)},type:"number",className:"w-full p-2 border border-gray-300 rounded-md text-sm text-right",placeholder:"Dis.",value:_e.discountAmount,onChange:$e=>dr(ze,"discountAmount",$e.target.value),onKeyDown:$e=>gn($e,ze,"discountAmount"),onFocus:$e=>{Ue(ze),$e.target.select()}})}),d.jsx("div",{className:"h-9 flex items-center justify-end px-2 font-bold text-gray-800 text-sm",children:qe(_e.amount)}),d.jsx("div",{className:"flex items-center justify-center h-9",children:me.length>1&&d.jsx("button",{onClick:()=>as(ze),className:"p-1.5 text-gray-400 hover:text-red-500 rounded-lg",children:d.jsx(rs,{className:"w-4 h-4"})})})]},_e.id)),d.jsx("div",{className:"px-2 pt-2",children:d.jsxs("button",{onClick:Pn,className:"flex items-center gap-1 text-sm text-brand-600 font-medium hover:bg-brand-50 px-3 py-2 rounded-lg",children:[d.jsx(ca,{className:"w-4 h-4"})," Add Line Item"]})})]}),d.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Internal Notes"}),d.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-lg text-sm outline-none",rows:2,placeholder:"Add details...",value:A,onChange:_e=>_(_e.target.value)})]}),d.jsxs("div",{className:"flex flex-col gap-2 justify-center md:items-end",children:[d.jsxs("div",{className:"flex justify-between w-full md:w-64 text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Sub Total:"}),d.jsx("span",{className:"font-bold text-gray-900",children:qe(Fr)})]}),d.jsxs("div",{className:"flex justify-between w-full md:w-64 text-lg border-t border-gray-200 pt-2 mt-1",children:[d.jsx("span",{className:"font-bold text-gray-800",children:"Grand Total:"}),d.jsx("span",{className:"font-bold text-brand-600",children:qe(Fr)})]})]})]})]})]})}),re&&d.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-4xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"bg-brand-600 p-8 text-white flex justify-between items-center relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsxs("h3",{className:"text-2xl font-black flex items-center gap-3 uppercase tracking-tight",children:[d.jsx(So,{className:"w-8 h-8"})," Cash Note Breakdown"]}),d.jsx("p",{className:"text-brand-100 text-xs font-bold mt-1 uppercase tracking-widest",children:"Verify physical notes in and out of the drawer"})]}),d.jsx("button",{onClick:()=>de(!1),className:"relative z-10 p-2 hover:bg-white/20 rounded-full transition-colors",children:d.jsx(bn,{className:"w-8 h-8"})}),d.jsx(So,{className:"absolute top-0 right-0 w-32 h-32 opacity-10 -mr-8 -mt-8 rotate-12"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-8 grid grid-cols-1 md:grid-cols-2 gap-12 bg-gray-50/50",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between border-b-2 border-emerald-100 pb-3",children:[d.jsxs("h4",{className:"font-black text-emerald-900 text-xs uppercase tracking-[0.2em] flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Notes Received (In)"]}),d.jsx("span",{className:"font-black text-emerald-600 text-xl",children:qe(Pr)})]}),d.jsx("div",{className:"space-y-2",children:fe.map((_e,ze)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl border transition-all ${_e.count>0?"bg-white border-emerald-200 shadow-sm":"bg-transparent border-gray-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-12 h-8 rounded-lg flex items-center justify-center font-black text-xs ${_e.denomination>=500?"bg-red-50 text-red-700":"bg-emerald-50 text-emerald-700"}`,children:_e.denomination}),d.jsx(bn,{className:"w-3 h-3 text-gray-300"})]}),d.jsx("input",{type:"number",min:"0",className:"w-20 p-2 bg-gray-50 border border-gray-200 rounded-xl text-center font-black outline-none focus:ring-2 focus:ring-brand-500",value:_e.count||"",onChange:$e=>{const St=parseInt($e.target.value)||0;pe(xt=>xt.map((yt,tn)=>tn===ze?{...yt,count:St}:yt))}}),d.jsx("span",{className:"w-28 text-right font-bold text-gray-500",children:qe(_e.denomination*_e.count)})]},_e.denomination))})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between border-b-2 border-red-100 pb-3",children:[d.jsxs("h4",{className:"font-black text-red-900 text-xs uppercase tracking-[0.2em] flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Notes Returned (Out)"]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("button",{type:"button",onClick:Ki,className:"text-[10px] bg-white text-brand-600 px-3 py-1.5 rounded-full font-black border border-brand-100 shadow-sm flex items-center gap-1.5 hover:bg-brand-50 transition-all uppercase tracking-tighter",children:[d.jsx(Sh,{className:"w-3 h-3"})," Suggest Change"]}),d.jsx("span",{className:"font-black text-red-600 text-xl",children:qe(It)})]})]}),d.jsx("div",{className:"space-y-2",children:he.map((_e,ze)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-2xl border transition-all ${_e.count>0?"bg-white border-red-200 shadow-sm":"bg-transparent border-gray-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-12 h-8 rounded-lg flex items-center justify-center font-black text-xs ${_e.denomination>=500?"bg-red-50 text-red-700":"bg-emerald-50 text-emerald-700"}`,children:_e.denomination}),d.jsx(bn,{className:"w-3 h-3 text-gray-300"})]}),d.jsx("input",{type:"number",min:"0",className:"w-20 p-2 bg-gray-50 border border-gray-200 rounded-xl text-center font-black outline-none focus:ring-2 focus:ring-brand-500",value:_e.count||"",onChange:$e=>{const St=parseInt($e.target.value)||0;te(xt=>xt.map((yt,tn)=>tn===ze?{...yt,count:St}:yt))}}),d.jsx("span",{className:"w-28 text-right font-bold text-gray-500",children:qe(_e.denomination*_e.count)})]},_e.denomination))})]})]}),d.jsxs("div",{className:"p-8 border-t bg-white flex flex-col sm:flex-row justify-between items-center gap-6",children:[d.jsxs("div",{className:"flex gap-10",children:[d.jsxs("div",{className:"text-center sm:text-left",children:[d.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest mb-1",children:"Bill Amount"}),d.jsx("div",{className:"text-2xl font-black text-gray-900",children:qe(Fr)})]}),d.jsxs("div",{className:"text-center sm:text-left border-l border-gray-100 pl-10",children:[d.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest mb-1",children:"Physical Value"}),d.jsx("div",{className:`text-2xl font-black ${Math.abs(Pr-It-Fr)<.1?"text-emerald-600":"text-orange-500"}`,children:qe(Pr-It)})]})]}),d.jsxs("button",{type:"button",onClick:()=>de(!1),className:"w-full sm:w-auto px-12 py-4 bg-brand-600 text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-xl shadow-brand-500/30 hover:bg-brand-700 transition-all active:scale-95 flex items-center justify-center gap-2",children:[d.jsx($9,{className:"w-4 h-4"})," Finalize Breakdown"]})]})]})}),O&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50",children:[d.jsx("h3",{className:"font-bold text-gray-800",children:"Quick Add Party"}),d.jsx("button",{onClick:()=>K(!1),children:d.jsx(bn,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Name"}),d.jsx("input",{className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:$.name,onChange:_e=>ne({...$,name:_e.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Phone"}),d.jsx("input",{className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:$.phone,onChange:_e=>ne({...$,phone:_e.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Address"}),d.jsx("input",{className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:$.address,onChange:_e=>ne({...$,address:_e.target.value})})]}),d.jsx("button",{onClick:Bn,className:"w-full py-3 bg-brand-600 text-white rounded-xl font-bold uppercase text-xs tracking-widest mt-2",children:"Save Party"})]})]})}),z&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-gray-50",children:[d.jsx("h3",{className:"font-bold text-gray-800",children:"Quick Add Product"}),d.jsx("button",{onClick:()=>Y(!1),children:d.jsx(bn,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("form",{onSubmit:qt,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Item Name"}),d.jsx("input",{required:!0,autoFocus:!0,className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:ee.name,onChange:_e=>se({...ee,name:_e.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Unit"}),d.jsx("input",{className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:ee.unit,onChange:_e=>se({...ee,unit:_e.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Stock"}),d.jsx("input",{type:"number",className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:ee.stock,onChange:_e=>se({...ee,stock:Number(_e.target.value)})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Buy Price"}),d.jsx("input",{type:"number",className:"w-full p-2.5 bg-gray-50 border rounded-xl outline-none",value:ee.purchasePrice,onChange:_e=>se({...ee,purchasePrice:Number(_e.target.value)})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Sale Price"}),d.jsx("input",{type:"number",className:"w-full p-2.5 bg-brand-50 border-brand-200 border rounded-xl outline-none font-bold text-brand-700",value:ee.salePrice,onChange:_e=>se({...ee,salePrice:Number(_e.target.value)})})]})]}),d.jsx("button",{type:"submit",className:"w-full py-3 bg-brand-600 text-white rounded-xl font-bold uppercase text-xs tracking-widest mt-2",children:"Create & Select Item"})]})]})}),X&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-xl shadow-2xl overflow-hidden",children:[d.jsx("div",{className:"p-6 bg-orange-50 border-b border-orange-100 flex justify-between items-center",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Dm,{className:"w-6 h-6 text-orange-600"}),d.jsx("h3",{className:"font-bold text-orange-900",children:"Purchase Price Alert"})]})}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"The following items have a higher purchase rate than your master records. Should we update the master prices?"}),d.jsx("div",{className:"space-y-3 max-h-60 overflow-auto",children:V.map(_e=>d.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border flex flex-col gap-2",children:[d.jsx("div",{className:"font-bold text-gray-800 text-sm",children:_e.productName}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"text-xs",children:[d.jsx("span",{className:"text-gray-400 block uppercase",children:"Old Master Cost"}),d.jsx("span",{className:"font-bold line-through text-gray-500",children:qe(_e.oldPurchasePrice)})]}),d.jsxs("div",{className:"text-xs",children:[d.jsx("span",{className:"text-orange-600 block uppercase font-bold",children:"New Purchase Cost"}),d.jsx("span",{className:"font-black text-orange-700",children:qe(_e.newPurchasePrice)})]})]})]},_e.productId))}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{onClick:()=>nn(!0),className:"flex-1 py-3 text-gray-500 font-bold text-xs uppercase hover:bg-gray-100 rounded-xl",children:"Skip Update"}),d.jsx("button",{onClick:Ut,className:"flex-1 py-3 bg-brand-600 text-white font-bold text-xs uppercase rounded-xl shadow-lg shadow-brand-500/20",children:"Update Master Prices & Save"})]})]})]})})]})},u2=[1e3,500,100,50,20,10,5,2,1],Zae=({type:e,initialData:t,onClose:n,onSave:r})=>{const[i,a]=j.useState([]),[o,l]=j.useState([]),[u,f]=j.useState(""),[h,p]=j.useState(""),[y,g]=j.useState(!1),[w,N]=j.useState(0),A=j.useRef(null),[_,k]=j.useState(new Date().toISOString()),[P,M]=j.useState(Date.now().toString().slice(-6)),[B,U]=j.useState(""),[D,F]=j.useState("1"),[q,G]=j.useState(""),[R,O]=j.useState(!1),[K,$]=j.useState(u2.map(te=>({denomination:te,count:0}))),[ne,z]=j.useState(u2.map(te=>({denomination:te,count:0}))),Y=e==="PAYMENT_IN",{addToast:ee}=kr();j.useEffect(()=>{const te=Be.getParties();if(a(te),l(Be.getAccounts()),t){f(t.partyId);const me=te.find(xe=>xe.id===t.partyId);p(me?me.name:t.partyName),k(t.date),M(t.id),U(t.totalAmount),G(t.notes||""),t.accountId&&F(t.accountId),t.cashBreakdown&&($(t.cashBreakdown.received),z(t.cashBreakdown.returned))}},[t]),j.useEffect(()=>{if(y&&A.current){const te=A.current.querySelector(`[data-index="${w}"]`);te&&te.scrollIntoView({block:"nearest",behavior:"smooth"})}},[w,y]),j.useEffect(()=>{const te=me=>{(me.ctrlKey||me.metaKey)&&me.key==="s"&&(me.preventDefault(),se()),me.key==="Escape"&&(R||n())};return window.addEventListener("keydown",te),()=>window.removeEventListener("keydown",te)},[B,u,P,_,q,D,R]);const se=()=>{if(!u||!B){ee("Please fill required fields (Party and Amount)","error");return}const te=i.find(Ue=>Ue.id===u),me=o.find(Ue=>Ue.id===D),xe=(me==null?void 0:me.type)==="Cash",we={id:P,date:_,type:e,partyId:u,partyName:(te==null?void 0:te.name)||"Unknown",items:[],totalAmount:Number(B),notes:q,accountId:D,paymentMode:xe?"Cash":"Bank",cashBreakdown:xe?{received:K,returned:ne}:void 0};t?Be.updateTransaction(t.id,we):Be.addTransaction(we),r()},X=te=>{te.preventDefault(),se()},ie=i.filter(te=>te.name.toLowerCase().includes(h.toLowerCase())),V=te=>{if(y){const me=ie.length;if(te.key==="ArrowDown")te.preventDefault(),N(xe=>(xe+1)%me);else if(te.key==="ArrowUp")te.preventDefault(),N(xe=>(xe-1+me)%me);else if(te.key==="Enter"){if(te.preventDefault(),ie[w]){const xe=ie[w];f(xe.id),p(xe.name),g(!1)}}else te.key==="Escape"&&g(!1)}},H=o.find(te=>te.id===D),re=(H==null?void 0:H.type)==="Cash",de=K.reduce((te,me)=>te+me.denomination*me.count,0),fe=ne.reduce((te,me)=>te+me.denomination*me.count,0),pe=de-fe,he=()=>{const te=Be.getCashDrawer();let me=de-Number(B||0);if(me<=0)return;const xe=[],we=new Map(te.notes.map(Ue=>[Ue.denomination,Ue.count]));K.forEach(Ue=>we.set(Ue.denomination,(we.get(Ue.denomination)||0)+Ue.count));for(const Ue of u2){const Ye=we.get(Ue)||0;if(Ye>0&&me>=Ue){const Pe=Math.min(Math.floor(me/Ue),Ye);xe.push({denomination:Ue,count:Pe}),me-=Pe*Ue}else xe.push({denomination:Ue,count:0})}z(xe),ee("Change auto-suggested from drawer availability.","info")};return d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:`px-6 py-4 border-b flex items-center justify-between ${Y?"bg-emerald-50 border-emerald-100":"bg-red-50 border-red-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${Y?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:Y?d.jsx(b9,{className:"w-5 h-5"}):d.jsx(A9,{className:"w-5 h-5"})}),d.jsx("h2",{className:`text-lg font-bold ${Y?"text-emerald-900":"text-red-900"}`,children:Y?"Receive Payment":"Pay Out"})]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-white/50 rounded-full transition-colors",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:X,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Voucher No"}),d.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-2 focus:ring-brand-500 outline-none",value:P,onChange:te=>M(te.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Date"}),d.jsx(Wi,{value:_,onChange:k})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Party"}),d.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Search Party...",value:h,onChange:te=>{p(te.target.value),g(!0),N(0)},onFocus:()=>g(!0),onKeyDown:V}),y&&d.jsxs("div",{ref:A,className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-lg shadow-xl z-20 max-h-48 overflow-auto mt-1",children:[ie.map((te,me)=>d.jsx("div",{"data-index":me,className:`p-2.5 border-b border-gray-50 last:border-0 cursor-pointer text-sm font-medium ${w===me?"bg-brand-50 text-brand-700":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>{f(te.id),p(te.name),g(!1)},children:te.name},te.id)),ie.length===0&&d.jsx("div",{className:"p-3 text-xs text-gray-400 italic",children:"No parties found"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Amount"}),d.jsx("input",{type:"number",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-xl font-bold focus:ring-2 focus:ring-brand-500 outline-none",placeholder:"0.00",value:B,onChange:te=>U(te.target.value?Number(te.target.value):"")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Account / Mode"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("select",{className:"flex-1 p-2 border border-gray-300 rounded-lg text-sm bg-white",value:D,onChange:te=>F(te.target.value),children:o.map(te=>d.jsx("option",{value:te.id,children:te.name},te.id))}),re&&d.jsx("button",{type:"button",onClick:()=>O(!0),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${de>0?"bg-emerald-50 border-emerald-200 text-emerald-600 shadow-sm":"bg-white border-gray-300 text-gray-400"}`,title:"Notes Breakdown",children:d.jsx(So,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Remarks"}),d.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm outline-none",rows:2,value:q,onChange:te=>G(te.target.value)})]})]}),d.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 text-gray-600 hover:bg-gray-200 rounded-lg",children:"Cancel"}),d.jsx("button",{type:"submit",onClick:X,className:`px-6 py-2 text-white font-bold rounded-lg shadow-sm ${Y?"bg-emerald-500 hover:bg-emerald-600":"bg-red-500 hover:bg-red-600"}`,children:"Save Transaction"})]}),R&&d.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"bg-brand-600 p-6 text-white flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(So,{className:"w-6 h-6"})," Cash Note Entry"]}),d.jsx("button",{onClick:()=>O(!1),className:"text-white hover:opacity-70",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between",children:[d.jsx("span",{children:"NOTES RECEIVED"})," ",d.jsx("span",{className:"text-emerald-600",children:qe(de)})]}),K.map((te,me)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border",children:[d.jsx("span",{className:"w-12 font-bold text-gray-600",children:te.denomination}),d.jsx("input",{type:"number",min:"0",className:"w-20 p-1 border rounded text-center",value:te.count||"",onChange:xe=>{const we=parseInt(xe.target.value)||0;$(Ue=>Ue.map((Ye,Pe)=>Pe===me?{...Ye,count:we}:Ye))}}),d.jsx("span",{className:"w-24 text-right text-gray-500",children:qe(te.denomination*te.count)})]},te.denomination))]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h4",{className:"font-bold text-gray-800 border-b pb-2 flex justify-between",children:[d.jsx("span",{children:"NOTES RETURNED"})," ",d.jsx("span",{className:"text-red-600",children:qe(fe)})]}),Y&&d.jsxs("button",{type:"button",onClick:he,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold border border-emerald-100 flex items-center gap-1 mb-2",children:[d.jsx(Sh,{className:"w-3 h-3"})," Auto-Suggest Change"]}),ne.map((te,me)=>d.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg border",children:[d.jsx("span",{className:"w-12 font-bold text-gray-600",children:te.denomination}),d.jsx("input",{type:"number",min:"0",className:"w-20 p-1 border rounded text-center",value:te.count||"",onChange:xe=>{const we=parseInt(xe.target.value)||0;z(Ue=>Ue.map((Ye,Pe)=>Pe===me?{...Ye,count:we}:Ye))}}),d.jsx("span",{className:"w-24 text-right text-gray-500",children:qe(te.denomination*te.count)})]},te.denomination))]})]}),d.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[d.jsxs("div",{className:"text-sm font-bold text-gray-600",children:["Net Physical Value: ",d.jsx("span",{className:Math.abs(pe)===Number(B)?"text-emerald-600":"text-orange-500",children:qe(pe)})]}),d.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-8 py-2 bg-brand-600 text-white rounded-lg font-bold",children:"Done"})]})]})})]})},eoe=({onBack:e})=>{const[t,n]=j.useState("items"),[r,i]=j.useState(!1),[a,o]=j.useState(null),[l,u]=j.useState([]),[f,h]=j.useState(""),[p,y]=j.useState(""),[g,w]=j.useState(!1),[N,A]=j.useState(null),_=j.useRef(null),k=()=>{o(null),y(""),h(""),A(null),u([]),_.current&&(_.current.value="")},P=q=>{n(q),k()},M=q=>{q.preventDefault(),q.stopPropagation(),q.type==="dragenter"||q.type==="dragover"?i(!0):q.type==="dragleave"&&i(!1)},B=q=>{q.preventDefault(),q.stopPropagation(),i(!1),q.dataTransfer.files&&q.dataTransfer.files[0]&&D(q.dataTransfer.files[0])},U=q=>{q.preventDefault(),q.target.files&&q.target.files[0]&&D(q.target.files[0]),q.target.value=""},D=q=>{if(!q)return;o(q),h(""),y(""),u([]),A(null);const G=(q.name||"").toLowerCase();if(t==="backup"){if(!(q.type==="application/json"||G.endsWith(".json"))){h("Please upload a valid JSON backup file.");return}const K=new FileReader;K.onload=$=>{var ne,z;try{const Y=JSON.parse((ne=$.target)==null?void 0:ne.result);u([Y]),A({company:((z=Y.profile)==null?void 0:z.name)||"Unknown",transactions:Array.isArray(Y.transactions)?Y.transactions.length:0,products:Array.isArray(Y.products)?Y.products.length:0,parties:Array.isArray(Y.parties)?Y.parties.length:0,serviceJobs:Array.isArray(Y.serviceJobs)?Y.serviceJobs.length:0,warrantyCases:Array.isArray(Y.warrantyCases)?Y.warrantyCases.length:0,date:Y.timestamp||new Date().toISOString()})}catch{h("Failed to parse JSON file.")}},K.readAsText(q);return}const R=new FileReader;R.onload=O=>{var K;try{const $=(K=O.target)==null?void 0:K.result,ne=XLSX.read($,{type:"binary"}),z=ne.Sheets[ne.SheetNames[0]];u(XLSX.utils.sheet_to_json(z))}catch{h("Failed to parse Excel file.")}},R.readAsBinaryString(q)},F=async()=>{if(l.length!==0){w(!0);try{if(t==="backup"){const q=await Be.restoreData(l[0]);q.success?(y("Restored. Reloading..."),setTimeout(()=>window.location.reload(),2e3)):h(q.message)}else if(t==="items"){const q=l.map((G,R)=>({id:Date.now().toString()+R,name:G["Item Name"]||"Unnamed Item",category:G.Category||"General",stock:Number(G["Opening Stock"]||0),purchasePrice:Number(G["Purchase Price"])||0,salePrice:Number(G["Sales Price"])||0,unit:G.Unit||"pcs"}));await Be.bulkAddProducts(q),y(`Imported ${q.length} items.`)}else{const q=l.map((G,R)=>({id:Date.now().toString()+R,name:G["Party Name"]||"Unnamed Party",phone:G["Phone Number"]||"",type:(G["Customer/Supplier"]||"Customer").toLowerCase().includes("supplier")?"supplier":"customer",balance:0}));await Be.bulkAddParties(q),y(`Imported ${q.length} parties.`)}}catch{h("Import failed.")}finally{w(!1)}}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Point-in-Time Restore"}),d.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[d.jsx("button",{onClick:()=>P("items"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="items"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Import Items"}),d.jsx("button",{onClick:()=>P("parties"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="parties"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Import Parties"}),d.jsx("button",{onClick:()=>P("backup"),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${t==="backup"?"bg-white shadow-sm text-brand-600":"text-gray-600"}`,children:"Restore DB"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200",children:[d.jsx("h3",{className:"font-bold text-lg mb-6 text-gray-800",children:"Backup Analysis"}),t==="backup"?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-100 text-orange-800 text-sm",children:[d.jsx("strong",{children:"Warning:"})," Restoring a backup overwrites everything in the current workspace."]}),N&&d.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[d.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Transactions"}),d.jsx("p",{className:"text-xl font-black text-gray-800",children:N.transactions})]}),d.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Service Jobs"}),d.jsxs("p",{className:"text-xl font-black text-blue-600 flex items-center gap-1",children:[d.jsx(Uu,{className:"w-4 h-4"})," ",N.serviceJobs]})]}),d.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Warranty Cases"}),d.jsxs("p",{className:"text-xl font-black text-purple-600 flex items-center gap-1",children:[d.jsx(Iu,{className:"w-4 h-4"})," ",N.warrantyCases]})]}),d.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total Products"}),d.jsx("p",{className:"text-xl font-black text-emerald-600",children:N.products})]})]})]}):d.jsx("p",{className:"text-sm text-gray-500",children:"Upload Excel template files to quickly populate your database."})]}),d.jsxs("div",{className:`border-2 border-dashed rounded-xl h-64 flex flex-col items-center justify-center transition-all cursor-pointer bg-gray-50
              ${r?"border-brand-500 bg-brand-50":"border-gray-300 hover:border-brand-400"}
           `,onDragEnter:M,onDragLeave:M,onDragOver:M,onDrop:B,onClick:()=>{var q;return(q=_.current)==null?void 0:q.click()},children:[d.jsx("input",{ref:_,type:"file",className:"hidden",accept:t==="backup"?".json":".xlsx, .xls",onChange:U}),a?d.jsxs("div",{className:"text-center p-6",children:[d.jsx(Lm,{className:"w-12 h-12 text-emerald-500 mx-auto mb-2"}),d.jsx("p",{className:"font-bold text-gray-800 truncate max-w-[200px] mx-auto",children:a.name}),N&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Workspace: ",d.jsx("b",{children:N.company})]}),d.jsx("button",{onClick:F,disabled:g,className:"mt-4 px-8 py-2.5 bg-brand-500 text-white rounded-xl font-bold shadow-lg shadow-brand-500/20 active:scale-95 transition-all",children:g?"Restoring System...":"Confirm System Restore"})]}):d.jsxs("div",{className:"text-center",children:[d.jsx(j2,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),d.jsx("p",{className:"font-bold text-gray-800",children:"Click to upload backup file"}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"JSON or Excel Format"})]})]})]}),f&&d.jsxs("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded-lg flex items-center gap-2",children:[d.jsx(Dm,{className:"w-4 h-4"})," ",f]}),p&&d.jsxs("div",{className:"p-3 bg-green-50 text-green-700 text-sm rounded-lg flex items-center gap-2",children:[d.jsx(Rm,{className:"w-4 h-4"})," ",p]})]})},toe=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(""),[i,a]=j.useState([]),[o,l]=j.useState(!1),[u,f]=j.useState(""),[h,p]=j.useState(null);j.useEffect(()=>{y()},[]),j.useEffect(()=>{n&&g(n)},[n]);const y=async()=>{const _=await Be.listTables();t(_),_.length>0&&!n&&r(_[0])},g=async _=>{l(!0);try{const k=await Be.getTableData(_);a(k)}catch(k){console.error(k)}finally{l(!1)}},w=i.filter(_=>JSON.stringify(_).toLowerCase().includes(u.toLowerCase())),A=(()=>{if(i.length===0)return[];const _=new Set;return i.slice(0,10).forEach(k=>{typeof k=="object"&&k!==null&&Object.keys(k).forEach(P=>_.add(P))}),Array.from(_)})();return d.jsxs("div",{className:"flex flex-col h-[600px] bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Lm,{className:"w-5 h-5 text-gray-500"}),d.jsx("h2",{className:"font-bold text-gray-700",children:"DB Browser"}),d.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:"IndexedDB"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("select",{value:n,onChange:_=>r(_.target.value),className:"appearance-none bg-white border border-gray-300 text-gray-700 py-1.5 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 shadow-sm font-medium",children:e.map(_=>d.jsx("option",{value:_,children:_},_))}),d.jsx(Sl,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),d.jsx("button",{onClick:()=>g(n),className:"p-2 bg-white border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",title:"Refresh Data",children:d.jsx(Xo,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]})]}),d.jsxs("div",{className:"p-2 border-b border-gray-200 flex gap-2",children:[d.jsxs("div",{className:"flex items-center bg-gray-50 border border-gray-200 rounded-md px-2 py-1.5 w-full max-w-md",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400 mr-2"}),d.jsx("input",{type:"text",placeholder:"Filter data...",className:"bg-transparent border-none outline-none text-sm w-full",value:u,onChange:_=>f(_.target.value)})]}),d.jsxs("div",{className:"ml-auto text-xs text-gray-500 flex items-center px-2",children:[w.length," Records"]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx("div",{className:`flex-1 overflow-auto ${h?"w-2/3 border-r border-gray-200":"w-full"}`,children:d.jsxs("table",{className:"w-full text-xs text-left border-collapse",children:[d.jsx("thead",{className:"bg-gray-100 text-gray-600 font-semibold sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-2 border-b border-r border-gray-200 w-10 text-center",children:"#"}),A.map(_=>d.jsx("th",{className:"p-2 border-b border-r border-gray-200 min-w-[100px] whitespace-nowrap overflow-hidden text-ellipsis",children:_},_))]})}),d.jsxs("tbody",{children:[w.map((_,k)=>d.jsxs("tr",{onClick:()=>p(_),className:`cursor-pointer hover:bg-blue-50 transition-colors ${h===_?"bg-blue-100":"even:bg-gray-50"}`,children:[d.jsx("td",{className:"p-2 border-b border-r border-gray-200 text-center text-gray-400",children:k+1}),A.map(P=>{const M=_[P];let B=M;return typeof M=="object"&&M!==null?B=Array.isArray(M)?`[Array(${M.length})]`:"{Object}":typeof M=="boolean"&&(B=M?"true":"false"),d.jsx("td",{className:"p-2 border-b border-r border-gray-200 max-w-[200px] whitespace-nowrap overflow-hidden text-ellipsis font-mono text-gray-700",children:String(B)},P)})]},k)),w.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:A.length+1,className:"p-8 text-center text-gray-400",children:o?"Loading...":"No records found"})})]})]})}),h&&d.jsxs("div",{className:"w-1/3 flex flex-col bg-gray-50 overflow-hidden shadow-xl z-20",children:[d.jsxs("div",{className:"p-3 border-b border-gray-200 bg-white flex justify-between items-center shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 font-bold text-sm text-gray-700",children:[d.jsx(P9,{className:"w-4 h-4 text-brand-500"}),"JSON Viewer"]}),d.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-red-500",children:d.jsx(bn,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"flex-1 overflow-auto p-4 font-mono text-xs text-gray-800 bg-gray-50",children:d.jsx("pre",{className:"whitespace-pre-wrap break-all",children:JSON.stringify(h,null,2)})})]})]})]})},W3=(e,t=2)=>{if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(r))+" "+i[a]},noe=[{name:"General",modules:[{id:"dashboard",label:"Dashboard",icon:Fg},{id:"shortcut-keys",label:"Keyboard Shortcuts",icon:Ug}]},{name:"Operations",modules:[{id:"parties",label:"Parties",icon:_h},{id:"inventory",label:"Inventory",icon:Nh},{id:"pricelist",label:"Price List",icon:Vy},{id:"service-center",label:"Service Center",icon:Uu},{id:"warranty-return",label:"Warranty Return",icon:Iu}]},{name:"Sales Group",modules:[{id:"sales-invoices",label:"Sales Invoices",icon:Ah},{id:"sales-payment-in",label:"Payment In",icon:So},{id:"sales-quotations",label:"Quotations",icon:Og},{id:"sales-return",label:"Sales Return",icon:Iu}]},{name:"Purchase Group",modules:[{id:"purchase-bills",label:"Purchase Bills",icon:Bm},{id:"purchase-payment-out",label:"Payment Out",icon:So},{id:"purchase-auto-order",label:"Auto Order",icon:Xo},{id:"purchase-orders",label:"Purchase Orders",icon:Og},{id:"purchase-return",label:"Purchase Return",icon:Iu}]},{name:"Accounts & Reports",modules:[{id:"cash-drawer",label:"Cash Drawer",icon:So},{id:"expense",label:"Expenses",icon:Om},{id:"manage-accounts",label:"Manage Accounts",icon:M9},{id:"reports",label:"Reports",icon:wj},{id:"receivable-aging",label:"Receivable Aging",icon:Bg}]},{name:"System Utilities",modules:[{id:"system-backup",label:"Database Backup",icon:gB},{id:"system-restore",label:"Database Restore",icon:sB}]}],Y3={SALESMAN:["dashboard:view","parties:view","parties:edit","inventory:view","service-center:view","service-center:edit","warranty-return:view","warranty-return:edit","pricelist:view","sales-invoices:view","sales-invoices:edit","sales-payment-in:view","sales-payment-in:edit","sales-quotations:view","sales-quotations:edit","sales-return:view","sales-return:edit","shortcut-keys:view","system-backup:view","system-backup:edit"],ACCOUNTANT:["dashboard:view","reports:view","cash-drawer:view","cash-drawer:edit","expense:view","expense:edit","manage-accounts:view","manage-accounts:edit","parties:view","sales-payment-in:view","sales-payment-in:edit","purchase-payment-out:view","purchase-payment-out:edit","receivable-aging:view","system-backup:view","system-backup:edit"],DATA_ENTRY:["inventory:view","inventory:edit","parties:view","parties:edit","pricelist:view","purchase-bills:view","purchase-bills:edit","purchase-payment-out:view","purchase-payment-out:edit","purchase-auto-order:view","purchase-auto-order:edit","purchase-orders:view","purchase-orders:edit","purchase-return:view","purchase-return:edit","system-backup:view","system-backup:edit"],ADMIN:[],SUPER_ADMIN:[]},roe=()=>{var pe;const[e,t]=j.useState("profile"),[n,r]=j.useState({name:"",address:"",pan:"",phone:"",email:"",logoUrl:""}),[i,a]=j.useState({enabled:!1,autoBackup:!1,backupSchedules:["18:00"],googleClientId:""}),[o,l]=j.useState({username:"",password:"",confirmPassword:""}),[u,f]=j.useState(null),[h,p]=j.useState([]),[y,g]=j.useState(null),[w,N]=j.useState("18:00"),[A,_]=j.useState([]),[k,P]=j.useState(!1),[M,B]=j.useState({name:"",email:"",password:"",role:"SALESMAN",permissions:[]}),[U,D]=j.useState(!1),[F,q]=j.useState("2081/82"),[G,R]=j.useState(!1),O=j.useRef(null),{addToast:K}=kr(),$=sn.getUserRole()==="ADMIN"||sn.isSuperAdmin();j.useEffect(()=>{ne(),z()},[]);const ne=async()=>{r(Be.getBusinessProfile()),a(Be.getCloudConfig()),_(Be.getUsers());const he=sn.getStoredCredentials();if(l({username:he.username,password:he.password,confirmPassword:he.password}),navigator.storage&&navigator.storage.estimate){const xe=await navigator.storage.estimate();xe.usage!==void 0&&xe.quota!==void 0&&f({usage:xe.usage,quota:xe.quota,percent:xe.usage/xe.quota*100})}const te=await Be.listTables(),me=await Promise.all(te.map(async xe=>({table:xe,count:(await Be.getTableData(xe)).length})));p(me)},z=async()=>{const he=await Tm();he&&g(he.name)},Y=he=>{if(he.preventDefault(),!M.name||!M.email||!M.password){K("All fields are required","error");return}M.id?(Be.updateUser(M),K("Staff member updated","success")):(Be.addUser({...M,id:Date.now().toString(),createdAt:new Date().toISOString()}),K("New staff member added","success")),P(!1),_(Be.getUsers())},ee=he=>{window.confirm("Delete this user access?")&&(Be.deleteUser(he),_(Be.getUsers()),K("Access revoked","success"))},se=he=>{B({...M,role:he,permissions:Y3[he]||[]})},X=(he,te)=>{const me=`${he}:${te}`,xe=M.permissions||[],we=xe.includes(me)?xe.filter(Ue=>Ue!==me):[...xe,me];B({...M,permissions:we})},ie=async()=>{try{const he=await window.showDirectoryPicker();he&&(await zie(he),g(he.name),K(`Backup folder set to: ${he.name}`,"success"))}catch{K("Folder selection cancelled or failed.","error")}},V=he=>{var xe;const te=(xe=he.target.files)==null?void 0:xe[0];if(!te)return;if(te.size>500*1024){K("Logo size should be less than 500KB","error");return}const me=new FileReader;me.onload=we=>{var Ue;return r({...n,logoUrl:(Ue=we.target)==null?void 0:Ue.result})},me.readAsDataURL(te)},H=he=>{he.preventDefault(),Be.updateBusinessProfile(n),K("Company profile and logo updated!","success")},re=()=>{Be.updateCloudConfig(i),K("Backup configurations updated successfully","success")},de=he=>{if(he.preventDefault(),o.password!==o.confirmPassword){K("Passwords do not match","error");return}if(o.password.length<6){K("Password should be at least 6 characters long","error");return}sn.updateCredentials(o.username,o.password),K("Security credentials updated successfully!","success")},fe=()=>{i.backupSchedules.includes(w)||a({...i,backupSchedules:[...i.backupSchedules,w].sort()})};return d.jsxs("div",{className:"p-4 lg:p-8 max-w-5xl mx-auto h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings & Utilities"}),d.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"Build v2.9.1-STABLE"})]}),d.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide shrink-0",children:[{id:"profile",label:"Profile",icon:dm},{id:"users",label:"Staff Management",icon:_h,adminOnly:!0},{id:"fiscal_year",label:"Financial Year",icon:O9,adminOnly:!0},{id:"database",label:"System Storage",icon:Lm,adminOnly:!0},{id:"security",label:"Security",icon:C4},{id:"local_backup",label:"Local Backups",icon:Og,customAccess:"system-backup:view"},{id:"import",label:"Restore Data",icon:Xo,customAccess:"system-restore:view"},{id:"db-browser",label:"Data Explorer",icon:Ur,customAccess:"system-restore:delete"}].filter(he=>{if($)return!0;if(he.adminOnly)return!1;if(he.customAccess){const[te,me]=he.customAccess.split(":");return sn.can(te,me)}return!0}).map(he=>d.jsxs("button",{onClick:()=>t(he.id),className:`px-4 py-2.5 rounded-xl font-bold text-xs uppercase tracking-wider flex items-center gap-2 transition-all whitespace-nowrap border-2 ${e===he.id?"bg-brand-500 border-brand-500 text-white shadow-lg shadow-brand-500/20":"bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-100 dark:border-gray-700 hover:border-brand-200"}`,children:[d.jsx(he.icon,{className:"w-4 h-4"})," ",he.label]},he.id))}),d.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl shadow-sm overflow-hidden flex flex-col min-h-0",children:d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[e==="profile"&&d.jsxs("form",{onSubmit:H,className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[d.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Company Configuration"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add your logo and details for professional invoices."})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[d.jsxs("div",{className:"shrink-0 space-y-4",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"w-40 h-40 rounded-3xl border-4 border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex items-center justify-center overflow-hidden shadow-inner",children:n.logoUrl?d.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-full h-full object-contain"}):d.jsx(DB,{className:"w-12 h-12 text-gray-300"})}),d.jsx("button",{type:"button",onClick:()=>{var he;return(he=O.current)==null?void 0:he.click()},className:"absolute -bottom-2 -right-2 bg-brand-500 text-white p-2.5 rounded-2xl shadow-xl hover:bg-brand-600 transition-all active:scale-90",children:d.jsx(F9,{className:"w-5 h-5"})})]}),d.jsx("input",{type:"file",ref:O,className:"hidden",accept:"image/*",onChange:V})]}),d.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[d.jsxs("div",{className:"md:col-span-2 space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Business Name"}),d.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.name,onChange:he=>r({...n,name:he.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"PAN/VAT Number"}),d.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.pan,onChange:he=>r({...n,pan:he.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Contact Phone"}),d.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.phone,onChange:he=>r({...n,phone:he.target.value})})]}),d.jsxs("div",{className:"md:col-span-2 space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Full Address"}),d.jsx("input",{type:"text",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white",value:n.address,onChange:he=>r({...n,address:he.target.value})})]})]})]}),d.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 dark:border-gray-700",children:d.jsxs("button",{type:"submit",className:"px-8 py-3 bg-brand-500 text-white rounded-xl font-bold hover:bg-brand-600 transition-all shadow-lg shadow-brand-500/20 active:scale-95 flex items-center gap-2",children:[d.jsx(dc,{className:"w-4 h-4"})," Save Business Profile"]})})]}),e==="users"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[d.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[d.jsx(_h,{className:"w-5 h-5 text-indigo-500"})," Staff Management"]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage individual staff accounts and granular action-level module access."})]}),d.jsxs("button",{onClick:()=>{B({name:"",email:"",password:"",role:"SALESMAN",permissions:Y3.SALESMAN}),P(!0)},className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-brand-600 shadow-md transition-all active:scale-95",children:[d.jsx(kj,{className:"w-4 h-4"})," Create Staff Account"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(he=>{var te;return d.jsxs("div",{className:"p-6 bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-700 rounded-[2.5rem] shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:d.jsx(C4,{className:"w-12 h-12"})}),d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 font-black text-lg uppercase",children:he.name.substring(0,1)}),d.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black uppercase tracking-tighter ${he.role==="SALESMAN"?"bg-emerald-50 text-emerald-600":he.role==="ACCOUNTANT"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:he.role})]}),d.jsx("h3",{className:"font-bold text-gray-900 dark:text-white truncate",children:he.name}),d.jsx("p",{className:"text-xs text-gray-400 truncate mb-6",children:he.email}),d.jsxs("div",{className:"space-y-2 mb-6",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Permission Coverage"}),d.jsxs("p",{className:"text-[11px] font-bold text-gray-500",children:[((te=he.permissions)==null?void 0:te.length)||0," granular actions defined"]})]}),d.jsxs("div",{className:"flex items-center justify-between border-t border-gray-50 dark:border-gray-800 pt-4",children:[d.jsxs("button",{onClick:()=>{B(he),P(!0)},className:"text-[10px] font-black uppercase text-indigo-600 hover:text-indigo-800 transition-colors flex items-center gap-1.5",children:[d.jsx(C5,{className:"w-3 h-3"})," Edit Permissions"]}),d.jsx("button",{onClick:()=>ee(he.id),className:"p-2 text-gray-300 hover:text-red-500 transition-colors",children:d.jsx(rs,{className:"w-4 h-4"})})]})]},he.id)})}),k&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] w-full max-w-5xl shadow-2xl overflow-hidden flex flex-col max-h-[95vh]",children:[d.jsxs("div",{className:"p-8 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-900",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight",children:M.id?"Manage Staff Account":"Register New Staff"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Configure identity and granular access control matrix."})]}),d.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:d.jsx(bn,{className:"w-5 h-5 text-gray-400"})})]}),d.jsxs("form",{onSubmit:Y,className:"flex-1 overflow-hidden flex flex-col",children:[d.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[d.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[d.jsx("h4",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-widest border-b border-indigo-50 pb-2",children:"Login Credentials"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Employee Name"}),d.jsx("input",{required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white font-bold",placeholder:"e.g. Rahul Sharma",value:M.name,onChange:he=>B({...M,name:he.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Login Email"}),d.jsx("input",{required:!0,type:"email",className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white font-bold",value:M.email,onChange:he=>B({...M,email:he.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Security Password"}),d.jsx("input",{required:!0,type:"password",placeholder:"",className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white font-bold",value:M.password,onChange:he=>B({...M,password:he.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"Role Template"}),d.jsxs("select",{className:"w-full p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-xl outline-none font-bold text-indigo-700 dark:text-indigo-300",value:M.role,onChange:he=>se(he.target.value),children:[d.jsx("option",{value:"SALESMAN",children:"Salesman"}),d.jsx("option",{value:"ACCOUNTANT",children:"Accountant"}),d.jsx("option",{value:"DATA_ENTRY",children:"Data Entry"})]})]})]}),d.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center border-b border-indigo-50 pb-2",children:[d.jsx("h4",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-widest",children:"Granular Permission Matrix"}),d.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:[((pe=M.permissions)==null?void 0:pe.length)||0," Actions Allowed"]})]}),d.jsx("div",{className:"space-y-8",children:noe.map(he=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("h5",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:he.name}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:d.jsxs("table",{className:"w-full text-left",children:[d.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-[9px] font-black text-gray-400 uppercase tracking-widest",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3",children:"Module"}),d.jsx("th",{className:"p-3 text-center",children:"View"}),d.jsx("th",{className:"p-3 text-center",children:"Modify"}),d.jsx("th",{className:"p-3 text-center",children:"Delete"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:he.modules.map(te=>{var me,xe,we;return d.jsxs("tr",{className:"hover:bg-white dark:hover:bg-gray-800 transition-colors",children:[d.jsxs("td",{className:"p-3 flex items-center gap-2",children:[d.jsx(te.icon,{className:"w-3.5 h-3.5 text-gray-400"}),d.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:te.label})]}),d.jsx("td",{className:"p-3 text-center",children:d.jsx("input",{type:"checkbox",checked:(me=M.permissions)==null?void 0:me.includes(`${te.id}:view`),onChange:()=>X(te.id,"view"),className:"w-4 h-4 rounded text-brand-600 focus:ring-brand-500"})}),d.jsx("td",{className:"p-3 text-center",children:d.jsx("input",{type:"checkbox",checked:(xe=M.permissions)==null?void 0:xe.includes(`${te.id}:edit`),onChange:()=>X(te.id,"edit"),className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500"})}),d.jsx("td",{className:"p-3 text-center",children:d.jsx("input",{type:"checkbox",checked:(we=M.permissions)==null?void 0:we.includes(`${te.id}:delete`),onChange:()=>X(te.id,"delete"),className:"w-4 h-4 rounded text-red-600 focus:ring-red-500"})})]},te.id)})})]})})]},he.name))})]})]})}),d.jsxs("div",{className:"p-8 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex justify-end gap-4",children:[d.jsx("button",{type:"button",onClick:()=>P(!1),className:"px-6 py-3 text-gray-500 font-bold uppercase text-xs tracking-widest",children:"Discard"}),d.jsxs("button",{type:"submit",className:"px-12 py-4 bg-brand-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl shadow-brand-500/30 hover:bg-brand-700 active:scale-95 flex items-center gap-2",children:[d.jsx(Rm,{className:"w-4 h-4"}),M.id?"Save Changes":"Create Staff Member"]})]})]})]})})]}),e==="database"&&d.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[d.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Storage Analysis"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Database statistics and record counts."})]}),d.jsx("button",{onClick:ne,className:"p-2 text-gray-400 hover:text-brand-500 transition-colors",children:d.jsx(Xo,{className:"w-5 h-5"})})]}),u&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-6 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:[d.jsx(TB,{className:"w-8 h-8 text-emerald-600 mb-4"}),d.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold uppercase mb-1",children:"Local Usage"}),d.jsx("p",{className:"text-2xl font-black text-emerald-700 dark:text-emerald-400",children:W3(u.usage)}),d.jsx("div",{className:"mt-4 h-2 bg-emerald-200 dark:bg-emerald-800 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-600 rounded-full",style:{width:`${Math.max(1,u.percent)}%`}})})]}),d.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-6 rounded-2xl border border-blue-100 dark:border-blue-800",children:[d.jsx(A5,{className:"w-8 h-8 text-blue-600 mb-4"}),d.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold uppercase mb-1",children:"Available"}),d.jsx("p",{className:"text-2xl font-black text-blue-700 dark:text-blue-400",children:W3(u.quota)})]}),d.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/10 p-6 rounded-2xl border border-orange-100 dark:border-orange-800",children:[d.jsx(H9,{className:"w-8 h-8 text-orange-600 mb-4"}),d.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-xs font-bold uppercase mb-1",children:"Tables"}),d.jsxs("p",{className:"text-2xl font-black text-orange-700 dark:text-orange-400",children:[h.length," Total"]})]})]})]}),e==="security"&&d.jsxs("form",{onSubmit:de,className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[d.jsx("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4",children:d.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[d.jsx(P2,{className:"w-5 h-5 text-brand-500"})," Account Security"]})}),d.jsxs("div",{className:"space-y-5 max-w-md",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Login Email"}),d.jsx("input",{type:"email",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white font-medium",value:o.username,onChange:he=>l({...o,username:he.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"New Password"}),d.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white font-medium",value:o.password,onChange:he=>l({...o,password:he.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Confirm Password"}),d.jsx("input",{type:"password",required:!0,className:"w-full p-3 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-brand-500 outline-none dark:text-white font-medium",value:o.confirmPassword,onChange:he=>l({...o,confirmPassword:he.target.value})})]})]}),d.jsx("div",{className:"flex justify-start pt-4 border-t border-gray-100 dark:border-gray-700",children:d.jsxs("button",{type:"submit",className:"px-8 py-3 bg-gray-800 dark:bg-gray-700 text-white rounded-xl font-bold hover:bg-black dark:hover:bg-gray-600 transition-all active:scale-95 flex items-center gap-2",children:[d.jsx(dc,{className:"w-4 h-4"})," Update Credentials"]})})]}),e==="local_backup"&&d.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[d.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-700 pb-4",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[d.jsx(Og,{className:"w-5 h-5 text-brand-500"})," Local Backup Configuration"]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configure automated snapshots to your physical hardware path."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-800 rounded-2xl",children:[d.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Destination Folder"}),d.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Backup files will be stored in this directory. Browser permission is required for write access."}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-1 p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-mono truncate text-gray-600",children:y||"No folder selected"}),d.jsx("button",{onClick:ie,className:"p-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-all",children:d.jsx(k2,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]}),d.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 border border-gray-100 dark:border-gray-800 rounded-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Auto Backup Schedule"}),d.jsx("button",{onClick:()=>a({...i,autoBackup:!i.autoBackup}),className:`w-12 h-6 rounded-full transition-all relative ${i.autoBackup?"bg-brand-500":"bg-gray-300"}`,children:d.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${i.autoBackup?"right-1":"left-1"}`})})]}),d.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.backupSchedules.map((he,te)=>d.jsxs("div",{className:"px-3 py-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-xs font-bold flex items-center gap-2",children:[he,d.jsx("button",{onClick:()=>a({...i,backupSchedules:i.backupSchedules.filter((me,xe)=>xe!==te)}),className:"text-red-400 hover:text-red-600",children:d.jsx(bn,{className:"w-3 h-3"})})]},te)),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("input",{type:"time",className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-xs p-1",value:w,onChange:he=>N(he.target.value)}),d.jsx("button",{onClick:fe,className:"p-1 text-brand-600 hover:bg-brand-50 rounded",children:d.jsx(ca,{className:"w-4 h-4"})})]})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsxs("button",{onClick:re,className:"px-8 py-3 bg-brand-500 text-white rounded-xl font-bold hover:bg-brand-600 shadow-lg shadow-brand-500/20 active:scale-95 flex items-center gap-2",children:[d.jsx(dc,{className:"w-4 h-4"})," Save Configuration"]})})]}),e==="import"&&d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:d.jsx(eoe,{onBack:()=>t("profile")})}),e==="db-browser"&&d.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300 h-full",children:d.jsx(toe,{})})]})})]})},ioe=({onNew:e,refreshKey:t,onEdit:n})=>{const[r,i]=j.useState([]),[a,o]=j.useState([]),[l,u]=j.useState(""),[f,h]=j.useState("All Category"),[p,y]=j.useState("All Payment Modes"),[g,w]=j.useState(""),[N,A]=j.useState([]),[_,k]=j.useState([]),{addToast:P}=kr();j.useEffect(()=>{M()},[t]),j.useEffect(()=>{B()},[r,l,f,p,g]);const M=()=>{const G=Be.getTransactions().filter(K=>K.type==="EXPENSE");i(G);const R=Array.from(new Set(G.map(K=>K.category).filter(Boolean))),O=Array.from(new Set(G.map(K=>K.paymentMode).filter(Boolean)));A(["All Category",...R]),k(["All Payment Modes",...O])},B=()=>{let G=[...r];if(l){const R=l.toLowerCase();G=G.filter(O=>O.id.toLowerCase().includes(R)||O.notes&&O.notes.toLowerCase().includes(R)||O.totalAmount.toString().includes(R))}if(f!=="All Category"&&(G=G.filter(R=>R.category===f)),p!=="All Payment Modes"&&(G=G.filter(R=>R.paymentMode===p)),g){const R=g.split("T")[0];G=G.filter(O=>O.date.split("T")[0]===R)}o(G)},U=G=>{window.confirm("Are you sure you want to delete this expense?")&&(Be.deleteTransaction(G),M())},D=G=>{kS(G),P("Expense voucher PDF generated","success")},F=()=>{u(""),h("All Category"),y("All Payment Modes"),w("")},q=l||f!=="All Category"||p!=="All Payment Modes"||g;return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Expenses (",r.length,")"]}),d.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:[d.jsx(ca,{className:"w-4 h-4"}),"Add New Expense"]})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center bg-white rounded-lg px-3 py-2 border border-gray-200 flex-1 lg:max-w-xs shadow-sm focus-within:ring-2 focus-within:ring-emerald-500 focus-within:border-emerald-500",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search Expense...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full placeholder-gray-400",value:l,onChange:G=>u(G.target.value)})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[d.jsxs("div",{className:"relative",children:[d.jsx("select",{className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-sm cursor-pointer",value:f,onChange:G=>h(G.target.value),children:N.length===0?d.jsx("option",{children:"All Category"}):N.map(G=>d.jsx("option",{value:G,children:G},G))}),d.jsx(Sl,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{className:"appearance-none bg-white border border-gray-200 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 shadow-sm cursor-pointer",value:p,onChange:G=>y(G.target.value),children:_.length===0?d.jsx("option",{children:"All Payment Modes"}):_.map(G=>d.jsx("option",{value:G,children:G},G))}),d.jsx(Sl,{className:"w-4 h-4 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:g,onChange:w,placeholder:"All Date",className:"bg-white"})}),q&&d.jsx("button",{onClick:F,className:"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Clear Filters",children:d.jsx(bn,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Exp No."}),d.jsx("th",{className:"px-6 py-4",children:"Category"}),d.jsx("th",{className:"px-6 py-4",children:"Date"}),d.jsx("th",{className:"px-6 py-4",children:"Payment Mode"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Total Amount"}),d.jsx("th",{className:"px-6 py-4",children:"Remarks"}),d.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:a.map(G=>d.jsxs("tr",{className:"hover:bg-gray-50 group",children:[d.jsxs("td",{className:"px-6 py-4 text-gray-900 font-medium",children:["#",G.id.slice(-6)]}),d.jsx("td",{className:"px-6 py-4 text-gray-700",children:G.category||"-"}),d.jsx("td",{className:"px-6 py-4 text-gray-600",children:Rn(G.date)}),d.jsx("td",{className:"px-6 py-4 text-gray-600",children:G.paymentMode||"Cash"}),d.jsx("td",{className:"px-6 py-4 text-gray-900 font-bold text-right",children:qe(G.totalAmount)}),d.jsx("td",{className:"px-6 py-4 text-gray-500 max-w-xs truncate",title:G.notes,children:G.notes||"--"}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>D(G),className:"p-1.5 text-gray-400 hover:text-emerald-600",title:"Download Voucher PDF",children:d.jsx(Xd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>n(G),className:"p-1.5 text-gray-400 hover:text-blue-600",children:d.jsx(Nc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>U(G.id),className:"p-1.5 text-gray-400 hover:text-red-600",children:d.jsx(rs,{className:"w-4 h-4"})})]})})]},G.id))})]})})})]})},d2=[1e3,500,100,50,20,10,5,2,1],aoe=["Rent","Utilities","Salary","Petrol","Transportation","Tea & Snacks","Maintenance","Office Supplies","Internet","Telephone","Marketing","Other"],ooe=({initialData:e,onClose:t,onSave:n})=>{const[r,i]=j.useState([]),[a,o]=j.useState([]),[l,u]=j.useState(Date.now().toString().slice(-6)),[f,h]=j.useState(new Date().toISOString()),[p,y]=j.useState("Petrol"),[g,w]=j.useState("1"),[N,A]=j.useState(""),[_,k]=j.useState(""),[P,M]=j.useState(""),[B,U]=j.useState(""),[D,F]=j.useState(!1),[q,G]=j.useState(0),R=j.useRef(null),[O,K]=j.useState(!1),[$,ne]=j.useState(d2.map(pe=>({denomination:pe,count:0}))),[z,Y]=j.useState(d2.map(pe=>({denomination:pe,count:0}))),{addToast:ee}=kr();j.useEffect(()=>{i(Be.getAccounts()),o(Be.getParties()),e&&(u(e.id),h(e.date),y(e.category||"Other"),A(e.totalAmount),k(e.notes||""),M(e.partyName!=="General Expense"?e.partyName:""),U(e.partyId||""),e.accountId&&w(e.accountId),e.cashBreakdown&&(ne(e.cashBreakdown.received),Y(e.cashBreakdown.returned)))},[e]),j.useEffect(()=>{if(D&&R.current){const pe=R.current.querySelector(`[data-index="${q}"]`);pe&&pe.scrollIntoView({block:"nearest",behavior:"smooth"})}},[q,D]),j.useEffect(()=>{const pe=he=>{(he.ctrlKey||he.metaKey)&&he.key==="s"&&(he.preventDefault(),se()),he.key==="Escape"&&(O||t())};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[N,p,l,f,_,P,g,O]);const se=()=>{if(!N||!p){ee("Please fill required fields (Amount and Category)","error");return}const pe=r.find(me=>me.id===g),he=(pe==null?void 0:pe.type)==="Cash",te={id:l,date:f,type:"EXPENSE",partyId:B,partyName:P||"General Expense",items:[],totalAmount:Number(N),notes:_,category:p,accountId:g,paymentMode:he?"Cash":"Bank",cashBreakdown:he?{received:$,returned:z}:void 0};e?Be.updateTransaction(e.id,te):Be.addTransaction(te),n()},X=pe=>{pe.preventDefault(),se()},ie=a.filter(pe=>pe.name.toLowerCase().includes(P.toLowerCase())),V=pe=>{if(D){const he=ie.length;if(pe.key==="ArrowDown")pe.preventDefault(),G(te=>(te+1)%he);else if(pe.key==="ArrowUp")pe.preventDefault(),G(te=>(te-1+he)%he);else if(pe.key==="Enter"){if(pe.preventDefault(),ie[q]){const te=ie[q];U(te.id),M(te.name),F(!1)}}else pe.key==="Escape"&&F(!1)}},H=r.find(pe=>pe.id===g),re=(H==null?void 0:H.type)==="Cash",de=z.reduce((pe,he)=>pe+he.denomination*he.count,0),fe=()=>{const pe=Be.getCashDrawer();let he=Number(N||0);if(he<=0)return;const te=[],me=new Map(pe.notes.map(xe=>[xe.denomination,xe.count]));for(const xe of d2){const we=me.get(xe)||0;if(we>0&&he>=xe){const Ue=Math.min(Math.floor(he/xe),we);te.push({denomination:xe,count:Ue}),he-=Ue*xe}else te.push({denomination:xe,count:0})}Y(te),ee("Notes auto-suggested from drawer availability.","info")};return d.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 rounded-lg bg-orange-100 text-orange-600",children:d.jsx(Om,{className:"w-5 h-5"})}),d.jsx("div",{children:d.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e?"Edit Expense":"Add New Expense"})})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-200 rounded-full transition-colors",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:X,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Expense No"}),d.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none font-mono bg-gray-50",value:l,readOnly:!!e,onChange:pe=>u(pe.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Date"}),d.jsx("div",{className:"w-full",children:d.jsx(Wi,{value:f,onChange:h})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Category"}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",value:p,onChange:pe=>y(pe.target.value),children:aoe.map(pe=>d.jsx("option",{value:pe,children:pe},pe))}),d.jsx(Sl,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400 pointer-events-none"})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Paid To (Searchable)"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none pl-9 font-medium",placeholder:"Recipient name...",value:P,onChange:pe=>{M(pe.target.value),F(!0),G(0)},onFocus:()=>F(!0),onKeyDown:V}),d.jsx(Lh,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"})]}),D&&P&&d.jsx("div",{ref:R,className:"absolute top-full left-0 w-full bg-white border border-gray-200 rounded-xl shadow-xl z-20 max-h-40 overflow-auto mt-1",children:ie.map((pe,he)=>d.jsx("div",{"data-index":he,className:`p-2.5 border-b border-gray-50 last:border-0 cursor-pointer text-xs font-bold ${q===he?"bg-brand-50 text-brand-700":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>{U(pe.id),M(pe.name),F(!1)},children:pe.name},pe.id))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Total Amount"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:"Rs."}),d.jsx("input",{type:"number",required:!0,min:"0.01",step:"0.01",className:"w-full border border-gray-300 rounded-lg pl-10 pr-4 py-3 text-xl font-bold text-gray-800 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:N,onChange:pe=>A(pe.target.value?Number(pe.target.value):"")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Paid From"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("select",{className:"flex-1 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none appearance-none bg-white",value:g,onChange:pe=>w(pe.target.value),children:r.map(pe=>d.jsxs("option",{value:pe.id,children:[pe.name," (",pe.type,")"]},pe.id))}),re&&d.jsx("button",{type:"button",onClick:()=>K(!0),className:`p-2 rounded-lg border flex items-center justify-center transition-all ${de>0?"bg-orange-50 border-orange-200 text-orange-600 shadow-sm":"bg-white border-gray-300 text-gray-400 hover:bg-gray-50"}`,title:"Cash Drawer Note Entry",children:d.jsx(So,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase mb-1",children:"Remarks"}),d.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-emerald-500 outline-none min-h-[80px] resize-none",placeholder:"Enter description...",value:_,onChange:pe=>k(pe.target.value)})]})]}),d.jsxs("div",{className:"p-4 border-t bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-gray-600 font-medium hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",onClick:X,disabled:!N,className:"px-6 py-2.5 bg-emerald-500 text-white font-medium rounded-lg shadow-sm flex items-center gap-2 hover:bg-emerald-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(dc,{className:"w-4 h-4"})," Save Expense"]})]})]}),O&&d.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[90vh] overflow-hidden",children:[d.jsxs("div",{className:"bg-brand-600 p-6 text-white flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(So,{className:"w-6 h-6"})," Cash Out Entry"]}),d.jsx("p",{className:"text-brand-100 text-xs mt-1",children:"Specify exact notes being removed from the drawer."})]}),d.jsx("button",{onClick:()=>K(!1),className:"text-white hover:opacity-70",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-4 rounded-xl border border-gray-200",children:[d.jsx("span",{className:"text-sm font-bold text-gray-600 uppercase",children:"Expense Amount:"}),d.jsx("span",{className:"text-xl font-black text-gray-900",children:qe(Number(N||0))})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h4",{className:"font-bold text-gray-800 text-sm uppercase",children:"Physical Notes Leaving Drawer"}),d.jsxs("button",{type:"button",onClick:fe,className:"text-[10px] bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold border border-emerald-100 flex items-center gap-1",children:[d.jsx(Sh,{className:"w-3 h-3"})," Auto-Suggest"]})]}),d.jsx("div",{className:"space-y-2",children:z.map((pe,he)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all ${pe.count>0?"bg-brand-50 border-brand-200":"bg-white border-gray-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-7 rounded flex items-center justify-center font-bold text-xs ${pe.denomination>=500?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:pe.denomination}),d.jsx(bn,{className:"w-3 h-3 text-gray-300"})]}),d.jsx("input",{type:"number",min:"0",className:"w-20 p-2 border border-gray-300 rounded-lg text-center font-bold outline-none focus:ring-2 focus:ring-brand-500",value:pe.count||"",onChange:te=>{const me=parseInt(te.target.value)||0;Y(xe=>xe.map((we,Ue)=>Ue===he?{...we,count:me}:we))}}),d.jsx("span",{className:"w-24 text-right font-bold text-gray-600",children:qe(pe.denomination*pe.count)})]},pe.denomination))})]}),d.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Total Physical Value"}),d.jsx("div",{className:`text-lg font-bold ${de===Number(N||0)?"text-emerald-600":"text-orange-500"}`,children:qe(de)})]}),d.jsx("button",{type:"button",onClick:()=>K(!1),className:"px-10 py-2.5 bg-brand-600 text-white rounded-xl font-bold shadow-lg hover:bg-brand-700 transition-all",children:"Done"})]})]})})]})},f2=({targetReport:e,onConsumeTarget:t,onConvertToPurchase:n,onEditTransaction:r})=>{const[i,a]=j.useState("DASHBOARD");j.useEffect(()=>{e&&(a(e),t&&t())},[e,t]);const o=()=>{switch(i){case"DASHBOARD":return d.jsx(soe,{onNavigate:a});case"SALES":return d.jsx(yg,{title:"Sales Report",type:"SALE",onBack:()=>a("DASHBOARD")});case"PURCHASE":return d.jsx(yg,{title:"Purchase Report",type:"PURCHASE",onBack:()=>a("DASHBOARD")});case"SALE_RETURN":return d.jsx(yg,{title:"Sales Return Report",type:"SALE_RETURN",onBack:()=>a("DASHBOARD")});case"PURCHASE_RETURN":return d.jsx(yg,{title:"Purchase Return Report",type:"PURCHASE_RETURN",onBack:()=>a("DASHBOARD")});case"DAY_BOOK":return d.jsx(foe,{onBack:()=>a("DASHBOARD")});case"ALL_TRANSACTIONS":return d.jsx(loe,{onBack:()=>a("DASHBOARD"),onEdit:r});case"PROFIT_LOSS":return d.jsx(hoe,{onBack:()=>a("DASHBOARD")});case"PARTY_STATEMENT":return d.jsx(doe,{onBack:()=>a("DASHBOARD"),onEdit:r});case"RECEIVABLE_AGING":return d.jsx(coe,{onBack:()=>a("DASHBOARD")});case"ALL_PARTY_STATEMENT":return d.jsx(poe,{onBack:()=>a("DASHBOARD")});case"STOCK_QUANTITY":return d.jsx(moe,{onBack:()=>a("DASHBOARD")});case"OUT_OF_STOCK":return d.jsx(uoe,{onBack:()=>a("DASHBOARD"),onConvert:n});default:return d.jsxs("div",{className:"p-20 text-center flex flex-col items-center gap-4",children:[d.jsx(w5,{className:"w-12 h-12 text-gray-200"}),d.jsx("h3",{className:"font-bold text-gray-400 uppercase tracking-widest",children:"Report under development"}),d.jsx("button",{onClick:()=>a("DASHBOARD"),className:"text-brand-600 font-bold hover:underline",children:"Return to Browser"})]})}};return d.jsx("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto h-full flex flex-col font-sans",children:o()})},soe=({onNavigate:e})=>{const[t,n]=j.useState("All"),[r,i]=j.useState(""),a=[{category:"Transactions",title:"Transaction Report",reports:[{id:"SALES",title:"Sales",desc:"View your sales data on a given time"},{id:"PURCHASE",title:"Purchase",desc:"View your purchase data on a given time"},{id:"SALE_RETURN",title:"Sales Return",desc:"View your sales return data on a given time"},{id:"PURCHASE_RETURN",title:"Purchase Return",desc:"View your purchase return data on a given time"},{id:"DAY_BOOK",title:"Day Book",desc:"View all of your daily transactions",hasView:!0},{id:"ALL_TRANSACTIONS",title:"All Transactions",desc:"Unified ledger of all business transactions",hasView:!0},{id:"PROFIT_LOSS",title:"Profit And Loss",desc:"View your profit & loss in a given time"}]},{category:"Parties",title:"Party Report",reports:[{id:"PARTY_STATEMENT",title:"Party Statement",desc:"Check the transactions of certain party",hasView:!0},{id:"ALL_PARTY_STATEMENT",title:"All Party Statement",desc:"Print or download balance list of all parties",hasView:!0},{id:"RECEIVABLE_AGING",title:"Receivable Aging",desc:"Track overdue payments by date buckets (1wk to 4mo+)",hasView:!0}]},{category:"Inventory",title:"Inventory Report",reports:[{id:"STOCK_QUANTITY",title:"Stock Report",desc:"Current inventory levels and valuation"},{id:"OUT_OF_STOCK",title:"Restock / Auto Order",desc:"Identify items that need replenishment",hasView:!0}]}],o=j.useMemo(()=>a.filter(l=>t==="All"||l.category===t).map(l=>({...l,reports:l.reports.filter(u=>u.title.toLowerCase().includes(r.toLowerCase())||u.desc.toLowerCase().includes(r.toLowerCase()))})).filter(l=>l.reports.length>0),[t,r]);return d.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[d.jsx("h1",{className:"text-2xl font-black text-[#0f172a] tracking-tight",children:"Browse Various Reports"}),d.jsxs("div",{className:"relative w-full md:w-72",children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search reports...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all shadow-sm",value:r,onChange:l=>i(l.target.value)})]})]}),d.jsx("div",{className:"flex gap-2 mb-10 overflow-x-auto pb-2 scrollbar-hide",children:["All Reports","Transactions","Parties","Inventory"].map(l=>d.jsx("button",{onClick:()=>n(l.replace(" Reports","")),className:`px-6 py-2 rounded-full text-sm font-semibold transition-all whitespace-nowrap ${t==="All"&&l==="All Reports"||t===l?"bg-brand-500 text-white shadow-lg shadow-brand-500/20":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:l},l))}),d.jsx("div",{className:"space-y-12",children:o.map(l=>d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-lg font-bold text-gray-600 tracking-wide",children:l.title}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.reports.map(u=>d.jsxs("button",{onClick:()=>e(u.id),className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-brand-200 transition-all text-left flex flex-col group min-h-[140px]",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-brand-600 transition-colors",children:u.title}),u.hasView&&d.jsxs("span",{className:"text-[10px] font-bold text-brand-600 uppercase flex items-center gap-1",children:["View ",d.jsx(N5,{className:"w-3 h-3"})]})]}),d.jsx("p",{className:"text-sm text-gray-400 font-medium leading-relaxed",children:u.desc})]},u.id))})]},l.category))})]})},loe=({onBack:e,onEdit:t})=>{const[n,r]=j.useState(()=>{const p=new Date;return p.setDate(1),p.toISOString()}),[i,a]=j.useState(new Date().toISOString()),[o,l]=j.useState(""),{addToast:u}=kr(),f=j.useMemo(()=>{let y=Be.getTransactions();if(n){const g=new Date(n);g.setHours(0,0,0,0),y=y.filter(w=>new Date(w.date)>=g)}if(i){const g=new Date(i);g.setHours(23,59,59,999),y=y.filter(w=>new Date(w.date)<=g)}if(o){const g=o.toLowerCase();y=y.filter(w=>w.partyName.toLowerCase().includes(g)||w.id.toLowerCase().includes(g)||w.notes&&w.notes.toLowerCase().includes(g))}return y.sort((g,w)=>new Date(w.date).getTime()-new Date(g.date).getTime())},[n,i,o]),h=()=>{jc(_S(f),"All_Transactions"),u("Exported successfully","success")};return d.jsxs("div",{className:"flex flex-col h-full space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-tight",children:"All Transactions"}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Unified Business Ledger"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative w-48",children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Filter...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl text-xs font-bold outline-none",value:o,onChange:p=>l(p.target.value)})]}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:n,onChange:r,placeholder:"Start Date"})}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:i,onChange:a,placeholder:"End Date"})}),d.jsx("button",{onClick:h,className:"p-2.5 bg-white border border-gray-200 text-emerald-600 rounded-xl hover:bg-emerald-50 shadow-sm",children:d.jsx(wc,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto flex-1 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-black uppercase text-[10px] tracking-widest border-b border-gray-100 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Date"}),d.jsx("th",{className:"px-6 py-4",children:"Vch No"}),d.jsx("th",{className:"px-6 py-4",children:"Type"}),d.jsx("th",{className:"px-6 py-4",children:"Party"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"}),d.jsx("th",{className:"px-6 py-4 text-center",children:"Edit"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:f.map(p=>d.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[d.jsx("td",{className:"px-6 py-4 text-gray-500 font-medium",children:Rn(p.date)}),d.jsxs("td",{className:"px-6 py-4 font-mono text-gray-400 text-xs",children:["#",p.id.slice(-6)]}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-2 py-0.5 rounded-lg text-[9px] font-black uppercase tracking-tighter ${p.type==="SALE"?"bg-emerald-50 text-emerald-600":p.type==="PURCHASE"?"bg-blue-50 text-blue-600":p.type==="EXPENSE"?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600"}`,children:p.type.replace("_"," ")})}),d.jsx("td",{className:"px-6 py-4 font-bold text-gray-800",children:p.partyName}),d.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900",children:qe(p.totalAmount)}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("button",{onClick:()=>t==null?void 0:t(p),className:"p-1.5 text-gray-300 hover:text-brand-600 transition-colors opacity-0 group-hover:opacity-100",children:d.jsx(Nc,{className:"w-4 h-4"})})})]},p.id))})]})})})]})},coe=({onBack:e})=>{const[t,n]=j.useState(""),[r,i]=j.useState(null),{addToast:a}=kr(),o=j.useMemo(()=>{const p=Be.getParties().filter(w=>w.balance>0),y=Be.getTransactions(),g=new Date;return p.map(w=>{var D;const N=y.filter(F=>F.partyId===w.id&&(F.type==="SALE"||F.type==="BALANCE_ADJUSTMENT")).sort((F,q)=>new Date(q.date).getTime()-new Date(F.date).getTime());let A=[],_=[],k=[],P=[],M=[],B=w.balance;N.forEach(F=>{if(B<=0)return;const q=Math.min(F.totalAmount,B),G=new Date(F.date),R=Math.floor((g.getTime()-G.getTime())/(1e3*60*60*24)),O={id:F.id,date:F.date,amount:q};R<=7?A.push(O):R<=15?_.push(O):R<=30?k.push(O):R<=90?P.push(O):M.push(O),B-=q}),B>0&&M.push({id:"Adjustment",date:((D=N[N.length-1])==null?void 0:D.date)||g.toISOString(),amount:B});const U=F=>F.reduce((q,G)=>q+G.amount,0);return{id:w.id,name:w.name,phone:w.phone,total:w.balance,buckets:{current:{items:A,total:U(A)},week1:{items:_,total:U(_)},day15:{items:k,total:U(k)},month1:{items:P,total:U(P)},month3:{items:M,total:U(M)}}}}).filter(w=>w.total>0&&w.name.toLowerCase().includes(t.toLowerCase()))},[t]),l=j.useMemo(()=>o.reduce((p,y)=>({total:p.total+y.total,current:p.current+y.buckets.current.total,week1:p.week1+y.buckets.week1.total,day15:p.day15+y.buckets.day15.total,month1:p.month1+y.buckets.month1.total,month3:p.month3+y.buckets.month3.total}),{total:0,current:0,week1:0,day15:0,month1:0,month3:0}),[o]),u=()=>{const p=o.map(y=>({"Party Name":y.name,Phone:y.phone||"N/A","Total Dues":y.total,"Current (0-7d)":y.buckets.current.total,"1 Week+ (8-15d)":y.buckets.week1.total,"15 Days+ (16-30d)":y.buckets.day15.total,"1 Month+ (31-90d)":y.buckets.month1.total,"3 Months+ (91d+)":y.buckets.month3.total}));jc(p,"Receivable_Aging_Report"),a("Aging report exported to Excel","success")},f=()=>{const p=["Party","Total","Current","1Wk+","15D+","1Mo+","3Mo+"],y=o.map(g=>[g.name,qe(g.total),qe(g.buckets.current.total),qe(g.buckets.week1.total),qe(g.buckets.day15.total),qe(g.buckets.month1.total),qe(g.buckets.month3.total)]);Dh("Full Receivable Aging Summary",p,y)},h=r?o.find(p=>p.id===r):null;return h?d.jsxs("div",{className:"flex flex-col h-full space-y-6 animate-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(yj,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-black text-gray-800 uppercase",children:[h.name," - Aging Details"]}),d.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:h.phone||"No phone"})]})]}),d.jsx("button",{onClick:()=>{const p=["Bucket","Invoices","Amount"],y=[["Current (0-7d)",h.buckets.current.items.map(g=>`${g.id}(${Rn(g.date)})`).join(", "),qe(h.buckets.current.total)],["1 Week+ (8-15d)",h.buckets.week1.items.map(g=>`${g.id}(${Rn(g.date)})`).join(", "),qe(h.buckets.week1.total)],["15 Days+ (16-30d)",h.buckets.day15.items.map(g=>`${g.id}(${Rn(g.date)})`).join(", "),qe(h.buckets.day15.total)],["1 Month+ (31-90d)",h.buckets.month1.items.map(g=>`${g.id}(${Rn(g.date)})`).join(", "),qe(h.buckets.month1.total)],["3 Months+ (91d+)",h.buckets.month3.items.map(g=>`${g.id}(${Rn(g.date)})`).join(", "),qe(h.buckets.month3.total)]];Dh(`Aging Analysis: ${h.name}`,p,y)},className:"p-3 bg-gray-900 text-white rounded-xl shadow-lg",children:d.jsx(js,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[{label:"Current",data:h.buckets.current,color:"emerald"},{label:"1 Week+",data:h.buckets.week1,color:"blue"},{label:"15 Days+",data:h.buckets.day15,color:"yellow"},{label:"1 Month+",data:h.buckets.month1,color:"orange"},{label:"3 Months+",data:h.buckets.month3,color:"red"}].map(p=>d.jsxs("div",{className:`bg-${p.color}-50 p-5 rounded-2xl border border-${p.color}-100`,children:[d.jsx("p",{className:`text-[10px] font-black text-${p.color}-600 uppercase tracking-widest mb-1`,children:p.label}),d.jsx("p",{className:`text-xl font-black text-${p.color}-700`,children:qe(p.data.total)}),d.jsx("div",{className:"mt-3 pt-3 border-t border-dashed border-gray-200",children:p.data.items.length>0?p.data.items.map(y=>d.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-gray-500 mb-1",children:[d.jsxs("span",{children:["#",y.id.slice(-6)]}),d.jsx("span",{children:qe(y.amount)})]},y.id)):d.jsx("span",{className:"text-[10px] text-gray-300 italic",children:"No invoices"})})]},p.label))})]}):d.jsxs("div",{className:"flex flex-col h-full space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-tight",children:"Receivable Aging"}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Debt Concentration Analysis"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative w-64",children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search party...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:t,onChange:p=>n(p.target.value)})]}),d.jsx("button",{onClick:u,className:"p-2.5 bg-white border border-gray-200 rounded-xl text-emerald-600 hover:bg-emerald-50 shadow-sm transition-all",title:"Export Excel",children:d.jsx(wc,{className:"w-5 h-5"})}),d.jsx("button",{onClick:f,className:"p-2.5 bg-gray-900 text-white rounded-xl hover:bg-black shadow-lg shadow-gray-200 transition-all",title:"Print All",children:d.jsx(js,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[d.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Dues"}),d.jsx("p",{className:"text-lg font-black text-gray-900",children:qe(l.total)})]}),d.jsxs("div",{className:"bg-emerald-50 p-4 rounded-2xl border border-emerald-100",children:[d.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-1",children:"0-7 Days"}),d.jsx("p",{className:"text-lg font-black text-emerald-700",children:qe(l.current)})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-2xl border border-blue-100",children:[d.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"1 Week+"}),d.jsx("p",{className:"text-lg font-black text-blue-700",children:qe(l.week1)})]}),d.jsxs("div",{className:"bg-yellow-50 p-4 rounded-2xl border border-yellow-100",children:[d.jsx("p",{className:"text-[10px] font-black text-yellow-600 uppercase tracking-widest mb-1",children:"15 Days+"}),d.jsx("p",{className:"text-lg font-black text-yellow-700",children:qe(l.day15)})]}),d.jsxs("div",{className:"bg-orange-50 p-4 rounded-2xl border border-orange-100",children:[d.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"1 Month+"}),d.jsx("p",{className:"text-lg font-black text-orange-700",children:qe(l.month1)})]}),d.jsxs("div",{className:"bg-red-50 p-4 rounded-2xl border border-red-100",children:[d.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"3 Months+"}),d.jsx("p",{className:"text-lg font-black text-red-700",children:qe(l.month3)})]})]}),d.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto flex-1 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-black uppercase text-[10px] tracking-widest border-b border-gray-100 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-5 w-64",children:"Party Name"}),d.jsx("th",{className:"px-6 py-5 text-right font-black text-gray-900 border-x border-gray-100 bg-gray-100/30",children:"Total Balance"}),d.jsx("th",{className:"px-6 py-5 text-right",children:"0-7 Days"}),d.jsx("th",{className:"px-6 py-5 text-right",children:"1 Week+"}),d.jsx("th",{className:"px-6 py-5 text-right",children:"15 Days+"}),d.jsx("th",{className:"px-6 py-5 text-right",children:"1 Month+"}),d.jsx("th",{className:"px-6 py-5 text-right",children:"3 Months+"}),d.jsx("th",{className:"px-6 py-5 text-center",children:"Info"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-50",children:[o.map(p=>d.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"font-bold text-gray-800",children:p.name}),d.jsx("div",{className:"text-[10px] text-gray-400 font-bold",children:p.phone||"No Phone"})]}),d.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 border-x border-gray-100 bg-gray-100/30",children:qe(p.total)}),d.jsx("td",{className:"px-6 py-4 text-right text-emerald-600 font-medium",children:p.buckets.current.total>0?qe(p.buckets.current.total):"-"}),d.jsx("td",{className:"px-6 py-4 text-right text-blue-600 font-medium",children:p.buckets.week1.total>0?qe(p.buckets.week1.total):"-"}),d.jsx("td",{className:"px-6 py-4 text-right text-yellow-600 font-bold",children:p.buckets.day15.total>0?qe(p.buckets.day15.total):"-"}),d.jsx("td",{className:"px-6 py-4 text-right text-orange-600 font-black",children:p.buckets.month1.total>0?qe(p.buckets.month1.total):"-"}),d.jsx("td",{className:"px-6 py-4 text-right text-red-600 font-black",children:p.buckets.month3.total>0?qe(p.buckets.month3.total):"-"}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("button",{onClick:()=>i(p.id),className:"p-1.5 bg-gray-100 rounded-lg text-gray-400 hover:text-brand-600 transition-colors",children:d.jsx(_5,{className:"w-4 h-4"})})})]},p.id)),o.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:8,className:"py-24 text-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-20",children:[d.jsx(Rm,{className:"w-12 h-12 text-brand-500"}),d.jsx("p",{className:"font-black uppercase tracking-[0.3em] text-xs",children:"No overdue receivables"})]})})})]}),d.jsx("tfoot",{className:"bg-gray-900 text-white font-black sticky bottom-0 z-10",children:d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 uppercase text-[10px] tracking-widest",children:"Grand Totals"}),d.jsx("td",{className:"px-6 py-4 text-right text-brand-400",children:qe(l.total)}),d.jsx("td",{className:"px-6 py-4 text-right",children:qe(l.current)}),d.jsx("td",{className:"px-6 py-4 text-right",children:qe(l.week1)}),d.jsx("td",{className:"px-6 py-4 text-right",children:qe(l.day15)}),d.jsx("td",{className:"px-6 py-4 text-right",children:qe(l.month1)}),d.jsx("td",{className:"px-6 py-4 text-right",children:qe(l.month3)}),d.jsx("td",{})]})})]})})})]})},uoe=({onBack:e,onConvert:t})=>{const[n,r]=j.useState([]),[i,a]=j.useState([]),[o,l]=j.useState(5),[u,f]=j.useState(""),[h,p]=j.useState(""),[y,g]=j.useState(!1),[w,N]=j.useState(!0),{addToast:A}=kr(),_=j.useRef(null);j.useEffect(()=>{k()},[o]);const k=()=>{const z=Be.getProducts(),Y=Be.getReplenishmentDraft(),ee=z.filter(se=>se.type!=="service"&&(se.stock<=o||se.stock<(se.minStockLevel||o))).map(se=>{const X=Y.find(V=>V.productId===se.id),ie=Math.max(0,(se.minStockLevel||o)-se.stock);return{productId:se.id,name:se.name,category:se.category||"General",stock:se.stock,threshold:se.minStockLevel||o,required:X?X.required:ie>0?ie:1,rate:se.purchasePrice,unit:se.unit}});r(ee),N(!1)},P=j.useMemo(()=>Be.getProducts().filter(z=>z.type!=="service"),[]),M=j.useMemo(()=>h.trim()?P.filter(z=>z.name.toLowerCase().includes(h.toLowerCase())&&!n.find(Y=>Y.productId===z.id)).slice(0,10):[],[h,P,n]);j.useEffect(()=>{const z=Y=>{_.current&&!_.current.contains(Y.target)&&g(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const B=j.useMemo(()=>Array.from(new Set(n.map(z=>z.category))),[n]),U=j.useMemo(()=>n.filter(z=>!i.includes(z.category)).filter(z=>z.name.toLowerCase().includes(u.toLowerCase())).sort((z,Y)=>z.stock<=0&&Y.stock>0?-1:z.stock>0&&Y.stock<=0?1:z.threshold-z.stock-(Y.threshold-Y.stock)),[n,i,u]),D=(z,Y)=>{r(ee=>ee.map(se=>se.productId===z?{...se,required:Math.max(0,Y)}:se))},F=z=>{r(Y=>Y.filter(ee=>ee.productId!==z)),A("Item removed from current list","info")},q=z=>{const Y=Math.max(1,(z.minStockLevel||o)-z.stock),ee={productId:z.id,name:z.name,category:z.category||"General",stock:z.stock,threshold:z.minStockLevel||o,required:Y,rate:z.purchasePrice,unit:z.unit};r(se=>[ee,...se]),p(""),g(!1),A(`${z.name} added to list`,"success")},G=()=>{Be.updateReplenishmentDraft(n.map(z=>({productId:z.productId,required:z.required}))),A("Restock draft saved successfully","success")},R=()=>{const z=U.map(Y=>({"Maintain (Threshold)":Y.threshold,"Item Name":Y.name,Category:Y.category,"Current Stock":Y.stock,"Order Qty":Y.required,Unit:Y.unit,"Unit Cost":Y.rate,"Total Est. Cost":Y.required*Y.rate}));jc(z,"Replenishment_Order_List"),A("Replenishment list exported to Excel","success")},O=()=>{const z=["Maintain","Item","Category","In Stock","Order Required","Est. Cost"],Y=U.map(ee=>[`${ee.threshold} ${ee.unit}`,ee.name,ee.category,`${ee.stock} ${ee.unit}`,`${ee.required} ${ee.unit}`,qe(ee.required*ee.rate)]);Dh("Replenishment / Restock Order",z,Y)},K=()=>{const z=U.filter(Y=>Y.required>0);if(z.length===0){A("No items with required quantity to order","error");return}if(t){const Y=z.map(ee=>({productId:ee.productId,productName:ee.name,quantity:ee.required,rate:ee.rate,unit:ee.unit,amount:ee.required*ee.rate}));t(Y)}},$=z=>{a(Y=>Y.includes(z)?Y.filter(ee=>ee!==z):[...Y,z])},ne=U.reduce((z,Y)=>z+Y.required*Y.rate,0);return d.jsxs("div",{className:"flex flex-col h-full space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-[#0f172a] uppercase tracking-tight",children:"Restock Assistant"}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Inventory Replenishment Engine"})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("button",{onClick:R,className:"p-2 bg-white border border-gray-200 text-emerald-600 rounded-xl hover:bg-emerald-50 shadow-sm transition-all",title:"Export Excel",children:d.jsx(wc,{className:"w-5 h-5"})}),d.jsx("button",{onClick:O,className:"p-2 bg-white border border-gray-200 text-blue-600 rounded-xl hover:bg-blue-50 shadow-sm transition-all",title:"Print PDF",children:d.jsx(js,{className:"w-5 h-5"})}),d.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-bold text-xs uppercase shadow-sm",children:[d.jsx(dc,{className:"w-4 h-4"})," Save Draft"]}),d.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-6 py-2 bg-brand-500 text-white rounded-xl hover:bg-brand-600 transition-all font-bold text-xs uppercase shadow-lg shadow-brand-500/20",children:[d.jsx(Bm,{className:"w-4 h-4"})," Finalize Bill"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[d.jsx("div",{className:"md:col-span-8 space-y-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsxs("div",{className:"relative flex-1",ref:_,children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search any item to add manually...",className:"w-full pl-10 pr-4 py-3 bg-white border-2 border-gray-100 rounded-2xl text-sm font-bold focus:ring-2 focus:ring-brand-500 outline-none transition-all shadow-sm",value:h,onChange:z=>{p(z.target.value),g(!0)},onFocus:()=>g(!0)}),y&&h.trim()&&d.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white border border-gray-200 rounded-2xl shadow-2xl z-[60] overflow-hidden",children:M.map(z=>d.jsxs("div",{className:"p-3 border-b hover:bg-brand-50 cursor-pointer flex justify-between items-center",onClick:()=>q(z),children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-sm",children:z.name}),d.jsxs("p",{className:"text-[10px] text-gray-400 uppercase",children:["Stock: ",z.stock," | ",z.category]})]}),d.jsx(ca,{className:"w-4 h-4 text-brand-500"})]},z.id))})]}),d.jsxs("div",{className:"bg-white border-2 border-gray-100 rounded-2xl p-3 flex items-center gap-3 shadow-sm min-w-[220px]",children:[d.jsx(Nj,{className:"w-4 h-4 text-gray-400 shrink-0"}),d.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase whitespace-nowrap",children:"Stock < "}),d.jsx("input",{type:"number",className:"w-full text-sm font-black text-brand-600 outline-none",value:o,onChange:z=>l(parseInt(z.target.value)||0)})]})]})}),d.jsxs("div",{className:"md:col-span-4 bg-white border border-gray-100 p-4 rounded-2xl shadow-sm overflow-hidden flex flex-col gap-2",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[d.jsx(CB,{className:"w-3.5 h-3.5"})," Exclude Categories"]})}),d.jsx("div",{className:"flex flex-wrap gap-1.5 overflow-y-auto max-h-[60px] custom-scrollbar",children:B.map(z=>d.jsx("button",{onClick:()=>$(z),className:`px-2 py-1 rounded-lg text-[9px] font-black uppercase tracking-tight transition-all border ${i.includes(z)?"bg-red-50 text-red-600 border-red-100":"bg-gray-50 text-gray-500 border-gray-100 hover:bg-gray-100"}`,children:z},z))})]})]}),d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:[d.jsx("div",{className:"overflow-x-auto flex-1 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-black uppercase text-[10px] tracking-[0.2em] border-b border-gray-100 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-8 py-5",children:"Maintain (Threshold)"}),d.jsx("th",{className:"px-8 py-5",children:"Item Details"}),d.jsx("th",{className:"px-8 py-5 text-center",children:"In Stock"}),d.jsx("th",{className:"px-8 py-5 text-center",children:"Order Required"}),d.jsx("th",{className:"px-8 py-5 text-right",children:"Est. Cost"}),d.jsx("th",{className:"px-8 py-5 text-center w-20",children:"Action"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:U.map(z=>d.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[d.jsx("td",{className:"px-8 py-6",children:d.jsxs("div",{className:"inline-flex items-center gap-2 bg-gray-100/50 px-3 py-1 rounded-full text-xs font-black text-gray-500",children:[d.jsx(FB,{className:"w-3 h-3 opacity-50"})," ",z.threshold," ",z.unit]})}),d.jsxs("td",{className:"px-8 py-6",children:[d.jsx("div",{className:"font-bold text-gray-800",children:z.name}),d.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mt-1",children:z.category})]}),d.jsx("td",{className:"px-8 py-6 text-center",children:d.jsx("span",{className:`text-lg font-black ${z.stock<=0?"text-red-600 animate-pulse":"text-orange-500"}`,children:z.stock})}),d.jsx("td",{className:"px-8 py-6 text-center",children:d.jsxs("div",{className:"inline-flex items-center gap-3 bg-gray-50 p-1.5 rounded-2xl border border-gray-100 group-hover:bg-white transition-all",children:[d.jsx("button",{onClick:()=>D(z.productId,z.required-1),className:"w-8 h-8 rounded-xl flex items-center justify-center text-gray-400 hover:text-red-500 transition-colors bg-white shadow-sm",children:"-"}),d.jsx("input",{type:"number",className:"w-16 text-center bg-transparent font-black text-brand-600 text-lg outline-none",value:z.required,onChange:Y=>D(z.productId,parseInt(Y.target.value)||0)}),d.jsx("button",{onClick:()=>D(z.productId,z.required+1),className:"w-8 h-8 rounded-xl flex items-center justify-center text-gray-400 hover:text-emerald-500 transition-colors bg-white shadow-sm",children:"+"})]})}),d.jsxs("td",{className:"px-8 py-6 text-right",children:[d.jsx("div",{className:"font-black text-gray-800",children:qe(z.required*z.rate)}),d.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider",children:["@",qe(z.rate)]})]}),d.jsx("td",{className:"px-8 py-6 text-center",children:d.jsx("button",{onClick:()=>F(z.productId),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all opacity-0 group-hover:opacity-100",children:d.jsx(rs,{className:"w-4 h-4"})})})]},z.productId))})]})}),d.jsxs("div",{className:"p-8 bg-gray-900 text-white flex flex-col sm:flex-row justify-between items-center gap-4",children:[d.jsxs("div",{className:"flex gap-8",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Items to Order"}),d.jsxs("p",{className:"text-2xl font-black",children:[U.filter(z=>z.required>0).length," / ",U.length]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-brand-400 uppercase tracking-widest mb-1",children:"Estimated Investment"}),d.jsx("p",{className:"text-2xl font-black text-brand-500",children:qe(ne)})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("button",{onClick:()=>{window.confirm("Reset all quantities to suggested levels?")&&k()},className:"text-[10px] font-black uppercase text-gray-400 hover:text-white flex items-center gap-1.5 transition-all",children:[d.jsx(Iu,{className:"w-3 h-3"})," Reset all filters"]})})]})]})]})},doe=({onBack:e,onEdit:t})=>{const[n,r]=j.useState([]),[i,a]=j.useState(""),[o,l]=j.useState(""),[u,f]=j.useState(""),[h,p]=j.useState(""),[y,g]=j.useState(!1),w=j.useRef(null);j.useEffect(()=>{r(Be.getParties())},[]);const N=j.useMemo(()=>n.find(k=>k.id===i),[n,i]),A=j.useMemo(()=>{if(!i)return[];const k=Be.getTransactions().filter(B=>B.partyId===i&&B.type!=="QUOTATION").sort((B,U)=>new Date(B.date).getTime()-new Date(U.date).getTime());let P=0;const M=[];return k.forEach(B=>{var G;let U=0,D=0;B.type==="SALE"?U=B.totalAmount:B.type==="PURCHASE"||B.type==="PAYMENT_IN"?D=B.totalAmount:B.type==="PAYMENT_OUT"?U=B.totalAmount:B.type==="BALANCE_ADJUSTMENT"?B.totalAmount>=0?U=B.totalAmount:D=Math.abs(B.totalAmount):B.type==="SALE_RETURN"?D=B.totalAmount:B.type==="PURCHASE_RETURN"&&(U=B.totalAmount),P+=U-D;const F=new Date(B.date);let q=!0;o&&F<new Date(o)&&(q=!1),u&&F>new Date(u)&&(q=!1),q&&M.push({id:B.id,date:B.date,type:B.type==="BALANCE_ADJUSTMENT"?"BALA":B.type==="SALE"?"SALE":B.type==="PURCHASE"?"PURC":B.type.includes("PAYMENT")?"PAYM":B.type==="SALE_RETURN"?"SRTN":"VCHR",account:B.type==="SALE"||B.type==="PURCHASE"?`${B.type} ${(G=B.items)==null?void 0:G.map(R=>`${R.productName} ${R.quantity}${R.unit||"pcs"}@${R.rate}`).join(", ")}`:B.type.replace("_"," "),debit:U,credit:D,balance:Math.abs(P),balanceType:P>=0?"Dr":"Cr",narration:B.notes||"",original:B})}),M},[i,o,u]),_=()=>{if(!N)return;const k=["Date","Type","Vch No","Account","Debit","Credit","Balance","Narration"],P=A.map(M=>[Rn(M.date),M.type,M.id.slice(-6),M.account,M.debit>0?qe(M.debit):"",M.credit>0?qe(M.credit):"",`${qe(M.balance)} ${M.balanceType}`,M.narration]);Dh(`Statement: ${N.name}`,k,P)};return d.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-tight",children:"Party Statement (Ledger)"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",ref:w,children:[d.jsxs("div",{className:"relative",children:[d.jsx(_h,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Select Party...",className:"pl-10 pr-10 py-2.5 bg-white border border-gray-200 rounded-xl text-sm font-bold w-64 outline-none focus:ring-2 focus:ring-brand-500",value:(N==null?void 0:N.name)||h,onChange:k=>{p(k.target.value),i&&a(""),g(!0)},onFocus:()=>g(!0)}),d.jsx(Sl,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),y&&d.jsx("div",{className:"absolute top-full left-0 w-full mt-1 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 max-h-60 overflow-y-auto",children:n.filter(k=>k.name.toLowerCase().includes(h.toLowerCase())).map(k=>d.jsx("div",{className:"p-3 border-b last:border-0 hover:bg-brand-50 cursor-pointer text-sm font-bold text-gray-700",onClick:()=>{a(k.id),p(k.name),g(!1)},children:k.name},k.id))})]}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:o,onChange:l,placeholder:"Start Date"})}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:u,onChange:f,placeholder:"End Date"})}),d.jsx("button",{onClick:_,className:"p-3 bg-gray-900 text-white rounded-xl shadow-lg hover:bg-black transition-all active:scale-95",children:d.jsx(js,{className:"w-5 h-5"})})]})]}),i?d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/30",children:[d.jsx("h1",{className:"text-3xl font-black text-gray-800 tracking-tight",children:N==null?void 0:N.name}),d.jsxs("div",{className:"flex gap-4 mt-1",children:[d.jsx("span",{className:"text-[10px] font-black uppercase text-brand-600 tracking-widest",children:N==null?void 0:N.type}),d.jsxs("span",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:["Phone: ",(N==null?void 0:N.phone)||"N/A"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto custom-scrollbar",children:[d.jsxs("table",{className:"w-full text-[13px] border-collapse",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-black uppercase text-[10px] tracking-widest border-y border-gray-100 sticky top-0 z-10",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-center w-32",children:"Date"}),d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-center w-20",children:"Type"}),d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-center w-28",children:"Vch No"}),d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-left",children:"Account"}),d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-right w-32",children:"Debit(Rs.)"}),d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-right w-32",children:"Credit(Rs.)"}),d.jsx("th",{className:"px-6 py-4 border-r border-gray-100 text-right w-40",children:"Balance(Rs.)"}),d.jsx("th",{className:"px-6 py-4 text-left",children:"Narration"}),d.jsx("th",{className:"px-6 py-4 text-center w-16",children:"Edit"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-100 font-medium",children:[d.jsxs("tr",{className:"bg-blue-50/30",children:[d.jsx("td",{colSpan:3,className:"px-6 py-4 border-r border-gray-100"}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 font-black text-gray-900 uppercase",children:"Opening Balance"}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100"}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100"}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 text-right font-black text-gray-900",children:"0 Dr"}),d.jsx("td",{className:"px-6 py-4",colSpan:2})]}),A.map((k,P)=>d.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 text-center font-bold text-gray-500",children:Rn(k.date)}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 text-center font-black text-[10px]",children:k.type}),d.jsxs("td",{className:"px-6 py-4 border-r border-gray-100 text-center font-mono text-gray-400",children:["#",k.id.slice(-6)]}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 font-bold text-gray-800 leading-tight",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:"uppercase text-[11px] mb-0.5",children:k.type.replace("_"," ")}),d.jsx("span",{className:"text-[10px] text-gray-400 font-medium leading-normal",children:k.account})]})}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 text-right font-black text-gray-900",children:k.debit>0?qe(k.debit):""}),d.jsx("td",{className:"px-6 py-4 border-r border-gray-100 text-right font-black text-gray-900",children:k.credit>0?qe(k.credit):""}),d.jsxs("td",{className:"px-6 py-4 border-r border-gray-100 text-right font-black text-gray-900",children:[qe(k.balance)," ",k.balanceType]}),d.jsx("td",{className:"px-6 py-4 text-gray-400 italic text-xs truncate max-w-[150px]",children:k.narration}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("button",{onClick:()=>t==null?void 0:t(k.original),className:"p-1.5 text-gray-400 hover:text-brand-600 hover:bg-brand-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:d.jsx(Nc,{className:"w-4 h-4"})})})]},P))]})]}),A.length===0&&d.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-2 opacity-30",children:[d.jsx(NB,{className:"w-10 h-10"}),d.jsx("p",{className:"text-xs font-black uppercase",children:"No transaction activity recorded for this period"})]})]}),d.jsxs("div",{className:"p-6 bg-gray-900 text-white flex justify-between items-center rounded-b-3xl",children:[d.jsxs("div",{className:"flex gap-10",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-brand-400 uppercase tracking-widest mb-1",children:"Total Debit"}),d.jsx("p",{className:"text-xl font-black",children:qe(A.reduce((k,P)=>k+P.debit,0))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest mb-1",children:"Total Credit"}),d.jsx("p",{className:"text-xl font-black",children:qe(A.reduce((k,P)=>k+P.credit,0))})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Final Net Balance"}),d.jsxs("p",{className:"text-3xl font-black text-brand-500",children:[qe(A.length>0?A[A.length-1].balance:0),d.jsx("span",{className:"text-sm ml-1 opacity-60 font-bold",children:A.length>0?A[A.length-1].balanceType:""})]})]})]})]}):d.jsxs("div",{className:"flex-1 bg-white border border-dashed border-gray-300 rounded-[2.5rem] flex flex-col items-center justify-center text-gray-400 gap-4",children:[d.jsx(_h,{className:"w-16 h-16 opacity-10"}),d.jsx("p",{className:"font-bold uppercase text-xs tracking-[0.2em]",children:"Select a party to view transaction ledger"})]})]})},yg=({title:e,type:t,onBack:n})=>{const[r,i]=j.useState([]),[a,o]=j.useState([]),[l,u]=j.useState([]),[f,h]=j.useState(""),[p,y]=j.useState("");return j.useEffect(()=>{const g=Be.getProducts(),w=Be.getTransactions();o(g),u(w);let N=w.filter(A=>A.type===t);if(f){const A=new Date(f);A.setHours(0,0,0,0),N=N.filter(_=>new Date(_.date)>=A)}if(p){const A=new Date(p);A.setHours(23,59,59,999),N=N.filter(_=>new Date(_.date)<=A)}i(N)},[t,f,p]),d.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 uppercase tracking-tight",children:e})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:f,onChange:h,placeholder:"From Date"})}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:p,onChange:y,placeholder:"To Date"})})]})]}),(t==="SALE"||t==="SALE_RETURN")&&d.jsx(pO,{transactions:r,products:a,allTransactions:l}),d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1",children:"Detailed Logs"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>jc(_S(r),"Report"),className:"p-3 bg-white border border-gray-200 rounded-xl text-emerald-600 hover:bg-emerald-50 transition-colors shadow-sm",children:d.jsx(wc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>Dh(e,["Date","Ref","Party","Amount"],r.map(g=>[Rn(g.date),g.id,g.partyName,qe(g.totalAmount)])),className:"p-3 bg-white border border-gray-200 rounded-xl text-blue-600 hover:bg-blue-50 transition-colors shadow-sm",children:d.jsx(js,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold uppercase text-[10px] tracking-widest sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Date"}),d.jsx("th",{className:"px-6 py-4",children:"Ref No"}),d.jsx("th",{className:"px-6 py-4",children:"Party Details"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Total Amount"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(g=>d.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-gray-500",children:Rn(g.date)}),d.jsxs("td",{className:"px-6 py-4 font-mono text-gray-400 font-bold text-xs",children:["#",g.id.slice(-6)]}),d.jsx("td",{className:"px-6 py-4 font-black text-gray-800",children:g.partyName}),d.jsx("td",{className:"px-6 py-4 text-right font-black text-brand-600 text-lg",children:qe(g.totalAmount)})]},g.id)),r.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"py-20 text-center text-gray-400 font-bold uppercase text-xs tracking-widest",children:"No matching records found"})})]})]})})]})]})},pO=({transactions:e,products:t,allTransactions:n})=>{const r=j.useMemo(()=>{const i=new Map;t.forEach(h=>i.set(h.id,h));let a=0,o=0,l=0;if(e.forEach(h=>{var p,y;h.type==="SALE"?(a+=h.totalAmount,(p=h.items)==null||p.forEach(g=>{const w=i.get(g.productId);if(w&&w.type!=="service"){let N=g.quantity;g.unit&&w.secondaryUnit&&g.unit===w.secondaryUnit&&w.conversionRatio&&(N=g.quantity/w.conversionRatio),o+=N*w.purchasePrice}})):h.type==="SALE_RETURN"&&(a-=h.totalAmount,(y=h.items)==null||y.forEach(g=>{const w=i.get(g.productId);if(w&&w.type!=="service"){let N=g.quantity;g.unit&&w.secondaryUnit&&g.unit===w.secondaryUnit&&w.conversionRatio&&(N=g.quantity/w.conversionRatio),o-=N*w.purchasePrice}}))}),e.length>0){const h=e.map(g=>new Date(g.date).getTime()),p=Math.min(...h),y=Math.max(...h);l=n.filter(g=>g.type==="EXPENSE").filter(g=>{const w=new Date(g.date).getTime();return w>=p&&w<=y}).reduce((g,w)=>g+w.totalAmount,0)}const u=a-o,f=u-l;return{netSales:a,totalCogs:o,grossProfit:u,periodExpenses:l,netProfit:f}},[e,t,n]);return d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm transition-all hover:shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 text-[10px] font-black uppercase mb-1 tracking-wider",children:[d.jsx(xj,{className:"w-4 h-4"})," Net Value"]}),d.jsx("div",{className:"text-2xl font-black text-gray-800",children:qe(r.netSales)}),d.jsx("div",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-tight",children:"Revenue contribution"})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm transition-all hover:shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 text-orange-600 text-[10px] font-black uppercase mb-1 tracking-wider",children:[d.jsx(vj,{className:"w-4 h-4"})," Stock Value"]}),d.jsx("div",{className:"text-2xl font-black text-gray-800",children:qe(r.totalCogs)}),d.jsx("div",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-tight",children:"Inventory investment"})]}),d.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-gray-100 shadow-sm transition-all hover:shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-2 text-blue-600 text-[10px] font-black uppercase mb-1 tracking-wider",children:[d.jsx(R9,{className:"w-4 h-4"})," Margin"]}),d.jsx("div",{className:"text-2xl font-black text-gray-800",children:qe(r.grossProfit)}),d.jsx("div",{className:"text-[10px] text-gray-400 mt-1 font-bold uppercase tracking-tight",children:"Profit on records"})]}),d.jsxs("div",{className:"bg-brand-600 p-5 rounded-2xl shadow-lg shadow-brand-500/20 transform hover:scale-[1.02] transition-all",children:[d.jsxs("div",{className:"flex items-center gap-2 text-brand-100 text-[10px] font-black uppercase mb-1 tracking-wider",children:[d.jsx(gj,{className:"w-4 h-4"})," Actual Gain"]}),d.jsx("div",{className:"text-2xl font-black text-white",children:qe(r.netProfit)}),d.jsx("div",{className:"text-[10px] text-brand-100/70 mt-1 font-bold uppercase tracking-tight",children:"Bottom Line impact"})]})]})},foe=({onBack:e})=>{const[t,n]=j.useState(new Date().toISOString()),[r,i]=j.useState([]),[a,o]=j.useState([]),[l,u]=j.useState([]);return j.useEffect(()=>{const f=Be.getTransactions(),h=Be.getProducts();o(h),u(f);const p=new Date(t);p.setHours(0,0,0,0);const y=new Date(t);y.setHours(23,59,59,999);const g=f.filter(w=>{const N=new Date(w.date);return N>=p&&N<=y});i(g)},[t]),d.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 uppercase tracking-tight",children:"Daily Cash Book"})]}),d.jsx("div",{className:"w-48",children:d.jsx(Wi,{value:t,onChange:n})})]}),d.jsx(pO,{transactions:r,products:a,allTransactions:l}),d.jsxs("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between bg-gray-50/50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(w5,{className:"w-5 h-5 text-gray-400"}),d.jsxs("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:["Transactions for ",Rn(t)]})]})}),d.jsx("div",{className:"flex-1 overflow-auto custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-600 font-bold uppercase text-[10px] tracking-widest sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Time"}),d.jsx("th",{className:"px-6 py-4",children:"Type"}),d.jsx("th",{className:"px-6 py-4",children:"Particulars"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-100",children:[r.map(f=>d.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 font-mono text-gray-400 text-xs",children:new Date(f.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-tighter ${f.type==="SALE"?"bg-emerald-50 text-emerald-600":f.type==="PURCHASE"?"bg-blue-50 text-blue-600":f.type==="EXPENSE"?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600"}`,children:f.type.replace("_"," ")})}),d.jsx("td",{className:"px-6 py-4 font-bold text-gray-800",children:f.partyName}),d.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900 text-lg",children:qe(f.totalAmount)})]},f.id)),r.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"py-20 text-center text-gray-400 font-bold uppercase text-xs tracking-widest",children:"No activity for this day"})})]})]})})]})]})},hoe=({onBack:e})=>{const[t,n]=j.useState(()=>{const h=new Date;return h.setDate(1),h.toISOString()}),[r,i]=j.useState(new Date().toISOString()),[a,o]=j.useState([]),[l,u]=j.useState([]);j.useEffect(()=>{o(Be.getProducts());const h=new Date(t);h.setHours(0,0,0,0);const p=new Date(r);p.setHours(23,59,59,999),u(Be.getTransactions().filter(y=>{const g=new Date(y.date);return g>=h&&g<=p}))},[t,r]);const f=j.useMemo(()=>{const h=new Map;a.forEach(P=>h.set(P.id,P));let p=0,y=0,g=0,w=0;const N={};l.forEach(P=>{var M,B;if(P.type==="SALE")p+=P.totalAmount,(M=P.items)==null||M.forEach(U=>{const D=h.get(U.productId);if(D&&D.type!=="service"){let F=U.quantity;U.unit&&D.secondaryUnit&&U.unit===D.secondaryUnit&&D.conversionRatio&&(F/=D.conversionRatio),g+=F*D.purchasePrice}});else if(P.type==="SALE_RETURN")y+=P.totalAmount,(B=P.items)==null||B.forEach(U=>{const D=h.get(U.productId);if(D&&D.type!=="service"){let F=U.quantity;U.unit&&D.secondaryUnit&&U.unit===D.secondaryUnit&&D.conversionRatio&&(F=U.quantity/D.conversionRatio),g-=F*D.purchasePrice}});else if(P.type==="EXPENSE"){w+=P.totalAmount;const U=P.category||"General";N[U]=(N[U]||0)+P.totalAmount}});const A=p-y,_=A-g,k=_-w;return{netSales:A,cogs:g,grossProfit:_,expenses:w,netProfit:k,expMap:N}},[l,a]);return d.jsxs("div",{className:"flex flex-col h-full space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsx("h2",{className:"text-xl font-bold text-gray-800 uppercase tracking-tight",children:"Financial Performance"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:t,onChange:n})}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:r,onChange:i})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 overflow-hidden",children:[d.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm p-10 space-y-8 overflow-y-auto custom-scrollbar",children:[d.jsx("h3",{className:"font-black text-gray-400 text-[10px] uppercase tracking-[0.2em] mb-4",children:"Revenue & COGS Breakdown"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600 font-bold text-lg",children:"Net Sales"}),d.jsx("span",{className:"font-black text-2xl text-emerald-600",children:qe(f.netSales)})]}),d.jsxs("div",{className:"flex justify-between items-center text-orange-600",children:[d.jsx("span",{className:"font-bold uppercase text-[10px] tracking-widest",children:"Cost of Goods (COGS)"}),d.jsxs("span",{className:"font-black text-xl",children:["(",qe(f.cogs),")"]})]}),d.jsxs("div",{className:"pt-6 border-t-2 border-gray-900 flex justify-between items-center bg-gray-50 p-6 rounded-3xl",children:[d.jsx("span",{className:"text-gray-800 font-black uppercase text-xs tracking-widest",children:"Gross Profit"}),d.jsx("span",{className:"font-black text-3xl text-blue-600",children:qe(f.grossProfit)})]})]})]}),d.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm p-10 space-y-8 overflow-y-auto custom-scrollbar",children:[d.jsx("h3",{className:"font-black text-gray-400 text-[10px] uppercase tracking-[0.2em] mb-4",children:"Operating Overhead"}),d.jsx("div",{className:"space-y-4",children:Object.entries(f.expMap).map(([h,p])=>d.jsxs("div",{className:"flex justify-between items-center p-4 rounded-2xl bg-gray-50/50 hover:bg-gray-50 transition-colors",children:[d.jsx("span",{className:"text-gray-600 font-black uppercase text-[10px] tracking-wider",children:h}),d.jsx("span",{className:"font-black text-gray-900",children:qe(p)})]},h))}),d.jsxs("div",{className:"pt-8 border-t border-gray-100 flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-500 font-bold uppercase text-[10px] tracking-widest",children:"Total Expenses"}),d.jsx("span",{className:"font-black text-red-600 text-lg",children:qe(f.expenses)})]}),d.jsx("div",{className:"pt-6",children:d.jsxs("div",{className:"bg-gray-900 text-white rounded-[2rem] p-8 shadow-2xl relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("span",{className:"text-[10px] font-black uppercase text-brand-400 tracking-widest",children:"Net Business Profit"}),d.jsx("div",{className:"text-5xl font-black mt-3",children:qe(f.netProfit)}),d.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 px-4 py-2 bg-white/10 rounded-full text-[10px] font-black uppercase tracking-widest",children:[d.jsx(A5,{className:"w-3 h-3"})," Net Margin: ",f.netSales>0?(f.netProfit/f.netSales*100).toFixed(1):0,"%"]})]}),d.jsx(gj,{className:"absolute bottom-0 right-0 w-40 h-40 text-white/5 -mb-10 -mr-10"})]})})]})]})]})},poe=({onBack:e})=>{const[t,n]=j.useState(""),{addToast:r}=kr(),i=j.useMemo(()=>Be.getParties().filter(u=>u.name.toLowerCase().includes(t.toLowerCase())),[t]),a=j.useMemo(()=>i.reduce((u,f)=>({receivable:u.receivable+(f.balance>0?f.balance:0),payable:u.payable+(f.balance<0?Math.abs(f.balance):0)}),{receivable:0,payable:0}),[i]),o=()=>{jc(YL(i),"All_Parties_Balances"),r("Exported successfully","success")},l=()=>{Dh("Party Balance List",["Name","Phone","Type","Balance","Status"],i.map(u=>[u.name,u.phone,u.type,qe(Math.abs(u.balance)),u.balance>=0?"To Rx":"To Pay"]))};return d.jsxs("div",{className:"flex flex-col h-full space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-tight",children:"Party Balances"}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Receivables & Payables Summary"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative w-64",children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search party...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold outline-none",value:t,onChange:u=>n(u.target.value)})]}),d.jsx("button",{onClick:o,className:"p-2.5 bg-white border border-gray-200 text-emerald-600 rounded-xl hover:bg-emerald-50 shadow-sm transition-all",children:d.jsx(wc,{className:"w-5 h-5"})}),d.jsx("button",{onClick:l,className:"p-2.5 bg-gray-900 text-white rounded-xl hover:bg-black shadow-lg",children:d.jsx(js,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-emerald-50 p-6 rounded-2xl border border-emerald-100",children:[d.jsx("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest mb-1",children:"Total To Receive"}),d.jsx("p",{className:"text-2xl font-black text-emerald-700",children:qe(a.receivable)})]}),d.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[d.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Total To Give"}),d.jsx("p",{className:"text-2xl font-black text-red-700",children:qe(a.payable)})]})]}),d.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto flex-1 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-black uppercase text-[10px] tracking-widest border-b border-gray-100 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Name"}),d.jsx("th",{className:"px-6 py-4",children:"Contact"}),d.jsx("th",{className:"px-6 py-4",children:"Type"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Balance"}),d.jsx("th",{className:"px-6 py-4 text-center",children:"Status"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:i.map(u=>d.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 font-bold text-gray-800",children:u.name}),d.jsx("td",{className:"px-6 py-4 text-gray-500",children:u.phone||"-"}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase ${u.type==="customer"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:u.type})}),d.jsx("td",{className:`px-6 py-4 text-right font-black ${u.balance>=0?"text-emerald-600":"text-red-600"}`,children:qe(Math.abs(u.balance))}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:`text-[10px] font-black uppercase tracking-tight ${u.balance>=0?"text-emerald-500":"text-red-500"}`,children:u.balance>=0?"Receivable":"Payable"})})]},u.id))})]})})})]})},moe=({onBack:e,filter:t})=>{const[n,r]=j.useState(""),{addToast:i}=kr(),a=j.useMemo(()=>Be.getProducts().filter(u=>u.type!=="service"&&u.name.toLowerCase().includes(n.toLowerCase())),[n]),o=j.useMemo(()=>a.reduce((u,f)=>u+f.stock*f.purchasePrice,0),[a]),l=()=>{jc(WL(a),"Inventory_Valuation_Report"),i("Exported successfully","success")};return d.jsxs("div",{className:"flex flex-col h-full space-y-6 animate-in fade-in duration-300",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full text-gray-500",children:d.jsx(kl,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-black text-gray-800 uppercase tracking-tight",children:"Inventory Ledger"}),d.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Current Valuation & Quantity"})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative w-64",children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search item...",className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-xl text-sm font-bold outline-none",value:n,onChange:u=>r(u.target.value)})]}),d.jsx("button",{onClick:l,className:"p-2.5 bg-white border border-gray-200 text-emerald-600 rounded-xl hover:bg-emerald-50 shadow-sm transition-all",children:d.jsx(wc,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"bg-brand-50 p-6 rounded-2xl border border-brand-100",children:[d.jsx("p",{className:"text-[10px] font-black text-brand-600 uppercase tracking-widest mb-1",children:"Stock Assets Value (at Cost)"}),d.jsx("p",{className:"text-3xl font-black text-brand-700",children:qe(o)})]}),d.jsx("div",{className:"bg-white rounded-3xl border border-gray-100 shadow-sm flex flex-col flex-1 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto flex-1 custom-scrollbar",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-black uppercase text-[10px] tracking-widest border-b border-gray-100 sticky top-0 z-10 shadow-sm",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Item Name"}),d.jsx("th",{className:"px-6 py-4",children:"Category"}),d.jsx("th",{className:"px-6 py-4 text-center",children:"In Stock"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Cost Price"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Valuation"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-50",children:a.map(u=>d.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[d.jsx("td",{className:"px-6 py-4 font-bold text-gray-800",children:u.name}),d.jsx("td",{className:"px-6 py-4 text-gray-500 text-xs font-bold uppercase tracking-wider",children:u.category}),d.jsxs("td",{className:`px-6 py-4 text-center font-black ${u.stock<5?"text-red-500":"text-gray-700"}`,children:[u.stock," ",u.unit]}),d.jsx("td",{className:"px-6 py-4 text-right text-gray-500",children:qe(u.purchasePrice)}),d.jsx("td",{className:"px-6 py-4 text-right font-black text-gray-900",children:qe(u.stock*u.purchasePrice)})]},u.id))})]})})})]})},goe=()=>{const[e,t]=j.useState([]),[n,r]=j.useState("1"),[i,a]=j.useState([]),[o,l]=j.useState(0),[u,f]=j.useState(!1),[h,p]=j.useState({name:"",type:"Bank",balance:0,bankName:"",accountNumber:""}),[y,g]=j.useState(!1),[w,N]=j.useState({toAccountId:"",amount:"",date:new Date().toISOString(),remarks:""}),[A,_]=j.useState(!1),[k,P]=j.useState({newBalance:"",date:new Date().toISOString(),remarks:""}),{addToast:M}=kr();j.useEffect(()=>{B()},[]),j.useEffect(()=>{n&&U(n)},[n,e]);const B=()=>{const $=Be.getAccounts();t($),l($.reduce((ne,z)=>ne+z.balance,0)),!$.find(ne=>ne.id===n)&&$.length>0&&r($[0].id)},U=$=>{const z=Be.getTransactions().filter(Y=>Y.accountId===$||Y.type==="TRANSFER"&&Y.transferAccountId===$||!Y.accountId&&$==="1"&&(Y.paymentMode==="Cash"||!Y.paymentMode)).sort((Y,ee)=>new Date(ee.date).getTime()-new Date(Y.date).getTime());a(z)},D=$=>{if($.preventDefault(),h.name){const ne={id:h.id||Date.now().toString(),name:h.name,type:h.type||"Bank",balance:Number(h.balance)||0,bankName:h.bankName,accountNumber:h.accountNumber,isDefault:!1};h.id?(Be.updateAccount(ne),M("Account updated successfully","success")):(Be.addAccount(ne),M("New account created","success")),f(!1),B(),p({name:"",type:"Bank",balance:0,bankName:"",accountNumber:""})}},F=$=>{window.confirm("Are you sure you want to delete this account?")&&(Be.deleteAccount($)?(M("Account deleted successfully","success"),B()):M("Cannot delete default account or account with existing transactions.","error"))},q=$=>{p({...$}),f(!0)},G=$=>{if($.preventDefault(),w.toAccountId&&w.amount&&K){const ne=Number(w.amount);if(ne<=0){M("Amount must be greater than 0","error");return}if(K.balance<ne){M("Insufficient funds in source account","error");return}if(w.toAccountId===K.id){M("Cannot transfer to same account","error");return}const z=e.find(Y=>Y.id===w.toAccountId);Be.addTransaction({id:Date.now().toString(),date:w.date,type:"TRANSFER",partyId:"",partyName:`Transfer to ${z==null?void 0:z.name}`,items:[],totalAmount:ne,notes:w.remarks,accountId:K.id,transferAccountId:w.toAccountId}),M("Transfer successful","success"),g(!1),N({toAccountId:"",amount:"",date:new Date().toISOString(),remarks:""}),B()}},R=$=>{if($.preventDefault(),k.newBalance!==""&&K){const z=Number(k.newBalance)-K.balance;if(z===0){M("New balance is same as current balance","info");return}Be.addTransaction({id:Date.now().toString(),date:k.date,type:"BALANCE_ADJUSTMENT",partyId:"",partyName:"System Adjustment",items:[],totalAmount:z,notes:k.remarks||"Manual Balance Correction",accountId:K.id}),M("Balance adjusted successfully","success"),_(!1),P({newBalance:"",date:new Date().toISOString(),remarks:""}),B()}},O=$=>{switch($){case"Cash":return d.jsx(So,{className:"w-6 h-6"});case"Bank":return d.jsx(BB,{className:"w-6 h-6"});case"Mobile Wallet":return d.jsx(GU,{className:"w-6 h-6"});default:return d.jsx(dB,{className:"w-6 h-6"})}},K=e.find($=>$.id===n);return d.jsxs("div",{className:"p-4 lg:p-8 h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Manage Accounts (",e.length,")"]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs("button",{onClick:()=>{p({name:"",type:"Bank",balance:0}),f(!0)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors shadow-sm",children:[d.jsx(ca,{className:"w-4 h-4"}),"Add Account"]})})]}),d.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full min-h-[500px]",children:[d.jsxs("div",{className:"w-full lg:w-1/3 bg-white border border-gray-200 rounded-xl flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-gray-100",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-gray-500 text-sm",children:"Total Balance:"}),d.jsx("span",{className:"font-bold text-gray-900 text-lg",children:qe(o)})]}),d.jsx("div",{className:"text-xs text-gray-400 uppercase font-semibold mt-4 mb-2",children:"Accounts"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:e.map($=>d.jsxs("button",{onClick:()=>r($.id),className:`w-full flex items-center justify-between p-3 rounded-lg text-left transition-colors ${n===$.id?"bg-emerald-50 border border-emerald-100":"hover:bg-gray-50 border border-transparent"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${n===$.id?"bg-white text-emerald-600":"bg-gray-100 text-gray-500"}`,children:O($.type)}),d.jsxs("div",{children:[d.jsx("div",{className:`font-medium ${n===$.id?"text-emerald-900":"text-gray-900"}`,children:$.name}),d.jsx("div",{className:"text-xs text-gray-400",children:$.type})]})]}),d.jsx("div",{className:`font-bold ${$.balance<0?"text-red-500":n===$.id?"text-emerald-600":"text-gray-600"}`,children:qe($.balance)})]},$.id))})]}),d.jsx("div",{className:"flex-1 bg-white border border-gray-200 rounded-xl flex flex-col",children:K?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:O(K.type)}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900",children:K.name}),d.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[K.accountNumber&&d.jsxs("span",{children:["Ac No: ",K.accountNumber]}),K.bankName&&d.jsx("span",{children:K.bankName})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[d.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors",children:[d.jsx(_j,{className:"w-4 h-4"}),"Transfer"]}),d.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:[d.jsx(Xo,{className:"w-4 h-4"}),"Adjust"]}),d.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),d.jsx("button",{onClick:()=>q(K),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg",children:d.jsx(Nc,{className:"w-5 h-5"})}),!K.isDefault&&d.jsx("button",{onClick:()=>F(K.id),className:"p-2 text-gray-500 hover:bg-red-50 hover:text-red-500 rounded-lg",children:d.jsx(rs,{className:"w-5 h-5"})})]})]}),d.jsxs("div",{className:"px-6 py-6",children:[d.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Current Balance"}),d.jsx("div",{className:"text-3xl font-bold text-gray-900",children:qe(K.balance)})]}),d.jsxs("div",{className:"flex-1 flex flex-col border-t border-gray-100 min-h-0",children:[d.jsx("div",{className:"px-6 py-4 flex items-center justify-between",children:d.jsxs("h3",{className:"font-bold text-gray-800",children:["Transactions Activity (",i.length,")"]})}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium sticky top-0",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Type"}),d.jsx("th",{className:"px-6 py-3",children:"Date"}),d.jsx("th",{className:"px-6 py-3",children:"Rec/Paid Amount"}),d.jsx("th",{className:"px-6 py-3",children:"Remarks"})]})}),d.jsxs("tbody",{className:"divide-y divide-gray-100",children:[i.map($=>{$.accountId;const ne=$.transferAccountId===n;let z=$.totalAmount,Y=["SALE","PAYMENT_IN","PURCHASE_RETURN"].includes($.type);return $.type==="TRANSFER"&&(ne?Y=!0:Y=!1),$.type==="BALANCE_ADJUSTMENT"&&($.totalAmount>=0?Y=!0:(Y=!1,z=Math.abs($.totalAmount))),["PURCHASE","PAYMENT_OUT","SALE_RETURN","EXPENSE"].includes($.type)&&(Y=!1),d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("div",{className:"font-medium text-gray-900",children:$.type==="TRANSFER"?ne?"Received Transfer":"Transfer Out":$.type.replace("_"," ")}),d.jsxs("div",{className:"text-xs text-gray-400",children:["#",$.id," - ",$.partyName]})]}),d.jsx("td",{className:"px-6 py-4 text-gray-600",children:Rn($.date)}),d.jsxs("td",{className:`px-6 py-4 font-bold ${Y?"text-emerald-600":"text-red-500"}`,children:[Y?"+":"-",qe(z)]}),d.jsx("td",{className:"px-6 py-4 text-gray-500 truncate max-w-[200px]",children:$.notes||"--"})]},$.id)}),i.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:4,className:"text-center py-8 text-gray-400",children:"No transactions found"})})]})]})})]})]}):d.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Select an account to view details"})})]}),u&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-bold",children:h.id?"Edit Account":"Add New Account"}),d.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),d.jsx("input",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Laxmi Sunrise Bank",value:h.name,onChange:$=>p({...h,name:$.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Type"}),d.jsxs("select",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",value:h.type,onChange:$=>p({...h,type:$.target.value}),children:[d.jsx("option",{value:"Bank",children:"Bank Account"}),d.jsx("option",{value:"Cash",children:"Cash In Hand"}),d.jsx("option",{value:"Mobile Wallet",children:"Mobile Wallet (Esewa/Khalti)"}),d.jsx("option",{value:"Other",children:"Other"})]})]}),h.type==="Bank"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),d.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"e.g. Laxmi Sunrise",value:h.bankName||"",onChange:$=>p({...h,bankName:$.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),d.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"0000...",value:h.accountNumber||"",onChange:$=>p({...h,accountNumber:$.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Balance"}),d.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg p-2 outline-none",placeholder:"0",value:h.balance,onChange:$=>p({...h,balance:Number($.target.value)})})]}),d.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600",children:h.id?"Update":"Save"})]})]})]})}),y&&K&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-6 shadow-xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Transfer Funds"}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200 mb-4",children:[d.jsx("div",{className:"text-xs text-gray-500 uppercase font-semibold",children:"Source Account"}),d.jsx("div",{className:"font-bold text-gray-800",children:K.name}),d.jsxs("div",{className:"text-sm text-gray-600",children:["Balance: ",qe(K.balance)]})]}),d.jsxs("form",{onSubmit:G,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transfer To"}),d.jsxs("select",{required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",value:w.toAccountId,onChange:$=>N({...w,toAccountId:$.target.value}),children:[d.jsx("option",{value:"",children:"Select Destination Account"}),e.filter($=>$.id!==K.id).map($=>d.jsxs("option",{value:$.id,children:[$.name," (",qe($.balance),")"]},$.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),d.jsx("input",{type:"number",required:!0,min:"1",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:w.amount,onChange:$=>N({...w,amount:$.target.value?Number($.target.value):""})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),d.jsx("div",{className:"w-full",children:d.jsx(Wi,{value:w.date,onChange:$=>N({...w,date:$})})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),d.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Bank Deposit",value:w.remarks,onChange:$=>N({...w,remarks:$.target.value})})]}),d.jsx("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium mt-2",children:"Confirm Transfer"})]})]})}),A&&K&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-sm p-6 shadow-xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-bold",children:"Adjust Balance"}),d.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"text-sm text-gray-600 mb-4 bg-yellow-50 p-3 rounded-lg border border-yellow-100",children:"This will create a correction entry to set your account balance to the actual physical amount."}),d.jsxs("div",{className:"flex justify-between mb-2 px-1",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"Current System Balance:"}),d.jsx("span",{className:"font-bold",children:qe(K.balance)})]}),d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Actual Physical Balance"}),d.jsx("input",{type:"number",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 text-lg font-bold text-gray-900 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"0.00",value:k.newBalance,onChange:$=>P({...k,newBalance:$.target.value?Number($.target.value):""})})]}),k.newBalance!==""&&d.jsxs("div",{className:"text-right text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Difference: "}),d.jsx("span",{className:`font-bold ${Number(k.newBalance)-K.balance>=0?"text-green-600":"text-red-600"}`,children:qe(Number(k.newBalance)-K.balance)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),d.jsx("div",{className:"w-full",children:d.jsx(Wi,{value:k.date,onChange:$=>P({...k,date:$})})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),d.jsx("input",{type:"text",required:!0,className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"e.g. Reconciliation correction",value:k.remarks,onChange:$=>P({...k,remarks:$.target.value})})]}),d.jsx("button",{type:"submit",className:"w-full py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 font-medium mt-2",children:"Save Adjustment"})]})]})})]})},yoe=({onSelect:e})=>{const[t,n]=j.useState([]),[r,i]=j.useState(!0),[a,o]=j.useState(!1),[l,u]=j.useState(""),[f,h]=j.useState(!1),[p,y]=j.useState(null),[g,w]=j.useState(!1),[N,A]=j.useState([]),[_,k]=j.useState(!1),[P,M]=j.useState(""),{addToast:B}=kr();j.useEffect(()=>{U()},[]);const U=async()=>{try{const R=await Be.getCompanies();n(R)}catch(R){console.error("Failed to load companies",R)}finally{i(!1)}},D=async R=>{try{y(R),await Be.switchCompany(R),e()}catch(O){console.error("Failed to switch company",O),y(null)}},F=async R=>{if(R.preventDefault(),!!l.trim()){h(!0);try{const O=await Be.createCompany(l);await D(O.id)}catch(O){console.error("Failed to create company",O),h(!1)}}},q=async()=>{k(!0),M(""),A([]);try{const R=await Tm();if(!R){M("No local backup folder specified. Please set one in Settings."),k(!1);return}if(!await Dy(R,!1)){M("Permission to access the backup folder was denied."),k(!1);return}const K=[];for await(const $ of R.values())if($.kind==="file"&&$.name.endsWith(".json")&&$.name.includes("AAPro")){const ne=$,z=await ne.getFile();K.push({id:$.name,name:$.name,handle:ne,date:new Date(z.lastModified)})}A(K.sort(($,ne)=>ne.date.getTime()-$.date.getTime()))}catch{M("Failed to scan directory.")}finally{k(!1)}},G=async R=>{if(window.confirm(`Restore "${R.name}" from local folder? Current data will be replaced.`))try{const O=await R.handle.getFile(),K=JSON.parse(await O.text()),$=await Be.restoreData(K);$.success?(B("System restored successfully!","success"),setTimeout(()=>window.location.reload(),1500)):B($.message||"Restoration failed","error")}catch{B("Error processing backup file","error")}};return r?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:d.jsx(ju,{className:"w-8 h-8 animate-spin text-brand-500"})}):d.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 font-sans",children:[d.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-3xl shadow-2xl overflow-hidden border border-gray-100 dark:border-gray-700 animate-in fade-in zoom-in-95 duration-500",children:[d.jsxs("div",{className:"bg-brand-500 p-8 text-center text-white relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(Lm,{className:"w-24 h-24 rotate-12"})}),d.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-sm shadow-inner",children:d.jsx(dm,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-2xl font-black mb-1 uppercase tracking-tight",children:"Business Hub"}),d.jsx("p",{className:"text-brand-100 text-xs font-bold uppercase tracking-widest opacity-80",children:"Select Workspace"})]}),d.jsx("div",{className:"p-6",children:a?d.jsxs("form",{onSubmit:F,className:"space-y-4 animate-in slide-in-from-right-4 duration-300",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-black text-gray-400 dark:text-gray-500 uppercase mb-2 tracking-widest",children:"New Company Name"}),d.jsx("input",{autoFocus:!0,type:"text",className:"w-full p-4 border border-gray-200 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white font-bold transition-all",placeholder:"e.g. Acme Traders Pvt Ltd",value:l,onChange:R=>u(R.target.value)})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-4 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-2xl font-bold text-sm hover:bg-gray-200",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:f||!l.trim(),className:"flex-1 py-4 bg-brand-500 text-white rounded-2xl font-bold text-sm hover:bg-brand-600 flex items-center justify-center gap-2 disabled:opacity-50 shadow-lg shadow-brand-500/30",children:f?d.jsx(ju,{className:"w-5 h-5 animate-spin"}):"Start Workspace"})]})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"max-h-[260px] overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:t.map(R=>d.jsx("button",{onClick:()=>D(R.id),className:"w-full text-left p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-brand-500 dark:hover:border-brand-500 hover:shadow-lg transition-all group bg-white dark:bg-gray-800 active:scale-[0.98]",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-50 dark:bg-gray-700 flex items-center justify-center text-gray-400 group-hover:bg-brand-50 group-hover:text-brand-500 transition-colors",children:d.jsx(dm,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-gray-800 dark:text-white group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors",children:R.name}),d.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 uppercase font-black tracking-widest mt-0.5",children:["ID: ",R.id.substring(0,8)]})]})]}),d.jsx(_5,{className:"w-5 h-5 text-gray-300 group-hover:text-brand-500 transition-colors"})]})},R.id))}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>o(!0),className:"w-full py-4 border-2 border-dashed border-gray-200 dark:border-gray-600 text-gray-500 dark:text-gray-400 rounded-2xl font-bold text-sm hover:border-brand-500 transition-all flex items-center justify-center gap-2",children:[d.jsx(ca,{className:"w-5 h-5"})," Create New Business"]}),d.jsxs("button",{onClick:()=>{w(!0),q()},className:"w-full py-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl font-bold text-[10px] uppercase tracking-wider hover:bg-blue-100 transition-all flex items-center justify-center gap-2 border border-blue-100",children:[d.jsx(k2,{className:"w-3.5 h-3.5"})," Restore from local path"]})]})]})})]}),g&&d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-lg shadow-2xl flex flex-col max-h-[85vh] overflow-hidden",children:[d.jsxs("div",{className:"p-6 text-white flex justify-between items-center bg-blue-600",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-black flex items-center gap-2 uppercase tracking-tight",children:[d.jsx(Xo,{className:"w-6 h-6"})," Path Recovery"]}),d.jsx("p",{className:"text-white/80 text-xs font-medium mt-1",children:"Listing AAPro system backups from your local path."})]}),d.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-white/20 rounded-full",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar",children:_?d.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-gray-400 space-y-4",children:[d.jsx(ju,{className:"w-10 h-10 animate-spin text-brand-500"}),d.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"Accessing storage..."})]}):P?d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 p-6 rounded-2xl text-center",children:[d.jsx(Dm,{className:"w-10 h-10 text-red-500 mx-auto mb-4"}),d.jsx("p",{className:"text-red-700 dark:text-red-400 font-bold mb-4",children:P}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white rounded-xl font-bold text-sm",children:"Cancel"}),d.jsx("button",{onClick:q,className:"px-6 py-2 bg-red-600 text-white rounded-xl font-bold text-sm",children:"Retry"})]})]}):N.length>0?d.jsxs("div",{className:"space-y-3",children:[d.jsx("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest px-1",children:"Local Points Discovered"}),N.map(R=>d.jsxs("button",{onClick:()=>G(R),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 hover:bg-brand-50 border border-gray-100 dark:border-gray-600 rounded-2xl group transition-all",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 bg-white dark:bg-gray-800 rounded-xl flex items-center justify-center text-brand-500 border border-gray-100",children:d.jsx(bj,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-bold text-gray-800 dark:text-white truncate max-w-[200px]",children:R.name}),d.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black tracking-widest mt-0.5",children:R.date.toLocaleString()})]})]}),d.jsx("div",{className:"bg-brand-500 text-white p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Xo,{className:"w-4 h-4"})})]},R.id))]}):d.jsxs("div",{className:"py-20 text-center text-gray-400",children:[d.jsx(k2,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),d.jsx("p",{className:"font-bold",children:"No valid local backups found"})]})}),d.jsx("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-100 flex justify-end",children:d.jsxs("button",{onClick:q,className:"px-6 py-2.5 bg-white dark:bg-gray-700 text-gray-700 dark:text-white rounded-xl font-bold text-sm shadow-sm border border-gray-200 flex items-center gap-2 hover:bg-gray-50",children:[d.jsx(Xo,{className:`w-4 h-4 ${_?"animate-spin":""}`})," Refresh List"]})})]})})]})},voe=({job:e,onClose:t})=>{const[n,r]=j.useState(null);if(j.useEffect(()=>{r(Be.getBusinessProfile())},[]),!n)return null;const i=({type:a})=>d.jsxs("div",{className:"bg-white p-8 border-2 border-gray-200 rounded-3xl relative overflow-hidden mb-8 last:mb-0 print:mb-0 print:border-gray-400 print:rounded-none print:border-b-4 print:border-dashed print:shadow-none",children:[d.jsx("div",{className:"absolute top-0 right-0 px-6 py-2 bg-gray-900 text-white text-[10px] font-black uppercase tracking-widest rounded-bl-2xl print:border print:border-black print:text-black print:bg-white",children:a}),d.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-gray-100 pb-6 print:border-gray-300",children:[d.jsxs("div",{className:"flex gap-4",children:[n.logoUrl?d.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-16 h-16 rounded-xl object-contain"}):d.jsx("div",{className:"w-16 h-16 rounded-xl bg-brand-50 flex items-center justify-center border border-brand-100",children:d.jsx(Uu,{className:"w-8 h-8 text-brand-500"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-black text-gray-900 uppercase tracking-tight",children:n.name}),d.jsx("p",{className:"text-xs text-gray-500 font-bold",children:n.address}),d.jsxs("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-0.5",children:["Ph: ",n.phone," | PAN: ",n.pan]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase tracking-tighter",children:"REPAIR TICKET"}),d.jsxs("div",{className:"text-sm font-mono font-black text-brand-600",children:["#",e.ticketNumber]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Customer Details"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Lh,{className:"w-3.5 h-3.5 text-gray-300"}),d.jsx("p",{className:"text-sm font-black text-gray-800",children:e.customerName})]}),d.jsx("p",{className:"text-xs text-gray-500 ml-5",children:e.customerPhone})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Device Information"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Gy,{className:"w-3.5 h-3.5 text-gray-300"}),d.jsx("p",{className:"text-sm font-bold text-gray-700",children:e.deviceModel})]}),e.deviceImei&&d.jsxs("p",{className:"text-[10px] text-gray-400 ml-5 font-bold",children:["IMEI/SN: ",e.deviceImei]}),e.devicePassword&&d.jsxs("p",{className:"text-[10px] text-orange-500 ml-5 font-bold uppercase",children:["Pass/Pattern: ",e.devicePassword]})]})]}),d.jsxs("div",{className:"space-y-4 text-right",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-1",children:"Intake Date (Nepali)"}),d.jsx("p",{className:"text-sm font-bold text-gray-800",children:Rn(e.date)})]}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded-2xl border border-gray-100 print:bg-white print:border-gray-400",children:[d.jsxs("div",{className:"flex justify-between items-center mb-1",children:[d.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Est. Total"}),d.jsx("span",{className:"text-sm font-black text-gray-900",children:qe(e.estimatedCost)})]}),d.jsxs("div",{className:"flex justify-between items-center border-t border-gray-200 pt-1",children:[d.jsx("span",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest",children:"Advance Paid"}),d.jsx("span",{className:"text-sm font-black text-emerald-600",children:qe(e.advanceAmount)})]})]})]})]}),d.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-2xl border border-gray-100 print:bg-white print:border-gray-300 min-h-[60px]",children:[d.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest block mb-2",children:"Reported Issue / Problem"}),d.jsxs("p",{className:"text-xs text-gray-700 font-medium leading-relaxed italic",children:['"',e.problemDescription||"No description provided.",'"']})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[d.jsxs("div",{className:"text-[8px] text-gray-400 font-bold uppercase leading-relaxed",children:[d.jsx("p",{className:"mb-1 text-gray-500",children:"Terms & Conditions:"}),d.jsxs("ul",{className:"list-disc pl-3 space-y-0.5",children:[d.jsx("li",{children:"Customer is responsible for data backup."}),d.jsx("li",{children:"No warranty on physical or liquid damage."}),d.jsx("li",{children:"Devices not collected within 30 days may be disposed."})]})]}),d.jsxs("div",{className:"flex justify-between items-end",children:[d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"w-32 border-t border-gray-300 pt-1 text-[8px] font-bold uppercase text-gray-400",children:"Customer Sign"})}),d.jsx("div",{className:"text-center",children:d.jsx("div",{className:"w-32 border-t-2 border-gray-900 pt-1 text-[9px] font-black uppercase text-gray-900",children:"Authorized Sign"})})]})]})]});return d.jsxs("div",{className:"fixed inset-0 z-[200] bg-gray-900/60 backdrop-blur-sm flex items-start justify-center p-4 overflow-y-auto print:p-0 print:bg-white print:static print:block print:overflow-visible",children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @media print {
          @page {
            size: A4;
            margin: 10mm;
          }
          /* Reset SPA height and overflow for the print engine */
          html, body, #root, #main-app-container {
            height: auto !important;
            overflow: visible !important;
            margin: 0 !important;
            padding: 0 !important;
            background: white !important;
          }
          
          /* Hide all application components */
          aside, header, main, .fixed.bottom-6.right-6 {
            display: none !important;
          }

          /* Ensure the print overlay itself is visible and flows naturally */
          .print-container-overlay {
            position: static !important;
            display: block !important;
            background: white !important;
            padding: 0 !important;
            margin: 0 !important;
          }

          /* Reset absolute positioning of target to avoid clipping */
          .print-job-target {
            position: static !important;
            width: 100% !important;
            margin: 0 !important;
            padding: 0 !important;
            box-shadow: none !important;
            border: none !important;
          }

          .no-print {
            display: none !important;
          }
        }
      `}}),d.jsxs("div",{className:"fixed top-4 right-4 flex gap-2 no-print z-[210]",children:[d.jsx("button",{onClick:()=>window.print(),className:"bg-brand-600 text-white p-3 rounded-full shadow-2xl hover:bg-brand-700 transition-all active:scale-95",children:d.jsx(js,{className:"w-6 h-6"})}),d.jsx("button",{onClick:t,className:"bg-gray-800 text-white p-3 rounded-full shadow-2xl hover:bg-gray-900 transition-all active:scale-95",children:d.jsx(bn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"print-container-overlay w-full flex justify-center",children:d.jsxs("div",{className:"print-job-target w-full max-w-[210mm] mt-8 mb-20 animate-in zoom-in-95 duration-300 print:mt-0 print:mb-0",children:[d.jsx(i,{type:"CUSTOMER COPY"}),d.jsx("div",{className:"my-10 border-t-2 border-dashed border-gray-200 no-print"}),d.jsx(i,{type:"SHOP COPY"})]})})]})},xoe=["All Status","PENDING","IN_PROGRESS","COMPLETED","DELIVERED","CANCELLED"],boe=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!1),[i,a]=j.useState(null),[o,l]=j.useState(null),[u,f]=j.useState(""),[h,p]=j.useState("All Status"),[y,g]=j.useState(""),[w,N]=j.useState(""),{addToast:A}=kr();j.useEffect(()=>{t(Be.getServiceJobs())},[]);const _=D=>{window.confirm("Are you sure you want to delete this service ticket?")&&(Be.deleteServiceJob(D),t(Be.getServiceJobs()),A("Service ticket deleted successfully","success"))},k=()=>{t(Be.getServiceJobs()),r(!1),a(null)},P=()=>{f(""),p("All Status"),g(""),N("")},M=j.useMemo(()=>{let D=e;if(u){const F=u.toLowerCase();D=D.filter(q=>q.customerName.toLowerCase().includes(F)||q.ticketNumber.toLowerCase().includes(F)||q.deviceModel.toLowerCase().includes(F))}if(h!=="All Status"&&(D=D.filter(F=>F.status===h)),y){const F=new Date(y);F.setHours(0,0,0,0),D=D.filter(q=>new Date(q.date)>=F)}if(w){const F=new Date(w);F.setHours(23,59,59,999),D=D.filter(q=>new Date(q.date)<=F)}return D.sort((F,q)=>new Date(q.date).getTime()-new Date(F.date).getTime())},[e,u,h,y,w]),B=u||h!=="All Status"||y||w,U=D=>{switch(D){case"COMPLETED":return"bg-emerald-50 text-emerald-600 border-emerald-100";case"IN_PROGRESS":return"bg-blue-50 text-blue-600 border-blue-100";case"DELIVERED":return"bg-gray-100 text-gray-600 border-gray-200";case"CANCELLED":return"bg-red-50 text-red-600 border-red-100";default:return"bg-orange-50 text-orange-600 border-orange-100"}};return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-black text-gray-900 dark:text-white flex items-center gap-3 uppercase tracking-tight",children:[d.jsx(Uu,{className:"w-8 h-8 text-brand-500"}),"Service Center"]}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Track repairs, intake jobs and delivery status"})]}),d.jsxs("button",{onClick:()=>{a(null),r(!0)},className:"flex items-center gap-2 px-6 py-3 bg-brand-500 text-white rounded-2xl hover:bg-brand-600 transition-all shadow-lg shadow-brand-500/20 font-bold uppercase text-xs tracking-widest active:scale-95",children:[d.jsx(ca,{className:"w-4 h-4"}),"New Intake Ticket"]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-3xl p-5 shadow-sm flex flex-col lg:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(Ur,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search ticket, customer or model...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-medium focus:ring-2 focus:ring-brand-500/50 outline-none dark:text-white transition-all",value:u,onChange:D=>f(D.target.value)})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"relative min-w-[160px]",children:[d.jsx(Nj,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),d.jsx("select",{className:"w-full pl-9 pr-10 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-bold text-gray-700 dark:text-gray-200 outline-none appearance-none focus:ring-2 focus:ring-brand-500/50",value:h,onChange:D=>p(D.target.value),children:xoe.map(D=>d.jsx("option",{value:D,children:D.replace("_"," ")},D))}),d.jsx(Sl,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:y,onChange:g,placeholder:"Intake From",className:"!bg-gray-50 dark:!bg-gray-900"})}),d.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"-"}),d.jsx("div",{className:"w-40",children:d.jsx(Wi,{value:w,onChange:N,placeholder:"Intake To",className:"!bg-gray-50 dark:!bg-gray-900"})})]}),B&&d.jsx("button",{onClick:P,className:"p-2.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all border border-transparent hover:border-red-100",title:"Clear Filters",children:d.jsx(Iu,{className:"w-4.5 h-4.5"})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-[2rem] overflow-hidden shadow-sm",children:[d.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/30 dark:bg-gray-900/20",children:[d.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Service Tickets History"}),d.jsxs("span",{className:"text-[10px] font-black text-brand-600 uppercase bg-brand-50 dark:bg-brand-900/30 px-2 py-1 rounded-lg",children:[M.length," results"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50 text-gray-400 dark:text-gray-500 font-black uppercase text-[10px] tracking-widest border-b border-gray-100 dark:border-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-8 py-4 text-center w-24",children:"Ticket"}),d.jsx("th",{className:"px-8 py-4",children:"Customer Details"}),d.jsx("th",{className:"px-8 py-4",children:"Device / Hardware"}),d.jsx("th",{className:"px-8 py-4 text-center",children:"Status"}),d.jsx("th",{className:"px-8 py-4 text-right",children:"Est. Cost"}),d.jsx("th",{className:"px-8 py-4 text-center",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:M.map(D=>d.jsxs("tr",{className:"hover:bg-gray-50/80 dark:hover:bg-gray-700/30 group transition-all",children:[d.jsxs("td",{className:"px-8 py-5 text-center",children:[d.jsxs("div",{className:"font-black text-gray-900 dark:text-white",children:["#",D.ticketNumber]}),d.jsxs("div",{className:"text-[9px] font-bold text-gray-400 dark:text-gray-500 mt-1 uppercase flex items-center justify-center gap-1",children:[d.jsx(S5,{className:"w-2.5 h-2.5"})," ",Rn(D.date)]})]}),d.jsx("td",{className:"px-8 py-5",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-xl ${D.customerId?"bg-brand-50 dark:bg-brand-900/20 text-brand-600":"bg-gray-100 dark:bg-gray-700 text-gray-400"}`,children:D.customerId?d.jsx(Ej,{className:"w-4 h-4"}):d.jsx(Lh,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-gray-800 dark:text-gray-200",children:D.customerName}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:D.customerPhone})]})]})}),d.jsxs("td",{className:"px-8 py-5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Gy,{className:"w-4 h-4 text-gray-300 dark:text-gray-600"}),d.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:D.deviceModel})]}),D.deviceImei&&d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-1 uppercase font-bold",children:["SN: ",D.deviceImei]})]}),d.jsx("td",{className:"px-8 py-5 text-center",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${U(D.status)}`,children:D.status.replace("_"," ")})}),d.jsxs("td",{className:"px-8 py-5 text-right",children:[d.jsx("div",{className:"font-black text-gray-900 dark:text-white",children:qe(D.estimatedCost)}),D.advanceAmount>0&&d.jsxs("div",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold uppercase",children:["Adv: ",qe(D.advanceAmount)]})]}),d.jsx("td",{className:"px-8 py-5 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[d.jsx("button",{onClick:()=>$ae(D),className:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-xl transition-all",title:"Download PDF Ticket",children:d.jsx(Xd,{className:"w-4.5 h-4.5"})}),d.jsx("button",{onClick:()=>{l(D)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-xl transition-all",title:"Print Job Card",children:d.jsx(js,{className:"w-4.5 h-4.5"})}),d.jsx("button",{onClick:()=>{a(D),r(!0)},className:"p-2 text-gray-400 hover:text-brand-600 hover:bg-brand-50 dark:hover:bg-brand-900/30 rounded-xl transition-all",title:"Edit Ticket",children:d.jsx(Nc,{className:"w-4.5 h-4.5"})}),d.jsx("button",{onClick:()=>_(D.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-all",title:"Delete Ticket",children:d.jsx(rs,{className:"w-4.5 h-4.5"})})]})})]},D.id))})]})}),M.length===0&&d.jsxs("div",{className:"py-24 text-center flex flex-col items-center gap-3 bg-gray-50/50 dark:bg-gray-900/10",children:[d.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-3xl flex items-center justify-center mb-2",children:d.jsx(Vy,{className:"w-8 h-8 text-gray-300 dark:text-gray-600"})}),d.jsx("p",{className:"text-sm font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest",children:"No service records matching current filters"}),B&&d.jsx("button",{onClick:P,className:"text-brand-600 font-bold text-xs uppercase hover:underline",children:"Reset All Filters"})]})]}),n&&d.jsx(woe,{initialData:i,onClose:()=>r(!1),onSave:k}),o&&d.jsx(voe,{job:o,onClose:()=>l(null)})]})},woe=({initialData:e,onClose:t,onSave:n})=>{const[r,i]=j.useState(e||{date:new Date().toISOString(),status:"PENDING",customerName:"",customerPhone:"",deviceModel:"",problemDescription:"",estimatedCost:0,advanceAmount:0,usedParts:[],laborCharge:0}),[a,o]=j.useState((e==null?void 0:e.customerName)||""),[l,u]=j.useState(!1),[f,h]=j.useState(0),[p,y]=j.useState(""),[g,w]=j.useState(!1),[N,A]=j.useState(0),{addToast:_}=kr(),k=j.useRef(null),P=j.useRef(null),M=j.useMemo(()=>Be.getParties(),[]),B=j.useMemo(()=>Be.getProducts(),[]),U=j.useMemo(()=>M.filter(G=>G.name.toLowerCase().includes(a.toLowerCase())),[M,a]);j.useMemo(()=>B.filter(G=>G.name.toLowerCase().includes(p.toLowerCase())).slice(0,5),[B,p]),j.useEffect(()=>{const G=R=>{k.current&&!k.current.contains(R.target)&&u(!1),P.current&&!P.current.contains(R.target)&&w(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);const D=G=>{i({...r,customerId:G.id,customerName:G.name,customerPhone:G.phone||"",customerAddress:G.address||""}),o(G.name),u(!1),_(`Linked to registered party: ${G.name}`,"info")},F=G=>{if(!l)return;const R=U.length;G.key==="ArrowDown"?(G.preventDefault(),h(O=>(O+1)%R)):G.key==="ArrowUp"?(G.preventDefault(),h(O=>(O-1+R)%R)):G.key==="Enter"?(G.preventDefault(),U[f]&&D(U[f])):G.key==="Escape"&&u(!1)},q=()=>{var R;if(!r.customerName||!r.deviceModel){_("Customer name and Device Model are required","error");return}const G={id:(e==null?void 0:e.id)||Date.now().toString(),ticketNumber:(e==null?void 0:e.ticketNumber)||Math.floor(1e3+Math.random()*8999).toString(),date:r.date,customerId:r.customerId,customerName:r.customerName,customerPhone:r.customerPhone,customerAddress:r.customerAddress,deviceModel:r.deviceModel,deviceImei:r.deviceImei,devicePassword:r.devicePassword,problemDescription:r.problemDescription||"",status:r.status,estimatedCost:Number(r.estimatedCost)||0,advanceAmount:Number(r.advanceAmount)||0,usedParts:r.usedParts||[],laborCharge:Number(r.laborCharge)||0,finalAmount:(((R=r.usedParts)==null?void 0:R.reduce((O,K)=>O+K.amount,0))||0)+(Number(r.laborCharge)||0)-(Number(r.advanceAmount)||0)};e?Be.updateServiceJob(G):Be.addServiceJob(G),n(),_(`Ticket #${G.ticketNumber} saved successfully`,"success")};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] w-full max-w-2xl shadow-2xl flex flex-col max-h-[95vh] overflow-hidden border border-gray-100 dark:border-gray-700",children:[d.jsxs("div",{className:"px-10 py-8 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center bg-gray-50/50 dark:bg-gray-900/50",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tight flex items-center gap-3",children:[d.jsx(Uu,{className:"w-6 h-6 text-brand-500"}),e?`Edit Ticket #${e.ticketNumber}`:"New Intake Ticket"]}),d.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 font-bold uppercase tracking-widest mt-1",children:"Repair Registration Form"})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:d.jsx(bn,{className:"w-6 h-6 text-gray-400"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 custom-scrollbar",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[d.jsx(Lh,{className:"w-3.5 h-3.5"})," Customer Identity"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"relative",ref:k,children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Customer Name"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{autoFocus:!0,className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all",placeholder:"Search or enter name...",value:a,onChange:G=>{o(G.target.value),u(!0),i({...r,customerName:G.target.value,customerId:void 0})},onFocus:()=>u(!0),onKeyDown:F}),r.customerId&&d.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1.5 px-2 py-1 bg-brand-50 dark:bg-brand-900/30 text-brand-600 dark:text-brand-400 rounded-lg text-[9px] font-black uppercase",children:[d.jsx(Ej,{className:"w-3 h-3"})," Registered"]})]}),l&&a&&d.jsxs("div",{className:"absolute z-50 top-full left-0 w-full mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-2xl overflow-hidden animate-in slide-in-from-top-2 duration-200",children:[d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-4 py-2 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[d.jsx("span",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Select from Parties"}),d.jsxs("span",{className:"text-[9px] font-bold text-brand-600 uppercase",children:[U.length," matching"]})]}),d.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[U.map((G,R)=>d.jsxs("div",{className:`p-4 border-b last:border-0 dark:border-gray-700 cursor-pointer flex justify-between items-center transition-colors ${f===R?"bg-brand-50 dark:bg-brand-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>D(G),children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm block",children:G.name}),d.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium",children:G.phone||"No Phone"})]}),d.jsx(N5,{className:`w-4 h-4 transition-all ${f===R?"text-brand-500 translate-x-0":"text-gray-200 dark:text-gray-700 -translate-x-2"}`})]},G.id)),U.length===0&&d.jsxs("div",{className:"p-6 text-center text-gray-400",children:[d.jsx(kj,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),d.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Manual entry will be saved"})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Primary Phone"}),d.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all",placeholder:"98XXXXXXXX",value:r.customerPhone,onChange:G=>i({...r,customerPhone:G.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[d.jsx(Gy,{className:"w-3.5 h-3.5"})," Device & Issue Details"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Device Model"}),d.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all",placeholder:"e.g. iPhone 15 Pro Max",value:r.deviceModel,onChange:G=>i({...r,deviceModel:G.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"IMEI / Serial Number"}),d.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all",placeholder:"Enter device identifier...",value:r.deviceImei,onChange:G=>i({...r,deviceImei:G.target.value})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Status"}),d.jsxs("select",{className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all appearance-none",value:r.status,onChange:G=>i({...r,status:G.target.value}),children:[d.jsx("option",{value:"PENDING",children:"PENDING"}),d.jsx("option",{value:"IN_PROGRESS",children:"IN PROGRESS"}),d.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),d.jsx("option",{value:"DELIVERED",children:"DELIVERED"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Device Password / Pattern"}),d.jsx("input",{className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all",placeholder:"Pattern or PIN...",value:r.devicePassword,onChange:G=>i({...r,devicePassword:G.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase mb-2",children:"Problem Description"}),d.jsx("textarea",{className:"w-full bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 text-sm font-bold outline-none focus:ring-4 focus:ring-brand-500/10 focus:border-brand-500 dark:text-white transition-all resize-none min-h-[100px]",placeholder:"Describe the fault in detail...",value:r.problemDescription,onChange:G=>i({...r,problemDescription:G.target.value})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[d.jsx(Vy,{className:"w-3.5 h-3.5"})," Billing & Estimate"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"p-6 bg-brand-50/50 dark:bg-brand-900/10 rounded-3xl border border-brand-100/50 dark:border-brand-800/50",children:[d.jsx("label",{className:"block text-[10px] font-black text-brand-600 dark:text-brand-400 uppercase mb-2",children:"Total Estimate (Rs.)"}),d.jsx("input",{type:"number",className:"w-full bg-white dark:bg-gray-900 border border-brand-100 dark:border-brand-800 rounded-xl p-3 text-xl font-black text-brand-700 dark:text-white outline-none",value:r.estimatedCost,onChange:G=>i({...r,estimatedCost:Number(G.target.value)})})]}),d.jsxs("div",{className:"p-6 bg-emerald-50/50 dark:bg-emerald-900/10 rounded-3xl border border-emerald-100/50 dark:border-emerald-800/50",children:[d.jsx("label",{className:"block text-[10px] font-black text-emerald-600 dark:text-emerald-400 uppercase mb-2",children:"Advance Amount (Rs.)"}),d.jsx("input",{type:"number",className:"w-full bg-white dark:bg-gray-900 border border-emerald-100 dark:border-emerald-800 rounded-xl p-3 text-xl font-black text-emerald-700 dark:text-white outline-none",value:r.advanceAmount,onChange:G=>i({...r,advanceAmount:Number(G.target.value)})})]})]})]})]}),d.jsxs("div",{className:"px-10 py-8 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 flex justify-end gap-4",children:[d.jsx("button",{onClick:t,className:"px-8 py-3 text-gray-500 dark:text-gray-400 font-bold uppercase text-xs tracking-widest hover:text-gray-700 dark:hover:text-gray-200 transition-colors",children:"Discard"}),d.jsxs("button",{onClick:q,className:"px-12 py-4 bg-brand-600 text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-xl shadow-brand-500/30 hover:bg-brand-700 transition-all active:scale-95 flex items-center gap-2",children:[d.jsx(Rm,{className:"w-4 h-4"})," Save Ticket"]})]})]})})},Noe=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!1),[i,a]=j.useState(null),[o,l]=j.useState(""),{addToast:u}=kr();j.useEffect(()=>{t(Be.getWarrantyCases())},[]);const f=g=>{window.confirm("Delete this warranty case?")&&(Be.deleteWarrantyCase(g),t(Be.getWarrantyCases()),u("Warranty case removed","success"))},h=g=>{Wae(g),u("Warranty ticket generated","success")},p=()=>{t(Be.getWarrantyCases()),r(!1),a(null)},y=e.filter(g=>g.customerName.toLowerCase().includes(o.toLowerCase())||g.ticketNumber.toLowerCase().includes(o.toLowerCase()));return d.jsxs("div",{className:"p-4 lg:p-8 max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Warranty Manager"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Track customer returns and vendor claims"})]}),d.jsxs("button",{onClick:()=>{a(null),r(!0)},className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm",children:[d.jsx(ca,{className:"w-4 h-4"}),"New Warranty Case"]})]}),d.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm",children:[d.jsx("div",{className:"p-4 border-b border-gray-100",children:d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 flex-1 max-w-md",children:[d.jsx(Ur,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search by ticket or customer...",className:"ml-2 bg-transparent border-none outline-none text-sm w-full",value:o,onChange:g=>l(g.target.value)})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Case ID / Date"}),d.jsx("th",{className:"px-6 py-3",children:"Customer"}),d.jsx("th",{className:"px-6 py-3",children:"Items"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-gray-100",children:y.map(g=>d.jsxs("tr",{className:"hover:bg-gray-50 group",children:[d.jsxs("td",{className:"px-6 py-4 font-bold text-gray-900",children:["#",g.ticketNumber]}),d.jsx("td",{className:"px-6 py-4",children:g.customerName}),d.jsxs("td",{className:"px-6 py-4 text-gray-500",children:[g.items.length," items"]}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${g.status==="CLOSED"?"bg-emerald-50 text-emerald-600":g.status==="SENT"?"bg-blue-50 text-blue-600":"bg-orange-50 text-orange-600"}`,children:g.status})}),d.jsx("td",{className:"px-6 py-4 text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>h(g),className:"p-1.5 text-gray-400 hover:text-emerald-600",title:"Download Claim PDF",children:d.jsx(Xd,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>{a(g),r(!0)},className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:d.jsx(Nc,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>f(g.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:d.jsx(rs,{className:"w-4 h-4"})})]})})]},g.id))})]})})]}),n&&d.jsx(Soe,{initialData:i,onClose:()=>r(!1),onSave:p})]})},Soe=({initialData:e,onClose:t,onSave:n})=>{const[r,i]=j.useState(e||{dateReceived:new Date().toISOString(),status:"RECEIVED",items:[],customerName:""}),[a,o]=j.useState((e==null?void 0:e.customerName)||""),[l,u]=j.useState(!1),[f,h]=j.useState(0),[p,y]=j.useState((e==null?void 0:e.vendorName)||""),[g,w]=j.useState(!1),[N,A]=j.useState(0),[_,k]=j.useState(!1),[P,M]=j.useState(-1),[B,U]=j.useState(0),D=j.useRef(null),{addToast:F}=kr(),q=j.useMemo(()=>Be.getParties(),[]),G=j.useMemo(()=>Be.getProducts(),[]),R=j.useMemo(()=>q.filter(z=>z.type==="customer"&&z.name.toLowerCase().includes(a.toLowerCase())),[q,a]),O=j.useMemo(()=>q.filter(z=>z.type==="supplier"&&z.name.toLowerCase().includes(p.toLowerCase())),[q,p]),K=j.useMemo(()=>G.filter(z=>z.type!=="service"),[G]),$=(z,Y)=>{const ee=[...r.items||[]];ee[z]={...ee[z],productId:Y.id,productName:Y.name},i({...r,items:ee}),k(!1)},ne=()=>{var Y;if(!r.customerName||!((Y=r.items)!=null&&Y.length)){F("Customer and at least one item are required","error");return}const z={id:(e==null?void 0:e.id)||Date.now().toString(),ticketNumber:(e==null?void 0:e.ticketNumber)||"WR-"+Math.floor(1e3+Math.random()*9e3).toString(),customerId:r.customerId,customerName:r.customerName,items:r.items,dateReceived:r.dateReceived,status:r.status,vendorId:r.vendorId,vendorName:r.vendorName,notes:r.notes};e?Be.updateWarrantyCase(z):Be.addWarrantyCase(z),n(),F("Warranty case saved","success")};return d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl shadow-2xl flex flex-col max-h-[90vh]",children:[d.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Warranty Case Entry"}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(bn,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Customer"}),d.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm",value:a,onChange:z=>{o(z.target.value),u(!0)}}),l&&a&&d.jsxs("div",{className:"absolute z-30 top-full left-0 w-full mt-2 bg-white border border-gray-100 rounded-2xl shadow-2xl max-h-40 overflow-auto",children:[R.map((z,Y)=>d.jsx("div",{"data-index":Y,className:`p-3.5 border-b last:border-0 cursor-pointer text-sm font-bold ${f===Y?"bg-blue-100 text-blue-900":"hover:bg-gray-50"}`,onClick:()=>{i({...r,customerId:z.id,customerName:z.name}),o(z.name),u(!1)},children:z.name},z.id)),R.length===0&&d.jsx("div",{className:"p-4 text-xs text-gray-400 italic",children:"No matching partner found."})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Vendor (Optional)"}),d.jsx("input",{className:"w-full border border-gray-300 rounded-lg p-2 text-sm",value:p,onChange:z=>{y(z.target.value),w(!0)}}),g&&p&&d.jsx("div",{className:"absolute z-30 top-full left-0 w-full mt-2 bg-white border border-gray-100 rounded-2xl shadow-2xl max-h-40 overflow-auto",children:O.map((z,Y)=>d.jsx("div",{"data-index":Y,className:`p-3.5 border-b last:border-0 cursor-pointer text-sm font-bold ${N===Y?"bg-blue-100 text-blue-900":"hover:bg-gray-50"}`,onClick:()=>{i({...r,vendorId:z.id,vendorName:z.name}),y(z.name),w(!1)},children:z.name},z.id))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Case Items"}),(r.items||[]).map((z,Y)=>d.jsxs("div",{className:"relative grid grid-cols-3 gap-2 border p-2 rounded-lg",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{placeholder:"Product Name",className:"w-full border p-1 text-xs",value:z.productName,onChange:ee=>{const se=[...r.items||[]];se[Y]={...se[Y],productName:ee.target.value},i({...r,items:se}),M(Y),k(!0)}}),_&&P===Y&&d.jsx("div",{ref:D,className:"absolute left-0 top-full mt-1 w-full bg-white border border-gray-100 rounded-xl shadow-xl z-[60] max-h-48 overflow-auto",children:K.filter(ee=>ee.name.toLowerCase().includes(z.productName.toLowerCase())).map((ee,se)=>d.jsxs("div",{"data-index":se,className:`p-2.5 border-b last:border-0 cursor-pointer flex justify-between items-center ${B===se?"bg-blue-100 text-blue-900":"hover:bg-gray-50"}`,onClick:()=>$(Y,ee),children:[d.jsx("span",{className:"font-bold",children:ee.name}),d.jsxs("span",{className:"text-[9px] bg-gray-100 px-1.5 py-0.5 rounded text-gray-500",children:["STOCK: ",ee.stock]})]},ee.id))})]}),d.jsx("input",{placeholder:"Serial #",className:"w-full border p-1 text-xs",value:z.serialNumber,onChange:ee=>{const se=[...r.items||[]];se[Y].serialNumber=ee.target.value,i({...r,items:se})}}),d.jsx("input",{placeholder:"Problem",className:"w-full border p-1 text-xs",value:z.problemDescription,onChange:ee=>{const se=[...r.items||[]];se[Y].problemDescription=ee.target.value,i({...r,items:se})}})]},Y)),d.jsx("button",{onClick:()=>i({...r,items:[...r.items||[],{id:Date.now().toString(),productId:"",productName:"",serialNumber:"",problemDescription:""}]}),className:"text-xs text-brand-600 font-bold",children:"+ Add Item"})]})]}),d.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:[d.jsx("button",{onClick:t,className:"px-5 py-2 text-gray-600",children:"Cancel"}),d.jsx("button",{onClick:ne,className:"px-6 py-2 bg-brand-500 text-white rounded-lg font-bold",children:"Save Warranty Case"})]})]})})},Aoe=()=>{const[e,t]=j.useState(null),[n,r]=j.useState(!1),{addToast:i}=kr();j.useEffect(()=>{t(Be.getCashDrawer())},[]);const a=(u,f)=>{if(!e)return;const h=e.notes.map(p=>p.denomination===u?{...p,count:Math.max(0,f)}:p);t({...e,notes:h})},o=()=>{e&&(Be.updateCashDrawer({...e,lastUpdated:new Date().toISOString()}),r(!1),i("Cash drawer reconciled successfully","success"))};if(!e)return null;const l=e.notes.reduce((u,f)=>u+f.denomination*f.count,0);return d.jsxs("div",{className:"p-4 lg:p-8 max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[d.jsx(So,{className:"w-6 h-6 text-brand-500"}),"Cash Drawer"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage physical note counts and reconciliation"})]}),d.jsx("div",{className:"flex gap-2",children:n?d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{t(Be.getCashDrawer()),r(!1)},className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors text-sm font-medium",children:"Cancel"}),d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600 transition-colors shadow-sm font-medium",children:[d.jsx(dc,{className:"w-4 h-4"}),"Save Reconciliation"]})]}):d.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors shadow-sm font-medium",children:[d.jsx(yU,{className:"w-4 h-4"}),"Reconcile Drawer"]})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"md:col-span-1 space-y-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm text-center",children:[d.jsx("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-wider mb-2",children:"Total Physical Cash"}),d.jsx("p",{className:"text-3xl font-black text-brand-600",children:qe(l)}),d.jsxs("p",{className:"text-[10px] text-gray-400 mt-4 uppercase",children:["Last Updated: ",new Date(e.lastUpdated).toLocaleString()]})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 text-sm text-blue-800 flex gap-3",children:[d.jsx(Sj,{className:"w-5 h-5 shrink-0 text-blue-600"}),d.jsx("p",{children:'This count represents physical cash inside the register. It should match your "Cash In Hand" account balance.'})]})]}),d.jsxs("div",{className:"md:col-span-2 bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center",children:[d.jsx("span",{className:"font-bold text-gray-700 text-sm uppercase",children:"Physical Denominations"}),d.jsxs("span",{className:"text-xs text-gray-500",children:[e.notes.filter(u=>u.count>0).length," note types present"]})]}),d.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:e.notes.map(u=>d.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border transition-all ${u.count>0?"bg-brand-50/30 border-brand-100":"bg-white border-gray-100"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-12 h-8 rounded flex items-center justify-center font-bold text-sm shadow-sm ${u.denomination>=500?"bg-red-100 text-red-700 border border-red-200":u.denomination>=50?"bg-green-100 text-green-700 border border-green-200":"bg-blue-100 text-blue-700 border border-blue-200"}`,children:u.denomination}),d.jsx("span",{className:"text-gray-400 font-medium text-sm",children:"X"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[n?d.jsx("input",{type:"number",min:"0",className:"w-20 p-2 border border-gray-300 rounded-lg text-center font-bold focus:ring-2 focus:ring-brand-500 outline-none",value:u.count,onChange:f=>a(u.denomination,parseInt(f.target.value)||0)}):d.jsx("span",{className:"text-xl font-black text-gray-800",children:u.count}),d.jsxs("div",{className:"w-24 text-right",children:[d.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold",children:"Subtotal"}),d.jsx("p",{className:"text-sm font-bold text-gray-700",children:qe(u.denomination*u.count)})]})]})]},u.denomination))})]})]})]})},_oe=({onLoginSuccess:e})=>{var h;const[t,n]=j.useState(""),[r,i]=j.useState(""),[a,o]=j.useState(!1),[l,u]=j.useState(""),f=async p=>{if(p.preventDefault(),!a){o(!0),u("");try{await sn.login(t,r)?window.location.reload():(u("Invalid email or password. Please check your credentials."),o(!1))}catch(y){console.error("Login component error:",y),u("Connection or system error. Please refresh and try again."),o(!1)}}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 font-sans transition-colors duration-200",children:d.jsxs("div",{className:"w-full max-w-md animate-in fade-in zoom-in-95 duration-500",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-brand-500 rounded-3xl shadow-xl shadow-brand-500/20 mb-6 transform hover:rotate-6 transition-transform duration-300",children:d.jsx(k5,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white uppercase tracking-tighter",children:"AA Pro"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-bold uppercase text-[10px] tracking-widest",children:"Business Intelligence & POS"})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl border border-gray-100 dark:border-gray-700 overflow-hidden",children:[d.jsxs("div",{className:"p-10",children:[d.jsxs("div",{className:"flex justify-between items-center mb-8",children:[d.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Security Sign In"}),d.jsx("div",{className:"p-2 bg-brand-50 dark:bg-brand-900/30 text-brand-600 dark:text-brand-400 rounded-xl",children:d.jsx(P2,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:f,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em]",children:"Operator Email"}),d.jsxs("div",{className:"relative group",children:[d.jsx(QB,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300 group-focus-within:text-brand-500 transition-colors"}),d.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-700/50 border border-gray-100 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none text-gray-800 dark:text-white font-bold transition-all placeholder-gray-300 dark:placeholder-gray-600",placeholder:"name@business.com",value:t,onChange:p=>n(p.target.value)})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em]",children:"Security Key"}),d.jsxs("div",{className:"relative group",children:[d.jsx(P2,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300 group-focus-within:text-brand-500 transition-colors"}),d.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-4 py-4 bg-gray-50 dark:bg-gray-700/50 border border-gray-100 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none text-gray-800 dark:text-white font-bold transition-all placeholder-gray-300 dark:placeholder-gray-600",placeholder:"",value:r,onChange:p=>i(p.target.value)})]})]}),l&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800/30 p-4 rounded-2xl flex items-center gap-3 text-red-600 dark:text-red-400 text-sm font-bold animate-in slide-in-from-bottom-2",children:[d.jsx(Dm,{className:"w-5 h-5 shrink-0"}),l]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full py-5 bg-brand-500 hover:bg-brand-600 text-white rounded-[1.5rem] font-black uppercase tracking-widest text-xs shadow-xl shadow-brand-500/30 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3 mt-4",children:a?d.jsx(ju,{className:"w-5 h-5 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(KB,{className:"w-5 h-5"}),"Enter Dashboard"]})})]})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-6 border-t border-gray-100 dark:border-gray-600 flex justify-between items-center px-10",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-400 group cursor-help",children:[d.jsx(tB,{className:"w-4 h-4"}),d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Authorized Access"})]}),d.jsxs("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-mono",children:["NODE_SIG: ",(h=localStorage.getItem("aapro_device_sig"))==null?void 0:h.slice(-8)]})]})]})]})})},Coe=()=>{const e=[{title:"Global Navigation",icon:d.jsx(Fg,{className:"w-5 h-5 text-brand-500"}),items:[{key:"Alt + D",desc:"Open Dashboard",icon:d.jsx(Fg,{className:"w-4 h-4"})},{key:"Alt + L",desc:"View Sales List",icon:d.jsx(T2,{className:"w-4 h-4"})},{key:"Alt + A",desc:"View Receivable Aging",icon:d.jsx(Ur,{className:"w-4 h-4"})}]},{title:"Transaction Entry",icon:d.jsx(Ah,{className:"w-5 h-5 text-blue-500"}),items:[{key:"Alt + S",desc:"New Sales Invoice",icon:d.jsx(Ah,{className:"w-4 h-4"})},{key:"Alt + P",desc:"New Purchase Bill",icon:d.jsx(Bm,{className:"w-4 h-4"})},{key:"Alt + I",desc:"Record Payment In",icon:d.jsx(vj,{className:"w-4 h-4"})},{key:"Alt + O",desc:"Record Payment Out",icon:d.jsx(xj,{className:"w-4 h-4"})},{key:"Alt + E",desc:"Record New Expense",icon:d.jsx(Om,{className:"w-4 h-4"})}]},{title:"Form Controls",icon:d.jsx(oU,{className:"w-5 h-5 text-orange-500"}),items:[{key:"Ctrl + S",desc:"Save Active Form",icon:d.jsx(dc,{className:"w-4 h-4"})},{key:"Escape",desc:"Close Modal / Cancel",icon:d.jsx(bn,{className:"w-4 h-4"})},{key:"Enter",desc:"Move focus to next field",icon:d.jsx(Ug,{className:"w-4 h-4"})}]}];return d.jsxs("div",{className:"p-4 lg:p-8 max-w-5xl mx-auto animate-in fade-in slide-in-from-bottom-2 duration-500",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("h1",{className:"text-3xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[d.jsx(Ug,{className:"w-8 h-8 text-brand-500"}),"Keyboard Shortcuts"]}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-medium",children:"Boost your productivity with these enterprise-grade hotkeys."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,n)=>d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-[2rem] p-6 shadow-sm hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-700 rounded-xl",children:t.icon}),d.jsx("h3",{className:"font-black text-gray-800 dark:text-white uppercase tracking-tight text-sm",children:t.title})]}),d.jsx("div",{className:"space-y-4",children:t.items.map((r,i)=>d.jsxs("div",{className:"flex items-center justify-between group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"text-gray-400 group-hover:text-brand-500 transition-colors",children:r.icon}),d.jsx("span",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:r.desc})]}),d.jsx("kbd",{className:"px-2.5 py-1.5 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-[10px] font-black font-mono text-gray-700 dark:text-gray-300 shadow-[0_2px_0_rgba(0,0,0,0.1)]",children:r.key})]},i))})]},n))}),d.jsxs("div",{className:"mt-12 p-6 bg-brand-50 dark:bg-brand-900/20 border border-brand-100 dark:border-brand-800 rounded-3xl flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-white dark:bg-gray-800 rounded-2xl flex items-center justify-center text-brand-600 shadow-sm shrink-0",children:d.jsx(dc,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-brand-900 dark:text-brand-400",children:"Pro Tip: Quick Save"}),d.jsxs("p",{className:"text-sm text-brand-700 dark:text-brand-300 opacity-80",children:["You can use ",d.jsx("kbd",{className:"font-mono font-bold",children:"Ctrl + S"})," inside any Sales, Purchase, or Expense form to save instantly without moving your mouse."]})]})]})]})},Eoe="AA_PRO_NPL_2024_DEV_SALT",koe={getDeviceId(){let e=localStorage.getItem("aapro_device_sig");if(!e){const t=document.createElement("canvas"),n=t.getContext("2d"),r="AA-PRO-FINGERPRINT-2025";n&&(n.textBaseline="top",n.font="14px 'Arial'",n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.fillText(r,2,15),n.fillStyle="rgba(102, 204, 0, 0.7)",n.fillText(r,4,17));const i=t.toDataURL().replace("data:image/png;base64,","");let a=0;for(let l=0;l<i.length;l++)a=(a<<5)-a+i.charCodeAt(l),a=a&a;e=`NODE-${Math.abs(a).toString(16).toUpperCase()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`,localStorage.setItem("aapro_device_sig",e)}return e},generateSignature(e,t){let n=0;const r=e+t+Eoe;for(let i=0;i<r.length;i++){const a=r.charCodeAt(i);n=(n<<5)-n+a,n=n&n}return Math.abs(n).toString(36).substring(0,4).toUpperCase().padStart(4,"0")},verifyKey(e){const t=e.split("-");return!(t.length!==4||t[0]!=="AA")},createNewLicenseKey(e,t){return"AA-FREE-ROLL-BACK"},getSubscriptionStatus(){return{isSubscribed:!0,daysRemaining:9999,status:"active",expiryDate:new Date(Date.now()+1e3*60*60*24*9999).toISOString(),deviceId:this.getDeviceId()}},activateLicense(e){return!0}},K3=()=>{const[e,t]=j.useState("overview"),[n,r]=j.useState(""),[i,a]=j.useState([]),[o,l]=j.useState(!1),[u,f]=j.useState({clientName:"",contactNumber:"",deviceId:"",duration:365}),[h,p]=j.useState({companies:0,totalProducts:0,totalParties:0,totalSales:0}),{addToast:y}=kr();j.useEffect(()=>{g()},[]);const g=async()=>{const k=await Be.getCompanies(),P=Be.getProducts(),M=Be.getParties(),B=Be.getTransactions().filter(D=>D.type==="SALE").reduce((D,F)=>D+F.totalAmount,0),U=await Be.getGlobalIssuedLicenses();p({companies:k.length,totalProducts:P.length,totalParties:M.length,totalSales:B}),a(U)},w=async k=>{if(k.preventDefault(),!u.deviceId||!u.clientName){y("Device ID and Client Name are required","error");return}const P=koe.createNewLicenseKey(u.deviceId.trim(),u.duration),M=new Date;M.setDate(M.getDate()+u.duration);const B={id:Date.now().toString(),clientName:u.clientName,contactNumber:u.contactNumber,deviceId:u.deviceId.trim(),licenseKey:P,issuedAt:new Date().toISOString(),expiresAt:M.toISOString()};await Be.addGlobalIssuedLicense(B),r(P),l(!1),g(),y(`Bound license (${u.duration} days) generated!`,"success")},N=async k=>{window.confirm("Delete this license record from registry? This does not deactivate the client offline node.")&&(await Be.deleteGlobalIssuedLicense(k),g(),y("Record removed from registry","info"))},A=k=>{navigator.clipboard.writeText(k),y("Key copied to clipboard!","info")},_=()=>{sn.logout()};return d.jsxs("div",{className:"min-h-screen bg-[#020617] text-slate-200 font-sans flex overflow-hidden",children:[d.jsxs("aside",{className:"w-72 bg-slate-950 border-r border-slate-800 flex flex-col shrink-0",children:[d.jsx("div",{className:"p-8 border-b border-slate-900",children:d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-10 h-10 bg-brand-500 rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/20",children:d.jsx(E5,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-black text-white tracking-tighter uppercase",children:"AA Pro"}),d.jsx("p",{className:"text-[10px] text-brand-400 font-black tracking-widest uppercase",children:"Master Control"})]})]})}),d.jsxs("nav",{className:"flex-1 p-6 space-y-2",children:[d.jsxs("button",{onClick:()=>t("overview"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-sm transition-all border ${e==="overview"?"bg-slate-900 text-brand-400 border-slate-800":"text-slate-500 hover:text-white border-transparent"}`,children:[d.jsx(HB,{className:"w-5 h-5"})," Portal Overview"]}),d.jsxs("button",{onClick:()=>t("licenses"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold text-sm transition-all border ${e==="licenses"?"bg-slate-900 text-brand-400 border-slate-800":"text-slate-500 hover:text-white border-transparent"}`,children:[d.jsx(p1,{className:"w-5 h-5"})," License Registry"]})]}),d.jsx("div",{className:"p-6 mt-auto",children:d.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white rounded-xl font-bold text-xs uppercase tracking-widest transition-all",children:[d.jsx(Aj,{className:"w-4 h-4"})," Terminate Session"]})})]}),d.jsxs("main",{className:"flex-1 overflow-y-auto relative custom-scrollbar",children:[d.jsx("div",{className:"h-48 bg-gradient-to-b from-brand-900/20 to-transparent absolute top-0 left-0 right-0 pointer-events-none"}),d.jsxs("div",{className:"p-8 lg:p-12 max-w-6xl mx-auto relative z-10 space-y-12",children:[d.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-black text-white tracking-tight uppercase",children:e==="overview"?"Authorized System Admin":"License Registry & Vault"}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-brand-500 animate-pulse"}),d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-[0.2em]",children:"Primary Node  v2.8.0 Secure"})]})]}),d.jsx("div",{className:"flex gap-4",children:d.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-brand-500 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl shadow-brand-500/20 hover:bg-brand-600 transition-all flex items-center gap-2",children:[d.jsx(ca,{className:"w-4 h-4"})," Generate New Bound Key"]})})]}),e==="overview"&&d.jsx(d.Fragment,{children:d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 animate-in fade-in duration-500",children:[{label:"Workspaces",val:h.companies,icon:AU,color:"blue"},{label:"Master Inventory",val:`${h.totalProducts} SKU`,icon:Nh,color:"emerald"},{label:"Active Licenses",val:i.length,icon:p1,color:"purple"},{label:"Network Value",val:qe(h.totalSales),icon:Cj,color:"orange"}].map((k,P)=>d.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 p-6 rounded-3xl group hover:border-brand-500/30 transition-all",children:[d.jsx("div",{className:`w-12 h-12 rounded-2xl bg-${k.color}-500/10 flex items-center justify-center mb-4 text-${k.color}-500`,children:d.jsx(k.icon,{className:"w-6 h-6"})}),d.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:k.label}),d.jsx("p",{className:"text-2xl font-black text-white mt-1",children:k.val})]},P))})}),e==="licenses"&&d.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-500",children:d.jsx("div",{className:"bg-slate-900/50 border border-slate-800 rounded-3xl overflow-hidden shadow-xl",children:d.jsxs("table",{className:"w-full text-left text-sm",children:[d.jsx("thead",{className:"bg-slate-950 text-slate-500 font-black uppercase text-[10px] tracking-widest border-b border-slate-800",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-8 py-5",children:"Client & Contact"}),d.jsx("th",{className:"px-8 py-5",children:"Node Signature (Device ID)"}),d.jsx("th",{className:"px-8 py-5",children:"Issued Key"}),d.jsx("th",{className:"px-8 py-5",children:"Expiry"}),d.jsx("th",{className:"px-8 py-5 text-center",children:"Action"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-800",children:i.map(k=>d.jsxs("tr",{className:"hover:bg-slate-900/80 transition-all group",children:[d.jsxs("td",{className:"px-8 py-5",children:[d.jsx("div",{className:"font-bold text-white",children:k.clientName}),d.jsx("div",{className:"text-[10px] text-slate-500 font-bold mt-1",children:k.contactNumber})]}),d.jsx("td",{className:"px-8 py-5",children:d.jsx("code",{className:"text-[10px] font-mono text-brand-400 bg-brand-500/5 px-2 py-1 rounded border border-brand-500/20",children:k.deviceId})}),d.jsx("td",{className:"px-8 py-5",children:d.jsxs("div",{className:"flex items-center gap-2 group/key",children:[d.jsx("code",{className:"text-xs font-mono font-black text-slate-300",children:k.licenseKey}),d.jsx("button",{onClick:()=>A(k.licenseKey),className:"p-1.5 bg-slate-800 rounded-lg opacity-0 group-hover/key:opacity-100 transition-all hover:bg-slate-700",children:d.jsx(cB,{className:"w-3.5 h-3.5 text-white"})})]})}),d.jsx("td",{className:"px-8 py-5",children:d.jsx("div",{className:`text-[10px] font-black uppercase ${new Date(k.expiresAt)>new Date?"text-emerald-500":"text-red-500"}`,children:new Date(k.expiresAt).toLocaleDateString()})}),d.jsx("td",{className:"px-8 py-5 text-center",children:d.jsx("button",{onClick:()=>N(k.id),className:"p-2 text-slate-600 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:d.jsx(rs,{className:"w-4 h-4"})})})]},k.id))})]})})})]})]}),o&&d.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-300",children:d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2.5rem] w-full max-w-xl shadow-2xl overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-10 border-b border-slate-800 bg-slate-950 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Generate Bound Key"}),d.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Bind a new subscription to a physical device."})]}),d.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-slate-800 rounded-full transition-colors",children:d.jsx(bn,{className:"w-6 h-6 text-slate-500"})})]}),d.jsxs("form",{onSubmit:w,className:"p-10 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Client Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Lh,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600"}),d.jsx("input",{required:!0,className:"w-full pl-12 pr-4 py-4 bg-slate-950 border border-slate-800 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none text-white font-bold transition-all",placeholder:"Acme Store",value:u.clientName,onChange:k=>f({...u,clientName:k.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Contact Phone"}),d.jsxs("div",{className:"relative",children:[d.jsx(fU,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600"}),d.jsx("input",{required:!0,className:"w-full pl-12 pr-4 py-4 bg-slate-950 border border-slate-800 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none text-white font-bold transition-all",placeholder:"+977-98...",value:u.contactNumber,onChange:k=>f({...u,contactNumber:k.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-brand-400 uppercase tracking-widest",children:"Device Node Signature (From Client)"}),d.jsxs("div",{className:"relative",children:[d.jsx(Gy,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-brand-600/50"}),d.jsx("input",{required:!0,className:"w-full pl-12 pr-4 py-4 bg-brand-500/5 border border-brand-500/20 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none text-brand-400 font-mono font-black transition-all",placeholder:"NODE-XXXX-XXXXXX",value:u.deviceId,onChange:k=>f({...u,deviceId:k.target.value.toUpperCase()})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Key Validity Period"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-600"}),d.jsxs("select",{className:"w-full pl-12 pr-4 py-4 bg-slate-950 border border-slate-800 rounded-2xl focus:ring-2 focus:ring-brand-500 outline-none text-white font-bold appearance-none cursor-pointer",value:u.duration,onChange:k=>f({...u,duration:parseInt(k.target.value)}),children:[d.jsx("option",{value:7,children:"One Week (Demo)"}),d.jsx("option",{value:30,children:"One Month"}),d.jsx("option",{value:90,children:"3 Months (Quarterly)"}),d.jsx("option",{value:180,children:"6 Months (Half Year)"}),d.jsx("option",{value:365,children:"Yearly Subscription"}),d.jsx("option",{value:36500,children:"Lifetime Access"})]})]})]}),d.jsx("div",{className:"pt-4 flex flex-col gap-4",children:d.jsxs("button",{type:"submit",className:"w-full py-5 bg-brand-500 hover:bg-brand-600 text-white rounded-[1.5rem] font-black uppercase tracking-widest text-xs shadow-xl shadow-brand-500/30 transition-all active:scale-[0.98] flex items-center justify-center gap-3",children:[d.jsx(p1,{className:"w-5 h-5"})," Generate & Issue Key"]})})]})]})})]})};var Toe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Poe,joe;function Ioe(){return{geminiUrl:Poe,vertexUrl:joe}}function Moe(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const o=Ioe();return t?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(a=o.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ic{}function wt(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function S(e,t,n){for(let a=0;a<t.length-1;a++){const o=t[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in e))if(Array.isArray(n))e[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[l])){const u=e[l];if(Array.isArray(n))for(let f=0;f<u.length;f++){const h=u[f];S(h,t.slice(a+1),n[f])}else for(const f of u)S(f,t.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in e||(e[l]=[{}]);const u=e[l];S(u[0],t.slice(a+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function x(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const o=e[a];return Array.isArray(o)?o.map(l=>x(l,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Doe(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),o=new Set;let l=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){l=u;break}if(l!==-1&&a.length>l)for(let u=l;u<a.length;u++){const f=a[u];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&o.add(f)}Xw(e,i,a,0,o)}}function Xw(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const o=a.slice(0,-2),l=e;if(o in l&&Array.isArray(l[o]))for(const u of l[o])Xw(u,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const o=e,l=Object.keys(o).filter(f=>!f.startsWith("_")&&!i.has(f)),u={};for(const f of l)u[f]=o[f];for(const[f,h]of Object.entries(u)){const p=[];for(const y of n.slice(r))y==="*"?p.push(f):p.push(y);S(o,p,h)}for(const f of l)delete o[f]}}else{const o=e;a in o&&Xw(o[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Roe(e){const t={},n=x(e,["operationName"]);n!=null&&S(t,["operationName"],n);const r=x(e,["resourceName"]);return r!=null&&S(t,["_url","resourceName"],r),t}function Loe(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response","generateVideoResponse"]);return o!=null&&S(t,["response"],Boe(o)),t}function Ooe(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response"]);return o!=null&&S(t,["response"],Uoe(o)),t}function Boe(e){const t={},n=x(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Foe(o))),S(t,["generatedVideos"],a)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&S(t,["raiMediaFilteredCount"],r);const i=x(e,["raiMediaFilteredReasons"]);return i!=null&&S(t,["raiMediaFilteredReasons"],i),t}function Uoe(e){const t={},n=x(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>zoe(o))),S(t,["generatedVideos"],a)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&S(t,["raiMediaFilteredCount"],r);const i=x(e,["raiMediaFilteredReasons"]);return i!=null&&S(t,["raiMediaFilteredReasons"],i),t}function Foe(e){const t={},n=x(e,["video"]);return n!=null&&S(t,["video"],Woe(n)),t}function zoe(e){const t={},n=x(e,["_self"]);return n!=null&&S(t,["video"],Yoe(n)),t}function qoe(e){const t={},n=x(e,["operationName"]);return n!=null&&S(t,["_url","operationName"],n),t}function Hoe(e){const t={},n=x(e,["operationName"]);return n!=null&&S(t,["_url","operationName"],n),t}function Voe(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response"]);return o!=null&&S(t,["response"],Goe(o)),t}function Goe(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&S(t,["parent"],r);const i=x(e,["documentName"]);return i!=null&&S(t,["documentName"],i),t}function mO(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response"]);return o!=null&&S(t,["response"],$oe(o)),t}function $oe(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&S(t,["parent"],r);const i=x(e,["documentName"]);return i!=null&&S(t,["documentName"],i),t}function Woe(e){const t={},n=x(e,["uri"]);n!=null&&S(t,["uri"],n);const r=x(e,["encodedVideo"]);r!=null&&S(t,["videoBytes"],TS(r));const i=x(e,["encoding"]);return i!=null&&S(t,["mimeType"],i),t}function Yoe(e){const t={},n=x(e,["gcsUri"]);n!=null&&S(t,["uri"],n);const r=x(e,["bytesBase64Encoded"]);r!=null&&S(t,["videoBytes"],TS(r));const i=x(e,["mimeType"]);return i!=null&&S(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var J3;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(J3||(J3={}));var X3;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(X3||(X3={}));var Q3;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Q3||(Q3={}));var Pu;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Pu||(Pu={}));var Z3;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Z3||(Z3={}));var eP;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(eP||(eP={}));var tP;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(tP||(tP={}));var nP;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nP||(nP={}));var rP;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(rP||(rP={}));var iP;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(iP||(iP={}));var aP;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(aP||(aP={}));var oP;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(oP||(oP={}));var sP;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(sP||(sP={}));var lP;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(lP||(lP={}));var cP;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(cP||(cP={}));var uP;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uP||(uP={}));var dP;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dP||(dP={}));var fP;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(fP||(fP={}));var hP;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hP||(hP={}));var Ly;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Ly||(Ly={}));var pP;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pP||(pP={}));var mP;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mP||(mP={}));var gP;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gP||(gP={}));var Qw;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qw||(Qw={}));var yP;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(yP||(yP={}));var vP;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(vP||(vP={}));var xP;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(xP||(xP={}));var bP;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(bP||(bP={}));var wP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(wP||(wP={}));var NP;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(NP||(NP={}));var SP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(SP||(SP={}));var AP;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(AP||(AP={}));var _P;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(_P||(_P={}));var CP;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(CP||(CP={}));var EP;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(EP||(EP={}));var kP;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(kP||(kP={}));var TP;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(TP||(TP={}));var PP;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(PP||(PP={}));var jP;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(jP||(jP={}));var IP;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(IP||(IP={}));var MP;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(MP||(MP={}));var DP;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(DP||(DP={}));var RP;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(RP||(RP={}));var LP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(LP||(LP={}));var OP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(OP||(OP={}));var BP;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(BP||(BP={}));var UP;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(UP||(UP={}));var FP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(FP||(FP={}));var zP;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zP||(zP={}));var qP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(qP||(qP={}));var HP;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HP||(HP={}));var VP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(VP||(VP={}));var GP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(GP||(GP={}));var $P;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})($P||($P={}));var WP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(WP||(WP={}));var hh;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(hh||(hh={}));class Zw{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Wp{get text(){var t,n,r,i,a,o,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const y of(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[g,w]of Object.entries(y))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(w!==null||w!==void 0)&&p.push(g);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,a,o,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[y,g]of Object.entries(p))y!=="inlineData"&&(g!==null||g!==void 0)&&h.push(y);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,a,o,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,a,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,a,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(u=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class YP{}class KP{}class Koe{}class Joe{}class Xoe{}class Qoe{}class JP{}class XP{}class QP{}class Zoe{}class Oy{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Oy;let i;const a=t;return n?i=Ooe(a):i=Loe(a),Object.assign(r,i),r}}class ZP{}class e6{}class t6{}class n6{}class ese{}class tse{}class nse{}class PS{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new PS,a=Voe(t);return Object.assign(r,a),r}}class rse{}class ise{}class ase{}class r6{}class ose{get text(){var t,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="text"&&u!=="thought"&&f!==null&&o.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const o of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="inlineData"&&u!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class sse{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class jS{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new jS,a=mO(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _n(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function gO(e,t){const n=_n(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function yO(e){return Array.isArray(e)?e.map(t=>By(t)):[By(e)]}function By(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function vO(e){const t=By(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function xO(e){const t=By(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function i6(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function bO(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>i6(t)):[i6(e)]}function e5(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function a6(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function o6(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function da(e){if(e==null)throw new Error("ContentUnion is required");return e5(e)?e:{role:"user",parts:bO(e)}}function IS(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=da(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=da(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>da(n)):[da(t)]}function Qo(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(a6(e)||o6(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[da(e)]}const t=[],n=[],r=e5(e[0]);for(const i of e){const a=e5(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(a6(i)||o6(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:bO(n)}),t}function lse(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Pu).includes(n[0].toUpperCase())?n[0].toUpperCase():Pu.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Pu).includes(r.toUpperCase())?r.toUpperCase():Pu.TYPE_UNSPECIFIED})}}function vh(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&lse(e.type,t);for(const[o,l]of Object.entries(e))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;t.type=Object.values(Pu).includes(l.toUpperCase())?l.toUpperCase():Pu.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=vh(l);else if(r.includes(o)){const u=[];for(const f of l){if(f.type=="null"){t.nullable=!0;continue}u.push(vh(f))}t[o]=u}else if(i.includes(o)){const u={};for(const[f,h]of Object.entries(l))u[f]=vh(h);t[o]=u}else{if(o==="additionalProperties")continue;t[o]=l}return t}function MS(e){return vh(e)}function DS(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function RS(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Wh(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=vh(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=vh(t.response));return e}function Yh(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function cse(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Mc(e,t){if(typeof t!="string")throw new Error("name must be a string");return cse(e,t,"cachedContents")}function wO(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function qu(e){return TS(e)}function use(e){return e!=null&&typeof e=="object"&&"name"in e}function dse(e){return e!=null&&typeof e=="object"&&"video"in e}function fse(e){return e!=null&&typeof e=="object"&&"uri"in e}function NO(e){var t;let n;if(use(e)&&(n=e.name),!(fse(e)&&(n=e.uri,n===void 0))&&!(dse(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function SO(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function AO(e){for(const t of["models","tunedModels","publisherModels"])if(hse(e,t))return e[t];return[]}function hse(e,t){return e!==null&&typeof e=="object"&&t in e}function pse(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function mse(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=pse(i,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function _O(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function gse(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function CO(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const u=o.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Kh(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function EO(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yse(e){const t={},n=x(e,["responsesFile"]);n!=null&&S(t,["fileName"],n);const r=x(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Xse(o))),S(t,["inlinedResponses"],a)}const i=x(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["inlinedEmbedContentResponses"],a)}return t}function vse(e){const t={},n=x(e,["predictionsFormat"]);n!=null&&S(t,["format"],n);const r=x(e,["gcsDestination","outputUriPrefix"]);r!=null&&S(t,["gcsUri"],r);const i=x(e,["bigqueryDestination","outputUri"]);return i!=null&&S(t,["bigqueryUri"],i),t}function xse(e){const t={},n=x(e,["format"]);n!=null&&S(t,["predictionsFormat"],n);const r=x(e,["gcsUri"]);r!=null&&S(t,["gcsDestination","outputUriPrefix"],r);const i=x(e,["bigqueryUri"]);if(i!=null&&S(t,["bigqueryDestination","outputUri"],i),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Dg(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata","displayName"]);r!=null&&S(t,["displayName"],r);const i=x(e,["metadata","state"]);i!=null&&S(t,["state"],EO(i));const a=x(e,["metadata","createTime"]);a!=null&&S(t,["createTime"],a);const o=x(e,["metadata","endTime"]);o!=null&&S(t,["endTime"],o);const l=x(e,["metadata","updateTime"]);l!=null&&S(t,["updateTime"],l);const u=x(e,["metadata","model"]);u!=null&&S(t,["model"],u);const f=x(e,["metadata","output"]);return f!=null&&S(t,["dest"],yse(CO(f))),t}function t5(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["displayName"]);r!=null&&S(t,["displayName"],r);const i=x(e,["state"]);i!=null&&S(t,["state"],EO(i));const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["createTime"]);o!=null&&S(t,["createTime"],o);const l=x(e,["startTime"]);l!=null&&S(t,["startTime"],l);const u=x(e,["endTime"]);u!=null&&S(t,["endTime"],u);const f=x(e,["updateTime"]);f!=null&&S(t,["updateTime"],f);const h=x(e,["model"]);h!=null&&S(t,["model"],h);const p=x(e,["inputConfig"]);p!=null&&S(t,["src"],bse(p));const y=x(e,["outputConfig"]);y!=null&&S(t,["dest"],vse(CO(y)));const g=x(e,["completionStats"]);return g!=null&&S(t,["completionStats"],g),t}function bse(e){const t={},n=x(e,["instancesFormat"]);n!=null&&S(t,["format"],n);const r=x(e,["gcsSource","uris"]);r!=null&&S(t,["gcsUri"],r);const i=x(e,["bigquerySource","inputUri"]);return i!=null&&S(t,["bigqueryUri"],i),t}function wse(e,t){const n={};if(x(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(t,["fileName"]);r!=null&&S(n,["fileName"],r);const i=x(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Jse(e,o))),S(n,["requests","requests"],a)}return n}function Nse(e){const t={},n=x(e,["format"]);n!=null&&S(t,["instancesFormat"],n);const r=x(e,["gcsUri"]);r!=null&&S(t,["gcsSource","uris"],r);const i=x(e,["bigqueryUri"]);if(i!=null&&S(t,["bigquerySource","inputUri"],i),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Sse(e){const t={},n=x(e,["data"]);if(n!=null&&S(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function Ase(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Kh(e,r)),n}function _se(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Kh(e,r)),n}function Cse(e){const t={},n=x(e,["content"]);n!=null&&S(t,["content"],n);const r=x(e,["citationMetadata"]);r!=null&&S(t,["citationMetadata"],Ese(r));const i=x(e,["tokenCount"]);i!=null&&S(t,["tokenCount"],i);const a=x(e,["finishReason"]);a!=null&&S(t,["finishReason"],a);const o=x(e,["avgLogprobs"]);o!=null&&S(t,["avgLogprobs"],o);const l=x(e,["groundingMetadata"]);l!=null&&S(t,["groundingMetadata"],l);const u=x(e,["index"]);u!=null&&S(t,["index"],u);const f=x(e,["logprobsResult"]);f!=null&&S(t,["logprobsResult"],f);const h=x(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(g=>g)),S(t,["safetyRatings"],y)}const p=x(e,["urlContextMetadata"]);return p!=null&&S(t,["urlContextMetadata"],p),t}function Ese(e){const t={},n=x(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(t,["citations"],r)}return t}function kO(e){const t={},n=x(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ile(a))),S(t,["parts"],i)}const r=x(e,["role"]);return r!=null&&S(t,["role"],r),t}function kse(e,t){const n={},r=x(e,["displayName"]);if(t!==void 0&&r!=null&&S(t,["batch","displayName"],r),x(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Tse(e,t){const n={},r=x(e,["displayName"]);t!==void 0&&r!=null&&S(t,["displayName"],r);const i=x(e,["dest"]);return t!==void 0&&i!=null&&S(t,["outputConfig"],xse(gse(i))),n}function s6(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["src"]);i!=null&&S(n,["batch","inputConfig"],wse(e,_O(e,i)));const a=x(t,["config"]);return a!=null&&kse(a,n),n}function Pse(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["model"],_n(e,r));const i=x(t,["src"]);i!=null&&S(n,["inputConfig"],Nse(_O(e,i)));const a=x(t,["config"]);return a!=null&&Tse(a,n),n}function jse(e,t){const n={},r=x(e,["displayName"]);return t!==void 0&&r!=null&&S(t,["batch","displayName"],r),n}function Ise(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["src"]);i!=null&&S(n,["batch","inputConfig"],Use(e,i));const a=x(t,["config"]);return a!=null&&jse(a,n),n}function Mse(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Kh(e,r)),n}function Dse(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Kh(e,r)),n}function Rse(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["name"]);r!=null&&S(t,["name"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);return a!=null&&S(t,["error"],a),t}function Lse(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["name"]);r!=null&&S(t,["name"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);return a!=null&&S(t,["error"],a),t}function Ose(e,t){const n={},r=x(t,["contents"]);if(r!=null){let a=IS(e,r);Array.isArray(a)&&(a=a.map(o=>o)),S(n,["requests[]","request","content"],a)}const i=x(t,["config"]);return i!=null&&(S(n,["_self"],Bse(i,n)),Doe(n,{"requests[].*":"requests[].request.*"})),n}function Bse(e,t){const n={},r=x(e,["taskType"]);t!==void 0&&r!=null&&S(t,["requests[]","taskType"],r);const i=x(e,["title"]);t!==void 0&&i!=null&&S(t,["requests[]","title"],i);const a=x(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&S(t,["requests[]","outputDimensionality"],a),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Use(e,t){const n={},r=x(t,["fileName"]);r!=null&&S(n,["file_name"],r);const i=x(t,["inlinedRequests"]);return i!=null&&S(n,["requests"],Ose(e,i)),n}function Fse(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&S(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function zse(e){const t={},n=x(e,["id"]);n!=null&&S(t,["id"],n);const r=x(e,["args"]);r!=null&&S(t,["args"],r);const i=x(e,["name"]);if(i!=null&&S(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qse(e){const t={},n=x(e,["mode"]);n!=null&&S(t,["mode"],n);const r=x(e,["allowedFunctionNames"]);if(r!=null&&S(t,["allowedFunctionNames"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Hse(e,t,n){const r={},i=x(t,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],kO(da(i)));const a=x(t,["temperature"]);a!=null&&S(r,["temperature"],a);const o=x(t,["topP"]);o!=null&&S(r,["topP"],o);const l=x(t,["topK"]);l!=null&&S(r,["topK"],l);const u=x(t,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const f=x(t,["maxOutputTokens"]);f!=null&&S(r,["maxOutputTokens"],f);const h=x(t,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=x(t,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const y=x(t,["logprobs"]);y!=null&&S(r,["logprobs"],y);const g=x(t,["presencePenalty"]);g!=null&&S(r,["presencePenalty"],g);const w=x(t,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const N=x(t,["seed"]);N!=null&&S(r,["seed"],N);const A=x(t,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const _=x(t,["responseSchema"]);_!=null&&S(r,["responseSchema"],MS(_));const k=x(t,["responseJsonSchema"]);if(k!=null&&S(r,["responseJsonSchema"],k),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=x(t,["safetySettings"]);if(n!==void 0&&P!=null){let K=P;Array.isArray(K)&&(K=K.map($=>ale($))),S(n,["safetySettings"],K)}const M=x(t,["tools"]);if(n!==void 0&&M!=null){let K=Yh(M);Array.isArray(K)&&(K=K.map($=>sle(Wh($)))),S(n,["tools"],K)}const B=x(t,["toolConfig"]);if(n!==void 0&&B!=null&&S(n,["toolConfig"],ole(B)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=x(t,["cachedContent"]);n!==void 0&&U!=null&&S(n,["cachedContent"],Mc(e,U));const D=x(t,["responseModalities"]);D!=null&&S(r,["responseModalities"],D);const F=x(t,["mediaResolution"]);F!=null&&S(r,["mediaResolution"],F);const q=x(t,["speechConfig"]);if(q!=null&&S(r,["speechConfig"],DS(q)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=x(t,["thinkingConfig"]);G!=null&&S(r,["thinkingConfig"],G);const R=x(t,["imageConfig"]);R!=null&&S(r,["imageConfig"],Kse(R));const O=x(t,["enableEnhancedCivicAnswers"]);return O!=null&&S(r,["enableEnhancedCivicAnswers"],O),r}function Vse(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Cse(f))),S(t,["candidates"],u)}const i=x(e,["modelVersion"]);i!=null&&S(t,["modelVersion"],i);const a=x(e,["promptFeedback"]);a!=null&&S(t,["promptFeedback"],a);const o=x(e,["responseId"]);o!=null&&S(t,["responseId"],o);const l=x(e,["usageMetadata"]);return l!=null&&S(t,["usageMetadata"],l),t}function Gse(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Kh(e,r)),n}function $se(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Kh(e,r)),n}function Wse(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&S(t,["enableWidget"],n),t}function Yse(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&S(t,["timeRangeFilter"],n),t}function Kse(e){const t={},n=x(e,["aspectRatio"]);n!=null&&S(t,["aspectRatio"],n);const r=x(e,["imageSize"]);if(r!=null&&S(t,["imageSize"],r),x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Jse(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["request","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let l=Qo(i);Array.isArray(l)&&(l=l.map(u=>kO(u))),S(n,["request","contents"],l)}const a=x(t,["metadata"]);a!=null&&S(n,["metadata"],a);const o=x(t,["config"]);return o!=null&&S(n,["request","generationConfig"],Hse(e,o,x(n,["request"],{}))),n}function Xse(e){const t={},n=x(e,["response"]);n!=null&&S(t,["response"],Vse(n));const r=x(e,["error"]);return r!=null&&S(t,["error"],r),t}function Qse(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);if(t!==void 0&&i!=null&&S(t,["_query","pageToken"],i),x(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Zse(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);t!==void 0&&i!=null&&S(t,["_query","pageToken"],i);const a=x(e,["filter"]);return t!==void 0&&a!=null&&S(t,["_query","filter"],a),n}function ele(e){const t={},n=x(e,["config"]);return n!=null&&Qse(n,t),t}function tle(e){const t={},n=x(e,["config"]);return n!=null&&Zse(n,t),t}function nle(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Dg(o))),S(t,["batchJobs"],a)}return t}function rle(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>t5(o))),S(t,["batchJobs"],a)}return t}function ile(e){const t={},n=x(e,["mediaResolution"]);n!=null&&S(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&S(t,["codeExecutionResult"],r);const i=x(e,["executableCode"]);i!=null&&S(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&S(t,["fileData"],Fse(a));const o=x(e,["functionCall"]);o!=null&&S(t,["functionCall"],zse(o));const l=x(e,["functionResponse"]);l!=null&&S(t,["functionResponse"],l);const u=x(e,["inlineData"]);u!=null&&S(t,["inlineData"],Sse(u));const f=x(e,["text"]);f!=null&&S(t,["text"],f);const h=x(e,["thought"]);h!=null&&S(t,["thought"],h);const p=x(e,["thoughtSignature"]);p!=null&&S(t,["thoughtSignature"],p);const y=x(e,["videoMetadata"]);return y!=null&&S(t,["videoMetadata"],y),t}function ale(e){const t={},n=x(e,["category"]);if(n!=null&&S(t,["category"],n),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(e,["threshold"]);return r!=null&&S(t,["threshold"],r),t}function ole(e){const t={},n=x(e,["functionCallingConfig"]);n!=null&&S(t,["functionCallingConfig"],qse(n));const r=x(e,["retrievalConfig"]);return r!=null&&S(t,["retrievalConfig"],r),t}function sle(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),S(t,["functionDeclarations"],h)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["googleSearchRetrieval"]);r!=null&&S(t,["googleSearchRetrieval"],r);const i=x(e,["computerUse"]);i!=null&&S(t,["computerUse"],i);const a=x(e,["fileSearch"]);a!=null&&S(t,["fileSearch"],a);const o=x(e,["codeExecution"]);if(o!=null&&S(t,["codeExecution"],o),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["googleMaps"]);l!=null&&S(t,["googleMaps"],Wse(l));const u=x(e,["googleSearch"]);u!=null&&S(t,["googleSearch"],Yse(u));const f=x(e,["urlContext"]);return f!=null&&S(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bc;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(bc||(bc={}));class tf{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lle extends Ic{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new tf(bc.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=s6(this.apiClient,t),r=n._url,i=wt("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,u=l.requests,f=[];for(const h of u){const p=Object.assign({},h);if(p.systemInstruction){const y=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=y,p.request=g}f.push(p)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),o=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Pse(this.apiClient,t);return l=wt("batchPredictionJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>t5(h))}else{const f=s6(this.apiClient,t);return l=wt("{model}:batchGenerateContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Dg(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ise(this.apiClient,t);return a=wt("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Dg(u))}}async get(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=$se(this.apiClient,t);return l=wt("batchPredictionJobs/{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>t5(h))}else{const f=Gse(this.apiClient,t);return l=wt("batches/{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Dg(h))}}async cancel(t){var n,r,i,a;let o="",l={};if(this.apiClient.isVertexAI()){const u=_se(this.apiClient,t);o=wt("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=Ase(this.apiClient,t);o=wt("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=tle(t);return l=wt("batchPredictionJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=rle(h),y=new r6;return Object.assign(y,p),y})}else{const f=ele(t);return l=wt("batches",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=nle(h),y=new r6;return Object.assign(y,p),y})}}async delete(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Dse(this.apiClient,t);return l=wt("batchPredictionJobs/{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>Lse(h))}else{const f=Mse(this.apiClient,t);return l=wt("batches/{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>Rse(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cle(e){const t={},n=x(e,["data"]);if(n!=null&&S(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function l6(e){const t={},n=x(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ile(a))),S(t,["parts"],i)}const r=x(e,["role"]);return r!=null&&S(t,["role"],r),t}function ule(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&S(t,["ttl"],r);const i=x(e,["expireTime"]);t!==void 0&&i!=null&&S(t,["expireTime"],i);const a=x(e,["displayName"]);t!==void 0&&a!=null&&S(t,["displayName"],a);const o=x(e,["contents"]);if(t!==void 0&&o!=null){let h=Qo(o);Array.isArray(h)&&(h=h.map(p=>l6(p))),S(t,["contents"],h)}const l=x(e,["systemInstruction"]);t!==void 0&&l!=null&&S(t,["systemInstruction"],l6(da(l)));const u=x(e,["tools"]);if(t!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>Dle(p))),S(t,["tools"],h)}const f=x(e,["toolConfig"]);if(t!==void 0&&f!=null&&S(t,["toolConfig"],Mle(f)),x(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function dle(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&S(t,["ttl"],r);const i=x(e,["expireTime"]);t!==void 0&&i!=null&&S(t,["expireTime"],i);const a=x(e,["displayName"]);t!==void 0&&a!=null&&S(t,["displayName"],a);const o=x(e,["contents"]);if(t!==void 0&&o!=null){let p=Qo(o);Array.isArray(p)&&(p=p.map(y=>y)),S(t,["contents"],p)}const l=x(e,["systemInstruction"]);t!==void 0&&l!=null&&S(t,["systemInstruction"],da(l));const u=x(e,["tools"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>Rle(y))),S(t,["tools"],p)}const f=x(e,["toolConfig"]);t!==void 0&&f!=null&&S(t,["toolConfig"],f);const h=x(e,["kmsKeyName"]);return t!==void 0&&h!=null&&S(t,["encryption_spec","kmsKeyName"],h),n}function fle(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["model"],gO(e,r));const i=x(t,["config"]);return i!=null&&ule(i,n),n}function hle(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["model"],gO(e,r));const i=x(t,["config"]);return i!=null&&dle(i,n),n}function ple(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Mc(e,r)),n}function mle(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Mc(e,r)),n}function gle(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}function yle(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}function vle(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&S(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function xle(e){const t={},n=x(e,["id"]);n!=null&&S(t,["id"],n);const r=x(e,["args"]);r!=null&&S(t,["args"],r);const i=x(e,["name"]);if(i!=null&&S(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ble(e){const t={},n=x(e,["mode"]);n!=null&&S(t,["mode"],n);const r=x(e,["allowedFunctionNames"]);if(r!=null&&S(t,["allowedFunctionNames"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function wle(e){const t={};if(x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(e,["description"]);n!=null&&S(t,["description"],n);const r=x(e,["name"]);r!=null&&S(t,["name"],r);const i=x(e,["parameters"]);i!=null&&S(t,["parameters"],i);const a=x(e,["parametersJsonSchema"]);a!=null&&S(t,["parametersJsonSchema"],a);const o=x(e,["response"]);o!=null&&S(t,["response"],o);const l=x(e,["responseJsonSchema"]);return l!=null&&S(t,["responseJsonSchema"],l),t}function Nle(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Mc(e,r)),n}function Sle(e,t){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],Mc(e,r)),n}function Ale(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&S(t,["enableWidget"],n),t}function _le(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&S(t,["timeRangeFilter"],n),t}function Cle(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&S(t,["_query","pageToken"],i),n}function Ele(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&S(t,["_query","pageToken"],i),n}function kle(e){const t={},n=x(e,["config"]);return n!=null&&Cle(n,t),t}function Tle(e){const t={},n=x(e,["config"]);return n!=null&&Ele(n,t),t}function Ple(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["cachedContents"],a)}return t}function jle(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["cachedContents"],a)}return t}function Ile(e){const t={},n=x(e,["mediaResolution"]);n!=null&&S(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&S(t,["codeExecutionResult"],r);const i=x(e,["executableCode"]);i!=null&&S(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&S(t,["fileData"],vle(a));const o=x(e,["functionCall"]);o!=null&&S(t,["functionCall"],xle(o));const l=x(e,["functionResponse"]);l!=null&&S(t,["functionResponse"],l);const u=x(e,["inlineData"]);u!=null&&S(t,["inlineData"],cle(u));const f=x(e,["text"]);f!=null&&S(t,["text"],f);const h=x(e,["thought"]);h!=null&&S(t,["thought"],h);const p=x(e,["thoughtSignature"]);p!=null&&S(t,["thoughtSignature"],p);const y=x(e,["videoMetadata"]);return y!=null&&S(t,["videoMetadata"],y),t}function Mle(e){const t={},n=x(e,["functionCallingConfig"]);n!=null&&S(t,["functionCallingConfig"],ble(n));const r=x(e,["retrievalConfig"]);return r!=null&&S(t,["retrievalConfig"],r),t}function Dle(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),S(t,["functionDeclarations"],h)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["googleSearchRetrieval"]);r!=null&&S(t,["googleSearchRetrieval"],r);const i=x(e,["computerUse"]);i!=null&&S(t,["computerUse"],i);const a=x(e,["fileSearch"]);a!=null&&S(t,["fileSearch"],a);const o=x(e,["codeExecution"]);if(o!=null&&S(t,["codeExecution"],o),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["googleMaps"]);l!=null&&S(t,["googleMaps"],Ale(l));const u=x(e,["googleSearch"]);u!=null&&S(t,["googleSearch"],_le(u));const f=x(e,["urlContext"]);return f!=null&&S(t,["urlContext"],f),t}function Rle(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(y=>wle(y))),S(t,["functionDeclarations"],p)}const r=x(e,["retrieval"]);r!=null&&S(t,["retrieval"],r);const i=x(e,["googleSearchRetrieval"]);i!=null&&S(t,["googleSearchRetrieval"],i);const a=x(e,["computerUse"]);if(a!=null&&S(t,["computerUse"],a),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=x(e,["codeExecution"]);o!=null&&S(t,["codeExecution"],o);const l=x(e,["enterpriseWebSearch"]);l!=null&&S(t,["enterpriseWebSearch"],l);const u=x(e,["googleMaps"]);u!=null&&S(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&S(t,["googleSearch"],f);const h=x(e,["urlContext"]);return h!=null&&S(t,["urlContext"],h),t}function Lle(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&S(t,["ttl"],r);const i=x(e,["expireTime"]);return t!==void 0&&i!=null&&S(t,["expireTime"],i),n}function Ole(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&S(t,["ttl"],r);const i=x(e,["expireTime"]);return t!==void 0&&i!=null&&S(t,["expireTime"],i),n}function Ble(e,t){const n={},r=x(t,["name"]);r!=null&&S(n,["_url","name"],Mc(e,r));const i=x(t,["config"]);return i!=null&&Lle(i,n),n}function Ule(e,t){const n={},r=x(t,["name"]);r!=null&&S(n,["_url","name"],Mc(e,r));const i=x(t,["config"]);return i!=null&&Ole(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fle extends Ic{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new tf(bc.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=hle(this.apiClient,t);return l=wt("cachedContents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const f=fle(this.apiClient,t);return l=wt("cachedContents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Sle(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const f=Nle(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=mle(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=yle(h),y=new t6;return Object.assign(y,p),y})}else{const f=ple(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=gle(h),y=new t6;return Object.assign(y,p),y})}}async update(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Ule(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const f=Ble(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Tle(t);return l=wt("cachedContents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=jle(h),y=new n6;return Object.assign(y,p),y})}else{const f=kle(t);return l=wt("cachedContents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Ple(h),y=new n6;return Object.assign(y,p),y})}}}function Uy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function c6(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(e){return this instanceof Xt?(this.v=e,this):new Xt(e)}function Ts(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(w){return Promise.resolve(w).then(g,p)}}function l(g,w){r[g]&&(i[g]=function(N){return new Promise(function(A,_){a.push([g,N,A,_])>1||u(g,N)})},w&&(i[g]=w(i[g])))}function u(g,w){try{f(r[g](w))}catch(N){y(a[0][3],N)}}function f(g){g.value instanceof Xt?Promise.resolve(g.value.v).then(h,p):y(a[0][2],g)}function h(g){u("next",g)}function p(g){u("throw",g)}function y(g,w){g(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function Ps(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof c6=="function"?c6(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(l,u){o=e[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(f){a({value:f,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zle(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:TO(n)}function TO(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function qle(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function u6(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!TO(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class Hle{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Vle(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Vle{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),qle(a)}async sendMessage(t){var n;await this.sendPromise;const r=da(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const u=await i,f=(o=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,h=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let y=[];h!=null&&(y=(l=h.slice(p))!==null&&l!==void 0?l:[]);const g=f?[f]:[];this.recordHistory(r,g,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=da(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?u6(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Ts(this,arguments,function*(){var i,a,o,l,u,f;const h=[];try{for(var p=!0,y=Ps(t),g;g=yield Xt(y.next()),i=g.done,!i;p=!0){l=g.value,p=!1;const w=l;if(zle(w)){const N=(f=(u=w.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content;N!==void 0&&h.push(N)}yield yield Xt(w)}}catch(w){a={error:w}}finally{try{!p&&!i&&(o=y.return)&&(yield Xt(o.call(y)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...u6(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Fv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gle(e){const t={},n=x(e,["file"]);return n!=null&&S(t,["file"],n),t}function $le(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}function Wle(e){const t={},n=x(e,["name"]);return n!=null&&S(t,["_url","file"],NO(n)),t}function Yle(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}function Kle(e){const t={},n=x(e,["name"]);return n!=null&&S(t,["_url","file"],NO(n)),t}function Jle(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&S(t,["_query","pageToken"],i),n}function Xle(e){const t={},n=x(e,["config"]);return n!=null&&Jle(n,t),t}function Qle(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zle extends Ic{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new tf(bc.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Xle(t);return a=wt("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const f=Qle(u),h=new rse;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Gle(t);return a=wt("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=$le(u),h=new ise;return Object.assign(h,f),h})}}async get(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Kle(t);return a=wt("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Wle(t);return a=wt("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const f=Yle(u),h=new ase;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rg(e){const t={},n=x(e,["data"]);if(n!=null&&S(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function ece(e){const t={},n=x(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gce(a))),S(t,["parts"],i)}const r=x(e,["role"]);return r!=null&&S(t,["role"],r),t}function tce(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&S(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function nce(e){const t={},n=x(e,["id"]);n!=null&&S(t,["id"],n);const r=x(e,["args"]);r!=null&&S(t,["args"],r);const i=x(e,["name"]);if(i!=null&&S(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rce(e){const t={};if(x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(e,["description"]);n!=null&&S(t,["description"],n);const r=x(e,["name"]);r!=null&&S(t,["name"],r);const i=x(e,["parameters"]);i!=null&&S(t,["parameters"],i);const a=x(e,["parametersJsonSchema"]);a!=null&&S(t,["parametersJsonSchema"],a);const o=x(e,["response"]);o!=null&&S(t,["response"],o);const l=x(e,["responseJsonSchema"]);return l!=null&&S(t,["responseJsonSchema"],l),t}function ice(e){const t={},n=x(e,["modelSelectionConfig"]);n!=null&&S(t,["modelConfig"],n);const r=x(e,["responseJsonSchema"]);r!=null&&S(t,["responseJsonSchema"],r);const i=x(e,["audioTimestamp"]);i!=null&&S(t,["audioTimestamp"],i);const a=x(e,["candidateCount"]);a!=null&&S(t,["candidateCount"],a);const o=x(e,["enableAffectiveDialog"]);o!=null&&S(t,["enableAffectiveDialog"],o);const l=x(e,["frequencyPenalty"]);l!=null&&S(t,["frequencyPenalty"],l);const u=x(e,["logprobs"]);u!=null&&S(t,["logprobs"],u);const f=x(e,["maxOutputTokens"]);f!=null&&S(t,["maxOutputTokens"],f);const h=x(e,["mediaResolution"]);h!=null&&S(t,["mediaResolution"],h);const p=x(e,["presencePenalty"]);p!=null&&S(t,["presencePenalty"],p);const y=x(e,["responseLogprobs"]);y!=null&&S(t,["responseLogprobs"],y);const g=x(e,["responseMimeType"]);g!=null&&S(t,["responseMimeType"],g);const w=x(e,["responseModalities"]);w!=null&&S(t,["responseModalities"],w);const N=x(e,["responseSchema"]);N!=null&&S(t,["responseSchema"],N);const A=x(e,["routingConfig"]);A!=null&&S(t,["routingConfig"],A);const _=x(e,["seed"]);_!=null&&S(t,["seed"],_);const k=x(e,["speechConfig"]);k!=null&&S(t,["speechConfig"],k);const P=x(e,["stopSequences"]);P!=null&&S(t,["stopSequences"],P);const M=x(e,["temperature"]);M!=null&&S(t,["temperature"],M);const B=x(e,["thinkingConfig"]);B!=null&&S(t,["thinkingConfig"],B);const U=x(e,["topK"]);U!=null&&S(t,["topK"],U);const D=x(e,["topP"]);if(D!=null&&S(t,["topP"],D),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ace(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&S(t,["enableWidget"],n),t}function oce(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&S(t,["timeRangeFilter"],n),t}function sce(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&S(t,["setup","generationConfig"],r);const i=x(e,["responseModalities"]);t!==void 0&&i!=null&&S(t,["setup","generationConfig","responseModalities"],i);const a=x(e,["temperature"]);t!==void 0&&a!=null&&S(t,["setup","generationConfig","temperature"],a);const o=x(e,["topP"]);t!==void 0&&o!=null&&S(t,["setup","generationConfig","topP"],o);const l=x(e,["topK"]);t!==void 0&&l!=null&&S(t,["setup","generationConfig","topK"],l);const u=x(e,["maxOutputTokens"]);t!==void 0&&u!=null&&S(t,["setup","generationConfig","maxOutputTokens"],u);const f=x(e,["mediaResolution"]);t!==void 0&&f!=null&&S(t,["setup","generationConfig","mediaResolution"],f);const h=x(e,["seed"]);t!==void 0&&h!=null&&S(t,["setup","generationConfig","seed"],h);const p=x(e,["speechConfig"]);t!==void 0&&p!=null&&S(t,["setup","generationConfig","speechConfig"],RS(p));const y=x(e,["thinkingConfig"]);t!==void 0&&y!=null&&S(t,["setup","generationConfig","thinkingConfig"],y);const g=x(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&S(t,["setup","generationConfig","enableAffectiveDialog"],g);const w=x(e,["systemInstruction"]);t!==void 0&&w!=null&&S(t,["setup","systemInstruction"],ece(da(w)));const N=x(e,["tools"]);if(t!==void 0&&N!=null){let U=Yh(N);Array.isArray(U)&&(U=U.map(D=>vce(Wh(D)))),S(t,["setup","tools"],U)}const A=x(e,["sessionResumption"]);t!==void 0&&A!=null&&S(t,["setup","sessionResumption"],yce(A));const _=x(e,["inputAudioTranscription"]);t!==void 0&&_!=null&&S(t,["setup","inputAudioTranscription"],_);const k=x(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&S(t,["setup","outputAudioTranscription"],k);const P=x(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&S(t,["setup","realtimeInputConfig"],P);const M=x(e,["contextWindowCompression"]);t!==void 0&&M!=null&&S(t,["setup","contextWindowCompression"],M);const B=x(e,["proactivity"]);if(t!==void 0&&B!=null&&S(t,["setup","proactivity"],B),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lce(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&S(t,["setup","generationConfig"],ice(r));const i=x(e,["responseModalities"]);t!==void 0&&i!=null&&S(t,["setup","generationConfig","responseModalities"],i);const a=x(e,["temperature"]);t!==void 0&&a!=null&&S(t,["setup","generationConfig","temperature"],a);const o=x(e,["topP"]);t!==void 0&&o!=null&&S(t,["setup","generationConfig","topP"],o);const l=x(e,["topK"]);t!==void 0&&l!=null&&S(t,["setup","generationConfig","topK"],l);const u=x(e,["maxOutputTokens"]);t!==void 0&&u!=null&&S(t,["setup","generationConfig","maxOutputTokens"],u);const f=x(e,["mediaResolution"]);t!==void 0&&f!=null&&S(t,["setup","generationConfig","mediaResolution"],f);const h=x(e,["seed"]);t!==void 0&&h!=null&&S(t,["setup","generationConfig","seed"],h);const p=x(e,["speechConfig"]);t!==void 0&&p!=null&&S(t,["setup","generationConfig","speechConfig"],RS(p));const y=x(e,["thinkingConfig"]);t!==void 0&&y!=null&&S(t,["setup","generationConfig","thinkingConfig"],y);const g=x(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&S(t,["setup","generationConfig","enableAffectiveDialog"],g);const w=x(e,["systemInstruction"]);t!==void 0&&w!=null&&S(t,["setup","systemInstruction"],da(w));const N=x(e,["tools"]);if(t!==void 0&&N!=null){let D=Yh(N);Array.isArray(D)&&(D=D.map(F=>xce(Wh(F)))),S(t,["setup","tools"],D)}const A=x(e,["sessionResumption"]);t!==void 0&&A!=null&&S(t,["setup","sessionResumption"],A);const _=x(e,["inputAudioTranscription"]);t!==void 0&&_!=null&&S(t,["setup","inputAudioTranscription"],_);const k=x(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&S(t,["setup","outputAudioTranscription"],k);const P=x(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&S(t,["setup","realtimeInputConfig"],P);const M=x(e,["contextWindowCompression"]);t!==void 0&&M!=null&&S(t,["setup","contextWindowCompression"],M);const B=x(e,["proactivity"]);t!==void 0&&B!=null&&S(t,["setup","proactivity"],B);const U=x(e,["explicitVadSignal"]);return t!==void 0&&U!=null&&S(t,["setup","explicitVadSignal"],U),n}function cce(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["setup","model"],_n(e,r));const i=x(t,["config"]);return i!=null&&S(n,["config"],sce(i,n)),n}function uce(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["setup","model"],_n(e,r));const i=x(t,["config"]);return i!=null&&S(n,["config"],lce(i,n)),n}function dce(e){const t={},n=x(e,["musicGenerationConfig"]);return n!=null&&S(t,["musicGenerationConfig"],n),t}function fce(e){const t={},n=x(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(t,["weightedPrompts"],r)}return t}function hce(e){const t={},n=x(e,["media"]);if(n!=null){let f=yO(n);Array.isArray(f)&&(f=f.map(h=>Rg(h))),S(t,["mediaChunks"],f)}const r=x(e,["audio"]);r!=null&&S(t,["audio"],Rg(xO(r)));const i=x(e,["audioStreamEnd"]);i!=null&&S(t,["audioStreamEnd"],i);const a=x(e,["video"]);a!=null&&S(t,["video"],Rg(vO(a)));const o=x(e,["text"]);o!=null&&S(t,["text"],o);const l=x(e,["activityStart"]);l!=null&&S(t,["activityStart"],l);const u=x(e,["activityEnd"]);return u!=null&&S(t,["activityEnd"],u),t}function pce(e){const t={},n=x(e,["media"]);if(n!=null){let f=yO(n);Array.isArray(f)&&(f=f.map(h=>h)),S(t,["mediaChunks"],f)}const r=x(e,["audio"]);r!=null&&S(t,["audio"],xO(r));const i=x(e,["audioStreamEnd"]);i!=null&&S(t,["audioStreamEnd"],i);const a=x(e,["video"]);a!=null&&S(t,["video"],vO(a));const o=x(e,["text"]);o!=null&&S(t,["text"],o);const l=x(e,["activityStart"]);l!=null&&S(t,["activityStart"],l);const u=x(e,["activityEnd"]);return u!=null&&S(t,["activityEnd"],u),t}function mce(e){const t={},n=x(e,["setupComplete"]);n!=null&&S(t,["setupComplete"],n);const r=x(e,["serverContent"]);r!=null&&S(t,["serverContent"],r);const i=x(e,["toolCall"]);i!=null&&S(t,["toolCall"],i);const a=x(e,["toolCallCancellation"]);a!=null&&S(t,["toolCallCancellation"],a);const o=x(e,["usageMetadata"]);o!=null&&S(t,["usageMetadata"],bce(o));const l=x(e,["goAway"]);l!=null&&S(t,["goAway"],l);const u=x(e,["sessionResumptionUpdate"]);u!=null&&S(t,["sessionResumptionUpdate"],u);const f=x(e,["voiceActivityDetectionSignal"]);return f!=null&&S(t,["voiceActivityDetectionSignal"],f),t}function gce(e){const t={},n=x(e,["mediaResolution"]);n!=null&&S(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&S(t,["codeExecutionResult"],r);const i=x(e,["executableCode"]);i!=null&&S(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&S(t,["fileData"],tce(a));const o=x(e,["functionCall"]);o!=null&&S(t,["functionCall"],nce(o));const l=x(e,["functionResponse"]);l!=null&&S(t,["functionResponse"],l);const u=x(e,["inlineData"]);u!=null&&S(t,["inlineData"],Rg(u));const f=x(e,["text"]);f!=null&&S(t,["text"],f);const h=x(e,["thought"]);h!=null&&S(t,["thought"],h);const p=x(e,["thoughtSignature"]);p!=null&&S(t,["thoughtSignature"],p);const y=x(e,["videoMetadata"]);return y!=null&&S(t,["videoMetadata"],y),t}function yce(e){const t={},n=x(e,["handle"]);if(n!=null&&S(t,["handle"],n),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function vce(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),S(t,["functionDeclarations"],h)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["googleSearchRetrieval"]);r!=null&&S(t,["googleSearchRetrieval"],r);const i=x(e,["computerUse"]);i!=null&&S(t,["computerUse"],i);const a=x(e,["fileSearch"]);a!=null&&S(t,["fileSearch"],a);const o=x(e,["codeExecution"]);if(o!=null&&S(t,["codeExecution"],o),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["googleMaps"]);l!=null&&S(t,["googleMaps"],ace(l));const u=x(e,["googleSearch"]);u!=null&&S(t,["googleSearch"],oce(u));const f=x(e,["urlContext"]);return f!=null&&S(t,["urlContext"],f),t}function xce(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(y=>rce(y))),S(t,["functionDeclarations"],p)}const r=x(e,["retrieval"]);r!=null&&S(t,["retrieval"],r);const i=x(e,["googleSearchRetrieval"]);i!=null&&S(t,["googleSearchRetrieval"],i);const a=x(e,["computerUse"]);if(a!=null&&S(t,["computerUse"],a),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=x(e,["codeExecution"]);o!=null&&S(t,["codeExecution"],o);const l=x(e,["enterpriseWebSearch"]);l!=null&&S(t,["enterpriseWebSearch"],l);const u=x(e,["googleMaps"]);u!=null&&S(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&S(t,["googleSearch"],f);const h=x(e,["urlContext"]);return h!=null&&S(t,["urlContext"],h),t}function bce(e){const t={},n=x(e,["promptTokenCount"]);n!=null&&S(t,["promptTokenCount"],n);const r=x(e,["cachedContentTokenCount"]);r!=null&&S(t,["cachedContentTokenCount"],r);const i=x(e,["candidatesTokenCount"]);i!=null&&S(t,["responseTokenCount"],i);const a=x(e,["toolUsePromptTokenCount"]);a!=null&&S(t,["toolUsePromptTokenCount"],a);const o=x(e,["thoughtsTokenCount"]);o!=null&&S(t,["thoughtsTokenCount"],o);const l=x(e,["totalTokenCount"]);l!=null&&S(t,["totalTokenCount"],l);const u=x(e,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(w=>w)),S(t,["promptTokensDetails"],g)}const f=x(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(w=>w)),S(t,["cacheTokensDetails"],g)}const h=x(e,["candidatesTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(w=>w)),S(t,["responseTokensDetails"],g)}const p=x(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(w=>w)),S(t,["toolUsePromptTokensDetails"],g)}const y=x(e,["trafficType"]);return y!=null&&S(t,["trafficType"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wce(e){const t={},n=x(e,["data"]);if(n!=null&&S(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function Nce(e){const t={},n=x(e,["content"]);n!=null&&S(t,["content"],n);const r=x(e,["citationMetadata"]);r!=null&&S(t,["citationMetadata"],Sce(r));const i=x(e,["tokenCount"]);i!=null&&S(t,["tokenCount"],i);const a=x(e,["finishReason"]);a!=null&&S(t,["finishReason"],a);const o=x(e,["avgLogprobs"]);o!=null&&S(t,["avgLogprobs"],o);const l=x(e,["groundingMetadata"]);l!=null&&S(t,["groundingMetadata"],l);const u=x(e,["index"]);u!=null&&S(t,["index"],u);const f=x(e,["logprobsResult"]);f!=null&&S(t,["logprobsResult"],f);const h=x(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(g=>g)),S(t,["safetyRatings"],y)}const p=x(e,["urlContextMetadata"]);return p!=null&&S(t,["urlContextMetadata"],p),t}function Sce(e){const t={},n=x(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(t,["citations"],r)}return t}function Ace(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let a=Qo(i);Array.isArray(a)&&(a=a.map(o=>o)),S(n,["contents"],a)}return n}function _ce(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(t,["tokensInfo"],i)}return t}function Cce(e){const t={},n=x(e,["values"]);n!=null&&S(t,["values"],n);const r=x(e,["statistics"]);return r!=null&&S(t,["statistics"],Ece(r)),t}function Ece(e){const t={},n=x(e,["truncated"]);n!=null&&S(t,["truncated"],n);const r=x(e,["token_count"]);return r!=null&&S(t,["tokenCount"],r),t}function zv(e){const t={},n=x(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Lue(a))),S(t,["parts"],i)}const r=x(e,["role"]);return r!=null&&S(t,["role"],r),t}function kce(e){const t={},n=x(e,["controlType"]);n!=null&&S(t,["controlType"],n);const r=x(e,["enableControlImageComputation"]);return r!=null&&S(t,["computeControl"],r),t}function Tce(e){const t={};if(x(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Pce(e,t){const n={},r=x(e,["systemInstruction"]);t!==void 0&&r!=null&&S(t,["systemInstruction"],da(r));const i=x(e,["tools"]);if(t!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>MO(l))),S(t,["tools"],o)}const a=x(e,["generationConfig"]);return t!==void 0&&a!=null&&S(t,["generationConfig"],wue(a)),n}function jce(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let o=Qo(i);Array.isArray(o)&&(o=o.map(l=>zv(l))),S(n,["contents"],o)}const a=x(t,["config"]);return a!=null&&Tce(a),n}function Ice(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let o=Qo(i);Array.isArray(o)&&(o=o.map(l=>l)),S(n,["contents"],o)}const a=x(t,["config"]);return a!=null&&Pce(a,n),n}function Mce(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["totalTokens"]);r!=null&&S(t,["totalTokens"],r);const i=x(e,["cachedContentTokenCount"]);return i!=null&&S(t,["cachedContentTokenCount"],i),t}function Dce(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["totalTokens"]);return r!=null&&S(t,["totalTokens"],r),t}function Rce(e,t){const n={},r=x(t,["model"]);return r!=null&&S(n,["_url","name"],_n(e,r)),n}function Lce(e,t){const n={},r=x(t,["model"]);return r!=null&&S(n,["_url","name"],_n(e,r)),n}function Oce(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}function Bce(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}function Uce(e,t){const n={},r=x(e,["outputGcsUri"]);t!==void 0&&r!=null&&S(t,["parameters","storageUri"],r);const i=x(e,["negativePrompt"]);t!==void 0&&i!=null&&S(t,["parameters","negativePrompt"],i);const a=x(e,["numberOfImages"]);t!==void 0&&a!=null&&S(t,["parameters","sampleCount"],a);const o=x(e,["aspectRatio"]);t!==void 0&&o!=null&&S(t,["parameters","aspectRatio"],o);const l=x(e,["guidanceScale"]);t!==void 0&&l!=null&&S(t,["parameters","guidanceScale"],l);const u=x(e,["seed"]);t!==void 0&&u!=null&&S(t,["parameters","seed"],u);const f=x(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&S(t,["parameters","safetySetting"],f);const h=x(e,["personGeneration"]);t!==void 0&&h!=null&&S(t,["parameters","personGeneration"],h);const p=x(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&S(t,["parameters","includeSafetyAttributes"],p);const y=x(e,["includeRaiReason"]);t!==void 0&&y!=null&&S(t,["parameters","includeRaiReason"],y);const g=x(e,["language"]);t!==void 0&&g!=null&&S(t,["parameters","language"],g);const w=x(e,["outputMimeType"]);t!==void 0&&w!=null&&S(t,["parameters","outputOptions","mimeType"],w);const N=x(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&S(t,["parameters","outputOptions","compressionQuality"],N);const A=x(e,["addWatermark"]);t!==void 0&&A!=null&&S(t,["parameters","addWatermark"],A);const _=x(e,["labels"]);t!==void 0&&_!=null&&S(t,["labels"],_);const k=x(e,["editMode"]);t!==void 0&&k!=null&&S(t,["parameters","editMode"],k);const P=x(e,["baseSteps"]);return t!==void 0&&P!=null&&S(t,["parameters","editConfig","baseSteps"],P),n}function Fce(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>que(u))),S(n,["instances[0]","referenceImages"],l)}const o=x(t,["config"]);return o!=null&&Uce(o,n),n}function zce(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>qv(a))),S(t,["generatedImages"],i)}return t}function qce(e,t){const n={},r=x(e,["taskType"]);t!==void 0&&r!=null&&S(t,["requests[]","taskType"],r);const i=x(e,["title"]);t!==void 0&&i!=null&&S(t,["requests[]","title"],i);const a=x(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&S(t,["requests[]","outputDimensionality"],a),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Hce(e,t){const n={},r=x(e,["taskType"]);t!==void 0&&r!=null&&S(t,["instances[]","task_type"],r);const i=x(e,["title"]);t!==void 0&&i!=null&&S(t,["instances[]","title"],i);const a=x(e,["outputDimensionality"]);t!==void 0&&a!=null&&S(t,["parameters","outputDimensionality"],a);const o=x(e,["mimeType"]);t!==void 0&&o!=null&&S(t,["instances[]","mimeType"],o);const l=x(e,["autoTruncate"]);return t!==void 0&&l!=null&&S(t,["parameters","autoTruncate"],l),n}function Vce(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let l=IS(e,i);Array.isArray(l)&&(l=l.map(u=>u)),S(n,["requests[]","content"],l)}const a=x(t,["config"]);a!=null&&qce(a,n);const o=x(t,["model"]);return o!==void 0&&S(n,["requests[]","model"],_n(e,o)),n}function Gce(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let o=IS(e,i);Array.isArray(o)&&(o=o.map(l=>l)),S(n,["instances[]","content"],o)}const a=x(t,["config"]);return a!=null&&Hce(a,n),n}function $ce(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["embeddings"],a)}const i=x(e,["metadata"]);return i!=null&&S(t,["metadata"],i),t}function Wce(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>Cce(o))),S(t,["embeddings"],a)}const i=x(e,["metadata"]);return i!=null&&S(t,["metadata"],i),t}function Yce(e){const t={},n=x(e,["endpoint"]);n!=null&&S(t,["name"],n);const r=x(e,["deployedModelId"]);return r!=null&&S(t,["deployedModelId"],r),t}function Kce(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&S(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function Jce(e){const t={},n=x(e,["id"]);n!=null&&S(t,["id"],n);const r=x(e,["args"]);r!=null&&S(t,["args"],r);const i=x(e,["name"]);if(i!=null&&S(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Xce(e){const t={},n=x(e,["mode"]);n!=null&&S(t,["mode"],n);const r=x(e,["allowedFunctionNames"]);if(r!=null&&S(t,["allowedFunctionNames"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Qce(e){const t={};if(x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(e,["description"]);n!=null&&S(t,["description"],n);const r=x(e,["name"]);r!=null&&S(t,["name"],r);const i=x(e,["parameters"]);i!=null&&S(t,["parameters"],i);const a=x(e,["parametersJsonSchema"]);a!=null&&S(t,["parametersJsonSchema"],a);const o=x(e,["response"]);o!=null&&S(t,["response"],o);const l=x(e,["responseJsonSchema"]);return l!=null&&S(t,["responseJsonSchema"],l),t}function Zce(e,t,n){const r={},i=x(t,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],zv(da(i)));const a=x(t,["temperature"]);a!=null&&S(r,["temperature"],a);const o=x(t,["topP"]);o!=null&&S(r,["topP"],o);const l=x(t,["topK"]);l!=null&&S(r,["topK"],l);const u=x(t,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const f=x(t,["maxOutputTokens"]);f!=null&&S(r,["maxOutputTokens"],f);const h=x(t,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=x(t,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const y=x(t,["logprobs"]);y!=null&&S(r,["logprobs"],y);const g=x(t,["presencePenalty"]);g!=null&&S(r,["presencePenalty"],g);const w=x(t,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const N=x(t,["seed"]);N!=null&&S(r,["seed"],N);const A=x(t,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const _=x(t,["responseSchema"]);_!=null&&S(r,["responseSchema"],MS(_));const k=x(t,["responseJsonSchema"]);if(k!=null&&S(r,["responseJsonSchema"],k),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=x(t,["safetySettings"]);if(n!==void 0&&P!=null){let K=P;Array.isArray(K)&&(K=K.map($=>Hue($))),S(n,["safetySettings"],K)}const M=x(t,["tools"]);if(n!==void 0&&M!=null){let K=Yh(M);Array.isArray(K)&&(K=K.map($=>Jue(Wh($)))),S(n,["tools"],K)}const B=x(t,["toolConfig"]);if(n!==void 0&&B!=null&&S(n,["toolConfig"],Kue(B)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=x(t,["cachedContent"]);n!==void 0&&U!=null&&S(n,["cachedContent"],Mc(e,U));const D=x(t,["responseModalities"]);D!=null&&S(r,["responseModalities"],D);const F=x(t,["mediaResolution"]);F!=null&&S(r,["mediaResolution"],F);const q=x(t,["speechConfig"]);if(q!=null&&S(r,["speechConfig"],DS(q)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=x(t,["thinkingConfig"]);G!=null&&S(r,["thinkingConfig"],G);const R=x(t,["imageConfig"]);R!=null&&S(r,["imageConfig"],Cue(R));const O=x(t,["enableEnhancedCivicAnswers"]);return O!=null&&S(r,["enableEnhancedCivicAnswers"],O),r}function eue(e,t,n){const r={},i=x(t,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],da(i));const a=x(t,["temperature"]);a!=null&&S(r,["temperature"],a);const o=x(t,["topP"]);o!=null&&S(r,["topP"],o);const l=x(t,["topK"]);l!=null&&S(r,["topK"],l);const u=x(t,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const f=x(t,["maxOutputTokens"]);f!=null&&S(r,["maxOutputTokens"],f);const h=x(t,["stopSequences"]);h!=null&&S(r,["stopSequences"],h);const p=x(t,["responseLogprobs"]);p!=null&&S(r,["responseLogprobs"],p);const y=x(t,["logprobs"]);y!=null&&S(r,["logprobs"],y);const g=x(t,["presencePenalty"]);g!=null&&S(r,["presencePenalty"],g);const w=x(t,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const N=x(t,["seed"]);N!=null&&S(r,["seed"],N);const A=x(t,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const _=x(t,["responseSchema"]);_!=null&&S(r,["responseSchema"],MS(_));const k=x(t,["responseJsonSchema"]);k!=null&&S(r,["responseJsonSchema"],k);const P=x(t,["routingConfig"]);P!=null&&S(r,["routingConfig"],P);const M=x(t,["modelSelectionConfig"]);M!=null&&S(r,["modelConfig"],M);const B=x(t,["safetySettings"]);if(n!==void 0&&B!=null){let z=B;Array.isArray(z)&&(z=z.map(Y=>Y)),S(n,["safetySettings"],z)}const U=x(t,["tools"]);if(n!==void 0&&U!=null){let z=Yh(U);Array.isArray(z)&&(z=z.map(Y=>MO(Wh(Y)))),S(n,["tools"],z)}const D=x(t,["toolConfig"]);n!==void 0&&D!=null&&S(n,["toolConfig"],D);const F=x(t,["labels"]);n!==void 0&&F!=null&&S(n,["labels"],F);const q=x(t,["cachedContent"]);n!==void 0&&q!=null&&S(n,["cachedContent"],Mc(e,q));const G=x(t,["responseModalities"]);G!=null&&S(r,["responseModalities"],G);const R=x(t,["mediaResolution"]);R!=null&&S(r,["mediaResolution"],R);const O=x(t,["speechConfig"]);O!=null&&S(r,["speechConfig"],DS(O));const K=x(t,["audioTimestamp"]);K!=null&&S(r,["audioTimestamp"],K);const $=x(t,["thinkingConfig"]);$!=null&&S(r,["thinkingConfig"],$);const ne=x(t,["imageConfig"]);if(ne!=null&&S(r,["imageConfig"],Eue(ne)),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function d6(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let o=Qo(i);Array.isArray(o)&&(o=o.map(l=>zv(l))),S(n,["contents"],o)}const a=x(t,["config"]);return a!=null&&S(n,["generationConfig"],Zce(e,a,n)),n}function f6(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["contents"]);if(i!=null){let o=Qo(i);Array.isArray(o)&&(o=o.map(l=>l)),S(n,["contents"],o)}const a=x(t,["config"]);return a!=null&&S(n,["generationConfig"],eue(e,a,n)),n}function h6(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Nce(f))),S(t,["candidates"],u)}const i=x(e,["modelVersion"]);i!=null&&S(t,["modelVersion"],i);const a=x(e,["promptFeedback"]);a!=null&&S(t,["promptFeedback"],a);const o=x(e,["responseId"]);o!=null&&S(t,["responseId"],o);const l=x(e,["usageMetadata"]);return l!=null&&S(t,["usageMetadata"],l),t}function p6(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),S(t,["candidates"],f)}const i=x(e,["createTime"]);i!=null&&S(t,["createTime"],i);const a=x(e,["modelVersion"]);a!=null&&S(t,["modelVersion"],a);const o=x(e,["promptFeedback"]);o!=null&&S(t,["promptFeedback"],o);const l=x(e,["responseId"]);l!=null&&S(t,["responseId"],l);const u=x(e,["usageMetadata"]);return u!=null&&S(t,["usageMetadata"],u),t}function tue(e,t){const n={};if(x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(e,["numberOfImages"]);t!==void 0&&r!=null&&S(t,["parameters","sampleCount"],r);const i=x(e,["aspectRatio"]);t!==void 0&&i!=null&&S(t,["parameters","aspectRatio"],i);const a=x(e,["guidanceScale"]);if(t!==void 0&&a!=null&&S(t,["parameters","guidanceScale"],a),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=x(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&S(t,["parameters","safetySetting"],o);const l=x(e,["personGeneration"]);t!==void 0&&l!=null&&S(t,["parameters","personGeneration"],l);const u=x(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&S(t,["parameters","includeSafetyAttributes"],u);const f=x(e,["includeRaiReason"]);t!==void 0&&f!=null&&S(t,["parameters","includeRaiReason"],f);const h=x(e,["language"]);t!==void 0&&h!=null&&S(t,["parameters","language"],h);const p=x(e,["outputMimeType"]);t!==void 0&&p!=null&&S(t,["parameters","outputOptions","mimeType"],p);const y=x(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&S(t,["parameters","outputOptions","compressionQuality"],y),x(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=x(e,["imageSize"]);if(t!==void 0&&g!=null&&S(t,["parameters","sampleImageSize"],g),x(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function nue(e,t){const n={},r=x(e,["outputGcsUri"]);t!==void 0&&r!=null&&S(t,["parameters","storageUri"],r);const i=x(e,["negativePrompt"]);t!==void 0&&i!=null&&S(t,["parameters","negativePrompt"],i);const a=x(e,["numberOfImages"]);t!==void 0&&a!=null&&S(t,["parameters","sampleCount"],a);const o=x(e,["aspectRatio"]);t!==void 0&&o!=null&&S(t,["parameters","aspectRatio"],o);const l=x(e,["guidanceScale"]);t!==void 0&&l!=null&&S(t,["parameters","guidanceScale"],l);const u=x(e,["seed"]);t!==void 0&&u!=null&&S(t,["parameters","seed"],u);const f=x(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&S(t,["parameters","safetySetting"],f);const h=x(e,["personGeneration"]);t!==void 0&&h!=null&&S(t,["parameters","personGeneration"],h);const p=x(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&S(t,["parameters","includeSafetyAttributes"],p);const y=x(e,["includeRaiReason"]);t!==void 0&&y!=null&&S(t,["parameters","includeRaiReason"],y);const g=x(e,["language"]);t!==void 0&&g!=null&&S(t,["parameters","language"],g);const w=x(e,["outputMimeType"]);t!==void 0&&w!=null&&S(t,["parameters","outputOptions","mimeType"],w);const N=x(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&S(t,["parameters","outputOptions","compressionQuality"],N);const A=x(e,["addWatermark"]);t!==void 0&&A!=null&&S(t,["parameters","addWatermark"],A);const _=x(e,["labels"]);t!==void 0&&_!=null&&S(t,["labels"],_);const k=x(e,["imageSize"]);t!==void 0&&k!=null&&S(t,["parameters","sampleImageSize"],k);const P=x(e,["enhancePrompt"]);return t!==void 0&&P!=null&&S(t,["parameters","enhancePrompt"],P),n}function rue(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(t,["config"]);return a!=null&&tue(a,n),n}function iue(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(t,["config"]);return a!=null&&nue(a,n),n}function aue(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>yue(o))),S(t,["generatedImages"],a)}const i=x(e,["positivePromptSafetyAttributes"]);return i!=null&&S(t,["positivePromptSafetyAttributes"],jO(i)),t}function oue(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>qv(o))),S(t,["generatedImages"],a)}const i=x(e,["positivePromptSafetyAttributes"]);return i!=null&&S(t,["positivePromptSafetyAttributes"],IO(i)),t}function sue(e,t){const n={},r=x(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&S(t,["parameters","sampleCount"],r),x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(e,["durationSeconds"]);if(t!==void 0&&i!=null&&S(t,["parameters","durationSeconds"],i),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(e,["aspectRatio"]);t!==void 0&&a!=null&&S(t,["parameters","aspectRatio"],a);const o=x(e,["resolution"]);t!==void 0&&o!=null&&S(t,["parameters","resolution"],o);const l=x(e,["personGeneration"]);if(t!==void 0&&l!=null&&S(t,["parameters","personGeneration"],l),x(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=x(e,["negativePrompt"]);t!==void 0&&u!=null&&S(t,["parameters","negativePrompt"],u);const f=x(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&S(t,["parameters","enhancePrompt"],f),x(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=x(e,["lastFrame"]);t!==void 0&&h!=null&&S(t,["instances[0]","lastFrame"],Hv(h));const p=x(e,["referenceImages"]);if(t!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(g=>cde(g))),S(t,["instances[0]","referenceImages"],y)}if(x(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function lue(e,t){const n={},r=x(e,["numberOfVideos"]);t!==void 0&&r!=null&&S(t,["parameters","sampleCount"],r);const i=x(e,["outputGcsUri"]);t!==void 0&&i!=null&&S(t,["parameters","storageUri"],i);const a=x(e,["fps"]);t!==void 0&&a!=null&&S(t,["parameters","fps"],a);const o=x(e,["durationSeconds"]);t!==void 0&&o!=null&&S(t,["parameters","durationSeconds"],o);const l=x(e,["seed"]);t!==void 0&&l!=null&&S(t,["parameters","seed"],l);const u=x(e,["aspectRatio"]);t!==void 0&&u!=null&&S(t,["parameters","aspectRatio"],u);const f=x(e,["resolution"]);t!==void 0&&f!=null&&S(t,["parameters","resolution"],f);const h=x(e,["personGeneration"]);t!==void 0&&h!=null&&S(t,["parameters","personGeneration"],h);const p=x(e,["pubsubTopic"]);t!==void 0&&p!=null&&S(t,["parameters","pubsubTopic"],p);const y=x(e,["negativePrompt"]);t!==void 0&&y!=null&&S(t,["parameters","negativePrompt"],y);const g=x(e,["enhancePrompt"]);t!==void 0&&g!=null&&S(t,["parameters","enhancePrompt"],g);const w=x(e,["generateAudio"]);t!==void 0&&w!=null&&S(t,["parameters","generateAudio"],w);const N=x(e,["lastFrame"]);t!==void 0&&N!=null&&S(t,["instances[0]","lastFrame"],Bs(N));const A=x(e,["referenceImages"]);if(t!==void 0&&A!=null){let P=A;Array.isArray(P)&&(P=P.map(M=>ude(M))),S(t,["instances[0]","referenceImages"],P)}const _=x(e,["mask"]);t!==void 0&&_!=null&&S(t,["instances[0]","mask"],lde(_));const k=x(e,["compressionQuality"]);return t!==void 0&&k!=null&&S(t,["parameters","compressionQuality"],k),n}function cue(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response","generateVideoResponse"]);return o!=null&&S(t,["response"],hue(o)),t}function uue(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response"]);return o!=null&&S(t,["response"],pue(o)),t}function due(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(t,["image"]);a!=null&&S(n,["instances[0]","image"],Hv(a));const o=x(t,["video"]);o!=null&&S(n,["instances[0]","video"],DO(o));const l=x(t,["source"]);l!=null&&mue(l,n);const u=x(t,["config"]);return u!=null&&sue(u,n),n}function fue(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(t,["image"]);a!=null&&S(n,["instances[0]","image"],Bs(a));const o=x(t,["video"]);o!=null&&S(n,["instances[0]","video"],RO(o));const l=x(t,["source"]);l!=null&&gue(l,n);const u=x(t,["config"]);return u!=null&&lue(u,n),n}function hue(e){const t={},n=x(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>xue(o))),S(t,["generatedVideos"],a)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&S(t,["raiMediaFilteredCount"],r);const i=x(e,["raiMediaFilteredReasons"]);return i!=null&&S(t,["raiMediaFilteredReasons"],i),t}function pue(e){const t={},n=x(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>bue(o))),S(t,["generatedVideos"],a)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&S(t,["raiMediaFilteredCount"],r);const i=x(e,["raiMediaFilteredReasons"]);return i!=null&&S(t,["raiMediaFilteredReasons"],i),t}function mue(e,t){const n={},r=x(e,["prompt"]);t!==void 0&&r!=null&&S(t,["instances[0]","prompt"],r);const i=x(e,["image"]);t!==void 0&&i!=null&&S(t,["instances[0]","image"],Hv(i));const a=x(e,["video"]);return t!==void 0&&a!=null&&S(t,["instances[0]","video"],DO(a)),n}function gue(e,t){const n={},r=x(e,["prompt"]);t!==void 0&&r!=null&&S(t,["instances[0]","prompt"],r);const i=x(e,["image"]);t!==void 0&&i!=null&&S(t,["instances[0]","image"],Bs(i));const a=x(e,["video"]);return t!==void 0&&a!=null&&S(t,["instances[0]","video"],RO(a)),n}function yue(e){const t={},n=x(e,["_self"]);n!=null&&S(t,["image"],kue(n));const r=x(e,["raiFilteredReason"]);r!=null&&S(t,["raiFilteredReason"],r);const i=x(e,["_self"]);return i!=null&&S(t,["safetyAttributes"],jO(i)),t}function qv(e){const t={},n=x(e,["_self"]);n!=null&&S(t,["image"],PO(n));const r=x(e,["raiFilteredReason"]);r!=null&&S(t,["raiFilteredReason"],r);const i=x(e,["_self"]);i!=null&&S(t,["safetyAttributes"],IO(i));const a=x(e,["prompt"]);return a!=null&&S(t,["enhancedPrompt"],a),t}function vue(e){const t={},n=x(e,["_self"]);n!=null&&S(t,["mask"],PO(n));const r=x(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(t,["labels"],i)}return t}function xue(e){const t={},n=x(e,["video"]);return n!=null&&S(t,["video"],ode(n)),t}function bue(e){const t={},n=x(e,["_self"]);return n!=null&&S(t,["video"],sde(n)),t}function wue(e){const t={},n=x(e,["modelSelectionConfig"]);n!=null&&S(t,["modelConfig"],n);const r=x(e,["responseJsonSchema"]);r!=null&&S(t,["responseJsonSchema"],r);const i=x(e,["audioTimestamp"]);i!=null&&S(t,["audioTimestamp"],i);const a=x(e,["candidateCount"]);a!=null&&S(t,["candidateCount"],a);const o=x(e,["enableAffectiveDialog"]);o!=null&&S(t,["enableAffectiveDialog"],o);const l=x(e,["frequencyPenalty"]);l!=null&&S(t,["frequencyPenalty"],l);const u=x(e,["logprobs"]);u!=null&&S(t,["logprobs"],u);const f=x(e,["maxOutputTokens"]);f!=null&&S(t,["maxOutputTokens"],f);const h=x(e,["mediaResolution"]);h!=null&&S(t,["mediaResolution"],h);const p=x(e,["presencePenalty"]);p!=null&&S(t,["presencePenalty"],p);const y=x(e,["responseLogprobs"]);y!=null&&S(t,["responseLogprobs"],y);const g=x(e,["responseMimeType"]);g!=null&&S(t,["responseMimeType"],g);const w=x(e,["responseModalities"]);w!=null&&S(t,["responseModalities"],w);const N=x(e,["responseSchema"]);N!=null&&S(t,["responseSchema"],N);const A=x(e,["routingConfig"]);A!=null&&S(t,["routingConfig"],A);const _=x(e,["seed"]);_!=null&&S(t,["seed"],_);const k=x(e,["speechConfig"]);k!=null&&S(t,["speechConfig"],k);const P=x(e,["stopSequences"]);P!=null&&S(t,["stopSequences"],P);const M=x(e,["temperature"]);M!=null&&S(t,["temperature"],M);const B=x(e,["thinkingConfig"]);B!=null&&S(t,["thinkingConfig"],B);const U=x(e,["topK"]);U!=null&&S(t,["topK"],U);const D=x(e,["topP"]);if(D!=null&&S(t,["topP"],D),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Nue(e,t){const n={},r=x(t,["model"]);return r!=null&&S(n,["_url","name"],_n(e,r)),n}function Sue(e,t){const n={},r=x(t,["model"]);return r!=null&&S(n,["_url","name"],_n(e,r)),n}function Aue(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&S(t,["enableWidget"],n),t}function _ue(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&S(t,["timeRangeFilter"],n),t}function Cue(e){const t={},n=x(e,["aspectRatio"]);n!=null&&S(t,["aspectRatio"],n);const r=x(e,["imageSize"]);if(r!=null&&S(t,["imageSize"],r),x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Eue(e){const t={},n=x(e,["aspectRatio"]);n!=null&&S(t,["aspectRatio"],n);const r=x(e,["imageSize"]);r!=null&&S(t,["imageSize"],r);const i=x(e,["outputMimeType"]);i!=null&&S(t,["imageOutputOptions","mimeType"],i);const a=x(e,["outputCompressionQuality"]);return a!=null&&S(t,["imageOutputOptions","compressionQuality"],a),t}function kue(e){const t={},n=x(e,["bytesBase64Encoded"]);n!=null&&S(t,["imageBytes"],qu(n));const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function PO(e){const t={},n=x(e,["gcsUri"]);n!=null&&S(t,["gcsUri"],n);const r=x(e,["bytesBase64Encoded"]);r!=null&&S(t,["imageBytes"],qu(r));const i=x(e,["mimeType"]);return i!=null&&S(t,["mimeType"],i),t}function Hv(e){const t={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(e,["imageBytes"]);n!=null&&S(t,["bytesBase64Encoded"],qu(n));const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function Bs(e){const t={},n=x(e,["gcsUri"]);n!=null&&S(t,["gcsUri"],n);const r=x(e,["imageBytes"]);r!=null&&S(t,["bytesBase64Encoded"],qu(r));const i=x(e,["mimeType"]);return i!=null&&S(t,["mimeType"],i),t}function Tue(e,t,n){const r={},i=x(t,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(t,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const o=x(t,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const l=x(t,["queryBase"]);return n!==void 0&&l!=null&&S(n,["_url","models_url"],SO(e,l)),r}function Pue(e,t,n){const r={},i=x(t,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(t,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const o=x(t,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const l=x(t,["queryBase"]);return n!==void 0&&l!=null&&S(n,["_url","models_url"],SO(e,l)),r}function jue(e,t){const n={},r=x(t,["config"]);return r!=null&&Tue(e,r,n),n}function Iue(e,t){const n={},r=x(t,["config"]);return r!=null&&Pue(e,r,n),n}function Mue(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["_self"]);if(i!=null){let a=AO(i);Array.isArray(a)&&(a=a.map(o=>n5(o))),S(t,["models"],a)}return t}function Due(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["_self"]);if(i!=null){let a=AO(i);Array.isArray(a)&&(a=a.map(o=>r5(o))),S(t,["models"],a)}return t}function Rue(e){const t={},n=x(e,["maskMode"]);n!=null&&S(t,["maskMode"],n);const r=x(e,["segmentationClasses"]);r!=null&&S(t,["maskClasses"],r);const i=x(e,["maskDilation"]);return i!=null&&S(t,["dilation"],i),t}function n5(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["displayName"]);r!=null&&S(t,["displayName"],r);const i=x(e,["description"]);i!=null&&S(t,["description"],i);const a=x(e,["version"]);a!=null&&S(t,["version"],a);const o=x(e,["_self"]);o!=null&&S(t,["tunedModelInfo"],Xue(o));const l=x(e,["inputTokenLimit"]);l!=null&&S(t,["inputTokenLimit"],l);const u=x(e,["outputTokenLimit"]);u!=null&&S(t,["outputTokenLimit"],u);const f=x(e,["supportedGenerationMethods"]);f!=null&&S(t,["supportedActions"],f);const h=x(e,["temperature"]);h!=null&&S(t,["temperature"],h);const p=x(e,["maxTemperature"]);p!=null&&S(t,["maxTemperature"],p);const y=x(e,["topP"]);y!=null&&S(t,["topP"],y);const g=x(e,["topK"]);g!=null&&S(t,["topK"],g);const w=x(e,["thinking"]);return w!=null&&S(t,["thinking"],w),t}function r5(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["displayName"]);r!=null&&S(t,["displayName"],r);const i=x(e,["description"]);i!=null&&S(t,["description"],i);const a=x(e,["versionId"]);a!=null&&S(t,["version"],a);const o=x(e,["deployedModels"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(y=>Yce(y))),S(t,["endpoints"],p)}const l=x(e,["labels"]);l!=null&&S(t,["labels"],l);const u=x(e,["_self"]);u!=null&&S(t,["tunedModelInfo"],Que(u));const f=x(e,["defaultCheckpointId"]);f!=null&&S(t,["defaultCheckpointId"],f);const h=x(e,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(y=>y)),S(t,["checkpoints"],p)}return t}function Lue(e){const t={},n=x(e,["mediaResolution"]);n!=null&&S(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&S(t,["codeExecutionResult"],r);const i=x(e,["executableCode"]);i!=null&&S(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&S(t,["fileData"],Kce(a));const o=x(e,["functionCall"]);o!=null&&S(t,["functionCall"],Jce(o));const l=x(e,["functionResponse"]);l!=null&&S(t,["functionResponse"],l);const u=x(e,["inlineData"]);u!=null&&S(t,["inlineData"],wce(u));const f=x(e,["text"]);f!=null&&S(t,["text"],f);const h=x(e,["thought"]);h!=null&&S(t,["thought"],h);const p=x(e,["thoughtSignature"]);p!=null&&S(t,["thoughtSignature"],p);const y=x(e,["videoMetadata"]);return y!=null&&S(t,["videoMetadata"],y),t}function Oue(e){const t={},n=x(e,["productImage"]);return n!=null&&S(t,["image"],Bs(n)),t}function Bue(e,t){const n={},r=x(e,["numberOfImages"]);t!==void 0&&r!=null&&S(t,["parameters","sampleCount"],r);const i=x(e,["baseSteps"]);t!==void 0&&i!=null&&S(t,["parameters","baseSteps"],i);const a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&S(t,["parameters","storageUri"],a);const o=x(e,["seed"]);t!==void 0&&o!=null&&S(t,["parameters","seed"],o);const l=x(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&S(t,["parameters","safetySetting"],l);const u=x(e,["personGeneration"]);t!==void 0&&u!=null&&S(t,["parameters","personGeneration"],u);const f=x(e,["addWatermark"]);t!==void 0&&f!=null&&S(t,["parameters","addWatermark"],f);const h=x(e,["outputMimeType"]);t!==void 0&&h!=null&&S(t,["parameters","outputOptions","mimeType"],h);const p=x(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&S(t,["parameters","outputOptions","compressionQuality"],p);const y=x(e,["enhancePrompt"]);t!==void 0&&y!=null&&S(t,["parameters","enhancePrompt"],y);const g=x(e,["labels"]);return t!==void 0&&g!=null&&S(t,["labels"],g),n}function Uue(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["source"]);i!=null&&zue(i,n);const a=x(t,["config"]);return a!=null&&Bue(a,n),n}function Fue(e){const t={},n=x(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>qv(i))),S(t,["generatedImages"],r)}return t}function zue(e,t){const n={},r=x(e,["prompt"]);t!==void 0&&r!=null&&S(t,["instances[0]","prompt"],r);const i=x(e,["personImage"]);t!==void 0&&i!=null&&S(t,["instances[0]","personImage","image"],Bs(i));const a=x(e,["productImages"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>Oue(l))),S(t,["instances[0]","productImages"],o)}return n}function que(e){const t={},n=x(e,["referenceImage"]);n!=null&&S(t,["referenceImage"],Bs(n));const r=x(e,["referenceId"]);r!=null&&S(t,["referenceId"],r);const i=x(e,["referenceType"]);i!=null&&S(t,["referenceType"],i);const a=x(e,["maskImageConfig"]);a!=null&&S(t,["maskImageConfig"],Rue(a));const o=x(e,["controlImageConfig"]);o!=null&&S(t,["controlImageConfig"],kce(o));const l=x(e,["styleImageConfig"]);l!=null&&S(t,["styleImageConfig"],l);const u=x(e,["subjectImageConfig"]);return u!=null&&S(t,["subjectImageConfig"],u),t}function jO(e){const t={},n=x(e,["safetyAttributes","categories"]);n!=null&&S(t,["categories"],n);const r=x(e,["safetyAttributes","scores"]);r!=null&&S(t,["scores"],r);const i=x(e,["contentType"]);return i!=null&&S(t,["contentType"],i),t}function IO(e){const t={},n=x(e,["safetyAttributes","categories"]);n!=null&&S(t,["categories"],n);const r=x(e,["safetyAttributes","scores"]);r!=null&&S(t,["scores"],r);const i=x(e,["contentType"]);return i!=null&&S(t,["contentType"],i),t}function Hue(e){const t={},n=x(e,["category"]);if(n!=null&&S(t,["category"],n),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(e,["threshold"]);return r!=null&&S(t,["threshold"],r),t}function Vue(e){const t={},n=x(e,["image"]);return n!=null&&S(t,["image"],Bs(n)),t}function Gue(e,t){const n={},r=x(e,["mode"]);t!==void 0&&r!=null&&S(t,["parameters","mode"],r);const i=x(e,["maxPredictions"]);t!==void 0&&i!=null&&S(t,["parameters","maxPredictions"],i);const a=x(e,["confidenceThreshold"]);t!==void 0&&a!=null&&S(t,["parameters","confidenceThreshold"],a);const o=x(e,["maskDilation"]);t!==void 0&&o!=null&&S(t,["parameters","maskDilation"],o);const l=x(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&S(t,["parameters","binaryColorThreshold"],l);const u=x(e,["labels"]);return t!==void 0&&u!=null&&S(t,["labels"],u),n}function $ue(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["source"]);i!=null&&Yue(i,n);const a=x(t,["config"]);return a!=null&&Gue(a,n),n}function Wue(e){const t={},n=x(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>vue(i))),S(t,["generatedMasks"],r)}return t}function Yue(e,t){const n={},r=x(e,["prompt"]);t!==void 0&&r!=null&&S(t,["instances[0]","prompt"],r);const i=x(e,["image"]);t!==void 0&&i!=null&&S(t,["instances[0]","image"],Bs(i));const a=x(e,["scribbleImage"]);return t!==void 0&&a!=null&&S(t,["instances[0]","scribble"],Vue(a)),n}function Kue(e){const t={},n=x(e,["functionCallingConfig"]);n!=null&&S(t,["functionCallingConfig"],Xce(n));const r=x(e,["retrievalConfig"]);return r!=null&&S(t,["retrievalConfig"],r),t}function Jue(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),S(t,["functionDeclarations"],h)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["googleSearchRetrieval"]);r!=null&&S(t,["googleSearchRetrieval"],r);const i=x(e,["computerUse"]);i!=null&&S(t,["computerUse"],i);const a=x(e,["fileSearch"]);a!=null&&S(t,["fileSearch"],a);const o=x(e,["codeExecution"]);if(o!=null&&S(t,["codeExecution"],o),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["googleMaps"]);l!=null&&S(t,["googleMaps"],Aue(l));const u=x(e,["googleSearch"]);u!=null&&S(t,["googleSearch"],_ue(u));const f=x(e,["urlContext"]);return f!=null&&S(t,["urlContext"],f),t}function MO(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(y=>Qce(y))),S(t,["functionDeclarations"],p)}const r=x(e,["retrieval"]);r!=null&&S(t,["retrieval"],r);const i=x(e,["googleSearchRetrieval"]);i!=null&&S(t,["googleSearchRetrieval"],i);const a=x(e,["computerUse"]);if(a!=null&&S(t,["computerUse"],a),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=x(e,["codeExecution"]);o!=null&&S(t,["codeExecution"],o);const l=x(e,["enterpriseWebSearch"]);l!=null&&S(t,["enterpriseWebSearch"],l);const u=x(e,["googleMaps"]);u!=null&&S(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&S(t,["googleSearch"],f);const h=x(e,["urlContext"]);return h!=null&&S(t,["urlContext"],h),t}function Xue(e){const t={},n=x(e,["baseModel"]);n!=null&&S(t,["baseModel"],n);const r=x(e,["createTime"]);r!=null&&S(t,["createTime"],r);const i=x(e,["updateTime"]);return i!=null&&S(t,["updateTime"],i),t}function Que(e){const t={},n=x(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&S(t,["baseModel"],n);const r=x(e,["createTime"]);r!=null&&S(t,["createTime"],r);const i=x(e,["updateTime"]);return i!=null&&S(t,["updateTime"],i),t}function Zue(e,t){const n={},r=x(e,["displayName"]);t!==void 0&&r!=null&&S(t,["displayName"],r);const i=x(e,["description"]);t!==void 0&&i!=null&&S(t,["description"],i);const a=x(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&S(t,["defaultCheckpointId"],a),n}function ede(e,t){const n={},r=x(e,["displayName"]);t!==void 0&&r!=null&&S(t,["displayName"],r);const i=x(e,["description"]);t!==void 0&&i!=null&&S(t,["description"],i);const a=x(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&S(t,["defaultCheckpointId"],a),n}function tde(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","name"],_n(e,r));const i=x(t,["config"]);return i!=null&&Zue(i,n),n}function nde(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["config"]);return i!=null&&ede(i,n),n}function rde(e,t){const n={},r=x(e,["outputGcsUri"]);t!==void 0&&r!=null&&S(t,["parameters","storageUri"],r);const i=x(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&S(t,["parameters","safetySetting"],i);const a=x(e,["personGeneration"]);t!==void 0&&a!=null&&S(t,["parameters","personGeneration"],a);const o=x(e,["includeRaiReason"]);t!==void 0&&o!=null&&S(t,["parameters","includeRaiReason"],o);const l=x(e,["outputMimeType"]);t!==void 0&&l!=null&&S(t,["parameters","outputOptions","mimeType"],l);const u=x(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&S(t,["parameters","outputOptions","compressionQuality"],u);const f=x(e,["enhanceInputImage"]);t!==void 0&&f!=null&&S(t,["parameters","upscaleConfig","enhanceInputImage"],f);const h=x(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&S(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=x(e,["labels"]);t!==void 0&&p!=null&&S(t,["labels"],p);const y=x(e,["numberOfImages"]);t!==void 0&&y!=null&&S(t,["parameters","sampleCount"],y);const g=x(e,["mode"]);return t!==void 0&&g!=null&&S(t,["parameters","mode"],g),n}function ide(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["_url","model"],_n(e,r));const i=x(t,["image"]);i!=null&&S(n,["instances[0]","image"],Bs(i));const a=x(t,["upscaleFactor"]);a!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=x(t,["config"]);return o!=null&&rde(o,n),n}function ade(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>qv(a))),S(t,["generatedImages"],i)}return t}function ode(e){const t={},n=x(e,["uri"]);n!=null&&S(t,["uri"],n);const r=x(e,["encodedVideo"]);r!=null&&S(t,["videoBytes"],qu(r));const i=x(e,["encoding"]);return i!=null&&S(t,["mimeType"],i),t}function sde(e){const t={},n=x(e,["gcsUri"]);n!=null&&S(t,["uri"],n);const r=x(e,["bytesBase64Encoded"]);r!=null&&S(t,["videoBytes"],qu(r));const i=x(e,["mimeType"]);return i!=null&&S(t,["mimeType"],i),t}function lde(e){const t={},n=x(e,["image"]);n!=null&&S(t,["_self"],Bs(n));const r=x(e,["maskMode"]);return r!=null&&S(t,["maskMode"],r),t}function cde(e){const t={},n=x(e,["image"]);n!=null&&S(t,["image"],Hv(n));const r=x(e,["referenceType"]);return r!=null&&S(t,["referenceType"],r),t}function ude(e){const t={},n=x(e,["image"]);n!=null&&S(t,["image"],Bs(n));const r=x(e,["referenceType"]);return r!=null&&S(t,["referenceType"],r),t}function DO(e){const t={},n=x(e,["uri"]);n!=null&&S(t,["uri"],n);const r=x(e,["videoBytes"]);r!=null&&S(t,["encodedVideo"],qu(r));const i=x(e,["mimeType"]);return i!=null&&S(t,["encoding"],i),t}function RO(e){const t={},n=x(e,["uri"]);n!=null&&S(t,["gcsUri"],n);const r=x(e,["videoBytes"]);r!=null&&S(t,["bytesBase64Encoded"],qu(r));const i=x(e,["mimeType"]);return i!=null&&S(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dde(e,t){const n={},r=x(e,["displayName"]);return t!==void 0&&r!=null&&S(t,["displayName"],r),n}function fde(e){const t={},n=x(e,["config"]);return n!=null&&dde(n,t),t}function hde(e,t){const n={},r=x(e,["force"]);return t!==void 0&&r!=null&&S(t,["_query","force"],r),n}function pde(e){const t={},n=x(e,["name"]);n!=null&&S(t,["_url","name"],n);const r=x(e,["config"]);return r!=null&&hde(r,t),t}function mde(e){const t={},n=x(e,["name"]);return n!=null&&S(t,["_url","name"],n),t}function gde(e,t){const n={},r=x(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["customMetadata"],a)}const i=x(e,["chunkingConfig"]);return t!==void 0&&i!=null&&S(t,["chunkingConfig"],i),n}function yde(e){const t={},n=x(e,["name"]);n!=null&&S(t,["name"],n);const r=x(e,["metadata"]);r!=null&&S(t,["metadata"],r);const i=x(e,["done"]);i!=null&&S(t,["done"],i);const a=x(e,["error"]);a!=null&&S(t,["error"],a);const o=x(e,["response"]);return o!=null&&S(t,["response"],xde(o)),t}function vde(e){const t={},n=x(e,["fileSearchStoreName"]);n!=null&&S(t,["_url","file_search_store_name"],n);const r=x(e,["fileName"]);r!=null&&S(t,["fileName"],r);const i=x(e,["config"]);return i!=null&&gde(i,t),t}function xde(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&S(t,["parent"],r);const i=x(e,["documentName"]);return i!=null&&S(t,["documentName"],i),t}function bde(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&S(t,["_query","pageToken"],i),n}function wde(e){const t={},n=x(e,["config"]);return n!=null&&bde(n,t),t}function Nde(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["fileSearchStores"],a)}return t}function LO(e,t){const n={},r=x(e,["mimeType"]);t!==void 0&&r!=null&&S(t,["mimeType"],r);const i=x(e,["displayName"]);t!==void 0&&i!=null&&S(t,["displayName"],i);const a=x(e,["customMetadata"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),S(t,["customMetadata"],l)}const o=x(e,["chunkingConfig"]);return t!==void 0&&o!=null&&S(t,["chunkingConfig"],o),n}function Sde(e){const t={},n=x(e,["fileSearchStoreName"]);n!=null&&S(t,["_url","file_search_store_name"],n);const r=x(e,["config"]);return r!=null&&LO(r,t),t}function Ade(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&S(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _de="Content-Type",Cde="X-Server-Timeout",Ede="User-Agent",i5="x-goog-api-client",kde="1.34.0",Tde=`google-genai-sdk/${kde}`,Pde="v1beta1",jde="v1beta";class Ide{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Pde,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:jde,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[o,l]of Object.entries(t.queryParams))i.searchParams.append(o,String(l));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>a.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=o}return n&&n.extraBody!==null&&Mde(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await m6(i),new Zw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await m6(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Ts(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const l="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Xt(i.read());if(f){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(h,{stream:!0});try{const w=JSON.parse(p);if("error"in w){const N=JSON.parse(JSON.stringify(w.error)),A=N.status,_=N.code,k=`got status: ${A}. ${JSON.stringify(w)}`;if(_>=400&&_<600)throw new Fv({message:k,status:_})}}catch(w){if(w.name==="ApiError")throw w}o+=p;let y=-1,g=0;for(;;){y=-1,g=0;for(const A of u){const _=o.indexOf(A);_!==-1&&(y===-1||_<y)&&(y=_,g=A.length)}if(y===-1)break;const w=o.substring(0,y);o=o.substring(y+g);const N=w.trim();if(N.startsWith(l)){const A=N.substring(l.length).trim();try{const _=new Response(A,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Xt(new Zw(_))}catch(_){throw new Error(`exception parsing stream chunk ${A}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Tde+" "+this.clientOptions.userAgentExtra;return t[Ede]=n,t[i5]=n,t[_de]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(Cde,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(t);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u={file:i},f=this.getFileName(t),h=wt("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,u,n==null?void 0:n.httpOptions);return a.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,o=await a.stat(n),l=String(o.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&LO(r,p);const y=await this.fetchUploadUrl(f,l,u,h,p,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,o){var l;let u={};o?u=o:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function m6(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Fv({message:i,status:n}):new Error(i)}}function Mde(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const l=Object.assign({},a);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const f=o[u],h=l[u];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[u]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[u]=f)}return l}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dde="mcp_used/unknown";let Rde=!1;function OO(e){for(const t of e)if(Lde(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Rde}function BO(e){var t;const n=(t=e[i5])!==null&&t!==void 0?t:"";e[i5]=(n+` ${Dde}`).trimStart()}function Lde(e){return e!==null&&typeof e=="object"&&e instanceof LS}function Ode(e){return Ts(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const o=yield Xt(n.listTools({cursor:i}));for(const l of o.tools)yield yield Xt(l),a++;if(!o.nextCursor)break;i=o.nextCursor}})}class LS{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new LS(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const h of this.mcpClients)try{for(var l=!0,u=(n=void 0,Ps(Ode(h))),f;f=await u.next(),t=f.done,!t;l=!0){i=f.value,l=!1;const p=i;o.push(p);const y=p.name;if(a[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);a[y]=h}}catch(p){n={error:p}}finally{try{!l&&!t&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),mse(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Bde(e,t,n){const r=new sse;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class Ude{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=qde(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(P=>{f=P}),p=t.callbacks,y=function(){f({})},g=this.apiClient,w={onopen:y,onmessage:P=>{Bde(g,p.onmessage,P)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(P){}},N=this.webSocketFactory.create(u,zde(o),w);N.connect(),await h;const k={setup:{model:_n(this.apiClient,t.model)}};return N.send(JSON.stringify(k)),new Fde(N,this.apiClient)}}class Fde{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fce(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=dce(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(hh.PLAY)}pause(){this.sendPlaybackControl(hh.PAUSE)}stop(){this.sendPlaybackControl(hh.STOP)}resetContext(){this.sendPlaybackControl(hh.RESET_CONTEXT)}close(){this.conn.close()}}function zde(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function qde(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hde="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vde(e,t,n){const r=new ose;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const o=mce(a);Object.assign(r,o)}else Object.assign(r,a);t(r)}class Gde{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new Ude(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,o,l;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&OO(t.config.tools)&&BO(p);const y=Kde(p);if(this.apiClient.isVertexAI())h=`${u}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h);else{const q=this.apiClient.getApiKey();let G="BidiGenerateContent",R="key";q!=null&&q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",R="access_token"),h=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.${G}?${R}=${q}`}let g=()=>{};const w=new Promise(q=>{g=q}),N=t.callbacks,A=function(){var q;(q=N==null?void 0:N.onopen)===null||q===void 0||q.call(N),g({})},_=this.apiClient,k={onopen:A,onmessage:q=>{Vde(_,N.onmessage,q)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(q){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(q){}},P=this.webSocketFactory.create(h,Yde(y),k);P.connect(),await w;let M=_n(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const q=this.apiClient.getProject(),G=this.apiClient.getLocation();M=`projects/${q}/locations/${G}/`+M}let B={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ly.AUDIO]}:t.config.responseModalities=[Ly.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],D=[];for(const q of U)if(this.isCallableTool(q)){const G=q;D.push(await G.tool())}else D.push(q);D.length>0&&(t.config.tools=D);const F={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?B=uce(this.apiClient,F):B=cce(this.apiClient,F),delete B.config,P.send(JSON.stringify(B)),new Wde(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const $de={turnComplete:!0};class Wde{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Qo(n.turns),t.isVertexAI()||(r=r.map(i=>zv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(Hde)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},$de),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pce(t)}:n={realtimeInput:hce(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Yde(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Kde(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g6=10;function y6(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const o of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(xh(o)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function xh(e){return"callTool"in e&&typeof e.callTool=="function"}function Jde(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>xh(i)))!==null&&r!==void 0?r:!1}function v6(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(xh(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function x6(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xde extends Ic{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,o,l;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Jde(n)||y6(n.config))return await this.generateContentInternal(u);const f=v6(n);if(f.length>0){const N=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let h,p;const y=Qo(u.contents),g=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:g6;let w=0;for(;w<g&&(h=await this.generateContentInternal(u),!(!h.functionCalls||h.functionCalls.length===0));){const N=h.candidates[0].content,A=[];for(const _ of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(xh(_)){const P=await _.callTool(h.functionCalls);A.push(...P)}w++,p={role:"user",parts:A},u.contents=Qo(u.contents),u.contents.push(N),u.contents.push(p),x6(u.config)&&(y.push(N),y.push(p))}return x6(u.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,a,o,l;if(this.maybeMoveToResponseJsonSchem(n),y6(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const u=v6(n);if(u.length>0){const p=u.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:o.push(u);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new tf(bc.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,o,l,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const o=await Promise.all(a.map(async u=>xh(u)?await u.tool():u)),l={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:o})};if(l.config.tools=o,t.config&&t.config.tools&&OO(t.config.tools)){const u=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},u);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),BO(f),l.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const o of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(xh(o)){const l=o,u=await l.tool();for(const f of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,l)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:g6;let o=!1,l=0;const u=await this.initAfcToolsMap(t);return(function(f,h,p){return Ts(this,arguments,function*(){for(var y,g,w,N,A,_;l<a;){o&&(l++,o=!1);const B=yield Xt(f.processParamsMaybeAddMcpUsage(p)),U=yield Xt(f.generateContentStreamInternal(B)),D=[],F=[];try{for(var k=!0,P=(g=void 0,Ps(U)),M;M=yield Xt(P.next()),y=M.done,!y;k=!0){N=M.value,k=!1;const q=N;if(yield yield Xt(q),q.candidates&&(!((A=q.candidates[0])===null||A===void 0)&&A.content)){F.push(q.candidates[0].content);for(const G of(_=q.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(l<a&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(G.functionCall.name)){const R=yield Xt(h.get(G.functionCall.name).callTool([G.functionCall]));D.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(q){g={error:q}}finally{try{!k&&!y&&(w=P.return)&&(yield Xt(w.call(P)))}finally{if(g)throw g.error}}if(D.length>0){o=!0;const q=new Wp;q.candidates=[{content:{role:"user",parts:D}}],yield yield Xt(q);const G=[];G.push(...F),G.push({role:"user",parts:D});const R=Qo(p.contents).concat(G);p.contents=R}else break}})})(this,u,t)}async generateContentInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=f6(this.apiClient,t);return l=wt("{model}:generateContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=p6(h),y=new Wp;return Object.assign(y,p),y})}else{const f=d6(this.apiClient,t);return l=wt("{model}:generateContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=h6(h),y=new Wp;return Object.assign(y,p),y})}}async generateContentStreamInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=f6(this.apiClient,t);return l=wt("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(p){return Ts(this,arguments,function*(){var y,g,w,N;try{for(var A=!0,_=Ps(p),k;k=yield Xt(_.next()),y=k.done,!y;A=!0){N=k.value,A=!1;const P=N,M=p6(yield Xt(P.json()));M.sdkHttpResponse={headers:P.headers};const B=new Wp;Object.assign(B,M),yield yield Xt(B)}}catch(P){g={error:P}}finally{try{!A&&!y&&(w=_.return)&&(yield Xt(w.call(_)))}finally{if(g)throw g.error}}})})}else{const f=d6(this.apiClient,t);return l=wt("{model}:streamGenerateContent?alt=sse",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(p){return Ts(this,arguments,function*(){var y,g,w,N;try{for(var A=!0,_=Ps(p),k;k=yield Xt(_.next()),y=k.done,!y;A=!0){N=k.value,A=!1;const P=N,M=h6(yield Xt(P.json()));M.sdkHttpResponse={headers:P.headers};const B=new Wp;Object.assign(B,M),yield yield Xt(B)}}catch(P){g={error:P}}finally{try{!A&&!y&&(w=_.return)&&(yield Xt(w.call(_)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Gce(this.apiClient,t);return l=wt("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Wce(h),y=new YP;return Object.assign(y,p),y})}else{const f=Vce(this.apiClient,t);return l=wt("{model}:batchEmbedContents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=$ce(h),y=new YP;return Object.assign(y,p),y})}}async generateImagesInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=iue(this.apiClient,t);return l=wt("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=oue(h),y=new KP;return Object.assign(y,p),y})}else{const f=rue(this.apiClient,t);return l=wt("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=aue(h),y=new KP;return Object.assign(y,p),y})}}async editImageInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Fce(this.apiClient,t);return a=wt("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const f=zce(u),h=new Koe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=ide(this.apiClient,t);return a=wt("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const f=ade(u),h=new Joe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Uue(this.apiClient,t);return a=wt("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=Fue(u),h=new Xoe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=$ue(this.apiClient,t);return a=wt("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=Wue(u),h=new Qoe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Sue(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>r5(h))}else{const f=Nue(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>n5(h))}}async listInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Iue(this.apiClient,t);return l=wt("{models_url}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Due(h),y=new JP;return Object.assign(y,p),y})}else{const f=jue(this.apiClient,t);return l=wt("{models_url}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Mue(h),y=new JP;return Object.assign(y,p),y})}}async update(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=nde(this.apiClient,t);return l=wt("{model}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>r5(h))}else{const f=tde(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>n5(h))}}async delete(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Lce(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Bce(h),y=new XP;return Object.assign(y,p),y})}else{const f=Rce(this.apiClient,t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Oce(h),y=new XP;return Object.assign(y,p),y})}}async countTokens(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Ice(this.apiClient,t);return l=wt("{model}:countTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Dce(h),y=new QP;return Object.assign(y,p),y})}else{const f=jce(this.apiClient,t);return l=wt("{model}:countTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=Mce(h),y=new QP;return Object.assign(y,p),y})}}async computeTokens(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Ace(this.apiClient,t);return a=wt("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>{const f=_ce(u),h=new Zoe;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=fue(this.apiClient,t);return l=wt("{model}:predictLongRunning",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const p=uue(h),y=new Oy;return Object.assign(y,p),y})}else{const f=due(this.apiClient,t);return l=wt("{model}:predictLongRunning",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const p=cue(h),y=new Oy;return Object.assign(y,p),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qde extends Ic{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Hoe(t);return l=wt("{operationName}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const f=qoe(t);return l=wt("{operationName}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Roe(t);return a=wt("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zde(e){const t={},n=x(e,["data"]);if(n!=null&&S(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function efe(e){const t={},n=x(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cfe(a))),S(t,["parts"],i)}const r=x(e,["role"]);return r!=null&&S(t,["role"],r),t}function tfe(e,t,n){const r={},i=x(t,["expireTime"]);n!==void 0&&i!=null&&S(n,["expireTime"],i);const a=x(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&S(n,["newSessionExpireTime"],a);const o=x(t,["uses"]);n!==void 0&&o!=null&&S(n,["uses"],o);const l=x(t,["liveConnectConstraints"]);n!==void 0&&l!=null&&S(n,["bidiGenerateContentSetup"],lfe(e,l));const u=x(t,["lockAdditionalFields"]);return n!==void 0&&u!=null&&S(n,["fieldMask"],u),r}function nfe(e,t){const n={},r=x(t,["config"]);return r!=null&&S(n,["config"],tfe(e,r,n)),n}function rfe(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&S(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&S(t,["mimeType"],r),t}function ife(e){const t={},n=x(e,["id"]);n!=null&&S(t,["id"],n);const r=x(e,["args"]);r!=null&&S(t,["args"],r);const i=x(e,["name"]);if(i!=null&&S(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function afe(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&S(t,["enableWidget"],n),t}function ofe(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&S(t,["timeRangeFilter"],n),t}function sfe(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&S(t,["setup","generationConfig"],r);const i=x(e,["responseModalities"]);t!==void 0&&i!=null&&S(t,["setup","generationConfig","responseModalities"],i);const a=x(e,["temperature"]);t!==void 0&&a!=null&&S(t,["setup","generationConfig","temperature"],a);const o=x(e,["topP"]);t!==void 0&&o!=null&&S(t,["setup","generationConfig","topP"],o);const l=x(e,["topK"]);t!==void 0&&l!=null&&S(t,["setup","generationConfig","topK"],l);const u=x(e,["maxOutputTokens"]);t!==void 0&&u!=null&&S(t,["setup","generationConfig","maxOutputTokens"],u);const f=x(e,["mediaResolution"]);t!==void 0&&f!=null&&S(t,["setup","generationConfig","mediaResolution"],f);const h=x(e,["seed"]);t!==void 0&&h!=null&&S(t,["setup","generationConfig","seed"],h);const p=x(e,["speechConfig"]);t!==void 0&&p!=null&&S(t,["setup","generationConfig","speechConfig"],RS(p));const y=x(e,["thinkingConfig"]);t!==void 0&&y!=null&&S(t,["setup","generationConfig","thinkingConfig"],y);const g=x(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&S(t,["setup","generationConfig","enableAffectiveDialog"],g);const w=x(e,["systemInstruction"]);t!==void 0&&w!=null&&S(t,["setup","systemInstruction"],efe(da(w)));const N=x(e,["tools"]);if(t!==void 0&&N!=null){let U=Yh(N);Array.isArray(U)&&(U=U.map(D=>dfe(Wh(D)))),S(t,["setup","tools"],U)}const A=x(e,["sessionResumption"]);t!==void 0&&A!=null&&S(t,["setup","sessionResumption"],ufe(A));const _=x(e,["inputAudioTranscription"]);t!==void 0&&_!=null&&S(t,["setup","inputAudioTranscription"],_);const k=x(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&S(t,["setup","outputAudioTranscription"],k);const P=x(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&S(t,["setup","realtimeInputConfig"],P);const M=x(e,["contextWindowCompression"]);t!==void 0&&M!=null&&S(t,["setup","contextWindowCompression"],M);const B=x(e,["proactivity"]);if(t!==void 0&&B!=null&&S(t,["setup","proactivity"],B),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lfe(e,t){const n={},r=x(t,["model"]);r!=null&&S(n,["setup","model"],_n(e,r));const i=x(t,["config"]);return i!=null&&S(n,["config"],sfe(i,n)),n}function cfe(e){const t={},n=x(e,["mediaResolution"]);n!=null&&S(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&S(t,["codeExecutionResult"],r);const i=x(e,["executableCode"]);i!=null&&S(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&S(t,["fileData"],rfe(a));const o=x(e,["functionCall"]);o!=null&&S(t,["functionCall"],ife(o));const l=x(e,["functionResponse"]);l!=null&&S(t,["functionResponse"],l);const u=x(e,["inlineData"]);u!=null&&S(t,["inlineData"],Zde(u));const f=x(e,["text"]);f!=null&&S(t,["text"],f);const h=x(e,["thought"]);h!=null&&S(t,["thought"],h);const p=x(e,["thoughtSignature"]);p!=null&&S(t,["thoughtSignature"],p);const y=x(e,["videoMetadata"]);return y!=null&&S(t,["videoMetadata"],y),t}function ufe(e){const t={},n=x(e,["handle"]);if(n!=null&&S(t,["handle"],n),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function dfe(e){const t={},n=x(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),S(t,["functionDeclarations"],h)}if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["googleSearchRetrieval"]);r!=null&&S(t,["googleSearchRetrieval"],r);const i=x(e,["computerUse"]);i!=null&&S(t,["computerUse"],i);const a=x(e,["fileSearch"]);a!=null&&S(t,["fileSearch"],a);const o=x(e,["codeExecution"]);if(o!=null&&S(t,["codeExecution"],o),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["googleMaps"]);l!=null&&S(t,["googleMaps"],afe(l));const u=x(e,["googleSearch"]);u!=null&&S(t,["googleSearch"],ofe(u));const f=x(e,["urlContext"]);return f!=null&&S(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ffe(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function hfe(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=ffe(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>o.includes(f)?`generationConfig.${f}`:f));const u=[];a&&u.push(a),l.length>0&&u.push(...l),u.length>0?e.fieldMask=u.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class pfe extends Ic{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=nfe(this.apiClient,t);a=wt("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const u=hfe(l,t.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mfe(e,t){const n={},r=x(e,["force"]);return t!==void 0&&r!=null&&S(t,["_query","force"],r),n}function gfe(e){const t={},n=x(e,["name"]);n!=null&&S(t,["_url","name"],n);const r=x(e,["config"]);return r!=null&&mfe(r,t),t}function yfe(e){const t={},n=x(e,["name"]);return n!=null&&S(t,["_url","name"],n),t}function vfe(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&S(t,["_query","pageSize"],r);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&S(t,["_query","pageToken"],i),n}function xfe(e){const t={},n=x(e,["parent"]);n!=null&&S(t,["_url","parent"],n);const r=x(e,["config"]);return r!=null&&vfe(r,t),t}function bfe(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&S(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&S(t,["nextPageToken"],r);const i=x(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),S(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wfe extends Ic{constructor(t){super(),this.apiClient=t,this.list=async n=>new tf(bc.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yfe(t);return a=wt("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gfe(t);i=wt("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=xfe(t);return a=wt("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=bfe(u),h=new ese;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nfe extends Ic{constructor(t,n=new wfe(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new tf(bc.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fde(t);return a=wt("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mde(t);return a=wt("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pde(t);i=wt("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=wde(t);return a=wt("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=Nde(u),h=new tse;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Sde(t);return a=wt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=Ade(u),h=new nse;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=vde(t);return a=wt("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const f=yde(u),h=new PS;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UO=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return UO=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Sfe=()=>UO();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a5(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const o5=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ts extends Error{}class Ca extends ts{constructor(t,n,r,i){super(`${Ca.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Vv({message:r,cause:o5(n)});const a=n;return t===400?new zO(t,a,r,i):t===401?new qO(t,a,r,i):t===403?new HO(t,a,r,i):t===404?new VO(t,a,r,i):t===409?new GO(t,a,r,i):t===422?new $O(t,a,r,i):t===429?new WO(t,a,r,i):t>=500?new YO(t,a,r,i):new Ca(t,a,r,i)}}class s5 extends Ca{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Vv extends Ca{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class FO extends Vv{constructor({message:t}={}){super({message:t??"Request timed out."})}}class zO extends Ca{}class qO extends Ca{}class HO extends Ca{}class VO extends Ca{}class GO extends Ca{}class $O extends Ca{}class WO extends Ca{}class YO extends Ca{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Afe=/^[a-z][a-z0-9+.-]*:/i,_fe=e=>Afe.test(e);let l5=e=>(l5=Array.isArray,l5(e));const Cfe=l5;let Efe=Cfe;const b6=Efe;function kfe(e){if(!e)return!0;for(const t in e)return!1;return!0}function Tfe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Pfe=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ts(`${e} must be an integer`);if(t<0)throw new ts(`${e} must be a positive integer`);return t},jfe=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ife=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lh="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mfe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Dfe=()=>{var e,t,n,r,i;const a=Mfe();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lh,"X-Stainless-OS":N6(Deno.build.os),"X-Stainless-Arch":w6(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lh,"X-Stainless-OS":N6((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":w6((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=Rfe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lh,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Rfe(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,o=r[3]||0;return{browser:t,version:`${i}.${a}.${o}`}}}return null}const w6=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",N6=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let vg;const Lfe=()=>vg??(vg=Dfe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ofe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function KO(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Bfe(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return KO({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function JO(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Ufe(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ffe=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XO=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function h2(e,t,n){return XO(),new File(e,t??"unknown_file",n)}function zfe(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const qfe=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QO=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Hfe=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&QO(e),Vfe=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Gfe(e,t,n){if(XO(),e=await e,Hfe(e))return e instanceof File?e:h2([await e.arrayBuffer()],e.name);if(Vfe(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),h2(await c5(i),t,n)}const r=await c5(e);if(t||(t=zfe(e)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return h2(r,t,n)}async function c5(e){var t,n,r,i,a;let o=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(QO(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else if(qfe(e))try{for(var l=!0,u=Ps(e),f;f=await u.next(),t=f.done,!t;l=!0){i=f.value,l=!1;const h=i;o.push(...await c5(h))}}catch(h){n={error:h}}finally{try{!l&&!t&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}else{const h=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${$fe(e)}`)}return o}function $fe(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZO{constructor(t){this._client=t}}ZO._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e8(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const S6=Object.freeze(Object.create(null)),Wfe=(e=e8)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],o=n.reduce((h,p,y)=>{var g,w,N;/[?#]/.test(p)&&(i=!0);const A=r[y];let _=(i?encodeURIComponent:e)(""+A);return y!==r.length&&(A==null||typeof A=="object"&&A.toString===((N=Object.getPrototypeOf((w=Object.getPrototypeOf((g=A.hasOwnProperty)!==null&&g!==void 0?g:S6))!==null&&w!==void 0?w:S6))===null||N===void 0?void 0:N.toString))&&(_=A+"",a.push({start:h.length+p.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),h+p+(y===r.length?"":_)},""),l=o.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=u.exec(l))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((h,p)=>h.start-p.start),a.length>0){let h=0;const p=a.reduce((y,g)=>{const w=" ".repeat(g.start-h),N="^".repeat(g.length);return h=g.start+g.length,y+w+N},"");throw new ts(`Path parameters result in path with invalid segments:
${a.map(y=>y.error).join(`
`)}
${o}
${p}`)}return o}),xg=Wfe(e8);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t8 extends ZO{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,a=Uy(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new ts("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new ts("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xg`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(xg`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(xg`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const a=n??{},{api_version:o=this._client.apiVersion}=a,l=Uy(a,["api_version"]);return this._client.get(xg`/${o}/interactions/${t}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}t8._key=Object.freeze(["interactions"]);class n8 extends t8{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yfe(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let bg;function OS(e){let t;return(bg??(t=new globalThis.TextEncoder,bg=t.encode.bind(t)))(e)}let wg;function A6(e){let t;return(wg??(t=new globalThis.TextDecoder,wg=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?OS(t):t;this.buffer=Yfe([this.buffer,n]);const r=[];let i;for(;(i=Kfe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(A6(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=A6(this.buffer.subarray(0,a));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Gv.NEWLINE_CHARS=new Set([`
`,"\r"]);Gv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Kfe(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Jfe(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fy={off:0,error:200,warn:300,info:400,debug:500},_6=(e,t,n)=>{if(e){if(Tfe(Fy,e))return e;wa(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Fy))}`)}};function tm(){}function Ng(e,t,n){return!t||Fy[e]>Fy[n]?tm:t[e].bind(t)}const Xfe={error:tm,warn:tm,info:tm,debug:tm};let C6=new WeakMap;function wa(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Xfe;const i=C6.get(n);if(i&&i[0]===r)return i[1];const a={error:Ng("error",n,r),warn:Ng("warn",n,r),info:Ng("info",n,r),debug:Ng("debug",n,r)};return C6.set(n,[r,a]),a}const kd=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ph{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const a=r?wa(r):console;function o(){return Ts(this,arguments,function*(){var u,f,h,p;if(i)throw new ts("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var g=!0,w=Ps(Qfe(t,n)),N;N=yield Xt(w.next()),u=N.done,!u;g=!0){p=N.value,g=!1;const A=p;if(!y)if(A.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Xt(JSON.parse(A.data))}catch(_){throw a.error("Could not parse message into JSON:",A.data),a.error("From chunk:",A.raw),_}}}catch(A){f={error:A}}finally{try{!g&&!u&&(h=w.return)&&(yield Xt(h.call(w)))}finally{if(f)throw f.error}}y=!0}catch(A){if(a5(A))return yield Xt(void 0);throw A}finally{y||n.abort()}})}return new ph(o,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return Ts(this,arguments,function*(){var u,f,h,p;const y=new Gv,g=JO(t);try{for(var w=!0,N=Ps(g),A;A=yield Xt(N.next()),u=A.done,!u;w=!0){p=A.value,w=!1;const _=p;for(const k of y.decode(_))yield yield Xt(k)}}catch(_){f={error:_}}finally{try{!w&&!u&&(h=N.return)&&(yield Xt(h.call(N)))}finally{if(f)throw f.error}}for(const _ of y.flush())yield yield Xt(_)})}function o(){return Ts(this,arguments,function*(){var u,f,h,p;if(i)throw new ts("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var g=!0,w=Ps(a()),N;N=yield Xt(w.next()),u=N.done,!u;g=!0){p=N.value,g=!1;const A=p;y||A&&(yield yield Xt(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!g&&!u&&(h=w.return)&&(yield Xt(h.call(w)))}finally{if(f)throw f.error}}y=!0}catch(A){if(a5(A))return yield Xt(void 0);throw A}finally{y||n.abort()}})}return new ph(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const o=r.next();t.push(o),n.push(o)}return a.shift()}});return[new ph(()=>i(t),this.controller,this.client),new ph(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return KO({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const o=OS(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Qfe(e,t){return Ts(this,arguments,function*(){var r,i,a,o;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ts("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ts("Attempted to iterate over a response with no body");const l=new ehe,u=new Gv,f=JO(e.body);try{for(var h=!0,p=Ps(Zfe(f)),y;y=yield Xt(p.next()),r=y.done,!r;h=!0){o=y.value,h=!1;const g=o;for(const w of u.decode(g)){const N=l.decode(w);N&&(yield yield Xt(N))}}}catch(g){i={error:g}}finally{try{!h&&!r&&(a=p.return)&&(yield Xt(a.call(p)))}finally{if(i)throw i.error}}for(const g of u.flush()){const w=l.decode(g);w&&(yield yield Xt(w))}})}function Zfe(e){return Ts(this,arguments,function*(){var n,r,i,a;let o=new Uint8Array;try{for(var l=!0,u=Ps(e),f;f=yield Xt(u.next()),n=f.done,!n;l=!0){a=f.value,l=!1;const h=a;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?OS(h):h;let y=new Uint8Array(o.length+p.length);y.set(o),y.set(p,o.length),o=y;let g;for(;(g=Jfe(o))!==-1;)yield yield Xt(o.slice(0,g)),o=o.slice(g)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=u.return)&&(yield Xt(i.call(u)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Xt(o))})}class ehe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=the(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function the(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nhe(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,o=await(async()=>{var l;if(t.options.stream)return wa(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ph.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const u=n.headers.get("content-type"),f=(l=u==null?void 0:u.split(";")[0])===null||l===void 0?void 0:l.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return wa(e).debug(`[${r}] response parsed`,kd({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends Promise{constructor(t,n,r=nhe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new BS(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r8=Symbol("brand.privateNullableHeaders");function*rhe(e){if(!e)return;if(r8 in e){const{values:r,nulls:i}=e;yield*r.entries();for(const a of i)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():b6(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=b6(r[1])?r[1]:[r[1]];let o=!1;for(const l of a)l!==void 0&&(t&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const Yp=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[a,o]of rhe(r)){const l=a.toLowerCase();i.has(l)||(t.delete(a),i.add(l)),o===null?(t.delete(a),n.add(l)):(t.append(a,o),n.delete(l))}}return{[r8]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p2=e=>{var t,n,r,i,a,o;if(typeof globalThis.process<"u")return(r=(n=(t=Toe)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var i8;class $v{constructor(t){var n,r,i,a,o,l,u,{baseURL:f=p2("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=p2("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,y=Uy(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:h,apiVersion:p},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(r=g.timeout)!==null&&r!==void 0?r:$v.DEFAULT_TIMEOUT,this.logger=(i=g.logger)!==null&&i!==void 0?i:console;const w="warn";this.logLevel=w,this.logLevel=(o=(a=_6(g.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:_6(p2("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:w,this.fetchOptions=g.fetchOptions,this.maxRetries=(l=g.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(u=g.fetch)!==null&&u!==void 0?u:Ofe(),this.encoder=Ffe,this._options=g,this.apiKey=h,this.apiVersion=p,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Yp([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Yp([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Yp([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ts(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${lh}`}defaultIdempotencyKey(){return`stainless-node-retry-${Sfe()}`}makeStatusError(t,n,r,i){return Ca.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=_fe(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return kfe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new BS(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,a,o;const l=await t,u=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=u),await this.prepareOptions(l);const{req:f,url:h,timeout:p}=await this.buildRequest(l,{retryCount:u-n});await this.prepareRequest(f,{url:h,options:l});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=r===void 0?"":`, retryOf: ${r}`,w=Date.now();if(wa(this).debug(`[${y}] sending request`,kd({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:f.headers})),!((a=l.signal)===null||a===void 0)&&a.aborted)throw new s5;const N=new AbortController,A=await this.fetchWithTimeout(h,f,p,N).catch(o5),_=Date.now();if(A instanceof globalThis.Error){const P=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new s5;const M=a5(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return wa(this).info(`[${y}] connection ${M?"timed out":"failed"} - ${P}`),wa(this).debug(`[${y}] connection ${M?"timed out":"failed"} (${P})`,kd({retryOfRequestLogID:r,url:h,durationMs:_-w,message:A.message})),this.retryRequest(l,n,r??y);throw wa(this).info(`[${y}] connection ${M?"timed out":"failed"} - error; no more retries left`),wa(this).debug(`[${y}] connection ${M?"timed out":"failed"} (error; no more retries left)`,kd({retryOfRequestLogID:r,url:h,durationMs:_-w,message:A.message})),M?new FO:new Vv({cause:A})}const k=`[${y}${g}] ${f.method} ${h} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${_-w}ms`;if(!A.ok){const P=await this.shouldRetry(A);if(n&&P){const q=`retrying, ${n} attempts remaining`;return await Ufe(A.body),wa(this).info(`${k} - ${q}`),wa(this).debug(`[${y}] response error (${q})`,kd({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:_-w})),this.retryRequest(l,n,r??y,A.headers)}const M=P?"error; no more retries left":"error; not retryable";wa(this).info(`${k} - ${M}`);const B=await A.text().catch(q=>o5(q).message),U=jfe(B),D=U?void 0:B;throw wa(this).debug(`[${y}] response error (${M})`,kd({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:D,durationMs:Date.now()-w})),this.makeStatusError(A.status,U,D,A.headers)}return wa(this).info(k),wa(this).debug(`[${y}] response start`,kd({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:_-w})),{response:A,options:l,controller:N,requestLogID:y,retryOfRequestLogID:r,startTime:w}}async fetchWithTimeout(t,n,r,i){const a=n||{},{signal:o,method:l}=a,u=Uy(a,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,p=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),u);l&&(p.method=l.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var a;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(o=f)}const u=i==null?void 0:i.get("retry-after");if(u&&!o){const f=parseFloat(u);Number.isNaN(f)?o=Date.parse(u)-Date.now():o=f*1e3}if(!(o&&0<=o&&o<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,f)}return await Ife(o),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,o=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,a;const o=Object.assign({},t),{method:l,path:u,query:f,defaultBaseURL:h}=o,p=this.buildURL(u,f,h);"timeout"in o&&Pfe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:g}=this.buildBody({options:o}),w=await this.buildHeaders({options:t,method:l,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:w},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:o.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const o=await this.authHeaders(t);let l=Yp([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Lfe()),this._options.defaultHeaders,r,t.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Yp([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Bfe(t)}:this.encoder({body:t,headers:r})}}$v.DEFAULT_TIMEOUT=6e4;class Ii extends $v{constructor(){super(...arguments),this.interactions=new n8(this)}}i8=Ii;Ii.GeminiNextGenAPIClient=i8;Ii.GeminiNextGenAPIClientError=ts;Ii.APIError=Ca;Ii.APIConnectionError=Vv;Ii.APIConnectionTimeoutError=FO;Ii.APIUserAbortError=s5;Ii.NotFoundError=VO;Ii.ConflictError=GO;Ii.RateLimitError=WO;Ii.BadRequestError=zO;Ii.AuthenticationError=qO;Ii.InternalServerError=YO;Ii.PermissionDeniedError=HO;Ii.UnprocessableEntityError=$O;Ii.toFile=Gfe;Ii.Interactions=n8;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ihe(e,t){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],r),n}function ahe(e,t){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],r),n}function ohe(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function she(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function lhe(e,t,n){const r={};if(x(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&S(t,["displayName"],i),x(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(e,["epochCount"]);t!==void 0&&a!=null&&S(t,["tuningTask","hyperparameters","epochCount"],a);const o=x(e,["learningRateMultiplier"]);if(o!=null&&S(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),x(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=x(e,["batchSize"]);t!==void 0&&l!=null&&S(t,["tuningTask","hyperparameters","batchSize"],l);const u=x(e,["learningRate"]);if(t!==void 0&&u!=null&&S(t,["tuningTask","hyperparameters","learningRate"],u),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function che(e,t,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const g=x(e,["validationDataset"]);t!==void 0&&g!=null&&S(t,["supervisedTuningSpec"],E6(g))}else if(i==="PREFERENCE_TUNING"){const g=x(e,["validationDataset"]);t!==void 0&&g!=null&&S(t,["preferenceOptimizationSpec"],E6(g))}const a=x(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&S(t,["tunedModelDisplayName"],a);const o=x(e,["description"]);t!==void 0&&o!=null&&S(t,["description"],o);let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=x(e,["epochCount"]);t!==void 0&&g!=null&&S(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){const g=x(e,["epochCount"]);t!==void 0&&g!=null&&S(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=x(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&S(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(u==="PREFERENCE_TUNING"){const g=x(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&S(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=x(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&S(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=x(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&S(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const g=x(e,["adapterSize"]);t!==void 0&&g!=null&&S(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(h==="PREFERENCE_TUNING"){const g=x(e,["adapterSize"]);t!==void 0&&g!=null&&S(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(x(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=x(e,["labels"]);t!==void 0&&p!=null&&S(t,["labels"],p);const y=x(e,["beta"]);return t!==void 0&&y!=null&&S(t,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function uhe(e,t){const n={},r=x(e,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(e,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(e,["trainingDataset"]);a!=null&&whe(a);const o=x(e,["config"]);return o!=null&&lhe(o,n),n}function dhe(e,t){const n={},r=x(e,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(e,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(e,["trainingDataset"]);a!=null&&Nhe(a,n,t);const o=x(e,["config"]);return o!=null&&che(o,n,t),n}function fhe(e,t){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],r),n}function hhe(e,t){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],r),n}function phe(e,t,n){const r={},i=x(e,["pageSize"]);t!==void 0&&i!=null&&S(t,["_query","pageSize"],i);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&S(t,["_query","pageToken"],a);const o=x(e,["filter"]);return t!==void 0&&o!=null&&S(t,["_query","filter"],o),r}function mhe(e,t,n){const r={},i=x(e,["pageSize"]);t!==void 0&&i!=null&&S(t,["_query","pageSize"],i);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&S(t,["_query","pageToken"],a);const o=x(e,["filter"]);return t!==void 0&&o!=null&&S(t,["_query","filter"],o),r}function ghe(e,t){const n={},r=x(e,["config"]);return r!=null&&phe(r,n),n}function yhe(e,t){const n={},r=x(e,["config"]);return r!=null&&mhe(r,n),n}function vhe(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(e,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(e,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>a8(l))),S(n,["tuningJobs"],o)}return n}function xhe(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(e,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(e,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>u5(l))),S(n,["tuningJobs"],o)}return n}function bhe(e,t){const n={},r=x(e,["name"]);r!=null&&S(n,["model"],r);const i=x(e,["name"]);return i!=null&&S(n,["endpoint"],i),n}function whe(e,t){const n={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(n,["examples","examples"],i)}return n}function Nhe(e,t,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=x(e,["gcsUri"]);t!==void 0&&o!=null&&S(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=x(e,["gcsUri"]);t!==void 0&&o!=null&&S(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=x(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&S(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=x(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&S(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(x(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function a8(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(e,["name"]);i!=null&&S(n,["name"],i);const a=x(e,["state"]);a!=null&&S(n,["state"],wO(a));const o=x(e,["createTime"]);o!=null&&S(n,["createTime"],o);const l=x(e,["tuningTask","startTime"]);l!=null&&S(n,["startTime"],l);const u=x(e,["tuningTask","completeTime"]);u!=null&&S(n,["endTime"],u);const f=x(e,["updateTime"]);f!=null&&S(n,["updateTime"],f);const h=x(e,["description"]);h!=null&&S(n,["description"],h);const p=x(e,["baseModel"]);p!=null&&S(n,["baseModel"],p);const y=x(e,["_self"]);return y!=null&&S(n,["tunedModel"],bhe(y)),n}function u5(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(e,["name"]);i!=null&&S(n,["name"],i);const a=x(e,["state"]);a!=null&&S(n,["state"],wO(a));const o=x(e,["createTime"]);o!=null&&S(n,["createTime"],o);const l=x(e,["startTime"]);l!=null&&S(n,["startTime"],l);const u=x(e,["endTime"]);u!=null&&S(n,["endTime"],u);const f=x(e,["updateTime"]);f!=null&&S(n,["updateTime"],f);const h=x(e,["error"]);h!=null&&S(n,["error"],h);const p=x(e,["description"]);p!=null&&S(n,["description"],p);const y=x(e,["baseModel"]);y!=null&&S(n,["baseModel"],y);const g=x(e,["tunedModel"]);g!=null&&S(n,["tunedModel"],g);const w=x(e,["preTunedModel"]);w!=null&&S(n,["preTunedModel"],w);const N=x(e,["supervisedTuningSpec"]);N!=null&&S(n,["supervisedTuningSpec"],N);const A=x(e,["preferenceOptimizationSpec"]);A!=null&&S(n,["preferenceOptimizationSpec"],A);const _=x(e,["tuningDataStats"]);_!=null&&S(n,["tuningDataStats"],_);const k=x(e,["encryptionSpec"]);k!=null&&S(n,["encryptionSpec"],k);const P=x(e,["partnerModelTuningSpec"]);P!=null&&S(n,["partnerModelTuningSpec"],P);const M=x(e,["customBaseModel"]);M!=null&&S(n,["customBaseModel"],M);const B=x(e,["experiment"]);B!=null&&S(n,["experiment"],B);const U=x(e,["labels"]);U!=null&&S(n,["labels"],U);const D=x(e,["outputUri"]);D!=null&&S(n,["outputUri"],D);const F=x(e,["pipelineJob"]);F!=null&&S(n,["pipelineJob"],F);const q=x(e,["serviceAccount"]);q!=null&&S(n,["serviceAccount"],q);const G=x(e,["tunedModelDisplayName"]);G!=null&&S(n,["tunedModelDisplayName"],G);const R=x(e,["veoTuningSpec"]);return R!=null&&S(n,["veoTuningSpec"],R),n}function She(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(e,["name"]);i!=null&&S(n,["name"],i);const a=x(e,["metadata"]);a!=null&&S(n,["metadata"],a);const o=x(e,["done"]);o!=null&&S(n,["done"],o);const l=x(e,["error"]);return l!=null&&S(n,["error"],l),n}function E6(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&S(n,["validationDatasetUri"],r);const i=x(e,["vertexDatasetResource"]);return i!=null&&S(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ahe extends Ic{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new tf(bc.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:Qw.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=hhe(t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>u5(h))}else{const f=fhe(t);return l=wt("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>a8(h))}}async listInternal(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=yhe(t);return l=wt("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=xhe(h),y=new ZP;return Object.assign(y,p),y})}else{const f=ghe(t);return l=wt("tunedModels",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=vhe(h),y=new ZP;return Object.assign(y,p),y})}}async cancel(t){var n,r,i,a;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=ahe(t);return l=wt("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=she(h),y=new e6;return Object.assign(y,p),y})}else{const f=ihe(t);return l=wt("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(p=>{const y=p;return y.sdkHttpResponse={headers:h.headers},y})),o.then(h=>{const p=ohe(h),y=new e6;return Object.assign(y,p),y})}}async tuneInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=dhe(t,t);return a=wt("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>u5(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uhe(t);return a=wt("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:u.headers},h})),i.then(u=>She(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _he{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Che=1024*1024*8,Ehe=3,khe=1e3,The=2,zy="x-goog-upload-status";async function Phe(e,t,n){var r;const i=await o8(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[zy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function jhe(e,t,n){var r;const i=await o8(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[zy])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=mO(a),l=new jS;return Object.assign(l,o),l}async function o8(e,t,n){var r,i;let a=0,o=0,l=new Zw(new Response),u="upload";for(a=e.size;o<a;){const f=Math.min(Che,a-o),h=e.slice(o,o+f);o+f>=a&&(u+=", finalize");let p=0,y=khe;for(;p<Ehe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[zy]));)p++,await Mhe(y),y=y*The;if(o+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[zy])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Ihe(e){return{size:e.size,type:e.type}}function Mhe(e){return new Promise(t=>setTimeout(t,e))}class Dhe{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Phe(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jhe(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ihe(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rhe{create(t,n,r){return new Lhe(t,n,r)}}class Lhe{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k6="x-goog-api-key";class Ohe{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(k6)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(k6,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bhe="gl-node/";class Uhe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ii({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Moe(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Ohe(this.apiKey);this.apiClient=new Ide({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Bhe+"web",uploader:new Dhe,downloader:new _he}),this.models=new Xde(this.apiClient),this.live=new Gde(this.apiClient,i,new Rhe),this.batches=new lle(this.apiClient),this.chats=new Hle(this.models,this.apiClient),this.caches=new Fle(this.apiClient),this.files=new Zle(this.apiClient),this.operations=new Qde(this.apiClient),this.authTokens=new pfe(this.apiClient),this.tunings=new Ahe(this.apiClient),this.fileSearchStores=new Nfe(this.apiClient)}}const Fhe=()=>{const e=Be.getBusinessProfile(),t=Be.getProducts(),n=Be.getParties(),r=Be.getTransactions(),i=Be.getAccounts(),a=n.reduce((M,B)=>B.balance>0?M+B.balance:M,0),o=n.reduce((M,B)=>B.balance<0?M+Math.abs(B.balance):M,0),l=t.filter(M=>M.type!=="service"&&M.stock<5).map(M=>`${M.name} (${M.stock})`),u=t.reduce((M,B)=>M+B.stock*B.purchasePrice,0),f=new Map;t.forEach(M=>f.set(M.id,M));let h=0,p=0,y=0,g=0;const w={};r.forEach(M=>{var B,U;if(M.type==="SALE")h+=M.totalAmount,(B=M.items)==null||B.forEach(D=>{const F=f.get(D.productId);if(F&&F.type!=="service"){let q=D.quantity;D.unit&&F.secondaryUnit&&D.unit===F.secondaryUnit&&F.conversionRatio&&(q=D.quantity/F.conversionRatio),y+=q*F.purchasePrice}});else if(M.type==="SALE_RETURN")p+=M.totalAmount,(U=M.items)==null||U.forEach(D=>{const F=f.get(D.productId);if(F&&F.type!=="service"){let q=D.quantity;D.unit&&F.secondaryUnit&&D.unit===F.secondaryUnit&&F.conversionRatio&&(q=D.quantity/F.conversionRatio),y-=q*F.purchasePrice}});else if(M.type==="EXPENSE"){g+=M.totalAmount;const D=M.category||"Other";w[D]=(w[D]||0)+M.totalAmount}});const N=h-p,A=N-y,_=A-g,k=i.map(M=>`- ${M.name} (${M.type}): ${qe(M.balance)}`).join(`
`),P=r.slice(-20).reverse().map(M=>`- ${Rn(M.date)}: ${M.type} | ${M.partyName} | ${qe(M.totalAmount)}`).join(`
`);return`
    You are an expert business analyst for "${e.name}".
    Current Date: AD ${new Date().toISOString().split("T")[0]} / BS ${NF()}
    
    --- FINANCIAL OVERVIEW ---
    - Total Sales: ${qe(h)}
    - Sales Returns: ${qe(p)}
    - Net Sales: ${qe(N)}
    - Total COGS (Cost of Goods Sold): ${qe(y)}
    - Gross Profit: ${qe(A)}
    - Total Operating Expenses: ${qe(g)}
    - NET PROFIT: ${qe(_)} (Net Margin: ${N>0?(_/N*100).toFixed(1):0}%)

    --- EXPENSE BREAKDOWN ---
    ${Object.entries(w).map(([M,B])=>`- ${M}: ${qe(B)}`).join(`
`)}

    --- CASH & BANK BALANCES ---
    ${k}

    --- PARTY BALANCES ---
    - Total Receivable (To Receive): ${qe(a)}
    - Total Payable (To Give): ${qe(o)}

    --- INVENTORY STATUS ---
    - Total Stock Valuation (at Cost): ${qe(u)}
    - Critical Low Stock Items: ${l.length>0?l.join(", "):"None"}

    --- RECENT TRANSACTIONS (Last 20) ---
    ${P}
  `},zhe=async e=>{try{const t=new Uhe({apiKey:"AIzaSyBCezRn3rCu91PsI-qI8AT5xceGw5o3xOc"}),n=Fhe();return(await t.models.generateContent({model:"gemini-3-flash-preview",contents:`
        SYSTEM CONTEXT DATA:
        ${n}

        USER QUESTION: 
        "${e}"

        AI INSTRUCTIONS:
        1. Use the provided financial data to answer the user query accurately.
        2. If asked about "Profit", refer to Net Profit unless Gross Profit is specified.
        3. If asked about "Cash", combine balances of all Cash and Wallet accounts.
        4. When the user uses Nepali names or dates, respond appropriately using the BS/Nepali format.
        5. Provide suggestions if metrics look bad (e.g., high expenses or low profit margins).
        6. Keep the tone professional but accessible.
      `,config:{systemInstruction:"You are a world-class Business Intelligence Assistant. You analyze sales, inventory, and profit data to help shop owners make better decisions."}})).text||"I was unable to analyze that data. Could you please try rephrasing your question?"}catch(t){return console.error("AI Service Error:",t),"I am currently unable to reach my analytical engine. Please ensure your internet connection is stable and the API key is valid."}};function qhe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Hhe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vhe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ghe={};function T6(e,t){return(Ghe.jsx?Vhe:Hhe).test(e)}const $he=/[ \t\n\f\r]/g;function Whe(e){return typeof e=="object"?e.type==="text"?P6(e.value):!1:P6(e)}function P6(e){return e.replace($he,"")===""}class o0{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}o0.prototype.normal={};o0.prototype.property={};o0.prototype.space=void 0;function s8(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new o0(n,r,t)}function d5(e){return e.toLowerCase()}class no{constructor(t,n){this.attribute=n,this.property=t}}no.prototype.attribute="";no.prototype.booleanish=!1;no.prototype.boolean=!1;no.prototype.commaOrSpaceSeparated=!1;no.prototype.commaSeparated=!1;no.prototype.defined=!1;no.prototype.mustUseProperty=!1;no.prototype.number=!1;no.prototype.overloadedBoolean=!1;no.prototype.property="";no.prototype.spaceSeparated=!1;no.prototype.space=void 0;let Yhe=0;const an=nf(),ei=nf(),f5=nf(),st=nf(),er=nf(),bh=nf(),vo=nf();function nf(){return 2**++Yhe}const h5=Object.freeze(Object.defineProperty({__proto__:null,boolean:an,booleanish:ei,commaOrSpaceSeparated:vo,commaSeparated:bh,number:st,overloadedBoolean:f5,spaceSeparated:er},Symbol.toStringTag,{value:"Module"})),m2=Object.keys(h5);class US extends no{constructor(t,n,r,i){let a=-1;if(super(t,n),j6(this,"space",i),typeof r=="number")for(;++a<m2.length;){const o=m2[a];j6(this,m2[a],(r&h5[o])===h5[o])}}}US.prototype.defined=!0;function j6(e,t,n){n&&(e[t]=n)}function Jh(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new US(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[d5(r)]=r,n[d5(a.attribute)]=r}return new o0(t,n,e.space)}const l8=Jh({properties:{ariaActiveDescendant:null,ariaAtomic:ei,ariaAutoComplete:null,ariaBusy:ei,ariaChecked:ei,ariaColCount:st,ariaColIndex:st,ariaColSpan:st,ariaControls:er,ariaCurrent:null,ariaDescribedBy:er,ariaDetails:null,ariaDisabled:ei,ariaDropEffect:er,ariaErrorMessage:null,ariaExpanded:ei,ariaFlowTo:er,ariaGrabbed:ei,ariaHasPopup:null,ariaHidden:ei,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:er,ariaLevel:st,ariaLive:null,ariaModal:ei,ariaMultiLine:ei,ariaMultiSelectable:ei,ariaOrientation:null,ariaOwns:er,ariaPlaceholder:null,ariaPosInSet:st,ariaPressed:ei,ariaReadOnly:ei,ariaRelevant:null,ariaRequired:ei,ariaRoleDescription:er,ariaRowCount:st,ariaRowIndex:st,ariaRowSpan:st,ariaSelected:ei,ariaSetSize:st,ariaSort:null,ariaValueMax:st,ariaValueMin:st,ariaValueNow:st,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function c8(e,t){return t in e?e[t]:t}function u8(e,t){return c8(e,t.toLowerCase())}const Khe=Jh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bh,acceptCharset:er,accessKey:er,action:null,allow:null,allowFullScreen:an,allowPaymentRequest:an,allowUserMedia:an,alt:null,as:null,async:an,autoCapitalize:null,autoComplete:er,autoFocus:an,autoPlay:an,blocking:er,capture:null,charSet:null,checked:an,cite:null,className:er,cols:st,colSpan:null,content:null,contentEditable:ei,controls:an,controlsList:er,coords:st|bh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:an,defer:an,dir:null,dirName:null,disabled:an,download:f5,draggable:ei,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:an,formTarget:null,headers:er,height:st,hidden:f5,high:st,href:null,hrefLang:null,htmlFor:er,httpEquiv:er,id:null,imageSizes:null,imageSrcSet:null,inert:an,inputMode:null,integrity:null,is:null,isMap:an,itemId:null,itemProp:er,itemRef:er,itemScope:an,itemType:er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:an,low:st,manifest:null,max:null,maxLength:st,media:null,method:null,min:null,minLength:st,multiple:an,muted:an,name:null,nonce:null,noModule:an,noValidate:an,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:an,optimum:st,pattern:null,ping:er,placeholder:null,playsInline:an,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:an,referrerPolicy:null,rel:er,required:an,reversed:an,rows:st,rowSpan:st,sandbox:er,scope:null,scoped:an,seamless:an,selected:an,shadowRootClonable:an,shadowRootDelegatesFocus:an,shadowRootMode:null,shape:null,size:st,sizes:null,slot:null,span:st,spellCheck:ei,src:null,srcDoc:null,srcLang:null,srcSet:null,start:st,step:null,style:null,tabIndex:st,target:null,title:null,translate:null,type:null,typeMustMatch:an,useMap:null,value:ei,width:st,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:er,axis:null,background:null,bgColor:null,border:st,borderColor:null,bottomMargin:st,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:an,declare:an,event:null,face:null,frame:null,frameBorder:null,hSpace:st,leftMargin:st,link:null,longDesc:null,lowSrc:null,marginHeight:st,marginWidth:st,noResize:an,noHref:an,noShade:an,noWrap:an,object:null,profile:null,prompt:null,rev:null,rightMargin:st,rules:null,scheme:null,scrolling:ei,standby:null,summary:null,text:null,topMargin:st,valueType:null,version:null,vAlign:null,vLink:null,vSpace:st,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:an,disableRemotePlayback:an,prefix:null,property:null,results:st,security:null,unselectable:null},space:"html",transform:u8}),Jhe=Jh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vo,accentHeight:st,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:st,amplitude:st,arabicForm:null,ascent:st,attributeName:null,attributeType:null,azimuth:st,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:st,by:null,calcMode:null,capHeight:st,className:er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:st,diffuseConstant:st,direction:null,display:null,dur:null,divisor:st,dominantBaseline:null,download:an,dx:null,dy:null,edgeMode:null,editable:null,elevation:st,enableBackground:null,end:null,event:null,exponent:st,externalResourcesRequired:null,fill:null,fillOpacity:st,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bh,g2:bh,glyphName:bh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:st,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:st,horizOriginX:st,horizOriginY:st,id:null,ideographic:st,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:st,k:st,k1:st,k2:st,k3:st,k4:st,kernelMatrix:vo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:st,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:st,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:st,overlineThickness:st,paintOrder:null,panose1:null,path:null,pathLength:st,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:st,pointsAtY:st,pointsAtZ:st,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vo,rev:vo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vo,requiredFeatures:vo,requiredFonts:vo,requiredFormats:vo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:st,specularExponent:st,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:st,strikethroughThickness:st,string:null,stroke:null,strokeDashArray:vo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:st,strokeOpacity:st,strokeWidth:null,style:null,surfaceScale:st,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vo,tabIndex:st,tableValues:null,target:null,targetX:st,targetY:st,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:st,underlineThickness:st,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:st,values:null,vAlphabetic:st,vMathematical:st,vectorEffect:null,vHanging:st,vIdeographic:st,version:null,vertAdvY:st,vertOriginX:st,vertOriginY:st,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:st,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:c8}),d8=Jh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),f8=Jh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:u8}),h8=Jh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Xhe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Qhe=/[A-Z]/g,I6=/-[a-z]/g,Zhe=/^data[-\w.:]+$/i;function epe(e,t){const n=d5(t);let r=t,i=no;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Zhe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(I6,npe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!I6.test(a)){let o=a.replace(Qhe,tpe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=US}return new i(r,t)}function tpe(e){return"-"+e.toLowerCase()}function npe(e){return e.charAt(1).toUpperCase()}const rpe=s8([l8,Khe,d8,f8,h8],"html"),FS=s8([l8,Jhe,d8,f8,h8],"svg");function ipe(e){return e.join(" ").trim()}var rh={},g2,M6;function ape(){if(M6)return g2;M6=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,f="/",h="*",p="",y="comment",g="declaration";function w(A,_){if(typeof A!="string")throw new TypeError("First argument must be a string");if(!A)return[];_=_||{};var k=1,P=1;function M($){var ne=$.match(t);ne&&(k+=ne.length);var z=$.lastIndexOf(u);P=~z?$.length-z:P+$.length}function B(){var $={line:k,column:P};return function(ne){return ne.position=new U($),q(),ne}}function U($){this.start=$,this.end={line:k,column:P},this.source=_.source}U.prototype.content=A;function D($){var ne=new Error(_.source+":"+k+":"+P+": "+$);if(ne.reason=$,ne.filename=_.source,ne.line=k,ne.column=P,ne.source=A,!_.silent)throw ne}function F($){var ne=$.exec(A);if(ne){var z=ne[0];return M(z),A=A.slice(z.length),ne}}function q(){F(n)}function G($){var ne;for($=$||[];ne=R();)ne!==!1&&$.push(ne);return $}function R(){var $=B();if(!(f!=A.charAt(0)||h!=A.charAt(1))){for(var ne=2;p!=A.charAt(ne)&&(h!=A.charAt(ne)||f!=A.charAt(ne+1));)++ne;if(ne+=2,p===A.charAt(ne-1))return D("End of comment missing");var z=A.slice(2,ne-2);return P+=2,M(z),A=A.slice(ne),P+=2,$({type:y,comment:z})}}function O(){var $=B(),ne=F(r);if(ne){if(R(),!F(i))return D("property missing ':'");var z=F(a),Y=$({type:g,property:N(ne[0].replace(e,p)),value:z?N(z[0].replace(e,p)):p});return F(o),Y}}function K(){var $=[];G($);for(var ne;ne=O();)ne!==!1&&($.push(ne),G($));return $}return q(),K()}function N(A){return A?A.replace(l,p):p}return g2=w,g2}var D6;function ope(){if(D6)return rh;D6=1;var e=rh&&rh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rh,"__esModule",{value:!0}),rh.default=n;const t=e(ape());function n(r,i){let a=null;if(!r||typeof r!="string")return a;const o=(0,t.default)(r),l=typeof i=="function";return o.forEach(u=>{if(u.type!=="declaration")return;const{property:f,value:h}=u;l?i(f,h,u):h&&(a=a||{},a[f]=h)}),a}return rh}var Kp={},R6;function spe(){if(R6)return Kp;R6=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,a=function(f){return!f||n.test(f)||e.test(f)},o=function(f,h){return h.toUpperCase()},l=function(f,h){return"".concat(h,"-")},u=function(f,h){return h===void 0&&(h={}),a(f)?f:(f=f.toLowerCase(),h.reactCompat?f=f.replace(i,l):f=f.replace(r,l),f.replace(t,o))};return Kp.camelCase=u,Kp}var Jp,L6;function lpe(){if(L6)return Jp;L6=1;var e=Jp&&Jp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(ope()),n=spe();function r(i,a){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(l,u){l&&u&&(o[(0,n.camelCase)(l,a)]=u)}),o}return r.default=r,Jp=r,Jp}var cpe=lpe();const upe=ns(cpe),p8=m8("end"),zS=m8("start");function m8(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dpe(e){const t=zS(e),n=p8(e);if(t&&n)return{start:t,end:n}}function lm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?O6(e.position):"start"in e||"end"in e?O6(e):"line"in e||"column"in e?p5(e):""}function p5(e){return B6(e&&e.line)+":"+B6(e&&e.column)}function O6(e){return p5(e&&e.start)+"-"+p5(e&&e.end)}function B6(e){return e&&typeof e=="number"?e:1}class fa extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?a.ruleId=r:(a.source=r.slice(0,u),a.ruleId=r.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=lm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}fa.prototype.file="";fa.prototype.name="";fa.prototype.reason="";fa.prototype.message="";fa.prototype.stack="";fa.prototype.column=void 0;fa.prototype.line=void 0;fa.prototype.ancestors=void 0;fa.prototype.cause=void 0;fa.prototype.fatal=void 0;fa.prototype.place=void 0;fa.prototype.ruleId=void 0;fa.prototype.source=void 0;const qS={}.hasOwnProperty,fpe=new Map,hpe=/[A-Z]/g,ppe=new Set(["table","tbody","thead","tfoot","tr"]),mpe=new Set(["td","th"]),g8="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gpe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ape(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Spe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?FS:rpe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=y8(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function y8(e,t,n){if(t.type==="element")return ype(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return vpe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return bpe(e,t,n);if(t.type==="mdxjsEsm")return xpe(e,t);if(t.type==="root")return wpe(e,t,n);if(t.type==="text")return Npe(e,t)}function ype(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=FS,e.schema=i),e.ancestors.push(t);const a=x8(e,t.tagName,!1),o=_pe(e,t);let l=VS(e,t);return ppe.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!Whe(u):!0})),v8(e,o,a,t),HS(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function vpe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Mm(e,t.position)}function xpe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Mm(e,t.position)}function bpe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=FS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:x8(e,t.name,!0),o=Cpe(e,t),l=VS(e,t);return v8(e,o,a,t),HS(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function wpe(e,t,n){const r={};return HS(r,VS(e,t)),e.create(t,e.Fragment,r,n)}function Npe(e,t){return t.value}function v8(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function HS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Spe(e,t,n){return r;function r(i,a,o,l){const f=Array.isArray(o.children)?n:t;return l?f(a,o,l):f(a,o)}}function Ape(e,t){return n;function n(r,i,a,o){const l=Array.isArray(a.children),u=zS(r);return t(i,a,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function _pe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&qS.call(t.properties,i)){const a=Epe(e,i,t.properties[i]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&mpe.has(t.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Cpe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Mm(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else Mm(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function VS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:fpe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const f=i.get(u)||0;o=u+"-"+f,i.set(u,f+1)}}const l=y8(e,a,o);l!==void 0&&n.push(l)}return n}function Epe(e,t,n){const r=epe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?qhe(n):ipe(n)),r.property==="style"){let i=typeof n=="object"?n:kpe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Tpe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Xhe[r.property]||r.property:r.attribute,n]}}function kpe(e,t){try{return upe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new fa("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=g8+"#cannot-parse-style-attribute",i}}function x8(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const l=T6(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=T6(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return qS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Mm(e)}function Mm(e,t){const n=new fa("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=g8+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Tpe(e){const t={};let n;for(n in e)qS.call(e,n)&&(t[Ppe(n)]=e[n]);return t}function Ppe(e){let t=e.replace(hpe,jpe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function jpe(e){return"-"+e.toLowerCase()}const y2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ipe={};function Mpe(e,t){const n=Ipe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return b8(e,r,i)}function b8(e,t,n){if(Dpe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return U6(e.children,t,n)}return Array.isArray(e)?U6(e,t,n):""}function U6(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=b8(e[i],t,n);return r.join("")}function Dpe(e){return!!(e&&typeof e=="object")}const F6=document.createElement("i");function GS(e){const t="&"+e+";";F6.innerHTML=t;const n=F6.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function El(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Ko(e,t){return e.length>0?(El(e,e.length,0,t),e):t}const z6={}.hasOwnProperty;function Rpe(e){const t={};let n=-1;for(;++n<e.length;)Lpe(t,e[n]);return t}function Lpe(e,t){let n;for(n in t){const i=(z6.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){z6.call(i,o)||(i[o]=[]);const l=a[o];Ope(i[o],Array.isArray(l)?l:l?[l]:[])}}}function Ope(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);El(e,0,0,r)}function w8(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function wh(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vl=Hu(/[A-Za-z]/),No=Hu(/[\dA-Za-z]/),Bpe=Hu(/[#-'*+\--9=?A-Z^-~]/);function m5(e){return e!==null&&(e<32||e===127)}const g5=Hu(/\d/),Upe=Hu(/[\dA-Fa-f]/),Fpe=Hu(/[!-/:-@[-`{-~]/);function $t(e){return e!==null&&e<-2}function Qa(e){return e!==null&&(e<0||e===32)}function kn(e){return e===-2||e===-1||e===32}const zpe=Hu(new RegExp("\\p{P}|\\p{S}","u")),qpe=Hu(/\s/);function Hu(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Xh(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&No(e.charCodeAt(n+1))&&No(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function nr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(u){return kn(u)?(e.enter(n),l(u)):t(u)}function l(u){return kn(u)&&a++<i?(e.consume(u),l):(e.exit(n),t(u))}}const Hpe={tokenize:Vpe};function Vpe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),nr(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return $t(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const Gpe={tokenize:$pe},q6={tokenize:Wpe};function $pe(e){const t=this,n=[];let r=0,i,a,o;return l;function l(P){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,u,f)(P)}return f(P)}function u(P){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&k();const M=t.events.length;let B=M,U;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){U=t.events[B][1].end;break}_(r);let D=M;for(;D<t.events.length;)t.events[D][1].end={...U},D++;return El(t.events,B+1,0,t.events.slice(M)),t.events.length=D,f(P)}return l(P)}function f(P){if(r===n.length){if(!i)return y(P);if(i.currentConstruct&&i.currentConstruct.concrete)return w(P);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(q6,h,p)(P)}function h(P){return i&&k(),_(r),y(P)}function p(P){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(P)}function y(P){return t.containerState={},e.attempt(q6,g,w)(P)}function g(P){return r++,n.push([t.currentConstruct,t.containerState]),y(P)}function w(P){if(P===null){i&&k(),_(0),e.consume(P);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),N(P)}function N(P){if(P===null){A(e.exit("chunkFlow"),!0),_(0),e.consume(P);return}return $t(P)?(e.consume(P),A(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(P),N)}function A(P,M){const B=t.sliceStream(P);if(M&&B.push(null),P.previous=a,a&&(a.next=P),a=P,i.defineSkip(P.start),i.write(B),t.parser.lazy[P.start.line]){let U=i.events.length;for(;U--;)if(i.events[U][1].start.offset<o&&(!i.events[U][1].end||i.events[U][1].end.offset>o))return;const D=t.events.length;let F=D,q,G;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){if(q){G=t.events[F][1].end;break}q=!0}for(_(r),U=D;U<t.events.length;)t.events[U][1].end={...G},U++;El(t.events,F+1,0,t.events.slice(D)),t.events.length=U}}function _(P){let M=n.length;for(;M-- >P;){const B=n[M];t.containerState=B[1],B[0].exit.call(t,e)}n.length=P}function k(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Wpe(e,t,n){return nr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function H6(e){if(e===null||Qa(e)||qpe(e))return 1;if(zpe(e))return 2}function $S(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const y5={name:"attention",resolveAll:Ype,tokenize:Kpe};function Ype(e,t){let n=-1,r,i,a,o,l,u,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},y={...e[n][1].start};V6(p,-u),V6(y,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},a={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Ko(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Ko(f,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),f=Ko(f,$S(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Ko(f,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=Ko(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,El(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Kpe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=H6(r);let a;return o;function o(u){return a=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===a)return e.consume(u),l;const f=e.exit("attentionSequence"),h=H6(u),p=!h||h===2&&i||n.includes(u),y=!i||i===2&&h||n.includes(r);return f._open=!!(a===42?p:p&&(i||!y)),f._close=!!(a===42?y:y&&(h||!p)),t(u)}}function V6(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Jpe={name:"autolink",tokenize:Xpe};function Xpe(e,t,n){let r=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(g){return vl(g)?(e.consume(g),o):g===64?n(g):f(g)}function o(g){return g===43||g===45||g===46||No(g)?(r=1,l(g)):f(g)}function l(g){return g===58?(e.consume(g),r=0,u):(g===43||g===45||g===46||No(g))&&r++<32?(e.consume(g),l):(r=0,f(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||m5(g)?n(g):(e.consume(g),u)}function f(g){return g===64?(e.consume(g),h):Bpe(g)?(e.consume(g),f):n(g)}function h(g){return No(g)?p(g):n(g)}function p(g){return g===46?(e.consume(g),r=0,h):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):y(g)}function y(g){if((g===45||No(g))&&r++<63){const w=g===45?y:p;return e.consume(g),w}return n(g)}}const Wv={partial:!0,tokenize:Qpe};function Qpe(e,t,n){return r;function r(a){return kn(a)?nr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||$t(a)?t(a):n(a)}}const N8={continuation:{tokenize:eme},exit:tme,name:"blockQuote",tokenize:Zpe};function Zpe(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return kn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function eme(e,t,n){const r=this;return i;function i(o){return kn(o)?nr(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(N8,t,n)(o)}}function tme(e){e.exit("blockQuote")}const S8={name:"characterEscape",tokenize:nme};function nme(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Fpe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const A8={name:"characterReference",tokenize:rme};function rme(e,t,n){const r=this;let i=0,a,o;return l;function l(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),a=31,o=No,h(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=Upe,h):(e.enter("characterReferenceValue"),a=7,o=g5,h(p))}function h(p){if(p===59&&i){const y=e.exit("characterReferenceValue");return o===No&&!GS(r.sliceSerialize(y))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&i++<a?(e.consume(p),h):n(p)}}const G6={partial:!0,tokenize:ame},$6={concrete:!0,name:"codeFenced",tokenize:ime};function ime(e,t,n){const r=this,i={partial:!0,tokenize:B};let a=0,o=0,l;return u;function u(U){return f(U)}function f(U){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,l=U,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(U)}function h(U){return U===l?(o++,e.consume(U),h):o<3?n(U):(e.exit("codeFencedFenceSequence"),kn(U)?nr(e,p,"whitespace")(U):p(U))}function p(U){return U===null||$t(U)?(e.exit("codeFencedFence"),r.interrupt?t(U):e.check(G6,N,M)(U)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(U))}function y(U){return U===null||$t(U)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(U)):kn(U)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),nr(e,g,"whitespace")(U)):U===96&&U===l?n(U):(e.consume(U),y)}function g(U){return U===null||$t(U)?p(U):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(U))}function w(U){return U===null||$t(U)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(U)):U===96&&U===l?n(U):(e.consume(U),w)}function N(U){return e.attempt(i,M,A)(U)}function A(U){return e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),_}function _(U){return a>0&&kn(U)?nr(e,k,"linePrefix",a+1)(U):k(U)}function k(U){return U===null||$t(U)?e.check(G6,N,M)(U):(e.enter("codeFlowValue"),P(U))}function P(U){return U===null||$t(U)?(e.exit("codeFlowValue"),k(U)):(e.consume(U),P)}function M(U){return e.exit("codeFenced"),t(U)}function B(U,D,F){let q=0;return G;function G(ne){return U.enter("lineEnding"),U.consume(ne),U.exit("lineEnding"),R}function R(ne){return U.enter("codeFencedFence"),kn(ne)?nr(U,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):O(ne)}function O(ne){return ne===l?(U.enter("codeFencedFenceSequence"),K(ne)):F(ne)}function K(ne){return ne===l?(q++,U.consume(ne),K):q>=o?(U.exit("codeFencedFenceSequence"),kn(ne)?nr(U,$,"whitespace")(ne):$(ne)):F(ne)}function $(ne){return ne===null||$t(ne)?(U.exit("codeFencedFence"),D(ne)):F(ne)}}}function ame(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const v2={name:"codeIndented",tokenize:sme},ome={partial:!0,tokenize:lme};function sme(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),nr(e,a,"linePrefix",5)(f)}function a(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(f):n(f)}function o(f){return f===null?u(f):$t(f)?e.attempt(ome,o,u)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||$t(f)?(e.exit("codeFlowValue"),o(f)):(e.consume(f),l)}function u(f){return e.exit("codeIndented"),t(f)}}function lme(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):$t(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):nr(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):$t(o)?i(o):n(o)}}const cme={name:"codeText",previous:dme,resolve:ume,tokenize:fme};function ume(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function dme(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fme(e,t,n){let r=0,i,a;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),l(p)}function l(p){return p===96?(e.consume(p),r++,l):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(a=e.enter("codeTextSequence"),i=0,h(p)):$t(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||$t(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),f)}function h(p){return p===96?(e.consume(p),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(a.type="codeTextData",f(p))}}class hme{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Xp(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Xp(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Xp(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Xp(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Xp(this.left,n.reverse())}}}function Xp(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _8(e){const t={};let n=-1,r,i,a,o,l,u,f;const h=new hme(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,pme(h,n)),n=t[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=h.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},l=h.slice(i,n),l.unshift(r),h.splice(i,n-i+1,l))}}return El(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function pme(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,u=[],f={};let h,p,y=-1,g=n,w=0,N=0;const A=[N];for(;g;){for(;e.get(++i)[1]!==g;);a.push(i),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),p&&o.defineSkip(g.start),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),g._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=g,g=g.next}for(g=n;++y<l.length;)l[y][0]==="exit"&&l[y-1][0]==="enter"&&l[y][1].type===l[y-1][1].type&&l[y][1].start.line!==l[y][1].end.line&&(N=y+1,A.push(N),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(o.events=[],g?(g._tokenizer=void 0,g.previous=void 0):A.pop(),y=A.length;y--;){const _=l.slice(A[y],A[y+1]),k=a.pop();u.push([k,k+_.length-1]),e.splice(k,2,_)}for(u.reverse(),y=-1;++y<u.length;)f[w+u[y][0]]=w+u[y][1],w+=u[y][1]-u[y][0]-1;return f}const mme={resolve:yme,tokenize:vme},gme={partial:!0,tokenize:xme};function yme(e){return _8(e),e}function vme(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):$t(l)?e.check(gme,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function xme(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),nr(e,a,"linePrefix")}function a(o){if(o===null||$t(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function C8(e,t,n,r,i,a,o,l,u){const f=u||Number.POSITIVE_INFINITY;let h=0;return p;function p(_){return _===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(_),e.exit(a),y):_===null||_===32||_===41||m5(_)?n(_):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),N(_))}function y(_){return _===62?(e.enter(a),e.consume(_),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),g(_))}function g(_){return _===62?(e.exit("chunkString"),e.exit(l),y(_)):_===null||_===60||$t(_)?n(_):(e.consume(_),_===92?w:g)}function w(_){return _===60||_===62||_===92?(e.consume(_),g):g(_)}function N(_){return!h&&(_===null||_===41||Qa(_))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(_)):h<f&&_===40?(e.consume(_),h++,N):_===41?(e.consume(_),h--,N):_===null||_===32||_===40||m5(_)?n(_):(e.consume(_),_===92?A:N)}function A(_){return _===40||_===41||_===92?(e.consume(_),N):N(_)}}function E8(e,t,n,r,i,a){const o=this;let l=0,u;return f;function f(g){return e.enter(r),e.enter(i),e.consume(g),e.exit(i),e.enter(a),h}function h(g){return l>999||g===null||g===91||g===93&&!u||g===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(g):g===93?(e.exit(a),e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):$t(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===null||g===91||g===93||$t(g)||l++>999?(e.exit("chunkString"),h(g)):(e.consume(g),u||(u=!kn(g)),g===92?y:p)}function y(g){return g===91||g===92||g===93?(e.consume(g),l++,p):p(g)}}function k8(e,t,n,r,i,a){let o;return l;function l(y){return y===34||y===39||y===40?(e.enter(r),e.enter(i),e.consume(y),e.exit(i),o=y===40?41:y,u):n(y)}function u(y){return y===o?(e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):(e.enter(a),f(y))}function f(y){return y===o?(e.exit(a),u(o)):y===null?n(y):$t(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),nr(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===o||y===null||$t(y)?(e.exit("chunkString"),f(y)):(e.consume(y),y===92?p:h)}function p(y){return y===o||y===92?(e.consume(y),h):h(y)}}function cm(e,t){let n;return r;function r(i){return $t(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):kn(i)?nr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const bme={name:"definition",tokenize:Nme},wme={partial:!0,tokenize:Sme};function Nme(e,t,n){const r=this;let i;return a;function a(g){return e.enter("definition"),o(g)}function o(g){return E8.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return i=wh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):n(g)}function u(g){return Qa(g)?cm(e,f)(g):f(g)}function f(g){return C8(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return e.attempt(wme,p,p)(g)}function p(g){return kn(g)?nr(e,y,"whitespace")(g):y(g)}function y(g){return g===null||$t(g)?(e.exit("definition"),r.parser.defined.push(i),t(g)):n(g)}}function Sme(e,t,n){return r;function r(l){return Qa(l)?cm(e,i)(l):n(l)}function i(l){return k8(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return kn(l)?nr(e,o,"whitespace")(l):o(l)}function o(l){return l===null||$t(l)?t(l):n(l)}}const Ame={name:"hardBreakEscape",tokenize:_me};function _me(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return $t(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Cme={name:"headingAtx",resolve:Eme,tokenize:kme};function Eme(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},El(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function kme(e,t,n){let r=0;return i;function i(h){return e.enter("atxHeading"),a(h)}function a(h){return e.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(e.consume(h),o):h===null||Qa(h)?(e.exit("atxHeadingSequence"),l(h)):n(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),u(h)):h===null||$t(h)?(e.exit("atxHeading"),t(h)):kn(h)?nr(e,l,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function u(h){return h===35?(e.consume(h),u):(e.exit("atxHeadingSequence"),l(h))}function f(h){return h===null||h===35||Qa(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),f)}}const Tme=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],W6=["pre","script","style","textarea"],Pme={concrete:!0,name:"htmlFlow",resolveTo:Mme,tokenize:Dme},jme={partial:!0,tokenize:Lme},Ime={partial:!0,tokenize:Rme};function Mme(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Dme(e,t,n){const r=this;let i,a,o,l,u;return f;function f(H){return h(H)}function h(H){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(H),p}function p(H){return H===33?(e.consume(H),y):H===47?(e.consume(H),a=!0,N):H===63?(e.consume(H),i=3,r.interrupt?t:X):vl(H)?(e.consume(H),o=String.fromCharCode(H),A):n(H)}function y(H){return H===45?(e.consume(H),i=2,g):H===91?(e.consume(H),i=5,l=0,w):vl(H)?(e.consume(H),i=4,r.interrupt?t:X):n(H)}function g(H){return H===45?(e.consume(H),r.interrupt?t:X):n(H)}function w(H){const re="CDATA[";return H===re.charCodeAt(l++)?(e.consume(H),l===re.length?r.interrupt?t:O:w):n(H)}function N(H){return vl(H)?(e.consume(H),o=String.fromCharCode(H),A):n(H)}function A(H){if(H===null||H===47||H===62||Qa(H)){const re=H===47,de=o.toLowerCase();return!re&&!a&&W6.includes(de)?(i=1,r.interrupt?t(H):O(H)):Tme.includes(o.toLowerCase())?(i=6,re?(e.consume(H),_):r.interrupt?t(H):O(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?k(H):P(H))}return H===45||No(H)?(e.consume(H),o+=String.fromCharCode(H),A):n(H)}function _(H){return H===62?(e.consume(H),r.interrupt?t:O):n(H)}function k(H){return kn(H)?(e.consume(H),k):G(H)}function P(H){return H===47?(e.consume(H),G):H===58||H===95||vl(H)?(e.consume(H),M):kn(H)?(e.consume(H),P):G(H)}function M(H){return H===45||H===46||H===58||H===95||No(H)?(e.consume(H),M):B(H)}function B(H){return H===61?(e.consume(H),U):kn(H)?(e.consume(H),B):P(H)}function U(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(e.consume(H),u=H,D):kn(H)?(e.consume(H),U):F(H)}function D(H){return H===u?(e.consume(H),u=null,q):H===null||$t(H)?n(H):(e.consume(H),D)}function F(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Qa(H)?B(H):(e.consume(H),F)}function q(H){return H===47||H===62||kn(H)?P(H):n(H)}function G(H){return H===62?(e.consume(H),R):n(H)}function R(H){return H===null||$t(H)?O(H):kn(H)?(e.consume(H),R):n(H)}function O(H){return H===45&&i===2?(e.consume(H),z):H===60&&i===1?(e.consume(H),Y):H===62&&i===4?(e.consume(H),ie):H===63&&i===3?(e.consume(H),X):H===93&&i===5?(e.consume(H),se):$t(H)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(jme,V,K)(H)):H===null||$t(H)?(e.exit("htmlFlowData"),K(H)):(e.consume(H),O)}function K(H){return e.check(Ime,$,V)(H)}function $(H){return e.enter("lineEnding"),e.consume(H),e.exit("lineEnding"),ne}function ne(H){return H===null||$t(H)?K(H):(e.enter("htmlFlowData"),O(H))}function z(H){return H===45?(e.consume(H),X):O(H)}function Y(H){return H===47?(e.consume(H),o="",ee):O(H)}function ee(H){if(H===62){const re=o.toLowerCase();return W6.includes(re)?(e.consume(H),ie):O(H)}return vl(H)&&o.length<8?(e.consume(H),o+=String.fromCharCode(H),ee):O(H)}function se(H){return H===93?(e.consume(H),X):O(H)}function X(H){return H===62?(e.consume(H),ie):H===45&&i===2?(e.consume(H),X):O(H)}function ie(H){return H===null||$t(H)?(e.exit("htmlFlowData"),V(H)):(e.consume(H),ie)}function V(H){return e.exit("htmlFlow"),t(H)}}function Rme(e,t,n){const r=this;return i;function i(o){return $t(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Lme(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Wv,t,n)}}const Ome={name:"htmlText",tokenize:Bme};function Bme(e,t,n){const r=this;let i,a,o;return l;function l(X){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(X),u}function u(X){return X===33?(e.consume(X),f):X===47?(e.consume(X),B):X===63?(e.consume(X),P):vl(X)?(e.consume(X),F):n(X)}function f(X){return X===45?(e.consume(X),h):X===91?(e.consume(X),a=0,w):vl(X)?(e.consume(X),k):n(X)}function h(X){return X===45?(e.consume(X),g):n(X)}function p(X){return X===null?n(X):X===45?(e.consume(X),y):$t(X)?(o=p,Y(X)):(e.consume(X),p)}function y(X){return X===45?(e.consume(X),g):p(X)}function g(X){return X===62?z(X):X===45?y(X):p(X)}function w(X){const ie="CDATA[";return X===ie.charCodeAt(a++)?(e.consume(X),a===ie.length?N:w):n(X)}function N(X){return X===null?n(X):X===93?(e.consume(X),A):$t(X)?(o=N,Y(X)):(e.consume(X),N)}function A(X){return X===93?(e.consume(X),_):N(X)}function _(X){return X===62?z(X):X===93?(e.consume(X),_):N(X)}function k(X){return X===null||X===62?z(X):$t(X)?(o=k,Y(X)):(e.consume(X),k)}function P(X){return X===null?n(X):X===63?(e.consume(X),M):$t(X)?(o=P,Y(X)):(e.consume(X),P)}function M(X){return X===62?z(X):P(X)}function B(X){return vl(X)?(e.consume(X),U):n(X)}function U(X){return X===45||No(X)?(e.consume(X),U):D(X)}function D(X){return $t(X)?(o=D,Y(X)):kn(X)?(e.consume(X),D):z(X)}function F(X){return X===45||No(X)?(e.consume(X),F):X===47||X===62||Qa(X)?q(X):n(X)}function q(X){return X===47?(e.consume(X),z):X===58||X===95||vl(X)?(e.consume(X),G):$t(X)?(o=q,Y(X)):kn(X)?(e.consume(X),q):z(X)}function G(X){return X===45||X===46||X===58||X===95||No(X)?(e.consume(X),G):R(X)}function R(X){return X===61?(e.consume(X),O):$t(X)?(o=R,Y(X)):kn(X)?(e.consume(X),R):q(X)}function O(X){return X===null||X===60||X===61||X===62||X===96?n(X):X===34||X===39?(e.consume(X),i=X,K):$t(X)?(o=O,Y(X)):kn(X)?(e.consume(X),O):(e.consume(X),$)}function K(X){return X===i?(e.consume(X),i=void 0,ne):X===null?n(X):$t(X)?(o=K,Y(X)):(e.consume(X),K)}function $(X){return X===null||X===34||X===39||X===60||X===61||X===96?n(X):X===47||X===62||Qa(X)?q(X):(e.consume(X),$)}function ne(X){return X===47||X===62||Qa(X)?q(X):n(X)}function z(X){return X===62?(e.consume(X),e.exit("htmlTextData"),e.exit("htmlText"),t):n(X)}function Y(X){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(X),e.exit("lineEnding"),ee}function ee(X){return kn(X)?nr(e,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):se(X)}function se(X){return e.enter("htmlTextData"),o(X)}}const WS={name:"labelEnd",resolveAll:qme,resolveTo:Hme,tokenize:Vme},Ume={tokenize:Gme},Fme={tokenize:$me},zme={tokenize:Wme};function qme(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&El(e,0,e.length,n),e}function Hme(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const u={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},h={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",f,t]],l=Ko(l,e.slice(a+1,a+r+3)),l=Ko(l,[["enter",h,t]]),l=Ko(l,$S(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=Ko(l,[["exit",h,t],e[o-2],e[o-1],["exit",f,t]]),l=Ko(l,e.slice(o+1)),l=Ko(l,[["exit",u,t]]),El(e,a,e.length,l),e}function Vme(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(y){return a?a._inactive?p(y):(o=r.parser.defined.includes(wh(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),u):n(y)}function u(y){return y===40?e.attempt(Ume,h,o?h:p)(y):y===91?e.attempt(Fme,h,o?f:p)(y):o?h(y):p(y)}function f(y){return e.attempt(zme,h,p)(y)}function h(y){return t(y)}function p(y){return a._balanced=!0,n(y)}}function Gme(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return Qa(p)?cm(e,a)(p):a(p)}function a(p){return p===41?h(p):C8(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Qa(p)?cm(e,u)(p):h(p)}function l(p){return n(p)}function u(p){return p===34||p===39||p===40?k8(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return Qa(p)?cm(e,h)(p):h(p)}function h(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function $me(e,t,n){const r=this;return i;function i(l){return E8.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(wh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function Wme(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Yme={name:"labelStartImage",resolveAll:WS.resolveAll,tokenize:Kme};function Kme(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Jme={name:"labelStartLink",resolveAll:WS.resolveAll,tokenize:Xme};function Xme(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const x2={name:"lineEnding",tokenize:Qme};function Qme(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),nr(e,t,"linePrefix")}}const Lg={name:"thematicBreak",tokenize:Zme};function Zme(e,t,n){let r=0,i;return a;function a(f){return e.enter("thematicBreak"),o(f)}function o(f){return i=f,l(f)}function l(f){return f===i?(e.enter("thematicBreakSequence"),u(f)):r>=3&&(f===null||$t(f))?(e.exit("thematicBreak"),t(f)):n(f)}function u(f){return f===i?(e.consume(f),r++,u):(e.exit("thematicBreakSequence"),kn(f)?nr(e,l,"whitespace")(f):l(f))}}const Ka={continuation:{tokenize:r0e},exit:a0e,name:"list",tokenize:n0e},e0e={partial:!0,tokenize:o0e},t0e={partial:!0,tokenize:i0e};function n0e(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(g){const w=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:g5(g)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Lg,n,f)(g):f(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return n(g)}function u(g){return g5(g)&&++o<10?(e.consume(g),u):(!r.interrupt||o<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),f(g)):n(g)}function f(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Wv,r.interrupt?n:h,e.attempt(e0e,y,p))}function h(g){return r.containerState.initialBlankLine=!0,a++,y(g)}function p(g){return kn(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),y):n(g)}function y(g){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function r0e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Wv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,nr(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!kn(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(t0e,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,nr(e,e.attempt(Ka,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function i0e(e,t,n){const r=this;return nr(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function a0e(e){e.exit(this.containerState.type)}function o0e(e,t,n){const r=this;return nr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!kn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const Y6={name:"setextUnderline",resolveTo:s0e,tokenize:l0e};function s0e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function l0e(e,t,n){const r=this;let i;return a;function a(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,o(f)):n(f)}function o(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===i?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),kn(f)?nr(e,u,"lineSuffix")(f):u(f))}function u(f){return f===null||$t(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const c0e={tokenize:u0e};function u0e(e){const t=this,n=e.attempt(Wv,r,e.attempt(this.parser.constructs.flowInitial,i,nr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(mme,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const d0e={resolveAll:P8()},f0e=T8("string"),h0e=T8("text");function T8(e){return{resolveAll:P8(e==="text"?p0e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,l);return o;function o(h){return f(h)?a(h):l(h)}function l(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),u}function u(h){return f(h)?(n.exit("data"),a(h)):(n.consume(h),u)}function f(h){if(h===null)return!0;const p=i[h];let y=-1;if(p)for(;++y<p.length;){const g=p[y];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function P8(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function p0e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,u;for(;a--;){const f=i[a];if(typeof f=="string"){for(o=f.length;f.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(f===-2)u=!0,l++;else if(f!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const f={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const m0e={42:Ka,43:Ka,45:Ka,48:Ka,49:Ka,50:Ka,51:Ka,52:Ka,53:Ka,54:Ka,55:Ka,56:Ka,57:Ka,62:N8},g0e={91:bme},y0e={[-2]:v2,[-1]:v2,32:v2},v0e={35:Cme,42:Lg,45:[Y6,Lg],60:Pme,61:Y6,95:Lg,96:$6,126:$6},x0e={38:A8,92:S8},b0e={[-5]:x2,[-4]:x2,[-3]:x2,33:Yme,38:A8,42:y5,60:[Jpe,Ome],91:Jme,92:[Ame,S8],93:WS,95:y5,96:cme},w0e={null:[y5,d0e]},N0e={null:[42,95]},S0e={null:[]},A0e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:N0e,contentInitial:g0e,disable:S0e,document:m0e,flow:v0e,flowInitial:y0e,insideSpan:w0e,string:x0e,text:b0e},Symbol.toStringTag,{value:"Module"}));function _0e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const u={attempt:D(B),check:D(U),consume:k,enter:P,exit:M,interrupt:D(U,{interrupt:!0})},f={code:null,containerState:{},defineSkip:N,events:[],now:w,parser:e,previous:null,sliceSerialize:y,sliceStream:g,write:p};let h=t.tokenize.call(f,u);return t.resolveAll&&a.push(t),f;function p(R){return o=Ko(o,R),A(),o[o.length-1]!==null?[]:(F(t,0),f.events=$S(a,f.events,f),f.events)}function y(R,O){return E0e(g(R),O)}function g(R){return C0e(o,R)}function w(){const{_bufferIndex:R,_index:O,line:K,column:$,offset:ne}=r;return{_bufferIndex:R,_index:O,line:K,column:$,offset:ne}}function N(R){i[R.line]=R.column,G()}function A(){let R;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<O.length;)_(O.charCodeAt(r._bufferIndex));else _(O)}}function _(R){h=h(R)}function k(R){$t(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,G()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=R}function P(R,O){const K=O||{};return K.type=R,K.start=w(),f.events.push(["enter",K,f]),l.push(K),K}function M(R){const O=l.pop();return O.end=w(),f.events.push(["exit",O,f]),O}function B(R,O){F(R,O.from)}function U(R,O){O.restore()}function D(R,O){return K;function K($,ne,z){let Y,ee,se,X;return Array.isArray($)?V($):"tokenize"in $?V([$]):ie($);function ie(fe){return pe;function pe(he){const te=he!==null&&fe[he],me=he!==null&&fe.null,xe=[...Array.isArray(te)?te:te?[te]:[],...Array.isArray(me)?me:me?[me]:[]];return V(xe)(he)}}function V(fe){return Y=fe,ee=0,fe.length===0?z:H(fe[ee])}function H(fe){return pe;function pe(he){return X=q(),se=fe,fe.partial||(f.currentConstruct=fe),fe.name&&f.parser.constructs.disable.null.includes(fe.name)?de():fe.tokenize.call(O?Object.assign(Object.create(f),O):f,u,re,de)(he)}}function re(fe){return R(se,X),ne}function de(fe){return X.restore(),++ee<Y.length?H(Y[ee]):z}}}function F(R,O){R.resolveAll&&!a.includes(R)&&a.push(R),R.resolve&&El(f.events,O,f.events.length-O,R.resolve(f.events.slice(O),f)),R.resolveTo&&(f.events=R.resolveTo(f.events,f))}function q(){const R=w(),O=f.previous,K=f.currentConstruct,$=f.events.length,ne=Array.from(l);return{from:$,restore:z};function z(){r=R,f.previous=O,f.currentConstruct=K,f.events.length=$,l=ne,G()}}function G(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function C0e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function E0e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function k0e(e){const r={constructs:Rpe([A0e,...(e||{}).extensions||[]]),content:i(Hpe),defined:[],document:i(Gpe),flow:i(c0e),lazy:{},string:i(f0e),text:i(h0e)};return r;function i(a){return o;function o(l){return _0e(r,a,l)}}}function T0e(e){for(;!_8(e););return e}const K6=/[\0\t\n\r]/g;function P0e(){let e=1,t="",n=!0,r;return i;function i(a,o,l){const u=[];let f,h,p,y,g;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),p=0,t="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(K6.lastIndex=p,f=K6.exec(a),y=f&&f.index!==void 0?f.index:a.length,g=a.charCodeAt(y),!f){t=a.slice(p);break}if(g===10&&p===y&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<y&&(u.push(a.slice(p,y)),e+=y-p),g){case 0:{u.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,u.push(-2);e++<h;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=y+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const j0e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function I0e(e){return e.replace(j0e,M0e)}function M0e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return w8(n.slice(a?2:1),a?16:10)}return GS(n)||e}const j8={}.hasOwnProperty;function D0e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),R0e(n)(T0e(k0e(n).document().write(P0e()(e,t,!0))))}function R0e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(tt),autolinkProtocol:q,autolinkEmail:q,atxHeading:a(Pe),blockQuote:a(me),characterEscape:q,characterReference:q,codeFenced:a(xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(xe,o),codeText:a(we,o),codeTextData:q,data:q,codeFlowValue:q,definition:a(Ue),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Ye),hardBreakEscape:a(ge),hardBreakTrailing:a(ge),htmlFlow:a(mt,o),htmlFlowData:q,htmlText:a(mt,o),htmlTextData:q,image:a(ot),label:o,link:a(tt),listItem:a(ct),listItemValue:y,listOrdered:a(it,p),listUnordered:a(it),paragraph:a(ut),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(Pe),strong:a(kt),thematicBreak:a(Ot)},exit:{atxHeading:u(),atxHeadingSequence:B,autolink:u(),autolinkEmail:te,autolinkProtocol:he,blockQuote:u(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:fe,characterReference:pe,codeFenced:u(A),codeFencedFence:N,codeFencedFenceInfo:g,codeFencedFenceMeta:w,codeFlowValue:G,codeIndented:u(_),codeText:u(ne),codeTextData:G,data:G,definition:u(),definitionDestinationString:M,definitionLabelString:k,definitionTitleString:P,emphasis:u(),hardBreakEscape:u(O),hardBreakTrailing:u(O),htmlFlow:u(K),htmlFlowData:G,htmlText:u($),htmlTextData:G,image:u(Y),label:se,labelText:ee,lineEnding:R,link:u(z),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:re,resourceDestinationString:X,resourceTitleString:ie,resource:V,setextHeading:u(F),setextHeadingLineSequence:D,setextHeadingText:U,strong:u(),thematicBreak:u()}};I8(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(De){let Qe={type:"root",children:[]};const ht={stack:[Qe],tokenStack:[],config:t,enter:l,exit:f,buffer:o,resume:h,data:n},dt=[];let vt=-1;for(;++vt<De.length;)if(De[vt][1].type==="listOrdered"||De[vt][1].type==="listUnordered")if(De[vt][0]==="enter")dt.push(vt);else{const lt=dt.pop();vt=i(De,lt,vt)}for(vt=-1;++vt<De.length;){const lt=t[De[vt][0]];j8.call(lt,De[vt][1].type)&&lt[De[vt][1].type].call(Object.assign({sliceSerialize:De[vt][2].sliceSerialize},ht),De[vt][1])}if(ht.tokenStack.length>0){const lt=ht.tokenStack[ht.tokenStack.length-1];(lt[1]||J6).call(ht,void 0,lt[0])}for(Qe.position={start:Su(De.length>0?De[0][1].start:{line:1,column:1,offset:0}),end:Su(De.length>0?De[De.length-2][1].end:{line:1,column:1,offset:0})},vt=-1;++vt<t.transforms.length;)Qe=t.transforms[vt](Qe)||Qe;return Qe}function i(De,Qe,ht){let dt=Qe-1,vt=-1,lt=!1,Bn,qt,vn,Kt;for(;++dt<=ht;){const Dt=De[dt];switch(Dt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dt[0]==="enter"?vt++:vt--,Kt=void 0;break}case"lineEndingBlank":{Dt[0]==="enter"&&(Bn&&!Kt&&!vt&&!vn&&(vn=dt),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!vt&&Dt[0]==="enter"&&Dt[1].type==="listItemPrefix"||vt===-1&&Dt[0]==="exit"&&(Dt[1].type==="listUnordered"||Dt[1].type==="listOrdered")){if(Bn){let dr=dt;for(qt=void 0;dr--;){const Wt=De[dr];if(Wt[1].type==="lineEnding"||Wt[1].type==="lineEndingBlank"){if(Wt[0]==="exit")continue;qt&&(De[qt][1].type="lineEndingBlank",lt=!0),Wt[1].type="lineEnding",qt=dr}else if(!(Wt[1].type==="linePrefix"||Wt[1].type==="blockQuotePrefix"||Wt[1].type==="blockQuotePrefixWhitespace"||Wt[1].type==="blockQuoteMarker"||Wt[1].type==="listItemIndent"))break}vn&&(!qt||vn<qt)&&(Bn._spread=!0),Bn.end=Object.assign({},qt?De[qt][1].start:Dt[1].end),De.splice(qt||dt,0,["exit",Bn,Dt[2]]),dt++,ht++}if(Dt[1].type==="listItemPrefix"){const dr={type:"listItem",_spread:!1,start:Object.assign({},Dt[1].start),end:void 0};Bn=dr,De.splice(dt,0,["enter",dr,Dt[2]]),dt++,ht++,vn=void 0,Kt=!0}}}return De[Qe][1]._spread=lt,ht}function a(De,Qe){return ht;function ht(dt){l.call(this,De(dt),dt),Qe&&Qe.call(this,dt)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(De,Qe,ht){this.stack[this.stack.length-1].children.push(De),this.stack.push(De),this.tokenStack.push([Qe,ht||void 0]),De.position={start:Su(Qe.start),end:void 0}}function u(De){return Qe;function Qe(ht){De&&De.call(this,ht),f.call(this,ht)}}function f(De,Qe){const ht=this.stack.pop(),dt=this.tokenStack.pop();if(dt)dt[0].type!==De.type&&(Qe?Qe.call(this,De,dt[0]):(dt[1]||J6).call(this,De,dt[0]));else throw new Error("Cannot close `"+De.type+"` ("+lm({start:De.start,end:De.end})+"): its not open");ht.position.end=Su(De.end)}function h(){return Mpe(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function y(De){if(this.data.expectingFirstListItemValue){const Qe=this.stack[this.stack.length-2];Qe.start=Number.parseInt(this.sliceSerialize(De),10),this.data.expectingFirstListItemValue=void 0}}function g(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.lang=De}function w(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.meta=De}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function A(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=De.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=De.replace(/(\r?\n|\r)$/g,"")}function k(De){const Qe=this.resume(),ht=this.stack[this.stack.length-1];ht.label=Qe,ht.identifier=wh(this.sliceSerialize(De)).toLowerCase()}function P(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=De}function M(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=De}function B(De){const Qe=this.stack[this.stack.length-1];if(!Qe.depth){const ht=this.sliceSerialize(De).length;Qe.depth=ht}}function U(){this.data.setextHeadingSlurpLineEnding=!0}function D(De){const Qe=this.stack[this.stack.length-1];Qe.depth=this.sliceSerialize(De).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function q(De){const ht=this.stack[this.stack.length-1].children;let dt=ht[ht.length-1];(!dt||dt.type!=="text")&&(dt=Nt(),dt.position={start:Su(De.start),end:void 0},ht.push(dt)),this.stack.push(dt)}function G(De){const Qe=this.stack.pop();Qe.value+=this.sliceSerialize(De),Qe.position.end=Su(De.end)}function R(De){const Qe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ht=Qe.children[Qe.children.length-1];ht.position.end=Su(De.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Qe.type)&&(q.call(this,De),G.call(this,De))}function O(){this.data.atHardBreak=!0}function K(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=De}function $(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=De}function ne(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=De}function z(){const De=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";De.type+="Reference",De.referenceType=Qe,delete De.url,delete De.title}else delete De.identifier,delete De.label;this.data.referenceType=void 0}function Y(){const De=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";De.type+="Reference",De.referenceType=Qe,delete De.url,delete De.title}else delete De.identifier,delete De.label;this.data.referenceType=void 0}function ee(De){const Qe=this.sliceSerialize(De),ht=this.stack[this.stack.length-2];ht.label=I0e(Qe),ht.identifier=wh(Qe).toLowerCase()}function se(){const De=this.stack[this.stack.length-1],Qe=this.resume(),ht=this.stack[this.stack.length-1];if(this.data.inReference=!0,ht.type==="link"){const dt=De.children;ht.children=dt}else ht.alt=Qe}function X(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=De}function ie(){const De=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=De}function V(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function re(De){const Qe=this.resume(),ht=this.stack[this.stack.length-1];ht.label=Qe,ht.identifier=wh(this.sliceSerialize(De)).toLowerCase(),this.data.referenceType="full"}function de(De){this.data.characterReferenceType=De.type}function fe(De){const Qe=this.sliceSerialize(De),ht=this.data.characterReferenceType;let dt;ht?(dt=w8(Qe,ht==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):dt=GS(Qe);const vt=this.stack[this.stack.length-1];vt.value+=dt}function pe(De){const Qe=this.stack.pop();Qe.position.end=Su(De.end)}function he(De){G.call(this,De);const Qe=this.stack[this.stack.length-1];Qe.url=this.sliceSerialize(De)}function te(De){G.call(this,De);const Qe=this.stack[this.stack.length-1];Qe.url="mailto:"+this.sliceSerialize(De)}function me(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function we(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ye(){return{type:"emphasis",children:[]}}function Pe(){return{type:"heading",depth:0,children:[]}}function ge(){return{type:"break"}}function mt(){return{type:"html",value:""}}function ot(){return{type:"image",title:null,url:"",alt:null}}function tt(){return{type:"link",title:null,url:"",children:[]}}function it(De){return{type:"list",ordered:De.type==="listOrdered",start:null,spread:De._spread,children:[]}}function ct(De){return{type:"listItem",spread:De._spread,checked:null,children:[]}}function ut(){return{type:"paragraph",children:[]}}function kt(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function Ot(){return{type:"thematicBreak"}}}function Su(e){return{line:e.line,column:e.column,offset:e.offset}}function I8(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?I8(e,r):L0e(e,r)}}function L0e(e,t){let n;for(n in t)if(j8.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function J6(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+lm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+lm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+lm({start:t.start,end:t.end})+") is still open")}function O0e(e){const t=this;t.parser=n;function n(r){return D0e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function B0e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function U0e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function F0e(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function z0e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function q0e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function H0e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Xh(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,f),e.applyData(t,f)}function V0e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function G0e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function M8(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function $0e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return M8(e,t);const i={src:Xh(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function W0e(e,t){const n={src:Xh(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Y0e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function K0e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return M8(e,t);const i={href:Xh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function J0e(e,t){const n={href:Xh(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function X0e(e,t,n){const r=e.all(t),i=n?Q0e(n):D8(t),a={},o=[];if(typeof t.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,f),e.applyData(t,f)}function Q0e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=D8(n[r])}return t}function D8(e){const t=e.spread;return t??e.children.length>1}function Z0e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function ege(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tge(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function nge(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rge(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=zS(t.children[1]),u=p8(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function ige(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let u=-1;const f=[];for(;++u<l;){const p=t.children[u],y={},g=o?o[u]:void 0;g&&(y.align=g);let w={type:"element",tagName:a,properties:y,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),f.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function age(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const X6=9,Q6=32;function oge(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(Z6(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Z6(t.slice(i),i>0,!1)),a.join("")}function Z6(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===X6||a===Q6;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===X6||a===Q6;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function sge(e,t){const n={type:"text",value:oge(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function lge(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const cge={blockquote:B0e,break:U0e,code:F0e,delete:z0e,emphasis:q0e,footnoteReference:H0e,heading:V0e,html:G0e,imageReference:$0e,image:W0e,inlineCode:Y0e,linkReference:K0e,link:J0e,listItem:X0e,list:Z0e,paragraph:ege,root:tge,strong:nge,table:rge,tableCell:age,tableRow:ige,text:sge,thematicBreak:lge,toml:Sg,yaml:Sg,definition:Sg,footnoteDefinition:Sg};function Sg(){}const R8=-1,Yv=0,um=1,qy=2,YS=3,KS=4,JS=5,XS=6,L8=7,O8=8,ej=typeof self=="object"?self:globalThis,uge=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Yv:case R8:return n(o,i);case um:{const l=n([],i);for(const u of o)l.push(r(u));return l}case qy:{const l=n({},i);for(const[u,f]of o)l[r(u)]=r(f);return l}case YS:return n(new Date(o),i);case KS:{const{source:l,flags:u}=o;return n(new RegExp(l,u),i)}case JS:{const l=n(new Map,i);for(const[u,f]of o)l.set(r(u),r(f));return l}case XS:{const l=n(new Set,i);for(const u of o)l.add(r(u));return l}case L8:{const{name:l,message:u}=o;return n(new ej[l](u),i)}case O8:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new ej[a](o),i)};return r},tj=e=>uge(new Map,e)(0),ih="",{toString:dge}={},{keys:fge}=Object,Qp=e=>{const t=typeof e;if(t!=="object"||!e)return[Yv,t];const n=dge.call(e).slice(8,-1);switch(n){case"Array":return[um,ih];case"Object":return[qy,ih];case"Date":return[YS,ih];case"RegExp":return[KS,ih];case"Map":return[JS,ih];case"Set":return[XS,ih];case"DataView":return[um,n]}return n.includes("Array")?[um,n]:n.includes("Error")?[L8,n]:[qy,n]},Ag=([e,t])=>e===Yv&&(t==="function"||t==="symbol"),hge=(e,t,n,r)=>{const i=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},a=o=>{if(n.has(o))return n.get(o);let[l,u]=Qp(o);switch(l){case Yv:{let h=o;switch(u){case"bigint":l=O8,h=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return i([R8],o)}return i([l,h],o)}case um:{if(u){let y=o;return u==="DataView"?y=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(o)),i([u,[...y]],o)}const h=[],p=i([l,h],o);for(const y of o)h.push(a(y));return p}case qy:{if(u)switch(u){case"BigInt":return i([u,o.toString()],o);case"Boolean":case"Number":case"String":return i([u,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const h=[],p=i([l,h],o);for(const y of fge(o))(e||!Ag(Qp(o[y])))&&h.push([a(y),a(o[y])]);return p}case YS:return i([l,o.toISOString()],o);case KS:{const{source:h,flags:p}=o;return i([l,{source:h,flags:p}],o)}case JS:{const h=[],p=i([l,h],o);for(const[y,g]of o)(e||!(Ag(Qp(y))||Ag(Qp(g))))&&h.push([a(y),a(g)]);return p}case XS:{const h=[],p=i([l,h],o);for(const y of o)(e||!Ag(Qp(y)))&&h.push(a(y));return p}}const{message:f}=o;return i([l,{name:u,message:f}],o)};return a},nj=(e,{json:t,lossy:n}={})=>{const r=[];return hge(!(t||n),!!t,new Map,r)(e),r},Hy=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?tj(nj(e,t)):structuredClone(e):(e,t)=>tj(nj(e,t));function pge(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function mge(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function gge(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||pge,r=e.options.footnoteBackLabel||mge,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[u]);if(!f)continue;const h=e.all(f),p=String(f.identifier).toUpperCase(),y=Xh(p.toLowerCase());let g=0;const w=[],N=e.footnoteCounts.get(p);for(;N!==void 0&&++g<=N;){w.length>0&&w.push({type:"text",value:" "});let k=typeof n=="string"?n:n(u,g);typeof k=="string"&&(k={type:"text",value:k}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,g),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const A=h[h.length-1];if(A&&A.type==="element"&&A.tagName==="p"){const k=A.children[A.children.length-1];k&&k.type==="text"?k.value+=" ":A.children.push({type:"text",value:" "}),A.children.push(...w)}else h.push(...w);const _={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(h,!0)};e.patch(f,_),l.push(_)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Hy(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const B8=(function(e){if(e==null)return bge;if(typeof e=="function")return Kv(e);if(typeof e=="object")return Array.isArray(e)?yge(e):vge(e);if(typeof e=="string")return xge(e);throw new Error("Expected function, string, or object as test")});function yge(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=B8(e[n]);return Kv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function vge(e){const t=e;return Kv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function xge(e){return Kv(t);function t(n){return n&&n.type===e}}function Kv(e){return t;function t(n,r,i){return!!(wge(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function bge(){return!0}function wge(e){return e!==null&&typeof e=="object"&&"type"in e}const U8=[],Nge=!0,rj=!1,Sge="skip";function Age(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=B8(i),o=r?-1:1;l(e,void 0,[])();function l(u,f,h){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const g=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return y;function y(){let g=U8,w,N,A;if((!t||a(u,f,h[h.length-1]||void 0))&&(g=_ge(n(u,h)),g[0]===rj))return g;if("children"in u&&u.children){const _=u;if(_.children&&g[0]!==Sge)for(N=(r?_.children.length:-1)+o,A=h.concat(_);N>-1&&N<_.children.length;){const k=_.children[N];if(w=l(k,N,A)(),w[0]===rj)return w;N=typeof w[1]=="number"?w[1]:N+o}}return g}}}function _ge(e){return Array.isArray(e)?e:typeof e=="number"?[Nge,e]:e==null?U8:[e]}function F8(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),Age(e,a,l,i);function l(u,f){const h=f[f.length-1],p=h?h.children.indexOf(u):void 0;return o(u,p,h)}}const v5={}.hasOwnProperty,Cge={};function Ege(e,t){const n=t||Cge,r=new Map,i=new Map,a=new Map,o={...cge,...n.handlers},l={all:f,applyData:Tge,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:u,options:n,patch:kge,wrap:jge};return F8(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,y=String(h.identifier).toUpperCase();p.has(y)||p.set(y,h)}}),l;function u(h,p){const y=h.type,g=l.handlers[y];if(v5.call(l.handlers,y)&&g)return g(l,h,p);if(l.options.passThrough&&l.options.passThrough.includes(y)){if("children"in h){const{children:N,...A}=h,_=Hy(A);return _.children=l.all(h),_}return Hy(h)}return(l.options.unknownHandler||Pge)(l,h,p)}function f(h){const p=[];if("children"in h){const y=h.children;let g=-1;for(;++g<y.length;){const w=l.one(y[g],h);if(w){if(g&&y[g-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=ij(w.value)),!Array.isArray(w)&&w.type==="element")){const N=w.children[0];N&&N.type==="text"&&(N.value=ij(N.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function kge(e,t){e.position&&(t.position=dpe(e))}function Tge(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Hy(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Pge(e,t){const n=t.data||{},r="value"in t&&!(v5.call(n,"hProperties")||v5.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jge(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ij(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function aj(e,t){const n=Ege(e,t),r=n.one(e,void 0),i=gge(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Ige(e,t){return e&&"run"in e?async function(n,r){const i=aj(n,{file:r,...t});await e.run(i,r)}:function(n,r){return aj(n,{file:r,...e||t})}}function oj(e){if(e)throw e}var b2,sj;function Mge(){if(sj)return b2;sj=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},a=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var y;for(y in f);return typeof y>"u"||e.call(f,y)},o=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},l=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return b2=function u(){var f,h,p,y,g,w,N=arguments[0],A=1,_=arguments.length,k=!1;for(typeof N=="boolean"&&(k=N,N=arguments[1]||{},A=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});A<_;++A)if(f=arguments[A],f!=null)for(h in f)p=l(N,h),y=l(f,h),N!==y&&(k&&y&&(a(y)||(g=i(y)))?(g?(g=!1,w=p&&i(p)?p:[]):w=p&&a(p)?p:{},o(N,{name:h,newValue:u(k,w,y)})):typeof y<"u"&&o(N,{name:h,newValue:y}));return N},b2}var Dge=Mge();const w2=ns(Dge);function x5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Rge(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(u,...f){const h=e[++a];let p=-1;if(u){o(u);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?Lge(h,l)(...f):o(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Lge(e,t){let n;return r;function r(...o){const l=e.length>o.length;let u;l&&o.push(i);try{u=e.apply(this,o)}catch(f){const h=f;if(l&&n)throw h;return i(h)}l||(u&&u.then&&typeof u.then=="function"?u.then(a,i):u instanceof Error?i(u):a(u))}function i(o,...l){n||(n=!0,t(o,...l))}function a(o){i(null,o)}}const yl={basename:Oge,dirname:Bge,extname:Uge,join:Fge,sep:"/"};function Oge(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');s0(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Bge(e){if(s0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Uge(e){s0(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Fge(...e){let t=-1,n;for(;++t<e.length;)s0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":zge(n)}function zge(e){s0(e);const t=e.codePointAt(0)===47;let n=qge(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function qge(e,t){let n="",r=0,i=-1,a=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function s0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Hge={cwd:Vge};function Vge(){return"/"}function b5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Gge(e){if(typeof e=="string")e=new URL(e);else if(!b5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $ge(e)}function $ge(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const N2=["history","path","basename","stem","extname","dirname"];class z8{constructor(t){let n;t?b5(t)?n={path:t}:typeof t=="string"||Wge(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Hge.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<N2.length;){const a=N2[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)N2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?yl.basename(this.path):void 0}set basename(t){A2(t,"basename"),S2(t,"basename"),this.path=yl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?yl.dirname(this.path):void 0}set dirname(t){lj(this.basename,"dirname"),this.path=yl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?yl.extname(this.path):void 0}set extname(t){if(S2(t,"extname"),lj(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){b5(t)&&(t=Gge(t)),A2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?yl.basename(this.path,this.extname):void 0}set stem(t){A2(t,"stem"),S2(t,"stem"),this.path=yl.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new fa(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function S2(e,t){if(e&&e.includes(yl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yl.sep+"`")}function A2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function lj(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Wge(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Yge=(function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Kge={}.hasOwnProperty;class QS extends Yge{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Rge()}copy(){const t=new QS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(w2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(E2("data",this.frozen),this.namespace[t]=n,this):Kge.call(this.namespace,t)&&this.namespace[t]||void 0:t?(E2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_g(t),r=this.parser||this.Parser;return _2("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_2("process",this.parser||this.Parser),C2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const l=_g(t),u=r.parse(l);r.run(u,l,function(h,p,y){if(h||!p||!y)return f(h);const g=p,w=r.stringify(g,y);Qge(w)?y.value=w:y.result=w,f(h,y)});function f(h,p){h||!p?o(h):a?a(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),_2("processSync",this.parser||this.Parser),C2("processSync",this.compiler||this.Compiler),this.process(t,i),uj("processSync","process",n),r;function i(a,o){n=!0,oj(a),r=o}}run(t,n,r){cj(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const u=_g(n);i.run(t,u,f);function f(h,p,y){const g=p||t;h?l(h):o?o(g):r(void 0,g,y)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),uj("runSync","run",r),i;function a(o,l){oj(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=_g(n),i=this.compiler||this.Compiler;return C2("stringify",i),cj(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(E2("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;u(h,p)}else o(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function o(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(i.settings=w2(!0,i.settings,f.settings))}function l(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,h){let p=-1,y=-1;for(;++p<r.length;)if(r[p][0]===f){y=p;break}if(y===-1)r.push([f,...h]);else if(h.length>0){let[g,...w]=h;const N=r[y][1];x5(N)&&x5(g)&&(g=w2(!0,N,g)),r[y]=[f,g,...w]}}}}const Jge=new QS().freeze();function _2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function C2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function E2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cj(e){if(!x5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _g(e){return Xge(e)?e:new z8(e)}function Xge(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Qge(e){return typeof e=="string"||Zge(e)}function Zge(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const eye="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dj=[],fj={allowDangerousHtml:!0},tye=/^(https?|ircs?|mailto|xmpp)$/i,nye=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function rye(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,o=e.disallowedElements,l=e.rehypePlugins||dj,u=e.remarkPlugins||dj,f=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...fj}:fj,h=e.skipHtml,p=e.unwrapDisallowed,y=e.urlTransform||iye,g=Jge().use(O0e).use(u).use(Ige,f).use(l),w=new z8;typeof r=="string"&&(w.value=r);for(const k of nye)Object.hasOwn(e,k.from)&&(""+k.from+(k.to?"use `"+k.to+"` instead":"remove it")+eye+k.id,void 0);const N=g.parse(w);let A=g.runSync(N,w);return i&&(A={type:"element",tagName:"div",properties:{className:i},children:A.type==="root"?A.children:[A]}),F8(A,_),gpe(A,{Fragment:d.Fragment,components:a,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function _(k,P,M){if(k.type==="raw"&&M&&typeof P=="number")return h?M.children.splice(P,1):M.children[P]={type:"text",value:k.value},P;if(k.type==="element"){let B;for(B in y2)if(Object.hasOwn(y2,B)&&Object.hasOwn(k.properties,B)){const U=k.properties[B],D=y2[B];(D===null||D.includes(k.tagName))&&(k.properties[B]=y(String(U||""),B,k))}}if(k.type==="element"){let B=t?!t.includes(k.tagName):o?o.includes(k.tagName):!1;if(!B&&n&&typeof P=="number"&&(B=!n(k,P,M)),B&&M&&typeof P=="number")return p&&k.children?M.children.splice(P,1,...k.children):M.children.splice(P,1),P}}}function iye(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||tye.test(e.slice(0,t))?e:""}const aye=()=>{const[e,t]=j.useState(!1),[n,r]=j.useState(""),[i,a]=j.useState(!1),[o,l]=j.useState([{id:"welcome",role:"assistant",content:"Hello! I can analyze your business data. Ask me about stock levels, today's sales, or party balances."}]),u=j.useRef(null),f=()=>{var y;(y=u.current)==null||y.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{e&&f()},[o,e]);const h=async y=>{if(y==null||y.preventDefault(),!n.trim()||i)return;const g={id:Date.now().toString(),role:"user",content:n};l(A=>[...A,g]),r(""),a(!0);const w=await zhe(g.content),N={id:(Date.now()+1).toString(),role:"assistant",content:w};l(A=>[...A,N]),a(!1)},p=["How much sales did we do today?","List items with low stock","Who are my top debtors?","Total value of inventory?"];return d.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end pointer-events-none font-sans",children:[e&&d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 w-[350px] sm:w-[380px] h-[500px] flex flex-col mb-4 overflow-hidden pointer-events-auto animate-in fade-in slide-in-from-bottom-4 duration-200",children:[d.jsxs("div",{className:"bg-[#10b981] p-4 flex items-center justify-between text-white shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:d.jsx(_4,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-sm leading-tight",children:"Business Assistant"}),d.jsxs("div",{className:"flex items-center gap-1.5 opacity-90",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-green-300 animate-pulse"}),d.jsx("p",{className:"text-[10px] font-medium",children:"Online"})]})]})]}),d.jsx("button",{onClick:()=>t(!1),className:"p-1.5 hover:bg-white/20 rounded-full transition-colors",children:d.jsx(Sl,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 scroll-smooth",children:[o.map(y=>d.jsxs("div",{className:`flex gap-3 ${y.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 shadow-sm ${y.role==="user"?"bg-gray-800 text-white":"bg-[#10b981] text-white"}`,children:y.role==="user"?d.jsx(nU,{className:"w-4 h-4"}):d.jsx(Sh,{className:"w-4 h-4"})}),d.jsx("div",{className:`rounded-2xl px-4 py-3 text-sm max-w-[85%] shadow-sm leading-relaxed ${y.role==="user"?"bg-gray-800 text-white rounded-tr-sm":"bg-white text-gray-800 border border-gray-100 rounded-tl-sm markdown-body"}`,children:d.jsx(rye,{components:{ul:({node:g,...w})=>d.jsx("ul",{className:"list-disc pl-4 my-1 space-y-1",...w}),li:({node:g,...w})=>d.jsx("li",{className:"marker:text-gray-400",...w}),p:({node:g,...w})=>d.jsx("p",{className:"mb-2 last:mb-0",...w}),strong:({node:g,...w})=>d.jsx("span",{className:"font-bold text-[#10b981]",...w})},children:y.content})})]},y.id)),i&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-[#10b981] text-white flex items-center justify-center shrink-0 opacity-50",children:d.jsx(_4,{className:"w-5 h-5"})}),d.jsxs("div",{className:"bg-white border border-gray-100 px-4 py-3 rounded-2xl rounded-tl-sm shadow-sm flex items-center gap-2",children:[d.jsx(ju,{className:"w-4 h-4 animate-spin text-[#10b981]"}),d.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Analyzing data..."})]})]}),d.jsx("div",{ref:u})]}),o.length<3&&!i&&d.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-100 flex gap-2 overflow-x-auto scrollbar-hide",children:p.map((y,g)=>d.jsx("button",{onClick:()=>{r(y),h()},className:"whitespace-nowrap px-3 py-1.5 bg-white border border-gray-200 text-gray-600 rounded-full text-xs font-medium hover:border-[#10b981] hover:text-[#10b981] transition-colors shadow-sm",children:y},g))}),d.jsx("div",{className:"p-3 bg-white border-t border-gray-100",children:d.jsxs("form",{onSubmit:h,className:"relative flex items-center gap-2",children:[d.jsx("input",{type:"text",value:n,onChange:y=>r(y.target.value),placeholder:"Ask about inventory, sales...",className:"flex-1 pl-4 pr-10 py-2.5 bg-gray-100 border-transparent rounded-xl text-sm focus:outline-none focus:bg-white focus:ring-2 focus:ring-[#10b981] transition-all placeholder-gray-400 text-gray-800",disabled:i}),d.jsx("button",{type:"submit",disabled:!n.trim()||i,className:"p-2.5 bg-[#10b981] text-white rounded-xl hover:bg-emerald-600 disabled:opacity-50 disabled:hover:bg-[#10b981] transition-all shadow-md shadow-emerald-500/20 active:scale-95",children:d.jsx(_j,{className:"w-4 h-4"})})]})})]}),d.jsxs("button",{onClick:()=>t(!e),className:`group relative flex items-center justify-center w-14 h-14 rounded-full shadow-lg transition-all duration-300 pointer-events-auto hover:scale-105 active:scale-95 ${e?"bg-gray-800 rotate-90":"bg-[#10b981] hover:bg-emerald-600 shadow-emerald-500/40"}`,children:[e?d.jsx(bn,{className:"w-6 h-6 text-white"}):d.jsxs(d.Fragment,{children:[d.jsx(Sh,{className:"w-6 h-6 text-white animate-pulse"}),d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500 border-2 border-white"})]})]}),!e&&d.jsxs("span",{className:"absolute right-full mr-4 top-1/2 -translate-y-1/2 bg-gray-900 text-white text-xs font-bold px-3 py-1.5 rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity shadow-xl translate-x-2 group-hover:translate-x-0",children:["Ask AI Assistant",d.jsx("div",{className:"absolute top-1/2 -right-1 -translate-y-1/2 border-4 border-transparent border-l-gray-900"})]})]})]})},oye=()=>{const[e,t]=j.useState(!1),[n,r]=j.useState(sn.isAuthenticated()),[i,a]=j.useState(!1),[o,l]=j.useState(!1),[u,f]=j.useState("dashboard"),[h,p]=j.useState(null),[y,g]=j.useState(null),[w,N]=j.useState(null),[A,_]=j.useState(null),[k,P]=j.useState(0),[M,B]=j.useState(null),{addToast:U}=kr(),D=sn.isSuperAdmin(),F=()=>{const K=u;if(!sn.hasPermission(K)){const ne=["dashboard","parties","inventory","service-center","warranty-return","sales-invoices","purchase-bills","cash-drawer","expense","reports","settings"].find(z=>sn.hasPermission(z));ne&&f(ne)}};j.useEffect(()=>{(async()=>{if(!n){t(!0);return}if(sn.isSuperAdmin()){t(!0);return}let Y=localStorage.getItem("active_company_id");if(!Y&&sn.getUserRole()==="ADMIN"){const ee=await Be.getCompanies();ee.length>0&&(Y=ee[0].id,localStorage.setItem("active_company_id",Y))}Y?(await Be.init(Y),Be.getActiveCompanyId()?(a(!0),t(!0),Ig.start(),F()):(localStorage.removeItem("active_company_id"),a(!1),t(!0))):(a(!1),t(!0))})();const $=()=>{P(Y=>Y+1)},ne=()=>{a(!1),r(!1),Ig.stop()},z=Y=>B(Y.detail);return window.addEventListener("db-updated",$),window.addEventListener("db-logout",ne),window.addEventListener("new-backup-detected",z),()=>{window.removeEventListener("db-updated",$),window.removeEventListener("db-logout",ne),window.removeEventListener("new-backup-detected",z),Ig.stop()}},[n]),j.useEffect(()=>{if(D||!n)return;const K=$=>{if($.altKey){const ne=$.key.toLowerCase();ne==="s"&&sn.hasPermission("sales-invoices")?($.preventDefault(),N(null),p("SALE")):ne==="a"&&sn.hasPermission("receivable-aging")?($.preventDefault(),f("receivable-aging")):ne==="l"&&sn.hasPermission("sales-invoices")?($.preventDefault(),f("sales-invoices")):ne==="p"&&sn.hasPermission("purchase-bills")?($.preventDefault(),N(null),p("PURCHASE")):ne==="i"&&sn.hasPermission("sales-payment-in")?($.preventDefault(),_(null),g("PAYMENT_IN")):ne==="o"&&sn.hasPermission("purchase-payment-out")?($.preventDefault(),_(null),g("PAYMENT_OUT")):ne==="e"&&sn.hasPermission("expense")?($.preventDefault(),_(null),g("EXPENSE")):ne==="d"&&sn.hasPermission("dashboard")&&($.preventDefault(),f("dashboard"))}};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[D,n]);const q=async()=>{if(!M)return;window.confirm(`Update Local System?
A newer backup was found: ${M.name}

This will update your local data. Continue?`)?(await Be.restoreData(M.data)).success?(U("System successfully synchronized!","success"),B(null),P(ne=>ne+1)):U("Synchronization failed.","error"):B(null)},G=K=>{["PAYMENT_IN","PAYMENT_OUT","EXPENSE"].includes(K.type)?(_(K),g(K.type)):(N(K),p(K.type))},R=K=>{N({id:"",date:new Date().toISOString(),type:"PURCHASE",partyId:"",partyName:"",items:K,totalAmount:K.reduce(($,ne)=>$+ne.amount,0),notes:"Auto-generated from Restock Assistant"}),p("PURCHASE")},O=()=>{if(!sn.hasPermission(u))return d.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-10 text-center",children:[d.jsx("div",{className:"w-24 h-24 bg-red-50 rounded-[2rem] flex items-center justify-center mb-6",children:d.jsx(C5,{className:"w-12 h-12 text-red-500"})}),d.jsx("h2",{className:"text-2xl font-black text-gray-900 uppercase",children:"Access Denied"}),d.jsxs("p",{className:"text-gray-500 mt-2 max-w-sm",children:["Permissions missing for ",d.jsx("b",{children:u}),"."]}),d.jsx("button",{onClick:()=>f("dashboard"),className:"mt-8 px-8 py-3 bg-gray-900 text-white rounded-2xl font-bold text-xs uppercase tracking-widest",children:"Go Home"})]});switch(u){case"dashboard":return d.jsx(S3,{onNavigate:f});case"parties":return d.jsx(Yae,{});case"inventory":return d.jsx(Kae,{refreshKey:k,onNavigateToRestock:()=>f("purchase-auto-order")});case"pricelist":return d.jsx(Jae,{});case"service-center":return d.jsx(boe,{});case"warranty-return":return d.jsx(Noe,{});case"cash-drawer":return d.jsx(Aoe,{});case"settings":return d.jsx(roe,{});case"shortcut-keys":return d.jsx(Coe,{});case"sales-invoices":return d.jsx(Nu,{type:"SALE",onNew:()=>{N(null),p("SALE")},refreshKey:k,onEdit:G});case"sales-payment-in":return d.jsx(Nu,{type:"PAYMENT_IN",onNew:()=>{_(null),g("PAYMENT_IN")},refreshKey:k,onEdit:G});case"sales-quotations":return d.jsx(Nu,{type:"QUOTATION",onNew:()=>{N(null),p("QUOTATION")},refreshKey:k,onEdit:G});case"sales-return":return d.jsx(Nu,{type:"SALE_RETURN",onNew:()=>{N(null),p("SALE_RETURN")},refreshKey:k,onEdit:G});case"purchase-bills":return d.jsx(Nu,{type:"PURCHASE",onNew:()=>{N(null),p("PURCHASE")},refreshKey:k,onEdit:G});case"purchase-payment-out":return d.jsx(Nu,{type:"PAYMENT_OUT",onNew:()=>{_(null),g("PAYMENT_OUT")},refreshKey:k,onEdit:G});case"purchase-orders":return d.jsx(Nu,{type:"PURCHASE_ORDER",onNew:()=>{N(null),p("PURCHASE_ORDER")},refreshKey:k,onEdit:G});case"purchase-return":return d.jsx(Nu,{type:"PURCHASE_RETURN",onNew:()=>{N(null),p("PURCHASE_RETURN")},refreshKey:k,onEdit:G});case"expense":return d.jsx(ioe,{onNew:()=>{_(null),g("EXPENSE")},refreshKey:k,onEdit:G});case"manage-accounts":return d.jsx(goe,{});case"reports":return d.jsx(f2,{onEditTransaction:G});case"purchase-auto-order":return d.jsx(f2,{targetReport:"OUT_OF_STOCK",onConsumeTarget:()=>{},onEditTransaction:G,onConvertToPurchase:R});case"receivable-aging":return d.jsx(f2,{targetReport:"RECEIVABLE_AGING",onConsumeTarget:()=>{},onEditTransaction:G});case"admin-dashboard":return d.jsx(K3,{});default:return d.jsx(S3,{onNavigate:f})}};return n?e?D?d.jsx(K3,{}):i?d.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 overflow-hidden font-sans",children:[d.jsx(hF,{isOpen:o,activeTab:u,setActiveTab:f,onClose:()=>l(!1)}),d.jsxs("div",{id:"main-app-container",className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[d.jsx(AF,{onMenuClick:()=>l(!o),onNavigate:f}),d.jsx("main",{className:"flex-1 overflow-y-auto relative",children:O()}),d.jsx(aye,{})]}),M&&d.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] w-full max-w-md px-4 animate-in slide-in-from-bottom-10",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-brand-500 p-5 flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-brand-50 flex items-center justify-center text-brand-600 shrink-0",children:d.jsx(Xo,{className:"w-6 h-6 animate-spin-slow"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-black text-gray-900 text-sm uppercase",children:"Newer Backup Found!"}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Local data from ",d.jsx("b",{children:M.date})," is available."]})]}),d.jsx("button",{onClick:()=>B(null),children:d.jsx(bn,{className:"w-4 h-4 text-gray-400"})})]}),d.jsx("button",{onClick:q,className:"w-full py-2.5 rounded-xl bg-brand-500 text-white text-xs font-bold",children:"Sync & Restore Now"})]})}),h&&d.jsx(Qae,{type:h,initialData:w,onClose:()=>p(null),onSave:()=>{p(null),P(K=>K+1)}},`pos-${h}`),y&&d.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:[(y==="PAYMENT_IN"||y==="PAYMENT_OUT")&&d.jsx(Zae,{type:y,initialData:A,onClose:()=>g(null),onSave:()=>{g(null),P(K=>K+1)}},`pmt-${y}`),y==="EXPENSE"&&d.jsx(ooe,{initialData:A,onClose:()=>g(null),onSave:()=>{g(null),P(K=>K+1)}},"exp-form")]})]}):d.jsx(yoe,{onSelect:()=>a(!0)}):d.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50",children:d.jsx(ju,{className:"w-10 h-10 animate-spin text-brand-500"})}):d.jsx(_oe,{onLoginSuccess:()=>window.location.reload()})},q8=document.getElementById("root");if(!q8)throw new Error("Could not find root element to mount to");const sye=d9.createRoot(q8);sye.render(d.jsx(hj.StrictMode,{children:d.jsx(gF,{children:d.jsx(Hie,{children:d.jsx(oye,{})})})}));export{Ln as _,Z7 as c,ns as g};
